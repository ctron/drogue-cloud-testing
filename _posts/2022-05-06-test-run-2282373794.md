---
title: "❌ Test Result 2022-05-06 15:49 UTC"
date: 2022-05-06T15:49:23.706974632+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 147 | 75 | 72 | 0 | 0 | 30m 51s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/feature/device_state_1`

    Commit: c195b71513c7ee658e405652db2acc41f271e745
    Author: Jens Reimann <jreimann@redhat.com>
    Date: Fri, 06 May 2022 12:38:48 -0200

        test: fix tests after API changes

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2282373794](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2282373794)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 13s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ✅ | 40s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ✅ | 14s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 13s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ✅ | 13s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ✅ | 14s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 13s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ✅ | 10s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 12s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 12s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 12s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 12s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ✅ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ✅ | 8s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ✅ | 12s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ✅ | 12s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ✅ | 13s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 13s

## ✅ tests::coap::command::test_command::version_1

**Duration**: 40s

## ✅ tests::coap::command::test_command::version_2

**Duration**: 14s

## ✅ tests::coap::command::test_command::version_3

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 13s

## ✅ tests::drg::test_drg_version

**Duration**: 7s

## ✅ tests::http::command::test_command::version_1

**Duration**: 13s

## ✅ tests::http::command::test_command::version_2

**Duration**: 14s

## ✅ tests::http::command::test_command::version_3

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 13s

## ✅ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 10s

## ✅ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 9s

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:30:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:30:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:30:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:30:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:30:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:31:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:31:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4NjMsImlhdCI6MTY1MTg1MTA2MywianRpIjoiZTMwZjNhZGUtZGI0Ni00MDllLWE5NGEtNGEzZGQyM2U2MjE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpLLURsVkxJcmFhc3hmd2hQeDQ4V2ciLCJzZXNzaW9uX3N0YXRlIjoiMTk1MGQ0M2UtNDNkNy00MDBkLWFkMGUtZDUyZjczMjkxYzY0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCJ9.FdK7gBeNxH5DXPQqD6iuseD_5HI0mZmrUD-624gvUkQ
[2022-05-06T15:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4NjMsImlhdCI6MTY1MTg1MTA2MywianRpIjoiZTMwZjNhZGUtZGI0Ni00MDllLWE5NGEtNGEzZGQyM2U2MjE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpLLURsVkxJcmFhc3hmd2hQeDQ4V2ciLCJzZXNzaW9uX3N0YXRlIjoiMTk1MGQ0M2UtNDNkNy00MDBkLWFkMGUtZDUyZjczMjkxYzY0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCJ9.FdK7gBeNxH5DXPQqD6iuseD_5HI0mZmrUD-624gvUkQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 5296555a-eb57-4fcc-b927-5d56a714ef07
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5296555a-eb57-4fcc-b927-5d56a714ef07 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;
[2022-05-06T15:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:04.678462Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;067fcfd2-35c9-484c-a10c-0fc5ee5ebe95\&quot;,\n    \&quot;uid\&quot;: \&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696925296Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.697018691Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696671279Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696673694Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696674355Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696675237Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696675718Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.696897193Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:04.678462Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;), &quot;resourceVersion&quot;: String(&quot;067fcfd2-35c9-484c-a10c-0fc5ee5ebe95&quot;), &quot;uid&quot;: String(&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696925296Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.697018691Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696671279Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696673694Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696674355Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696675237Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696675718Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.696897193Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:31:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:04.678462Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;467a26b4-754c-44cf-914e-e51588f0ec07\&quot;,\n    \&quot;uid\&quot;: \&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.002033962Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.002094745Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.727842290Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.732993253Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.814332967Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.822215160Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.001933984Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.001983577Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PmTx1oQl3VgM\&quot;,\n        \&quot;username\&quot;: \&quot;user-5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:04.678462Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;), &quot;resourceVersion&quot;: String(&quot;467a26b4-754c-44cf-914e-e51588f0ec07&quot;), &quot;uid&quot;: String(&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.002033962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.002094745Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.727842290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.732993253Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.814332967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.822215160Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.001933984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.001983577Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PmTx1oQl3VgM&quot;), &quot;username&quot;: String(&quot;user-5296555a-eb57-4fcc-b927-5d56a714ef07&quot;)})})})})
[2022-05-06T15:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:04.678462Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;467a26b4-754c-44cf-914e-e51588f0ec07\&quot;,\n    \&quot;uid\&quot;: \&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.002033962Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.002094745Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.727842290Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.732993253Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.814332967Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:04.822215160Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.001933984Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:05.001983577Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PmTx1oQl3VgM\&quot;,\n        \&quot;username\&quot;: \&quot;user-5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:04.678462Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;), &quot;resourceVersion&quot;: String(&quot;467a26b4-754c-44cf-914e-e51588f0ec07&quot;), &quot;uid&quot;: String(&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.002033962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.002094745Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.727842290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.732993253Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.814332967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:04.822215160Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.001933984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:05.001983577Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PmTx1oQl3VgM&quot;), &quot;username&quot;: String(&quot;user-5296555a-eb57-4fcc-b927-5d56a714ef07&quot;)})})})})
[2022-05-06T15:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNjQsImlhdCI6MTY1MTg1MTA2NCwiYXV0aF90aW1lIjoxNjUxODUxMDYxLCJqdGkiOiI2ODhhNzI3Yi01NzVmLTQ4ZGItYTcyOC0xZGY0YjM3YjVlNDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6Sy1EbFZMSXJhYXN4ZndoUHg0OFdnIiwic2Vzc2lvbl9zdGF0ZSI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GdO1aw-xwsbqxPNSB1xukSDD9ppT17Ud4qDjtMmWeyiZzAs-UqeW3QGgL3lqGp1ydrYXcFot8I07Bd0lKpg0-cpAzX-wfgTGfzgfhDp_uQUaBMl5zcEamusFxUXiBO7d8EYimp3pWTDsUOcqx2fOG6_kDp7pX2GQ0S5mCxmwzfRhAA93oedbvb_bTv49M1Ip727JUw2VxxBkean3iTdeMTboWyn7meMl9v8EAWaKRKpWqPEr4XglwNLoG3d_7JzzCvsx1UE_46zP5GXb7Yp5tQxsyRID8uvP_IerPFgs2t-ojyFP4tBpii6vks-VyTazAWPooSNDfAG9QKw0u0tTpQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNjQsImlhdCI6MTY1MTg1MTA2NCwiYXV0aF90aW1lIjoxNjUxODUxMDYxLCJqdGkiOiI2ODhhNzI3Yi01NzVmLTQ4ZGItYTcyOC0xZGY0YjM3YjVlNDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6Sy1EbFZMSXJhYXN4ZndoUHg0OFdnIiwic2Vzc2lvbl9zdGF0ZSI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GdO1aw-xwsbqxPNSB1xukSDD9ppT17Ud4qDjtMmWeyiZzAs-UqeW3QGgL3lqGp1ydrYXcFot8I07Bd0lKpg0-cpAzX-wfgTGfzgfhDp_uQUaBMl5zcEamusFxUXiBO7d8EYimp3pWTDsUOcqx2fOG6_kDp7pX2GQ0S5mCxmwzfRhAA93oedbvb_bTv49M1Ip727JUw2VxxBkean3iTdeMTboWyn7meMl9v8EAWaKRKpWqPEr4XglwNLoG3d_7JzzCvsx1UE_46zP5GXb7Yp5tQxsyRID8uvP_IerPFgs2t-ojyFP4tBpii6vks-VyTazAWPooSNDfAG9QKw0u0tTpQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;c70dccb5-1a6f-4a70-84bd-9737acd4a771&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eda6040
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eda6040
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee200e0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee2df20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee30250, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNjQsImlhdCI6MTY1MTg1MTA2NCwiYXV0aF90aW1lIjoxNjUxODUxMDYxLCJqdGkiOiI2ODhhNzI3Yi01NzVmLTQ4ZGItYTcyOC0xZGY0YjM3YjVlNDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6Sy1EbFZMSXJhYXN4ZndoUHg0OFdnIiwic2Vzc2lvbl9zdGF0ZSI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NTBkNDNlLTQzZDctNDAwZC1hZDBlLWQ1MmY3MzI5MWM2NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GdO1aw-xwsbqxPNSB1xukSDD9ppT17Ud4qDjtMmWeyiZzAs-UqeW3QGgL3lqGp1ydrYXcFot8I07Bd0lKpg0-cpAzX-wfgTGfzgfhDp_uQUaBMl5zcEamusFxUXiBO7d8EYimp3pWTDsUOcqx2fOG6_kDp7pX2GQ0S5mCxmwzfRhAA93oedbvb_bTv49M1Ip727JUw2VxxBkean3iTdeMTboWyn7meMl9v8EAWaKRKpWqPEr4XglwNLoG3d_7JzzCvsx1UE_46zP5GXb7Yp5tQxsyRID8uvP_IerPFgs2t-ojyFP4tBpii6vks-VyTazAWPooSNDfAG9QKw0u0tTpQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:05Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5296555a-eb57-4fcc-b927-5d56a714ef07&quot;&#x27; @ QOS 0
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0019900, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 56, 49, 56, 55, 54, 52, 99, 45, 53, 49, 56, 55, 45, 52, 102, 53, 54, 45, 98, 102, 51, 52, 45, 99, 49, 51, 100, 57, 49, 50, 57, 100, 55, 55, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 50, 57, 54, 53, 53, 53, 97, 37, 50, 68, 101, 98, 53, 55, 37, 50, 68, 52, 102, 99, 99, 37, 50, 68, 98, 57, 50, 55, 37, 50, 68, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 48, 57, 46, 57, 50, 55, 50, 48, 50, 51, 56, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 50, 57, 54, 53, 53, 53, 97, 37, 50, 68, 101, 98, 53, 55, 37, 50, 68, 52, 102, 99, 99, 37, 50, 68, 98, 57, 50, 55, 37, 50, 68, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 101, 54, 49, 57, 48, 55, 98, 45, 54, 99, 50, 101, 45, 52, 99, 102, 56, 45, 98, 51, 100, 48, 45, 54, 99, 101, 50, 57, 99, 51, 99, 53, 53, 56, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 57, 52, 49, 52, 55, 55, 51, 45, 101, 99, 50, 55, 45, 52, 102, 53, 56, 45, 56, 55, 99, 101, 45, 102, 52, 53, 100, 100, 48, 101, 53, 56, 100, 99, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 54, 50, 51, 99, 101, 99, 51, 45, 54, 50, 53, 101, 45, 52, 100, 55, 50, 45, 98, 101, 51, 50, 45, 48, 100, 53, 99, 101, 54, 54, 50, 51, 57, 101, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 50, 57, 54, 53, 53, 53, 97, 45, 101, 98, 53, 55, 45, 52, 102, 99, 99, 45, 98, 57, 50, 55, 45, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:31:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6818764c-5187-4f56-bf34-c13d9129d776\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5296555a%2Deb57%2D4fcc%2Db927%2D5d56a714ef07/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:09.927202387Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;5296555a%2Deb57%2D4fcc%2Db927%2D5d56a714ef07/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;ee61907b-6c2e-4cf8-b3d0-6ce29c3c5584\&quot;,\&quot;applicationuid\&quot;:\&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb\&quot;,\&quot;senderuid\&quot;:\&quot;5623cec3-625e-4d72-be32-0d5ce66239e3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:31:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:31:10Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:31:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:31:10Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:31:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;b0d23f0a-ba48-4d0e-967d-557ac2a2c02f&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed80a40
[2022-05-06T15:31:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed80a40
[2022-05-06T15:31:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f1344e0, password: 0x55f42edc7e50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee21490, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f134250, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5296555a-eb57-4fcc-b927-5d56a714ef07&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0009500, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 50, 101, 98, 57, 99, 97, 99, 45, 99, 97, 51, 98, 45, 52, 54, 97, 54, 45, 56, 57, 102, 50, 45, 49, 57, 100, 57, 101, 57, 54, 101, 48, 49, 98, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 50, 57, 54, 53, 53, 53, 97, 37, 50, 68, 101, 98, 53, 55, 37, 50, 68, 52, 102, 99, 99, 37, 50, 68, 98, 57, 50, 55, 37, 50, 68, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 49, 49, 46, 48, 52, 56, 48, 55, 54, 52, 56, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 54, 50, 51, 99, 101, 99, 51, 45, 54, 50, 53, 101, 45, 52, 100, 55, 50, 45, 98, 101, 51, 50, 45, 48, 100, 53, 99, 101, 54, 54, 50, 51, 57, 101, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 57, 52, 49, 52, 55, 55, 51, 45, 101, 99, 50, 55, 45, 52, 102, 53, 56, 45, 56, 55, 99, 101, 45, 102, 52, 53, 100, 100, 48, 101, 53, 56, 100, 99, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 54, 50, 51, 99, 101, 99, 51, 45, 54, 50, 53, 101, 45, 52, 100, 55, 50, 45, 98, 101, 51, 50, 45, 48, 100, 53, 99, 101, 54, 54, 50, 51, 57, 101, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 50, 57, 54, 53, 53, 53, 97, 37, 50, 68, 101, 98, 53, 55, 37, 50, 68, 52, 102, 99, 99, 37, 50, 68, 98, 57, 50, 55, 37, 50, 68, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 50, 57, 54, 53, 53, 53, 97, 45, 101, 98, 53, 55, 45, 52, 102, 99, 99, 45, 98, 57, 50, 55, 45, 53, 100, 53, 54, 97, 55, 49, 52, 101, 102, 48, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c2eb9cac-ca3b-46a6-89f2-19d9e96e01b5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5296555a%2Deb57%2D4fcc%2Db927%2D5d56a714ef07/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:11.048076486Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;5623cec3-625e-4d72-be32-0d5ce66239e3\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;a9414773-ec27-4f58-87ce-f45dd0e58dcb\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;5623cec3-625e-4d72-be32-0d5ce66239e3\&quot;,\&quot;partitionkey\&quot;:\&quot;5296555a%2Deb57%2D4fcc%2Db927%2D5d56a714ef07/gateway1\&quot;,\&quot;application\&quot;:\&quot;5296555a-eb57-4fcc-b927-5d56a714ef07\&quot;}&quot; }
[2022-05-06T15:31:11Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eee0080 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eee0080 } } } }
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:31:11Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:31:11Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot; &quot;device1&quot;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot; &quot;gateway1&quot;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5296555a-eb57-4fcc-b927-5d56a714ef07&#x27;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5296555a-eb57-4fcc-b927-5d56a714ef07&quot;
[2022-05-06T15:31:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5296555a-eb57-4fcc-b927-5d56a714ef07 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:31:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:31:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:31:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:31:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4NzcsImlhdCI6MTY1MTg1MTA3NywianRpIjoiOTlmMjUxYjAtOWVjOS00MDlkLWIyMDgtYzE0NjBlY2ZiZjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9VSERpeHRQMl9VQmZzbUNQSE9TSmciLCJzZXNzaW9uX3N0YXRlIjoiMDE5NmEyN2MtNzFiZS00YmI5LWJiMDQtZDQ1MzZlZWYxYzRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCJ9.Sy3Z7AiXl7nbTgYLrgWLst3nfx0aJie6s-_MmKwSH28
[2022-05-06T15:31:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:31:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4NzcsImlhdCI6MTY1MTg1MTA3NywianRpIjoiOTlmMjUxYjAtOWVjOS00MDlkLWIyMDgtYzE0NjBlY2ZiZjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9VSERpeHRQMl9VQmZzbUNQSE9TSmciLCJzZXNzaW9uX3N0YXRlIjoiMDE5NmEyN2MtNzFiZS00YmI5LWJiMDQtZDQ1MzZlZWYxYzRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCJ9.Sy3Z7AiXl7nbTgYLrgWLst3nfx0aJie6s-_MmKwSH28&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:31:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:18Z INFO  drogue_cloud_tests::resources::apps] Create application: a9607836-0b20-4384-96e7-655c1f99862e
[2022-05-06T15:31:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;
[2022-05-06T15:31:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a9607836-0b20-4384-96e7-655c1f99862e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;
[2022-05-06T15:31:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:18.567907Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a9607836-0b20-4384-96e7-655c1f99862e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;480553c3-dd0a-495a-ab2b-443a4b77b258\&quot;,\n    \&quot;uid\&quot;: \&quot;c48f3eec-f128-4611-b275-d7b6b034acf1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.579233598Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:18.567907Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;), &quot;resourceVersion&quot;: String(&quot;480553c3-dd0a-495a-ab2b-443a4b77b258&quot;), &quot;uid&quot;: String(&quot;c48f3eec-f128-4611-b275-d7b6b034acf1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.579233598Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:31:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:18.567907Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a9607836-0b20-4384-96e7-655c1f99862e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;135ea47b-6986-49e2-805b-2eba5bcee0eb\&quot;,\n    \&quot;uid\&quot;: \&quot;c48f3eec-f128-4611-b275-d7b6b034acf1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.953252252Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.953121888Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.622475620Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.628213474Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.712674849Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.726813939Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.952617502Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.952637089Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QIVMvLLTRlCM\&quot;,\n        \&quot;username\&quot;: \&quot;user-a9607836-0b20-4384-96e7-655c1f99862e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:18.567907Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;), &quot;resourceVersion&quot;: String(&quot;135ea47b-6986-49e2-805b-2eba5bcee0eb&quot;), &quot;uid&quot;: String(&quot;c48f3eec-f128-4611-b275-d7b6b034acf1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.953252252Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.953121888Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.622475620Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.628213474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.712674849Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.726813939Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.952617502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.952637089Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QIVMvLLTRlCM&quot;), &quot;username&quot;: String(&quot;user-a9607836-0b20-4384-96e7-655c1f99862e&quot;)})})})})
[2022-05-06T15:31:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:18.567907Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a9607836-0b20-4384-96e7-655c1f99862e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;135ea47b-6986-49e2-805b-2eba5bcee0eb\&quot;,\n    \&quot;uid\&quot;: \&quot;c48f3eec-f128-4611-b275-d7b6b034acf1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.953252252Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.953121888Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.622475620Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.628213474Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.712674849Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.726813939Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.952617502Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:18.952637089Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QIVMvLLTRlCM\&quot;,\n        \&quot;username\&quot;: \&quot;user-a9607836-0b20-4384-96e7-655c1f99862e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:18.567907Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;), &quot;resourceVersion&quot;: String(&quot;135ea47b-6986-49e2-805b-2eba5bcee0eb&quot;), &quot;uid&quot;: String(&quot;c48f3eec-f128-4611-b275-d7b6b034acf1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.953252252Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.953121888Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.622475620Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.628213474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.712674849Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.726813939Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.952617502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:18.952637089Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QIVMvLLTRlCM&quot;), &quot;username&quot;: String(&quot;user-a9607836-0b20-4384-96e7-655c1f99862e&quot;)})})})})
[2022-05-06T15:31:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNzcsImlhdCI6MTY1MTg1MTA3NywiYXV0aF90aW1lIjoxNjUxODUxMDc0LCJqdGkiOiJkZjI3MjQ4Ni0yYTkzLTRjODQtODdhYi1iYzVjZjdkZGI1NmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfVUhEaXh0UDJfVUJmc21DUEhPU0pnIiwic2Vzc2lvbl9zdGF0ZSI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MmTKHAtx3wmgr6rBegjMhp13pl1R8Js0FZoFYDWKL83E7kVuxgtAJmWmIC2tQjcXvisugbbtXCD7XCXjXIE8p3ArmpvXOwBpCVaPbFQQf0EXtVZ-haokWhKbr8DsgOyinwRGBKI2g1usTJLFdCwJ3udLB9T_9e_oizgJ1UT5DtmdvUFjgGU3lOIPcHa25B2KU1rWdXb20l5r2zCnFxlBGhw0L2lGY6B1vC5jWuxD8pCMGhdqeMWRecRZMLyktGOXwJXPp_kPSQ-P-O3VLQdr_X0XUVTwPkGMuxvYnYErGvm7wpuQAYJ-fqOc3AZYbfA4v8CtYdwf8IZAFAzAUjV_1w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNzcsImlhdCI6MTY1MTg1MTA3NywiYXV0aF90aW1lIjoxNjUxODUxMDc0LCJqdGkiOiJkZjI3MjQ4Ni0yYTkzLTRjODQtODdhYi1iYzVjZjdkZGI1NmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfVUhEaXh0UDJfVUJmc21DUEhPU0pnIiwic2Vzc2lvbl9zdGF0ZSI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MmTKHAtx3wmgr6rBegjMhp13pl1R8Js0FZoFYDWKL83E7kVuxgtAJmWmIC2tQjcXvisugbbtXCD7XCXjXIE8p3ArmpvXOwBpCVaPbFQQf0EXtVZ-haokWhKbr8DsgOyinwRGBKI2g1usTJLFdCwJ3udLB9T_9e_oizgJ1UT5DtmdvUFjgGU3lOIPcHa25B2KU1rWdXb20l5r2zCnFxlBGhw0L2lGY6B1vC5jWuxD8pCMGhdqeMWRecRZMLyktGOXwJXPp_kPSQ-P-O3VLQdr_X0XUVTwPkGMuxvYnYErGvm7wpuQAYJ-fqOc3AZYbfA4v8CtYdwf8IZAFAzAUjV_1w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;a0194985-83c0-4415-b92c-fa67e33173a0&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee4fb90
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee4fb90
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee4eb10, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f106860, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee0bcb0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzNzcsImlhdCI6MTY1MTg1MTA3NywiYXV0aF90aW1lIjoxNjUxODUxMDc0LCJqdGkiOiJkZjI3MjQ4Ni0yYTkzLTRjODQtODdhYi1iYzVjZjdkZGI1NmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfVUhEaXh0UDJfVUJmc21DUEhPU0pnIiwic2Vzc2lvbl9zdGF0ZSI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOTZhMjdjLTcxYmUtNGJiOS1iYjA0LWQ0NTM2ZWVmMWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MmTKHAtx3wmgr6rBegjMhp13pl1R8Js0FZoFYDWKL83E7kVuxgtAJmWmIC2tQjcXvisugbbtXCD7XCXjXIE8p3ArmpvXOwBpCVaPbFQQf0EXtVZ-haokWhKbr8DsgOyinwRGBKI2g1usTJLFdCwJ3udLB9T_9e_oizgJ1UT5DtmdvUFjgGU3lOIPcHa25B2KU1rWdXb20l5r2zCnFxlBGhw0L2lGY6B1vC5jWuxD8pCMGhdqeMWRecRZMLyktGOXwJXPp_kPSQ-P-O3VLQdr_X0XUVTwPkGMuxvYnYErGvm7wpuQAYJ-fqOc3AZYbfA4v8CtYdwf8IZAFAzAUjV_1w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a9607836-0b20-4384-96e7-655c1f99862e&quot;&#x27; @ QOS 0
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea08015ec0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9607836-0b20-4384-96e7-655c1f99862e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 102, 55, 98, 48, 101, 54, 98, 45, 98, 54, 57, 102, 45, 52, 55, 99, 55, 45, 56, 97, 48, 56, 45, 102, 100, 99, 54, 53, 48, 53, 49, 54, 54, 99, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 54, 48, 55, 56, 51, 54, 37, 50, 68, 48, 98, 50, 48, 37, 50, 68, 52, 51, 56, 52, 37, 50, 68, 57, 54, 101, 55, 37, 50, 68, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 50, 51, 46, 57, 49, 53, 53, 55, 53, 48, 53, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 100, 49, 52, 51, 55, 57, 53, 45, 98, 53, 97, 55, 45, 52, 52, 53, 101, 45, 57, 54, 102, 99, 45, 55, 55, 56, 51, 50, 57, 101, 97, 97, 54, 50, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 53, 97, 102, 49, 100, 57, 55, 45, 98, 51, 51, 97, 45, 52, 52, 98, 101, 45, 98, 102, 56, 53, 45, 48, 102, 51, 102, 97, 56, 98, 54, 101, 48, 100, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 54, 48, 55, 56, 51, 54, 45, 48, 98, 50, 48, 45, 52, 51, 56, 52, 45, 57, 54, 101, 55, 45, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 54, 48, 55, 56, 51, 54, 37, 50, 68, 48, 98, 50, 48, 37, 50, 68, 52, 51, 56, 52, 37, 50, 68, 57, 54, 101, 55, 37, 50, 68, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 52, 56, 102, 51, 101, 101, 99, 45, 102, 49, 50, 56, 45, 52, 54, 49, 49, 45, 98, 50, 55, 53, 45, 100, 55, 98, 54, 98, 48, 51, 52, 97, 99, 102, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:31:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9607836-0b20-4384-96e7-655c1f99862e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;cf7b0e6b-b69f-47c7-8a08-fdc6505166cf\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9607836%2D0b20%2D4384%2D96e7%2D655c1f99862e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:23.915575051Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;1d143795-b5a7-445e-96fc-778329eaa625\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;75af1d97-b33a-44be-bf85-0f3fa8b6e0de\&quot;,\&quot;application\&quot;:\&quot;a9607836-0b20-4384-96e7-655c1f99862e\&quot;,\&quot;partitionkey\&quot;:\&quot;a9607836%2D0b20%2D4384%2D96e7%2D655c1f99862e/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;c48f3eec-f128-4611-b275-d7b6b034acf1\&quot;}&quot; }
[2022-05-06T15:31:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:31:24Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:31:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:31:24Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:31:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;f829b3ab-15c1-4847-bad7-e5dad3b8e4c4&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef87ef0
[2022-05-06T15:31:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef87ef0
[2022-05-06T15:31:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f0ed8d0, password: 0x55f42ee64e60, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eeb1370, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0ed640, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a9607836-0b20-4384-96e7-655c1f99862e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0800cba0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9607836-0b20-4384-96e7-655c1f99862e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 55, 54, 100, 100, 101, 51, 54, 45, 99, 50, 52, 55, 45, 52, 55, 100, 102, 45, 57, 56, 49, 48, 45, 50, 49, 97, 56, 50, 100, 55, 49, 102, 51, 98, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 54, 48, 55, 56, 51, 54, 37, 50, 68, 48, 98, 50, 48, 37, 50, 68, 52, 51, 56, 52, 37, 50, 68, 57, 54, 101, 55, 37, 50, 68, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 50, 53, 46, 48, 53, 48, 52, 52, 53, 55, 56, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 54, 48, 55, 56, 51, 54, 45, 48, 98, 50, 48, 45, 52, 51, 56, 52, 45, 57, 54, 101, 55, 45, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 100, 49, 52, 51, 55, 57, 53, 45, 98, 53, 97, 55, 45, 52, 52, 53, 101, 45, 57, 54, 102, 99, 45, 55, 55, 56, 51, 50, 57, 101, 97, 97, 54, 50, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 54, 48, 55, 56, 51, 54, 37, 50, 68, 48, 98, 50, 48, 37, 50, 68, 52, 51, 56, 52, 37, 50, 68, 57, 54, 101, 55, 37, 50, 68, 54, 53, 53, 99, 49, 102, 57, 57, 56, 54, 50, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 100, 49, 52, 51, 55, 57, 53, 45, 98, 53, 97, 55, 45, 52, 52, 53, 101, 45, 57, 54, 102, 99, 45, 55, 55, 56, 51, 50, 57, 101, 97, 97, 54, 50, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 52, 56, 102, 51, 101, 101, 99, 45, 102, 49, 50, 56, 45, 52, 54, 49, 49, 45, 98, 50, 55, 53, 45, 100, 55, 98, 54, 98, 48, 51, 52, 97, 99, 102, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9607836-0b20-4384-96e7-655c1f99862e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e76dde36-c247-47df-9810-21a82d71f3bb\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9607836%2D0b20%2D4384%2D96e7%2D655c1f99862e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:25.050445782Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;a9607836-0b20-4384-96e7-655c1f99862e\&quot;,\&quot;deviceuid\&quot;:\&quot;1d143795-b5a7-445e-96fc-778329eaa625\&quot;,\&quot;partitionkey\&quot;:\&quot;a9607836%2D0b20%2D4384%2D96e7%2D655c1f99862e/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;1d143795-b5a7-445e-96fc-778329eaa625\&quot;,\&quot;applicationuid\&quot;:\&quot;c48f3eec-f128-4611-b275-d7b6b034acf1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:31:25Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee06820 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee06820 } } } }
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:31:25Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:31:25Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:31:25Z DEBUG paho_mqtt::token] Token failure! 0x55f42f041720, 0x7ffe819ce270
[2022-05-06T15:31:25Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:31:25Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:31:25Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot; &quot;device1&quot;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot; &quot;gateway1&quot;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a9607836-0b20-4384-96e7-655c1f99862e&#x27;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a9607836-0b20-4384-96e7-655c1f99862e&quot;
[2022-05-06T15:31:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a9607836-0b20-4384-96e7-655c1f99862e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:31:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:31:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:31:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:31:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4OTEsImlhdCI6MTY1MTg1MTA5MSwianRpIjoiZTYyYmM2NTctNWUzNi00ZDIwLThmOGMtNzA5Mzc0ZDVmNjZjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IklMN1RVNkExMm1NaXBucnRJWFZfbUEiLCJzZXNzaW9uX3N0YXRlIjoiMTdiMzBkN2EtODdlYS00MmJjLWE2YjEtMWIyMWFhMzI2ZGE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiJ9.kasnHEOttTwRJm6RbrQZ1CfYwU60u5olwxDi34laJV8
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI4OTEsImlhdCI6MTY1MTg1MTA5MSwianRpIjoiZTYyYmM2NTctNWUzNi00ZDIwLThmOGMtNzA5Mzc0ZDVmNjZjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IklMN1RVNkExMm1NaXBucnRJWFZfbUEiLCJzZXNzaW9uX3N0YXRlIjoiMTdiMzBkN2EtODdlYS00MmJjLWE2YjEtMWIyMWFhMzI2ZGE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiJ9.kasnHEOttTwRJm6RbrQZ1CfYwU60u5olwxDi34laJV8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 68e67655-7e38-432c-ab04-6557c45270f4
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 68e67655-7e38-432c-ab04-6557c45270f4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;
[2022-05-06T15:31:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:32.907319Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;68e67655-7e38-432c-ab04-6557c45270f4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2c85761b-0a57-4af0-b71f-ad581949ef58\&quot;,\n    \&quot;uid\&quot;: \&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927581347Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927554026Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927406980Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927407922Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927408323Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927408854Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927409535Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.927419193Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:32.907319Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;), &quot;resourceVersion&quot;: String(&quot;2c85761b-0a57-4af0-b71f-ad581949ef58&quot;), &quot;uid&quot;: String(&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927581347Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927554026Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927406980Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927407922Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927408323Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927408854Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927409535Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.927419193Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:31:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:32.907319Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;68e67655-7e38-432c-ab04-6557c45270f4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;803b864a-9ad3-47d0-b542-da5e83d083e4\&quot;,\n    \&quot;uid\&quot;: \&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281676752Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281641395Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.947964278Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.955465306Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.055374161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.065127812Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281594718Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281613783Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;g2HlCviedtEm\&quot;,\n        \&quot;username\&quot;: \&quot;user-68e67655-7e38-432c-ab04-6557c45270f4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:32.907319Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;), &quot;resourceVersion&quot;: String(&quot;803b864a-9ad3-47d0-b542-da5e83d083e4&quot;), &quot;uid&quot;: String(&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281676752Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281641395Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.947964278Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.955465306Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.055374161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.065127812Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281594718Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281613783Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;g2HlCviedtEm&quot;), &quot;username&quot;: String(&quot;user-68e67655-7e38-432c-ab04-6557c45270f4&quot;)})})})})
[2022-05-06T15:31:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:32.907319Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;68e67655-7e38-432c-ab04-6557c45270f4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;803b864a-9ad3-47d0-b542-da5e83d083e4\&quot;,\n    \&quot;uid\&quot;: \&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281676752Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281641395Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.947964278Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:32.955465306Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.055374161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.065127812Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281594718Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:33.281613783Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;g2HlCviedtEm\&quot;,\n        \&quot;username\&quot;: \&quot;user-68e67655-7e38-432c-ab04-6557c45270f4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:32.907319Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;), &quot;resourceVersion&quot;: String(&quot;803b864a-9ad3-47d0-b542-da5e83d083e4&quot;), &quot;uid&quot;: String(&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281676752Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281641395Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.947964278Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:32.955465306Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.055374161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.065127812Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281594718Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:33.281613783Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;g2HlCviedtEm&quot;), &quot;username&quot;: String(&quot;user-68e67655-7e38-432c-ab04-6557c45270f4&quot;)})})})})
[2022-05-06T15:31:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzOTIsImlhdCI6MTY1MTg1MTA5MiwiYXV0aF90aW1lIjoxNjUxODUxMDg5LCJqdGkiOiJlODE1MGUwNS02MzI3LTRjODItYjcxMy02N2E5NjA0Njg4NjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJTDdUVTZBMTJtTWlwbnJ0SVhWX21BIiwic2Vzc2lvbl9zdGF0ZSI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GFc8c6B8jnpbqak1JtVOXKPVFEPeqFm4ZY572udMTpGCjnnhHpXOweCmMAqrzdqDet_XMPteaNlO3H1SHlWqj6t188Ix0u4ndTZsq69sMhfojut5HgKM6y_MWVSpaDKGkUaz8ilCeizWLkwxcoNPHqvQHU3QmwUXZZz_QggIXNTtYSftClYk3BQCgh5SfDWJSMXY00JvuGoZPfyBdYOtcRNKYbd348tMiWfHQBulZPrnVs4bABWVjIbtS-DyJeN40MgNx-zNxhiIsPtTtOHCtZx3wNeBCtK9F_zYyz_6MKQQuWGOekAqPoFo7eXQnJfMHC72cexrXCVwZZTGz3-AXg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzOTIsImlhdCI6MTY1MTg1MTA5MiwiYXV0aF90aW1lIjoxNjUxODUxMDg5LCJqdGkiOiJlODE1MGUwNS02MzI3LTRjODItYjcxMy02N2E5NjA0Njg4NjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJTDdUVTZBMTJtTWlwbnJ0SVhWX21BIiwic2Vzc2lvbl9zdGF0ZSI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GFc8c6B8jnpbqak1JtVOXKPVFEPeqFm4ZY572udMTpGCjnnhHpXOweCmMAqrzdqDet_XMPteaNlO3H1SHlWqj6t188Ix0u4ndTZsq69sMhfojut5HgKM6y_MWVSpaDKGkUaz8ilCeizWLkwxcoNPHqvQHU3QmwUXZZz_QggIXNTtYSftClYk3BQCgh5SfDWJSMXY00JvuGoZPfyBdYOtcRNKYbd348tMiWfHQBulZPrnVs4bABWVjIbtS-DyJeN40MgNx-zNxhiIsPtTtOHCtZx3wNeBCtK9F_zYyz_6MKQQuWGOekAqPoFo7eXQnJfMHC72cexrXCVwZZTGz3-AXg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;51bc0ad9-4b06-4754-a090-40870bd0ea9e&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed65560
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed65560
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed76c20, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f04ac00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ef006d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTEzOTIsImlhdCI6MTY1MTg1MTA5MiwiYXV0aF90aW1lIjoxNjUxODUxMDg5LCJqdGkiOiJlODE1MGUwNS02MzI3LTRjODItYjcxMy02N2E5NjA0Njg4NjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJTDdUVTZBMTJtTWlwbnJ0SVhWX21BIiwic2Vzc2lvbl9zdGF0ZSI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3YjMwZDdhLTg3ZWEtNDJiYy1hNmIxLTFiMjFhYTMyNmRhNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GFc8c6B8jnpbqak1JtVOXKPVFEPeqFm4ZY572udMTpGCjnnhHpXOweCmMAqrzdqDet_XMPteaNlO3H1SHlWqj6t188Ix0u4ndTZsq69sMhfojut5HgKM6y_MWVSpaDKGkUaz8ilCeizWLkwxcoNPHqvQHU3QmwUXZZz_QggIXNTtYSftClYk3BQCgh5SfDWJSMXY00JvuGoZPfyBdYOtcRNKYbd348tMiWfHQBulZPrnVs4bABWVjIbtS-DyJeN40MgNx-zNxhiIsPtTtOHCtZx3wNeBCtK9F_zYyz_6MKQQuWGOekAqPoFo7eXQnJfMHC72cexrXCVwZZTGz3-AXg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:34Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/68e67655-7e38-432c-ab04-6557c45270f4&quot;&#x27; @ QOS 0
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:34Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:34Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0006650, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00068d0 } }, data: MessageData { topic: &quot;app/68e67655-7e38-432c-ab04-6557c45270f4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 98, 49, 57, 48, 100, 99, 102, 45, 55, 98, 52, 97, 45, 52, 51, 98, 52, 45, 56, 101, 98, 56, 45, 101, 57, 51, 50, 55, 53, 99, 48, 55, 100, 56, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 101, 54, 55, 54, 53, 53, 37, 50, 68, 55, 101, 51, 56, 37, 50, 68, 52, 51, 50, 99, 37, 50, 68, 97, 98, 48, 52, 37, 50, 68, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 51, 55, 46, 57, 52, 50, 56, 54, 50, 50, 49, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 101, 54, 55, 54, 53, 53, 45, 55, 101, 51, 56, 45, 52, 51, 50, 99, 45, 97, 98, 48, 52, 45, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 98, 102, 57, 49, 50, 54, 56, 45, 48, 48, 97, 102, 45, 52, 53, 101, 50, 45, 56, 50, 51, 54, 45, 49, 98, 50, 49, 97, 52, 51, 51, 56, 102, 51, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 102, 100, 52, 101, 100, 98, 50, 45, 99, 50, 49, 100, 45, 52, 53, 57, 98, 45, 97, 55, 51, 57, 45, 53, 102, 51, 52, 97, 53, 98, 56, 53, 51, 98, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 54, 99, 57, 97, 99, 57, 99, 45, 56, 48, 98, 55, 45, 52, 56, 51, 50, 45, 57, 97, 102, 53, 45, 56, 99, 49, 50, 102, 56, 98, 49, 100, 49, 53, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 101, 54, 55, 54, 53, 53, 37, 50, 68, 55, 101, 51, 56, 37, 50, 68, 52, 51, 50, 99, 37, 50, 68, 97, 98, 48, 52, 37, 50, 68, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00068d0 } } } }
[2022-05-06T15:31:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001e40
[2022-05-06T15:31:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/68e67655-7e38-432c-ab04-6557c45270f4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2b190dcf-7b4a-43b4-8eb8-e93275c07d8a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://68e67655%2D7e38%2D432c%2Dab04%2D6557c45270f4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:37.942862218Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;68e67655-7e38-432c-ab04-6557c45270f4\&quot;,\&quot;senderuid\&quot;:\&quot;3bf91268-00af-45e2-8236-1b21a4338f37\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;c6c9ac9c-80b7-4832-9af5-8c12f8b1d15a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;68e67655%2D7e38%2D432c%2Dab04%2D6557c45270f4/device1\&quot;}&quot; }
[2022-05-06T15:31:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:31:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:31:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:31:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:31:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;a5094413-0761-46a1-8185-f3040f82d8b9&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0d2eb0
[2022-05-06T15:31:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0d2eb0
[2022-05-06T15:31:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42eca0910, password: 0x55f42ed7f860, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eda9d40, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edbc980, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@68e67655-7e38-432c-ab04-6557c45270f4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f001dfb0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001e240 } }, data: MessageData { topic: &quot;app/68e67655-7e38-432c-ab04-6557c45270f4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 102, 53, 57, 102, 97, 57, 97, 45, 98, 53, 50, 98, 45, 52, 56, 97, 100, 45, 56, 53, 50, 53, 45, 51, 52, 101, 49, 51, 56, 101, 97, 102, 52, 55, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 101, 54, 55, 54, 53, 53, 37, 50, 68, 55, 101, 51, 56, 37, 50, 68, 52, 51, 50, 99, 37, 50, 68, 97, 98, 48, 52, 37, 50, 68, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 51, 57, 46, 48, 55, 51, 54, 52, 51, 52, 49, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 98, 102, 57, 49, 50, 54, 56, 45, 48, 48, 97, 102, 45, 52, 53, 101, 50, 45, 56, 50, 51, 54, 45, 49, 98, 50, 49, 97, 52, 51, 51, 56, 102, 51, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 102, 100, 52, 101, 100, 98, 50, 45, 99, 50, 49, 100, 45, 52, 53, 57, 98, 45, 97, 55, 51, 57, 45, 53, 102, 51, 52, 97, 53, 98, 56, 53, 51, 98, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 101, 54, 55, 54, 53, 53, 45, 55, 101, 51, 56, 45, 52, 51, 50, 99, 45, 97, 98, 48, 52, 45, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 101, 54, 55, 54, 53, 53, 37, 50, 68, 55, 101, 51, 56, 37, 50, 68, 52, 51, 50, 99, 37, 50, 68, 97, 98, 48, 52, 37, 50, 68, 54, 53, 53, 55, 99, 52, 53, 50, 55, 48, 102, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 98, 102, 57, 49, 50, 54, 56, 45, 48, 48, 97, 102, 45, 52, 53, 101, 50, 45, 56, 50, 51, 54, 45, 49, 98, 50, 49, 97, 52, 51, 51, 56, 102, 51, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001e240 } } } }
[2022-05-06T15:31:39Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001e40
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/68e67655-7e38-432c-ab04-6557c45270f4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ff59fa9a-b52b-48ad-8525-34e138eaf474\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://68e67655%2D7e38%2D432c%2Dab04%2D6557c45270f4/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:39.073643415Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;3bf91268-00af-45e2-8236-1b21a4338f37\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;ffd4edb2-c21d-459b-a739-5f34a5b853bb\&quot;,\&quot;application\&quot;:\&quot;68e67655-7e38-432c-ab04-6557c45270f4\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;68e67655%2D7e38%2D432c%2Dab04%2D6557c45270f4/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;3bf91268-00af-45e2-8236-1b21a4338f37\&quot;}&quot; }
[2022-05-06T15:31:39Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eea16f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eea16f0 } } } }
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:31:39Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:31:39Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot; &quot;device1&quot;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot; &quot;gateway1&quot;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;68e67655-7e38-432c-ab04-6557c45270f4&#x27;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;68e67655-7e38-432c-ab04-6557c45270f4&quot;
[2022-05-06T15:31:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 68e67655-7e38-432c-ab04-6557c45270f4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:31:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:31:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:31:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:31:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MDUsImlhdCI6MTY1MTg1MTEwNSwianRpIjoiZTc0MjgzZjktZTM4MS00MzU5LTkyYjctNTgwN2I3MjJjNzRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkhZWFBNRlU1UFpkZE16UHBKUTFpdGciLCJzZXNzaW9uX3N0YXRlIjoiZmQyODM4NzgtNzIzMi00MzRmLWE1MDItMjhkYzAxZmRjNTA0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCJ9.8Df16J6lL7fEGnIFixQAKsyQDpbe4lxiaI92ftFPZbM
[2022-05-06T15:31:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:31:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MDUsImlhdCI6MTY1MTg1MTEwNSwianRpIjoiZTc0MjgzZjktZTM4MS00MzU5LTkyYjctNTgwN2I3MjJjNzRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkhZWFBNRlU1UFpkZE16UHBKUTFpdGciLCJzZXNzaW9uX3N0YXRlIjoiZmQyODM4NzgtNzIzMi00MzRmLWE1MDItMjhkYzAxZmRjNTA0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCJ9.8Df16J6lL7fEGnIFixQAKsyQDpbe4lxiaI92ftFPZbM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::resources::apps] Create application: c6420533-2c1f-4fa9-b789-e48e16964580
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c6420533-2c1f-4fa9-b789-e48e16964580 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;
[2022-05-06T15:31:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:46.788137Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;c6420533-2c1f-4fa9-b789-e48e16964580\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8bb4f564-19e8-48ab-83af-fbc5ca89de77\&quot;,\n    \&quot;uid\&quot;: \&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.803828980Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:46.788137Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;), &quot;resourceVersion&quot;: String(&quot;8bb4f564-19e8-48ab-83af-fbc5ca89de77&quot;), &quot;uid&quot;: String(&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.803828980Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:31:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:46.788137Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c6420533-2c1f-4fa9-b789-e48e16964580\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;acb1e699-27eb-44b3-9eb4-aefdcebb1711\&quot;,\n    \&quot;uid\&quot;: \&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070437169Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070396152Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.845620655Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.850221076Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.926621775Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.933833421Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070290364Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070308959Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;h6uOGue5tYMf\&quot;,\n        \&quot;username\&quot;: \&quot;user-c6420533-2c1f-4fa9-b789-e48e16964580\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:46.788137Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;), &quot;resourceVersion&quot;: String(&quot;acb1e699-27eb-44b3-9eb4-aefdcebb1711&quot;), &quot;uid&quot;: String(&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070437169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070396152Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.845620655Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.850221076Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.926621775Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.933833421Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070290364Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070308959Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;h6uOGue5tYMf&quot;), &quot;username&quot;: String(&quot;user-c6420533-2c1f-4fa9-b789-e48e16964580&quot;)})})})})
[2022-05-06T15:31:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:31:46.788137Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c6420533-2c1f-4fa9-b789-e48e16964580\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;acb1e699-27eb-44b3-9eb4-aefdcebb1711\&quot;,\n    \&quot;uid\&quot;: \&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070437169Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070396152Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.845620655Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.850221076Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.926621775Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:46.933833421Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070290364Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:31:47.070308959Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;h6uOGue5tYMf\&quot;,\n        \&quot;username\&quot;: \&quot;user-c6420533-2c1f-4fa9-b789-e48e16964580\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:31:46.788137Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;), &quot;resourceVersion&quot;: String(&quot;acb1e699-27eb-44b3-9eb4-aefdcebb1711&quot;), &quot;uid&quot;: String(&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070437169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070396152Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.845620655Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.850221076Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.926621775Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:46.933833421Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070290364Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:31:47.070308959Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;h6uOGue5tYMf&quot;), &quot;username&quot;: String(&quot;user-c6420533-2c1f-4fa9-b789-e48e16964580&quot;)})})})})
[2022-05-06T15:31:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MDYsImlhdCI6MTY1MTg1MTEwNiwiYXV0aF90aW1lIjoxNjUxODUxMTAzLCJqdGkiOiI5ZjlkNjI1ZS03NmIxLTRlM2MtYTM4MC00NzBhZDgwZjVlOWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIWVhQTUZVNVBaZGRNelBwSlExaXRnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XedHyoSfdJXwurOdibFzp--a1FRMhHS03nuzGwSH5uy0Wyds3pUb20t8W7ddfvMcUCwJqms3iNPnMnj8I5NN-Gd5dQecEDGW0LL6YXX_BfH3i9xPmzBP6iDL8ducMjpAC1Dna9cOyuiRtN4aCuEXNxynfR7d_n46KUzdgV8ZQamyBIXj9dRN-TSPCCIfLu_2oKckDPqOfBWgSt93AgcJJD2t2_ilE_pAgjmGOXvdIB5H3BfQ38PJwXAZ6AykGA_rbyolSLmVodZVNSS97wMetBnJDpgPSoQefUL1u0MAOhv8G1Ivx8dA-maz0f1WBrGNC_-N4tKbO4Az75FQaFAfIA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MDYsImlhdCI6MTY1MTg1MTEwNiwiYXV0aF90aW1lIjoxNjUxODUxMTAzLCJqdGkiOiI5ZjlkNjI1ZS03NmIxLTRlM2MtYTM4MC00NzBhZDgwZjVlOWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIWVhQTUZVNVBaZGRNelBwSlExaXRnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XedHyoSfdJXwurOdibFzp--a1FRMhHS03nuzGwSH5uy0Wyds3pUb20t8W7ddfvMcUCwJqms3iNPnMnj8I5NN-Gd5dQecEDGW0LL6YXX_BfH3i9xPmzBP6iDL8ducMjpAC1Dna9cOyuiRtN4aCuEXNxynfR7d_n46KUzdgV8ZQamyBIXj9dRN-TSPCCIfLu_2oKckDPqOfBWgSt93AgcJJD2t2_ilE_pAgjmGOXvdIB5H3BfQ38PJwXAZ6AykGA_rbyolSLmVodZVNSS97wMetBnJDpgPSoQefUL1u0MAOhv8G1Ivx8dA-maz0f1WBrGNC_-N4tKbO4Az75FQaFAfIA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;6b6c8e3a-7471-4fb1-a765-b548d6bbb030&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef168a0
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef168a0
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efb16c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dc7e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efc7740, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MDYsImlhdCI6MTY1MTg1MTEwNiwiYXV0aF90aW1lIjoxNjUxODUxMTAzLCJqdGkiOiI5ZjlkNjI1ZS03NmIxLTRlM2MtYTM4MC00NzBhZDgwZjVlOWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIWVhQTUZVNVBaZGRNelBwSlExaXRnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkMjgzODc4LTcyMzItNDM0Zi1hNTAyLTI4ZGMwMWZkYzUwNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XedHyoSfdJXwurOdibFzp--a1FRMhHS03nuzGwSH5uy0Wyds3pUb20t8W7ddfvMcUCwJqms3iNPnMnj8I5NN-Gd5dQecEDGW0LL6YXX_BfH3i9xPmzBP6iDL8ducMjpAC1Dna9cOyuiRtN4aCuEXNxynfR7d_n46KUzdgV8ZQamyBIXj9dRN-TSPCCIfLu_2oKckDPqOfBWgSt93AgcJJD2t2_ilE_pAgjmGOXvdIB5H3BfQ38PJwXAZ6AykGA_rbyolSLmVodZVNSS97wMetBnJDpgPSoQefUL1u0MAOhv8G1Ivx8dA-maz0f1WBrGNC_-N4tKbO4Az75FQaFAfIA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:47Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c6420533-2c1f-4fa9-b789-e48e16964580&quot;&#x27; @ QOS 0
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:31:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:31:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:31:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:31:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f00008d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0000b50 } }, data: MessageData { topic: &quot;app/c6420533-2c1f-4fa9-b789-e48e16964580&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 50, 57, 51, 55, 48, 48, 98, 45, 98, 54, 48, 51, 45, 52, 54, 51, 100, 45, 56, 53, 57, 50, 45, 48, 53, 99, 50, 50, 50, 52, 52, 48, 54, 54, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 52, 50, 48, 53, 51, 51, 37, 50, 68, 50, 99, 49, 102, 37, 50, 68, 52, 102, 97, 57, 37, 50, 68, 98, 55, 56, 57, 37, 50, 68, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 53, 49, 46, 57, 50, 57, 56, 49, 53, 51, 55, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 57, 101, 55, 49, 100, 99, 48, 45, 51, 98, 102, 53, 45, 52, 55, 48, 50, 45, 56, 98, 50, 53, 45, 98, 57, 102, 100, 48, 54, 100, 56, 48, 55, 52, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 101, 56, 48, 49, 99, 49, 54, 45, 98, 56, 53, 101, 45, 52, 51, 101, 97, 45, 97, 51, 55, 101, 45, 50, 55, 49, 98, 57, 98, 99, 54, 57, 97, 55, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 54, 53, 100, 51, 98, 56, 51, 45, 53, 98, 98, 55, 45, 52, 100, 52, 97, 45, 97, 102, 54, 55, 45, 102, 48, 102, 99, 55, 101, 102, 99, 54, 97, 55, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 52, 50, 48, 53, 51, 51, 45, 50, 99, 49, 102, 45, 52, 102, 97, 57, 45, 98, 55, 56, 57, 45, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 52, 50, 48, 53, 51, 51, 37, 50, 68, 50, 99, 49, 102, 37, 50, 68, 52, 102, 97, 57, 37, 50, 68, 98, 55, 56, 57, 37, 50, 68, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0000b50 } } } }
[2022-05-06T15:31:51Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee04960
[2022-05-06T15:31:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c6420533-2c1f-4fa9-b789-e48e16964580&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8293700b-b603-463d-8592-05c222440662\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c6420533%2D2c1f%2D4fa9%2Db789%2De48e16964580/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:51.929815371Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;39e71dc0-3bf5-4702-8b25-b9fd06d80743\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;2e801c16-b85e-43ea-a37e-271b9bc69a72\&quot;,\&quot;applicationuid\&quot;:\&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;c6420533-2c1f-4fa9-b789-e48e16964580\&quot;,\&quot;partitionkey\&quot;:\&quot;c6420533%2D2c1f%2D4fa9%2Db789%2De48e16964580/device1\&quot;}&quot; }
[2022-05-06T15:31:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:31:52Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:31:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:31:52Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:31:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;56c4a3d6-f69a-4419-b137-30a7604b65d7&quot;, persistence: None, user_data: None }
[2022-05-06T15:31:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:31:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0fb300
[2022-05-06T15:31:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0fb300
[2022-05-06T15:31:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f153070, password: 0x55f42ec7b640, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eeb6650, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1507a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c6420533-2c1f-4fa9-b789-e48e16964580&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0006000, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0006290 } }, data: MessageData { topic: &quot;app/c6420533-2c1f-4fa9-b789-e48e16964580&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 102, 99, 52, 51, 48, 97, 52, 45, 98, 49, 56, 101, 45, 52, 101, 101, 53, 45, 56, 98, 48, 57, 45, 97, 97, 56, 53, 54, 48, 100, 53, 56, 51, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 52, 50, 48, 53, 51, 51, 37, 50, 68, 50, 99, 49, 102, 37, 50, 68, 52, 102, 97, 57, 37, 50, 68, 98, 55, 56, 57, 37, 50, 68, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 49, 58, 53, 51, 46, 48, 53, 50, 49, 56, 54, 51, 49, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 52, 50, 48, 53, 51, 51, 45, 50, 99, 49, 102, 45, 52, 102, 97, 57, 45, 98, 55, 56, 57, 45, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 57, 101, 55, 49, 100, 99, 48, 45, 51, 98, 102, 53, 45, 52, 55, 48, 50, 45, 56, 98, 50, 53, 45, 98, 57, 102, 100, 48, 54, 100, 56, 48, 55, 52, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 54, 53, 100, 51, 98, 56, 51, 45, 53, 98, 98, 55, 45, 52, 100, 52, 97, 45, 97, 102, 54, 55, 45, 102, 48, 102, 99, 55, 101, 102, 99, 54, 97, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 52, 50, 48, 53, 51, 51, 37, 50, 68, 50, 99, 49, 102, 37, 50, 68, 52, 102, 97, 57, 37, 50, 68, 98, 55, 56, 57, 37, 50, 68, 101, 52, 56, 101, 49, 54, 57, 54, 52, 53, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 57, 101, 55, 49, 100, 99, 48, 45, 51, 98, 102, 53, 45, 52, 55, 48, 50, 45, 56, 98, 50, 53, 45, 98, 57, 102, 100, 48, 54, 100, 56, 48, 55, 52, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0006290 } } } }
[2022-05-06T15:31:53Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee0a6b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee0a6b0 } } } }
[2022-05-06T15:31:53Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee04960
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c6420533-2c1f-4fa9-b789-e48e16964580&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1fc430a4-b18e-4ee5-8b09-aa8560d58352\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c6420533%2D2c1f%2D4fa9%2Db789%2De48e16964580/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:31:53.052186316Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;c6420533-2c1f-4fa9-b789-e48e16964580\&quot;,\&quot;deviceuid\&quot;:\&quot;39e71dc0-3bf5-4702-8b25-b9fd06d80743\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;365d3b83-5bb7-4d4a-af67-f0fc7efc6a74\&quot;,\&quot;partitionkey\&quot;:\&quot;c6420533%2D2c1f%2D4fa9%2Db789%2De48e16964580/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;39e71dc0-3bf5-4702-8b25-b9fd06d80743\&quot;}&quot; }
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:31:53Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:31:53Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot; &quot;device1&quot;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot; &quot;gateway1&quot;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c6420533-2c1f-4fa9-b789-e48e16964580&#x27;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c6420533-2c1f-4fa9-b789-e48e16964580&quot;
[2022-05-06T15:31:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c6420533-2c1f-4fa9-b789-e48e16964580 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:31:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:31:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:31:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:31:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:31:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:31:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:31:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:31:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MjAsImlhdCI6MTY1MTg1MTEyMCwianRpIjoiYzA4ODk2MGEtMTZjZS00MjEwLWJkYmMtYTViY2ZjY2I5ZWM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBUVTRhOHppT3drVDNrMWdpejV5THciLCJzZXNzaW9uX3N0YXRlIjoiNmZiZjZjYzktMDlhYy00NWIxLWJhYzYtMGFiNWE2ZWY2N2E5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSJ9.ch5fFj1Tt3I3j_7z-IRpaGrxClA66iN4fXjPsWPhA_k
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MjAsImlhdCI6MTY1MTg1MTEyMCwianRpIjoiYzA4ODk2MGEtMTZjZS00MjEwLWJkYmMtYTViY2ZjY2I5ZWM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBUVTRhOHppT3drVDNrMWdpejV5THciLCJzZXNzaW9uX3N0YXRlIjoiNmZiZjZjYzktMDlhYy00NWIxLWJhYzYtMGFiNWE2ZWY2N2E5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSJ9.ch5fFj1Tt3I3j_7z-IRpaGrxClA66iN4fXjPsWPhA_k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 93155586-01b2-4533-8bc4-dd85ce34f68e
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 93155586-01b2-4533-8bc4-dd85ce34f68e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;
[2022-05-06T15:32:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:00.985478Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;93155586-01b2-4533-8bc4-dd85ce34f68e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b2e0dcd6-3190-4fae-850f-e6aa137e1b91\&quot;,\n    \&quot;uid\&quot;: \&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.002186001Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:00.985478Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;), &quot;resourceVersion&quot;: String(&quot;b2e0dcd6-3190-4fae-850f-e6aa137e1b91&quot;), &quot;uid&quot;: String(&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.002186001Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:32:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:00.985478Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;93155586-01b2-4533-8bc4-dd85ce34f68e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;29c1228e-1c0e-441d-b0bd-03ef84ae7667\&quot;,\n    \&quot;uid\&quot;: \&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319632408Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319524406Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.034142893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.039711169Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.134295967Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.141864181Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319383312Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319401936Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vRmqMzuddRBX\&quot;,\n        \&quot;username\&quot;: \&quot;user-93155586-01b2-4533-8bc4-dd85ce34f68e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:00.985478Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;), &quot;resourceVersion&quot;: String(&quot;29c1228e-1c0e-441d-b0bd-03ef84ae7667&quot;), &quot;uid&quot;: String(&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319632408Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319524406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.034142893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.039711169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.134295967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.141864181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319383312Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319401936Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vRmqMzuddRBX&quot;), &quot;username&quot;: String(&quot;user-93155586-01b2-4533-8bc4-dd85ce34f68e&quot;)})})})})
[2022-05-06T15:32:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:00.985478Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;93155586-01b2-4533-8bc4-dd85ce34f68e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;29c1228e-1c0e-441d-b0bd-03ef84ae7667\&quot;,\n    \&quot;uid\&quot;: \&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319632408Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319524406Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.034142893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.039711169Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.134295967Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.141864181Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319383312Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:01.319401936Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vRmqMzuddRBX\&quot;,\n        \&quot;username\&quot;: \&quot;user-93155586-01b2-4533-8bc4-dd85ce34f68e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:00.985478Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;), &quot;resourceVersion&quot;: String(&quot;29c1228e-1c0e-441d-b0bd-03ef84ae7667&quot;), &quot;uid&quot;: String(&quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319632408Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319524406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.034142893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.039711169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.134295967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.141864181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319383312Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:01.319401936Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vRmqMzuddRBX&quot;), &quot;username&quot;: String(&quot;user-93155586-01b2-4533-8bc4-dd85ce34f68e&quot;)})})})})
[2022-05-06T15:32:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MjAsImlhdCI6MTY1MTg1MTEyMCwiYXV0aF90aW1lIjoxNjUxODUxMTE3LCJqdGkiOiJlNzdlMzBjMi0zOWFiLTRlODctYmNkNy01ZGEwOWE1ODY3NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwVFU0YTh6aU93a1QzazFnaXo1eUx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fKh57mpZB9AihVeaBRuiEKq8FwsjZhSa2ecTrZiyERVIR-_sQ0qLkipSDvNgLxddgJqj2R_bHq5rbql6f4xGcRxbSeH4_xEKoOvg5Ks0dG7R8n-44YRybOJRaK3IinQ0k5b3E318vGdeTpRE1cYKQbMfrtOanZ-rqf0kqt94yu90tUpKCkM9z7xzdEQ0zYCJBR6lQlA4pjQnQYe-u4k534HZAlAEY27rgclfaHhj9qxDSo3qCcvOUzcLHG57DdYy8ikXg9A6YA2R9m1QVXTe0nJD6EWj3_5hyYOnQyh52SdeXRXwlwqTENgvfIL4boWJzhU3s_Ja8ESeYQ3f-gvm8g\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MjAsImlhdCI6MTY1MTg1MTEyMCwiYXV0aF90aW1lIjoxNjUxODUxMTE3LCJqdGkiOiJlNzdlMzBjMi0zOWFiLTRlODctYmNkNy01ZGEwOWE1ODY3NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwVFU0YTh6aU93a1QzazFnaXo1eUx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fKh57mpZB9AihVeaBRuiEKq8FwsjZhSa2ecTrZiyERVIR-_sQ0qLkipSDvNgLxddgJqj2R_bHq5rbql6f4xGcRxbSeH4_xEKoOvg5Ks0dG7R8n-44YRybOJRaK3IinQ0k5b3E318vGdeTpRE1cYKQbMfrtOanZ-rqf0kqt94yu90tUpKCkM9z7xzdEQ0zYCJBR6lQlA4pjQnQYe-u4k534HZAlAEY27rgclfaHhj9qxDSo3qCcvOUzcLHG57DdYy8ikXg9A6YA2R9m1QVXTe0nJD6EWj3_5hyYOnQyh52SdeXRXwlwqTENgvfIL4boWJzhU3s_Ja8ESeYQ3f-gvm8g\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;a5db8485-271e-4358-9b5d-1834d9e63d89&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eee6f70
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eee6f70
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eccf300, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42efdf960, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecce920, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MjAsImlhdCI6MTY1MTg1MTEyMCwiYXV0aF90aW1lIjoxNjUxODUxMTE3LCJqdGkiOiJlNzdlMzBjMi0zOWFiLTRlODctYmNkNy01ZGEwOWE1ODY3NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwVFU0YTh6aU93a1QzazFnaXo1eUx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmYmY2Y2M5LTA5YWMtNDViMS1iYWM2LTBhYjVhNmVmNjdhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fKh57mpZB9AihVeaBRuiEKq8FwsjZhSa2ecTrZiyERVIR-_sQ0qLkipSDvNgLxddgJqj2R_bHq5rbql6f4xGcRxbSeH4_xEKoOvg5Ks0dG7R8n-44YRybOJRaK3IinQ0k5b3E318vGdeTpRE1cYKQbMfrtOanZ-rqf0kqt94yu90tUpKCkM9z7xzdEQ0zYCJBR6lQlA4pjQnQYe-u4k534HZAlAEY27rgclfaHhj9qxDSo3qCcvOUzcLHG57DdYy8ikXg9A6YA2R9m1QVXTe0nJD6EWj3_5hyYOnQyh52SdeXRXwlwqTENgvfIL4boWJzhU3s_Ja8ESeYQ3f-gvm8g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:02Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/93155586-01b2-4533-8bc4-dd85ce34f68e&quot;&#x27; @ QOS 0
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f0009ee0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ee90840 } }, data: MessageData { topic: &quot;app/93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ee90840 } } } }
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecb3c10, 0x55f42ecb2980
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecb2980, 0x55f42ecb65a0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecb2980, 0x7fea10001cf0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x55f42ed30e40
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x7fea10004330
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x55f42ecb65a0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x55f42ecb65a0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x55f42ecb65a0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea1000a690
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea1000a690
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x55f42ecb2bf0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea1000a5b0
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a5b0, 0x7fea10004330
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea1000a690
[2022-05-06T15:32:05Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10004330
[2022-05-06T15:32:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;deviceuid&quot;: &quot;559d0b1a-256e-4f8a-a562-048783d64e51&quot;, &quot;source&quot;: &quot;drogue://93155586%2D01b2%2D4533%2D8bc4%2Ddd85ce34f68e/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:32:05.945231300+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;93155586%2D01b2%2D4533%2D8bc4%2Ddd85ce34f68e/device1&quot;, &quot;application&quot;: &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, &quot;id&quot;: &quot;5ad6286c-4caf-4b8e-8ecc-1182348b258d&quot;, &quot;senderuid&quot;: &quot;149ebaf5-c881-415b-9638-55b73ca3626c&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;applicationuid&quot;: &quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:32:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:32:06Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:32:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:32:06Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:32:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;79e3c7cf-1ddd-43d4-937a-c967377738ce&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee91cc0
[2022-05-06T15:32:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee91cc0
[2022-05-06T15:32:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ed91920, password: 0x55f42f08ebc0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecbd980, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee998c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@93155586-01b2-4533-8bc4-dd85ce34f68e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f001c3a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ee48450 } }, data: MessageData { topic: &quot;app/93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ee48450 } } } }
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a590, 0x7fea10004390
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004390, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004390, 0x7fea1000a5b0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a5b0, 0x7fe9f000a310
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a5b0, 0x7fea10004330
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fe9f0031240
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea10001cb0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cb0, 0x7fea10004330
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004330, 0x7fea10003ec0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003ec0, 0x7fe9f000a1f0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10003ec0
[2022-05-06T15:32:07Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0ed390 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0ed390 } } } }
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;149ebaf5-c881-415b-9638-55b73ca3626c&quot;, &quot;partitionkey&quot;: &quot;93155586%2D01b2%2D4533%2D8bc4%2Ddd85ce34f68e/gateway1&quot;, &quot;deviceuid&quot;: &quot;149ebaf5-c881-415b-9638-55b73ca3626c&quot;, &quot;id&quot;: &quot;c847b538-d15c-40d0-892a-3a41e48f9f75&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, &quot;applicationuid&quot;: &quot;79c4e2f6-f6c9-4edb-9f24-794e1f06e2d6&quot;, &quot;time&quot;: &quot;2022-05-06T15:32:07.063210514+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://93155586%2D01b2%2D4533%2D8bc4%2Ddd85ce34f68e/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:32:07Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:32:07Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot; &quot;device1&quot;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot; &quot;gateway1&quot;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;93155586-01b2-4533-8bc4-dd85ce34f68e&#x27;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;93155586-01b2-4533-8bc4-dd85ce34f68e&quot;
[2022-05-06T15:32:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 93155586-01b2-4533-8bc4-dd85ce34f68e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:32:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:32:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:32:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:32:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MzMsImlhdCI6MTY1MTg1MTEzMywianRpIjoiN2E5OThjYzctYTRjOC00OGM5LTg5NjgtYzFjMTBhZjBmY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1Qa2ppVjAzRUY4MDFybDNQdUpDT1EiLCJzZXNzaW9uX3N0YXRlIjoiMzk4Zjg5YzYtMzI5OS00OTFkLWEyNWItYmE0NjgzYWIxZjBlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSJ9.cb--xfXTW-3Hp6lKdjYUnZjGz9-2awL-WHQEJM2JbBg
[2022-05-06T15:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:32:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5MzMsImlhdCI6MTY1MTg1MTEzMywianRpIjoiN2E5OThjYzctYTRjOC00OGM5LTg5NjgtYzFjMTBhZjBmY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1Qa2ppVjAzRUY4MDFybDNQdUpDT1EiLCJzZXNzaW9uX3N0YXRlIjoiMzk4Zjg5YzYtMzI5OS00OTFkLWEyNWItYmE0NjgzYWIxZjBlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSJ9.cb--xfXTW-3Hp6lKdjYUnZjGz9-2awL-WHQEJM2JbBg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::resources::apps] Create application: e02ff418-3fe4-4587-bea1-9c8c59628cb8
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e02ff418-3fe4-4587-bea1-9c8c59628cb8 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;
[2022-05-06T15:32:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:14.737313Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a2f70539-d7ab-4fa8-b8f3-a1d196464f45\&quot;,\n    \&quot;uid\&quot;: \&quot;5719f411-7d43-4895-9452-0e109148dc58\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.754962458Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:14.737313Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;), &quot;resourceVersion&quot;: String(&quot;a2f70539-d7ab-4fa8-b8f3-a1d196464f45&quot;), &quot;uid&quot;: String(&quot;5719f411-7d43-4895-9452-0e109148dc58&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.754962458Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:32:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:14.737313Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;177eaec3-c4e8-41d5-935e-c67f6731b3d8\&quot;,\n    \&quot;uid\&quot;: \&quot;5719f411-7d43-4895-9452-0e109148dc58\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060639958Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060608499Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.798576958Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.806368391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.894932314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.903391659Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060564598Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060579996Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AClohYo0KPL3\&quot;,\n        \&quot;username\&quot;: \&quot;user-e02ff418-3fe4-4587-bea1-9c8c59628cb8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:14.737313Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;), &quot;resourceVersion&quot;: String(&quot;177eaec3-c4e8-41d5-935e-c67f6731b3d8&quot;), &quot;uid&quot;: String(&quot;5719f411-7d43-4895-9452-0e109148dc58&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060639958Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060608499Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.798576958Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.806368391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.894932314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.903391659Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060564598Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060579996Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AClohYo0KPL3&quot;), &quot;username&quot;: String(&quot;user-e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;)})})})})
[2022-05-06T15:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:14.737313Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;177eaec3-c4e8-41d5-935e-c67f6731b3d8\&quot;,\n    \&quot;uid\&quot;: \&quot;5719f411-7d43-4895-9452-0e109148dc58\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060639958Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060608499Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.798576958Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.806368391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.894932314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:14.903391659Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060564598Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:15.060579996Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AClohYo0KPL3\&quot;,\n        \&quot;username\&quot;: \&quot;user-e02ff418-3fe4-4587-bea1-9c8c59628cb8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:14.737313Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;), &quot;resourceVersion&quot;: String(&quot;177eaec3-c4e8-41d5-935e-c67f6731b3d8&quot;), &quot;uid&quot;: String(&quot;5719f411-7d43-4895-9452-0e109148dc58&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060639958Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060608499Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.798576958Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.806368391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.894932314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:14.903391659Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060564598Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:15.060579996Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AClohYo0KPL3&quot;), &quot;username&quot;: String(&quot;user-e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;)})})})})
[2022-05-06T15:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MzQsImlhdCI6MTY1MTg1MTEzNCwiYXV0aF90aW1lIjoxNjUxODUxMTMxLCJqdGkiOiI1NTllZmNiMS1iYzljLTRmMGYtOGExNS05Yjk3OGQ2MGI2YzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNUGtqaVYwM0VGODAxcmwzUHVKQ09RIiwic2Vzc2lvbl9zdGF0ZSI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bc7LgaRqX74cFMXvfT3gjDN_NW8L3hfW-AeFzWKj7mIP9j6kjgAkFViYVZ4FcQNUm-0PiAfiMabth7-ri9Ky9qREXQv_W6lR7QT2jlDrKOApv51dmkIpvJEu2Bcj4HBuuRTYbdHgcmxLg-OjHduZ4btsrPvBA6xEKhRkRbWSnjtl3q36nCJpH42KOV3u07O2E03tI9lipGyac0GsFOVbsTunD5UTxsYjHba_cds6y3fJ-iTzOlauLXoRWCWqBM4EcuQFpxMyVJqjsE-q6qKS5D0vd0sRypMIFhoqL_D9p47MmYK6mbi7t2Ral4w7TQcoVxVhCE7AAGVaml1jd6ZsXg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MzQsImlhdCI6MTY1MTg1MTEzNCwiYXV0aF90aW1lIjoxNjUxODUxMTMxLCJqdGkiOiI1NTllZmNiMS1iYzljLTRmMGYtOGExNS05Yjk3OGQ2MGI2YzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNUGtqaVYwM0VGODAxcmwzUHVKQ09RIiwic2Vzc2lvbl9zdGF0ZSI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bc7LgaRqX74cFMXvfT3gjDN_NW8L3hfW-AeFzWKj7mIP9j6kjgAkFViYVZ4FcQNUm-0PiAfiMabth7-ri9Ky9qREXQv_W6lR7QT2jlDrKOApv51dmkIpvJEu2Bcj4HBuuRTYbdHgcmxLg-OjHduZ4btsrPvBA6xEKhRkRbWSnjtl3q36nCJpH42KOV3u07O2E03tI9lipGyac0GsFOVbsTunD5UTxsYjHba_cds6y3fJ-iTzOlauLXoRWCWqBM4EcuQFpxMyVJqjsE-q6qKS5D0vd0sRypMIFhoqL_D9p47MmYK6mbi7t2Ral4w7TQcoVxVhCE7AAGVaml1jd6ZsXg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;5d4855b2-ddea-4f75-8128-d96eff0a0a9e&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef17790
[2022-05-06T15:32:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef17790
[2022-05-06T15:32:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eccec80, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee5f2d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee37600, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0MzQsImlhdCI6MTY1MTg1MTEzNCwiYXV0aF90aW1lIjoxNjUxODUxMTMxLCJqdGkiOiI1NTllZmNiMS1iYzljLTRmMGYtOGExNS05Yjk3OGQ2MGI2YzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNUGtqaVYwM0VGODAxcmwzUHVKQ09RIiwic2Vzc2lvbl9zdGF0ZSI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5OGY4OWM2LTMyOTktNDkxZC1hMjViLWJhNDY4M2FiMWYwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bc7LgaRqX74cFMXvfT3gjDN_NW8L3hfW-AeFzWKj7mIP9j6kjgAkFViYVZ4FcQNUm-0PiAfiMabth7-ri9Ky9qREXQv_W6lR7QT2jlDrKOApv51dmkIpvJEu2Bcj4HBuuRTYbdHgcmxLg-OjHduZ4btsrPvBA6xEKhRkRbWSnjtl3q36nCJpH42KOV3u07O2E03tI9lipGyac0GsFOVbsTunD5UTxsYjHba_cds6y3fJ-iTzOlauLXoRWCWqBM4EcuQFpxMyVJqjsE-q6qKS5D0vd0sRypMIFhoqL_D9p47MmYK6mbi7t2Ral4w7TQcoVxVhCE7AAGVaml1jd6ZsXg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:16Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;&#x27; @ QOS 0
[2022-05-06T15:32:16Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:32:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:32:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f00154b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42f143fb0 } }, data: MessageData { topic: &quot;app/e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42f143fb0 } } } }
[2022-05-06T15:32:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee35c40, 0x55f42ed10e10
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed10e10, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed10e10, 0x55f42ee65ef0
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee65ef0, 0x55f42ec71f90
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee65ef0, 0x7fea10009830
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea10004310
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x7fea10009830
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x55f42efe9fd0
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009830, 0x7fea10009770
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009770, 0x7fea1000ad40
[2022-05-06T15:32:19Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10009770
[2022-05-06T15:32:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://e02ff418%2D3fe4%2D4587%2Dbea1%2D9c8c59628cb8/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;7c9fcca7-ab5e-4123-bbc0-dfbb6e78baa4&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;deviceuid&quot;: &quot;6bb5f740-654f-4581-b1be-b3861b3e363a&quot;, &quot;senderuid&quot;: &quot;1e54f774-9c08-4d19-b5c6-fcccdbd22f09&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;e02ff418%2D3fe4%2D4587%2Dbea1%2D9c8c59628cb8/device1&quot;, &quot;applicationuid&quot;: &quot;5719f411-7d43-4895-9452-0e109148dc58&quot;, &quot;time&quot;: &quot;2022-05-06T15:32:19.947987792+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:32:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:32:20Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:32:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:32:20Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:32:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0193dce0-dcb9-44cf-a8bd-26bfecec29cc&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f11d5f0
[2022-05-06T15:32:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f11d5f0
[2022-05-06T15:32:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f145670, password: 0x55f42eeb4080, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f115ae0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f150da0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f002fcc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f001c330 } }, data: MessageData { topic: &quot;app/e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f001c330 } } } }
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d6910, 0x55f42ec85100
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec85100, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec85100, 0x7fea0c007a80
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a80, 0x7fea0c0074a0
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a80, 0x7fea0c003c80
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003c80, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003c80, 0x7fea0c003b60
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b60, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b60, 0x7fea0c006ed0
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006ed0, 0x55f42f0d6c00
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006ed0, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006ed0, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006ed0, 0x55f42ecae820
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006ed0, 0x7fea0c0046a0
[2022-05-06T15:32:21Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0046a0
[2022-05-06T15:32:21Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecbfb40 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecbfb40 } } } }
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;time&quot;: &quot;2022-05-06T15:32:21.063410074+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;7dd67f02-e81f-49f0-91b2-8e87cab0f91a&quot;, &quot;applicationuid&quot;: &quot;5719f411-7d43-4895-9452-0e109148dc58&quot;, &quot;application&quot;: &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, &quot;source&quot;: &quot;drogue://e02ff418%2D3fe4%2D4587%2Dbea1%2D9c8c59628cb8/gateway1&quot;, &quot;senderuid&quot;: &quot;1e54f774-9c08-4d19-b5c6-fcccdbd22f09&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;1e54f774-9c08-4d19-b5c6-fcccdbd22f09&quot;, &quot;partitionkey&quot;: &quot;e02ff418%2D3fe4%2D4587%2Dbea1%2D9c8c59628cb8/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:32:21Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:32:21Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot; &quot;device1&quot;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot; &quot;gateway1&quot;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e02ff418-3fe4-4587-bea1-9c8c59628cb8&#x27;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e02ff418-3fe4-4587-bea1-9c8c59628cb8&quot;
[2022-05-06T15:32:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e02ff418-3fe4-4587-bea1-9c8c59628cb8 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:32:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:32:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:32:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:32:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NDcsImlhdCI6MTY1MTg1MTE0NywianRpIjoiYzUwOWQyZWItMmMxYy00NjBhLWIyZTktY2JhMTA4YmY4OTgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNCcDFFcVlVMGRIZUZvXzdzMzdWQXciLCJzZXNzaW9uX3N0YXRlIjoiYThhYjMxYmYtZGQ3ZS00NzkzLTg4NDMtNzRlZGIyMDlhNjhmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiJ9.qe1V_Zf1cFQORy8iP9Gc6SN_izNZqH2ZTF6upkqx7JU
[2022-05-06T15:32:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:32:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NDcsImlhdCI6MTY1MTg1MTE0NywianRpIjoiYzUwOWQyZWItMmMxYy00NjBhLWIyZTktY2JhMTA4YmY4OTgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNCcDFFcVlVMGRIZUZvXzdzMzdWQXciLCJzZXNzaW9uX3N0YXRlIjoiYThhYjMxYmYtZGQ3ZS00NzkzLTg4NDMtNzRlZGIyMDlhNjhmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiJ9.qe1V_Zf1cFQORy8iP9Gc6SN_izNZqH2ZTF6upkqx7JU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:32:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:28Z INFO  drogue_cloud_tests::resources::apps] Create application: 641988ee-d697-4e59-aab1-45017a849355
[2022-05-06T15:32:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot;
[2022-05-06T15:32:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 641988ee-d697-4e59-aab1-45017a849355 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot;
[2022-05-06T15:32:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:28.616052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;641988ee-d697-4e59-aab1-45017a849355\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;cd6c856e-7d36-473a-b2a0-6cd332044902\&quot;,\n    \&quot;uid\&quot;: \&quot;d724530c-2460-4e92-b187-882632e2ba23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635966055Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635904759Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635832164Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635833166Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635833597Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635834077Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635834728Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.635869474Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:28.616052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;641988ee-d697-4e59-aab1-45017a849355&quot;), &quot;resourceVersion&quot;: String(&quot;cd6c856e-7d36-473a-b2a0-6cd332044902&quot;), &quot;uid&quot;: String(&quot;d724530c-2460-4e92-b187-882632e2ba23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635966055Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635904759Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635832164Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635833166Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635833597Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635834077Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635834728Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.635869474Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:32:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:28.616052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;641988ee-d697-4e59-aab1-45017a849355\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b8d300a9-5bf5-4d4b-9ff9-920c24a849a9\&quot;,\n    \&quot;uid\&quot;: \&quot;d724530c-2460-4e92-b187-882632e2ba23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889803188Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889687270Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.659960724Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.665493794Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.743318130Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.749006080Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889555944Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889654158Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;x3R9DfIVs7y8\&quot;,\n        \&quot;username\&quot;: \&quot;user-641988ee-d697-4e59-aab1-45017a849355\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:28.616052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;641988ee-d697-4e59-aab1-45017a849355&quot;), &quot;resourceVersion&quot;: String(&quot;b8d300a9-5bf5-4d4b-9ff9-920c24a849a9&quot;), &quot;uid&quot;: String(&quot;d724530c-2460-4e92-b187-882632e2ba23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889803188Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889687270Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.659960724Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.665493794Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.743318130Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.749006080Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889555944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889654158Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;x3R9DfIVs7y8&quot;), &quot;username&quot;: String(&quot;user-641988ee-d697-4e59-aab1-45017a849355&quot;)})})})})
[2022-05-06T15:32:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:28.616052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;641988ee-d697-4e59-aab1-45017a849355\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b8d300a9-5bf5-4d4b-9ff9-920c24a849a9\&quot;,\n    \&quot;uid\&quot;: \&quot;d724530c-2460-4e92-b187-882632e2ba23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889803188Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889687270Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.659960724Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.665493794Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.743318130Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.749006080Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889555944Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:28.889654158Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;x3R9DfIVs7y8\&quot;,\n        \&quot;username\&quot;: \&quot;user-641988ee-d697-4e59-aab1-45017a849355\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:28.616052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;641988ee-d697-4e59-aab1-45017a849355&quot;), &quot;resourceVersion&quot;: String(&quot;b8d300a9-5bf5-4d4b-9ff9-920c24a849a9&quot;), &quot;uid&quot;: String(&quot;d724530c-2460-4e92-b187-882632e2ba23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889803188Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889687270Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.659960724Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.665493794Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.743318130Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.749006080Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889555944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:28.889654158Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;x3R9DfIVs7y8&quot;), &quot;username&quot;: String(&quot;user-641988ee-d697-4e59-aab1-45017a849355&quot;)})})})})
[2022-05-06T15:32:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NDcsImlhdCI6MTY1MTg1MTE0NywiYXV0aF90aW1lIjoxNjUxODUxMTQ0LCJqdGkiOiI1N2UzYTVlOS1jODdhLTQwNDAtOTk3OS0wMjRhYzUxN2ZkZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzQnAxRXFZVTBkSGVGb183czM3VkF3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bzy9-s9H3vjP-VmjQkZZ8BJ7ed1rTha3xh6oJ7RgBenX0rnMagHHtFgzwt5sWJDO7ceWsdw1E9z0WLVMBafpGHLbZvJljdbMjGuwfQpy4QdNoVOkjytvXRC__S9bTr4NAZe1FbxAaMwPCtIz2U5ToMxCDMER6FrU347QaPldXjo_UYayyVte4iisFsQvSdONj02RLggXDm2U6lhBnAskkd74BURBLDwzxAOSvO3t8YiKggbGRl8X1pNmZXFyWaGZl7MONlV2oouGBM0Jk_rd4BV5wHlyZxG3Ugs15Xnp-RKWO7ib4nvPghAgOQHgxefXY_N0SivptGIhkLLR3vFe5A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NDcsImlhdCI6MTY1MTg1MTE0NywiYXV0aF90aW1lIjoxNjUxODUxMTQ0LCJqdGkiOiI1N2UzYTVlOS1jODdhLTQwNDAtOTk3OS0wMjRhYzUxN2ZkZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzQnAxRXFZVTBkSGVGb183czM3VkF3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bzy9-s9H3vjP-VmjQkZZ8BJ7ed1rTha3xh6oJ7RgBenX0rnMagHHtFgzwt5sWJDO7ceWsdw1E9z0WLVMBafpGHLbZvJljdbMjGuwfQpy4QdNoVOkjytvXRC__S9bTr4NAZe1FbxAaMwPCtIz2U5ToMxCDMER6FrU347QaPldXjo_UYayyVte4iisFsQvSdONj02RLggXDm2U6lhBnAskkd74BURBLDwzxAOSvO3t8YiKggbGRl8X1pNmZXFyWaGZl7MONlV2oouGBM0Jk_rd4BV5wHlyZxG3Ugs15Xnp-RKWO7ib4nvPghAgOQHgxefXY_N0SivptGIhkLLR3vFe5A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;40528690-00d7-4d96-b591-c16e7f6e5574&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f12d370
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f12d370
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f11ce90, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0f61f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f12ef70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NDcsImlhdCI6MTY1MTg1MTE0NywiYXV0aF90aW1lIjoxNjUxODUxMTQ0LCJqdGkiOiI1N2UzYTVlOS1jODdhLTQwNDAtOTk3OS0wMjRhYzUxN2ZkZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzQnAxRXFZVTBkSGVGb183czM3VkF3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YWIzMWJmLWRkN2UtNDc5My04ODQzLTc0ZWRiMjA5YTY4ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bzy9-s9H3vjP-VmjQkZZ8BJ7ed1rTha3xh6oJ7RgBenX0rnMagHHtFgzwt5sWJDO7ceWsdw1E9z0WLVMBafpGHLbZvJljdbMjGuwfQpy4QdNoVOkjytvXRC__S9bTr4NAZe1FbxAaMwPCtIz2U5ToMxCDMER6FrU347QaPldXjo_UYayyVte4iisFsQvSdONj02RLggXDm2U6lhBnAskkd74BURBLDwzxAOSvO3t8YiKggbGRl8X1pNmZXFyWaGZl7MONlV2oouGBM0Jk_rd4BV5wHlyZxG3Ugs15Xnp-RKWO7ib4nvPghAgOQHgxefXY_N0SivptGIhkLLR3vFe5A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/641988ee-d697-4e59-aab1-45017a849355&quot;&#x27; @ QOS 0
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f001e060, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/641988ee-d697-4e59-aab1-45017a849355&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 57, 53, 102, 97, 98, 51, 50, 45, 54, 102, 50, 57, 45, 52, 102, 101, 48, 45, 97, 97, 51, 98, 45, 50, 57, 54, 53, 54, 55, 49, 51, 54, 53, 99, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 52, 49, 57, 56, 56, 101, 101, 37, 50, 68, 100, 54, 57, 55, 37, 50, 68, 52, 101, 53, 57, 37, 50, 68, 97, 97, 98, 49, 37, 50, 68, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 50, 58, 51, 51, 46, 57, 56, 49, 57, 50, 49, 56, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 55, 50, 52, 53, 51, 48, 99, 45, 50, 52, 54, 48, 45, 52, 101, 57, 50, 45, 98, 49, 56, 55, 45, 56, 56, 50, 54, 51, 50, 101, 50, 98, 97, 50, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 99, 54, 51, 101, 99, 52, 102, 45, 102, 101, 54, 99, 45, 52, 98, 49, 48, 45, 57, 98, 52, 102, 45, 53, 53, 97, 102, 49, 49, 49, 51, 53, 100, 101, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 52, 49, 57, 56, 56, 101, 101, 45, 100, 54, 57, 55, 45, 52, 101, 53, 57, 45, 97, 97, 98, 49, 45, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 52, 49, 57, 56, 56, 101, 101, 37, 50, 68, 100, 54, 57, 55, 37, 50, 68, 52, 101, 53, 57, 37, 50, 68, 97, 97, 98, 49, 37, 50, 68, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 55, 55, 50, 98, 51, 101, 51, 45, 57, 99, 97, 51, 45, 52, 98, 98, 53, 45, 98, 50, 51, 102, 45, 50, 50, 102, 56, 49, 52, 101, 100, 52, 98, 97, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:32:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/641988ee-d697-4e59-aab1-45017a849355&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;695fab32-6f29-4fe0-aa3b-2965671365cc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://641988ee%2Dd697%2D4e59%2Daab1%2D45017a849355/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:32:33.981921897Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;d724530c-2460-4e92-b187-882632e2ba23\&quot;,\&quot;senderuid\&quot;:\&quot;0c63ec4f-fe6c-4b10-9b4f-55af11135de5\&quot;,\&quot;application\&quot;:\&quot;641988ee-d697-4e59-aab1-45017a849355\&quot;,\&quot;partitionkey\&quot;:\&quot;641988ee%2Dd697%2D4e59%2Daab1%2D45017a849355/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;d772b3e3-9ca3-4bb5-b23f-22f814ed4baa\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:32:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:32:34Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:32:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:32:34Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:32:34Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;27243913-9935-4822-a9ae-dffcb9b455fb&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:34Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:34Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edc9730
[2022-05-06T15:32:34Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edc9730
[2022-05-06T15:32:34Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f17e3a0, password: 0x55f42f062630, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0d3620, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed18b40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@641988ee-d697-4e59-aab1-45017a849355&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0031210, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/641988ee-d697-4e59-aab1-45017a849355&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 97, 56, 99, 99, 56, 55, 100, 45, 55, 51, 102, 54, 45, 52, 55, 48, 102, 45, 56, 48, 98, 50, 45, 100, 52, 55, 97, 52, 51, 53, 101, 50, 49, 50, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 52, 49, 57, 56, 56, 101, 101, 37, 50, 68, 100, 54, 57, 55, 37, 50, 68, 52, 101, 53, 57, 37, 50, 68, 97, 97, 98, 49, 37, 50, 68, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 50, 58, 51, 53, 46, 49, 49, 51, 57, 49, 52, 52, 51, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 52, 49, 57, 56, 56, 101, 101, 37, 50, 68, 100, 54, 57, 55, 37, 50, 68, 52, 101, 53, 57, 37, 50, 68, 97, 97, 98, 49, 37, 50, 68, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 55, 50, 52, 53, 51, 48, 99, 45, 50, 52, 54, 48, 45, 52, 101, 57, 50, 45, 98, 49, 56, 55, 45, 56, 56, 50, 54, 51, 50, 101, 50, 98, 97, 50, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 52, 49, 57, 56, 56, 101, 101, 45, 100, 54, 57, 55, 45, 52, 101, 53, 57, 45, 97, 97, 98, 49, 45, 52, 53, 48, 49, 55, 97, 56, 52, 57, 51, 53, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 99, 54, 51, 101, 99, 52, 102, 45, 102, 101, 54, 99, 45, 52, 98, 49, 48, 45, 57, 98, 52, 102, 45, 53, 53, 97, 102, 49, 49, 49, 51, 53, 100, 101, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 99, 54, 51, 101, 99, 52, 102, 45, 102, 101, 54, 99, 45, 52, 98, 49, 48, 45, 57, 98, 52, 102, 45, 53, 53, 97, 102, 49, 49, 49, 51, 53, 100, 101, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/641988ee-d697-4e59-aab1-45017a849355&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ba8cc87d-73f6-470f-80b2-d47a435e212d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://641988ee%2Dd697%2D4e59%2Daab1%2D45017a849355/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:32:35.113914434Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;641988ee%2Dd697%2D4e59%2Daab1%2D45017a849355/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;d724530c-2460-4e92-b187-882632e2ba23\&quot;,\&quot;application\&quot;:\&quot;641988ee-d697-4e59-aab1-45017a849355\&quot;,\&quot;deviceuid\&quot;:\&quot;0c63ec4f-fe6c-4b10-9b4f-55af11135de5\&quot;,\&quot;senderuid\&quot;:\&quot;0c63ec4f-fe6c-4b10-9b4f-55af11135de5\&quot;}&quot; }
[2022-05-06T15:32:35Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efb6860 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efb6860 } } } }
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:32:35Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:32:35Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;641988ee-d697-4e59-aab1-45017a849355&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;641988ee-d697-4e59-aab1-45017a849355&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot; &quot;device1&quot;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot; &quot;gateway1&quot;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;641988ee-d697-4e59-aab1-45017a849355&#x27;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;641988ee-d697-4e59-aab1-45017a849355&quot;
[2022-05-06T15:32:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 641988ee-d697-4e59-aab1-45017a849355 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:32:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:32:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:32:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:32:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NjEsImlhdCI6MTY1MTg1MTE2MSwianRpIjoiYTNjNTAzZjMtODcxMi00Zjk3LWFmYWEtNzE5MmVlYTZhZjM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkYxQkZhSzFfYzU5TEZPclBnc0w5b3ciLCJzZXNzaW9uX3N0YXRlIjoiZDI3YmRkM2YtYTQ2NS00MDNkLWEzOGMtYTg3N2YyNTZkYTBlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSJ9.lqo8mDeqjEInO6f2AeUBjO4nAOclfj-nyj_6CjiCFC0
[2022-05-06T15:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NjEsImlhdCI6MTY1MTg1MTE2MSwianRpIjoiYTNjNTAzZjMtODcxMi00Zjk3LWFmYWEtNzE5MmVlYTZhZjM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkYxQkZhSzFfYzU5TEZPclBnc0w5b3ciLCJzZXNzaW9uX3N0YXRlIjoiZDI3YmRkM2YtYTQ2NS00MDNkLWEzOGMtYTg3N2YyNTZkYTBlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSJ9.lqo8mDeqjEInO6f2AeUBjO4nAOclfj-nyj_6CjiCFC0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 4293c735-7492-48f5-8836-675de8f8ea56
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4293c735-7492-48f5-8836-675de8f8ea56 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;
[2022-05-06T15:32:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:42.733468Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;4293c735-7492-48f5-8836-675de8f8ea56\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4d6f1ff8-13ce-4df4-af65-06f2102f8f5d\&quot;,\n    \&quot;uid\&quot;: \&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752943406Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752921815Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752873485Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752874477Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752875138Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752875719Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752876090Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.752887030Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:42.733468Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;), &quot;resourceVersion&quot;: String(&quot;4d6f1ff8-13ce-4df4-af65-06f2102f8f5d&quot;), &quot;uid&quot;: String(&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752943406Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752921815Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752873485Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752874477Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752875138Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752875719Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752876090Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.752887030Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:32:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:42.733468Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4293c735-7492-48f5-8836-675de8f8ea56\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;45f3d25e-136b-4d79-bc43-c14eca555bd6\&quot;,\n    \&quot;uid\&quot;: \&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040800900Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040770773Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.776070731Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.781113071Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.858647033Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.872969465Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040730929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040744835Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CzqTGJYlPAxm\&quot;,\n        \&quot;username\&quot;: \&quot;user-4293c735-7492-48f5-8836-675de8f8ea56\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:42.733468Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;), &quot;resourceVersion&quot;: String(&quot;45f3d25e-136b-4d79-bc43-c14eca555bd6&quot;), &quot;uid&quot;: String(&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040800900Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040770773Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.776070731Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.781113071Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.858647033Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.872969465Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040730929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040744835Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CzqTGJYlPAxm&quot;), &quot;username&quot;: String(&quot;user-4293c735-7492-48f5-8836-675de8f8ea56&quot;)})})})})
[2022-05-06T15:32:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:42.733468Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4293c735-7492-48f5-8836-675de8f8ea56\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;45f3d25e-136b-4d79-bc43-c14eca555bd6\&quot;,\n    \&quot;uid\&quot;: \&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040800900Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040770773Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.776070731Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.781113071Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.858647033Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:42.872969465Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040730929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:43.040744835Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CzqTGJYlPAxm\&quot;,\n        \&quot;username\&quot;: \&quot;user-4293c735-7492-48f5-8836-675de8f8ea56\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:42.733468Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;), &quot;resourceVersion&quot;: String(&quot;45f3d25e-136b-4d79-bc43-c14eca555bd6&quot;), &quot;uid&quot;: String(&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040800900Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040770773Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.776070731Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.781113071Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.858647033Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:42.872969465Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040730929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:43.040744835Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CzqTGJYlPAxm&quot;), &quot;username&quot;: String(&quot;user-4293c735-7492-48f5-8836-675de8f8ea56&quot;)})})})})
[2022-05-06T15:32:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NjIsImlhdCI6MTY1MTg1MTE2MiwiYXV0aF90aW1lIjoxNjUxODUxMTU5LCJqdGkiOiI2NWM5MDc3Ni1hZDhhLTQzNGItYTg3NS0yZDIwMDcyMDI1NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGMUJGYUsxX2M1OUxGT3JQZ3NMOW93Iiwic2Vzc2lvbl9zdGF0ZSI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W23HJ7bU-ueAmmbVRyN7iIc2-h_HDN7EsytwWO09l0EG7niD1DemlE8WQl6_xTth-hXuzcaTvlPXc-bRSaBBUwguLOpkjsSBBYClu83qtsuU-cRYsgA2UloDyeKcBE8ScGIz1HBlpYESyUlF3idNqG2JU44lQbvI_2iIRYI-fCf9hFQi40qozK0YYdYN-wlTUxy2UDM4HRQ3i2sIhfwEyEvR_fjCQBuumPNH9j_QkbuA8H06Y1Q9xJawejTZcjUHPARcyZ8BpP-ALFpyYaDXVdD0dO_7MQuHoon-hIVqWky2Jfwzx5lMa_iTUCXIOxO5IRBT32DcPVWAV2WbXuZ-aA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NjIsImlhdCI6MTY1MTg1MTE2MiwiYXV0aF90aW1lIjoxNjUxODUxMTU5LCJqdGkiOiI2NWM5MDc3Ni1hZDhhLTQzNGItYTg3NS0yZDIwMDcyMDI1NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGMUJGYUsxX2M1OUxGT3JQZ3NMOW93Iiwic2Vzc2lvbl9zdGF0ZSI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W23HJ7bU-ueAmmbVRyN7iIc2-h_HDN7EsytwWO09l0EG7niD1DemlE8WQl6_xTth-hXuzcaTvlPXc-bRSaBBUwguLOpkjsSBBYClu83qtsuU-cRYsgA2UloDyeKcBE8ScGIz1HBlpYESyUlF3idNqG2JU44lQbvI_2iIRYI-fCf9hFQi40qozK0YYdYN-wlTUxy2UDM4HRQ3i2sIhfwEyEvR_fjCQBuumPNH9j_QkbuA8H06Y1Q9xJawejTZcjUHPARcyZ8BpP-ALFpyYaDXVdD0dO_7MQuHoon-hIVqWky2Jfwzx5lMa_iTUCXIOxO5IRBT32DcPVWAV2WbXuZ-aA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;782003c4-c0f0-4db8-9ac4-999257ed13f9&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecce4b0
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecce4b0
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed421b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f17d240, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed41510, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NjIsImlhdCI6MTY1MTg1MTE2MiwiYXV0aF90aW1lIjoxNjUxODUxMTU5LCJqdGkiOiI2NWM5MDc3Ni1hZDhhLTQzNGItYTg3NS0yZDIwMDcyMDI1NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGMUJGYUsxX2M1OUxGT3JQZ3NMOW93Iiwic2Vzc2lvbl9zdGF0ZSI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyN2JkZDNmLWE0NjUtNDAzZC1hMzhjLWE4NzdmMjU2ZGEwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W23HJ7bU-ueAmmbVRyN7iIc2-h_HDN7EsytwWO09l0EG7niD1DemlE8WQl6_xTth-hXuzcaTvlPXc-bRSaBBUwguLOpkjsSBBYClu83qtsuU-cRYsgA2UloDyeKcBE8ScGIz1HBlpYESyUlF3idNqG2JU44lQbvI_2iIRYI-fCf9hFQi40qozK0YYdYN-wlTUxy2UDM4HRQ3i2sIhfwEyEvR_fjCQBuumPNH9j_QkbuA8H06Y1Q9xJawejTZcjUHPARcyZ8BpP-ALFpyYaDXVdD0dO_7MQuHoon-hIVqWky2Jfwzx5lMa_iTUCXIOxO5IRBT32DcPVWAV2WbXuZ-aA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:43Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/4293c735-7492-48f5-8836-675de8f8ea56&quot;&#x27; @ QOS 0
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f002d470, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/4293c735-7492-48f5-8836-675de8f8ea56&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 53, 101, 97, 55, 50, 52, 50, 45, 53, 51, 54, 102, 45, 52, 100, 53, 50, 45, 56, 53, 49, 97, 45, 53, 51, 50, 52, 99, 55, 98, 98, 56, 99, 49, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 50, 57, 51, 99, 55, 51, 53, 37, 50, 68, 55, 52, 57, 50, 37, 50, 68, 52, 56, 102, 53, 37, 50, 68, 56, 56, 51, 54, 37, 50, 68, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 50, 58, 52, 55, 46, 57, 54, 52, 52, 48, 49, 52, 50, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 50, 100, 98, 57, 100, 53, 49, 45, 100, 54, 97, 48, 45, 52, 55, 101, 100, 45, 56, 48, 56, 52, 45, 57, 97, 54, 50, 56, 102, 102, 52, 51, 53, 100, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 56, 49, 100, 48, 48, 55, 54, 45, 102, 97, 51, 50, 45, 52, 55, 55, 57, 45, 56, 98, 99, 48, 45, 49, 48, 54, 55, 52, 48, 57, 97, 55, 52, 102, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 101, 51, 50, 48, 54, 50, 45, 101, 55, 99, 51, 45, 52, 98, 53, 101, 45, 56, 49, 102, 98, 45, 102, 101, 49, 55, 52, 101, 97, 98, 50, 55, 54, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 50, 57, 51, 99, 55, 51, 53, 45, 55, 52, 57, 50, 45, 52, 56, 102, 53, 45, 56, 56, 51, 54, 45, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 50, 57, 51, 99, 55, 51, 53, 37, 50, 68, 55, 52, 57, 50, 37, 50, 68, 52, 56, 102, 53, 37, 50, 68, 56, 56, 51, 54, 37, 50, 68, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:32:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4293c735-7492-48f5-8836-675de8f8ea56&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c5ea7242-536f-4d52-851a-5324c7bb8c12\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4293c735%2D7492%2D48f5%2D8836%2D675de8f8ea56/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:32:47.964401427Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;22db9d51-d6a0-47ed-8084-9a628ff435dd\&quot;,\&quot;senderuid\&quot;:\&quot;481d0076-fa32-4779-8bc0-1067409a74f7\&quot;,\&quot;applicationuid\&quot;:\&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;4293c735-7492-48f5-8836-675de8f8ea56\&quot;,\&quot;partitionkey\&quot;:\&quot;4293c735%2D7492%2D48f5%2D8836%2D675de8f8ea56/device1\&quot;}&quot; }
[2022-05-06T15:32:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:32:48Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:32:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:32:48Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:32:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;80094cef-e3d3-4ba4-ab1c-84103cacad85&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee06600
[2022-05-06T15:32:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee06600
[2022-05-06T15:32:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42eda7f00, password: 0x55f42ee06570, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dbb20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f10a260, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@4293c735-7492-48f5-8836-675de8f8ea56&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:49Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edd2bb0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edd2bb0 } } } }
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f00302d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/4293c735-7492-48f5-8836-675de8f8ea56&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 51, 54, 49, 102, 101, 101, 102, 45, 101, 50, 57, 54, 45, 52, 99, 54, 54, 45, 57, 52, 53, 53, 45, 50, 50, 102, 54, 54, 51, 100, 100, 49, 101, 50, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 50, 57, 51, 99, 55, 51, 53, 37, 50, 68, 55, 52, 57, 50, 37, 50, 68, 52, 56, 102, 53, 37, 50, 68, 56, 56, 51, 54, 37, 50, 68, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 50, 58, 52, 57, 46, 48, 56, 49, 57, 48, 56, 54, 56, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 50, 57, 51, 99, 55, 51, 53, 37, 50, 68, 55, 52, 57, 50, 37, 50, 68, 52, 56, 102, 53, 37, 50, 68, 56, 56, 51, 54, 37, 50, 68, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 56, 49, 100, 48, 48, 55, 54, 45, 102, 97, 51, 50, 45, 52, 55, 55, 57, 45, 56, 98, 99, 48, 45, 49, 48, 54, 55, 52, 48, 57, 97, 55, 52, 102, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 101, 51, 50, 48, 54, 50, 45, 101, 55, 99, 51, 45, 52, 98, 53, 101, 45, 56, 49, 102, 98, 45, 102, 101, 49, 55, 52, 101, 97, 98, 50, 55, 54, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 56, 49, 100, 48, 48, 55, 54, 45, 102, 97, 51, 50, 45, 52, 55, 55, 57, 45, 56, 98, 99, 48, 45, 49, 48, 54, 55, 52, 48, 57, 97, 55, 52, 102, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 50, 57, 51, 99, 55, 51, 53, 45, 55, 52, 57, 50, 45, 52, 56, 102, 53, 45, 56, 56, 51, 54, 45, 54, 55, 53, 100, 101, 56, 102, 56, 101, 97, 53, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4293c735-7492-48f5-8836-675de8f8ea56&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4361feef-e296-4c66-9455-22f663dd1e26\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4293c735%2D7492%2D48f5%2D8836%2D675de8f8ea56/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:32:49.081908686Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;4293c735%2D7492%2D48f5%2D8836%2D675de8f8ea56/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;481d0076-fa32-4779-8bc0-1067409a74f7\&quot;,\&quot;applicationuid\&quot;:\&quot;1de32062-e7c3-4b5e-81fb-fe174eab276d\&quot;,\&quot;deviceuid\&quot;:\&quot;481d0076-fa32-4779-8bc0-1067409a74f7\&quot;,\&quot;application\&quot;:\&quot;4293c735-7492-48f5-8836-675de8f8ea56\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:32:49Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:32:49Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot; &quot;device1&quot;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot; &quot;gateway1&quot;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4293c735-7492-48f5-8836-675de8f8ea56&#x27;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4293c735-7492-48f5-8836-675de8f8ea56&quot;
[2022-05-06T15:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4293c735-7492-48f5-8836-675de8f8ea56 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:32:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:32:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:32:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:32:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:32:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:32:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NzUsImlhdCI6MTY1MTg1MTE3NSwianRpIjoiMjE4MjhiMDItYzI3Yi00YTdiLWEyMzUtZDQ0YTJkMTBkOGY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpLczVzSm8yajVoaEplSUVrczhtdHciLCJzZXNzaW9uX3N0YXRlIjoiZjdjODg4ZjgtNWFmNS00YjZkLTlmZDQtZmMyNGIyZWM5MWZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiJ9.WocUTXJazXy8NYRfwLwJnL_97r53WzCELAkazPd4Wnk
[2022-05-06T15:32:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:32:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5NzUsImlhdCI6MTY1MTg1MTE3NSwianRpIjoiMjE4MjhiMDItYzI3Yi00YTdiLWEyMzUtZDQ0YTJkMTBkOGY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpLczVzSm8yajVoaEplSUVrczhtdHciLCJzZXNzaW9uX3N0YXRlIjoiZjdjODg4ZjgtNWFmNS00YjZkLTlmZDQtZmMyNGIyZWM5MWZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiJ9.WocUTXJazXy8NYRfwLwJnL_97r53WzCELAkazPd4Wnk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:32:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:56Z INFO  drogue_cloud_tests::resources::apps] Create application: da14db27-02a4-41d9-bc57-097727759c4b
[2022-05-06T15:32:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;
[2022-05-06T15:32:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App da14db27-02a4-41d9-bc57-097727759c4b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;
[2022-05-06T15:32:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:56.604125Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;da14db27-02a4-41d9-bc57-097727759c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9744e2e0-d002-4d41-b2e9-da059509a219\&quot;,\n    \&quot;uid\&quot;: \&quot;e4106fc6-44d5-4935-a722-7381abc0c424\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.617938560Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:56.604125Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;), &quot;resourceVersion&quot;: String(&quot;9744e2e0-d002-4d41-b2e9-da059509a219&quot;), &quot;uid&quot;: String(&quot;e4106fc6-44d5-4935-a722-7381abc0c424&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.617938560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:32:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:56.604125Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;da14db27-02a4-41d9-bc57-097727759c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5c12f60b-0204-434a-82ed-1b54afb9a4b2\&quot;,\n    \&quot;uid\&quot;: \&quot;e4106fc6-44d5-4935-a722-7381abc0c424\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874340261Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874272233Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.656088960Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.661217994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.716057843Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.722270848Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874166255Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874241596Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QmNr2UJYYQ0r\&quot;,\n        \&quot;username\&quot;: \&quot;user-da14db27-02a4-41d9-bc57-097727759c4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:56.604125Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;), &quot;resourceVersion&quot;: String(&quot;5c12f60b-0204-434a-82ed-1b54afb9a4b2&quot;), &quot;uid&quot;: String(&quot;e4106fc6-44d5-4935-a722-7381abc0c424&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874340261Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874272233Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.656088960Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.661217994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.716057843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.722270848Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874166255Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874241596Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QmNr2UJYYQ0r&quot;), &quot;username&quot;: String(&quot;user-da14db27-02a4-41d9-bc57-097727759c4b&quot;)})})})})
[2022-05-06T15:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:32:56.604125Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;da14db27-02a4-41d9-bc57-097727759c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5c12f60b-0204-434a-82ed-1b54afb9a4b2\&quot;,\n    \&quot;uid\&quot;: \&quot;e4106fc6-44d5-4935-a722-7381abc0c424\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874340261Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874272233Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.656088960Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.661217994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.716057843Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.722270848Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874166255Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:32:56.874241596Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QmNr2UJYYQ0r\&quot;,\n        \&quot;username\&quot;: \&quot;user-da14db27-02a4-41d9-bc57-097727759c4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:32:56.604125Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;), &quot;resourceVersion&quot;: String(&quot;5c12f60b-0204-434a-82ed-1b54afb9a4b2&quot;), &quot;uid&quot;: String(&quot;e4106fc6-44d5-4935-a722-7381abc0c424&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874340261Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874272233Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.656088960Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.661217994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.716057843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.722270848Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874166255Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:32:56.874241596Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QmNr2UJYYQ0r&quot;), &quot;username&quot;: String(&quot;user-da14db27-02a4-41d9-bc57-097727759c4b&quot;)})})})})
[2022-05-06T15:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NzUsImlhdCI6MTY1MTg1MTE3NSwiYXV0aF90aW1lIjoxNjUxODUxMTcyLCJqdGkiOiI5ZTA5Y2EzZi00MGViLTRhMzMtYjg2ZS05MjIzZGVmNDY1NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKS3M1c0pvMmo1aGhKZUlFa3M4bXR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MVORd5DcyhpLmtrkf8qXsSzEjxOO2aMnmsy8kQIuSYxsbS_M2dCkYme-4rfUO6OwD7NSzEbEtPTJbKGMLWqrF6KxWW8VDsEkb_SzGFjMNB70KQ9vNEh_iAWK2uuTIm4VB06uct9QssqONxT5otB9PoVtuCVhqJxnIZAChGo14Z9a6HVtbTLXBMK3vrBJUM8r3bsUoJuQyHDOLhqu6_DpIoGSZgAqNizO3CjUAAX-sETUZGTaUKPaRqH75TCTS4PQVNm8VKBm4-3e4EpTetdUYHl-rXduDBE1I92R-KXedFWixgR1Q4UKyjC7kSrXNB0bVAv1ic5H3_SWKi0LMRp9iQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:32:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NzUsImlhdCI6MTY1MTg1MTE3NSwiYXV0aF90aW1lIjoxNjUxODUxMTcyLCJqdGkiOiI5ZTA5Y2EzZi00MGViLTRhMzMtYjg2ZS05MjIzZGVmNDY1NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKS3M1c0pvMmo1aGhKZUlFa3M4bXR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MVORd5DcyhpLmtrkf8qXsSzEjxOO2aMnmsy8kQIuSYxsbS_M2dCkYme-4rfUO6OwD7NSzEbEtPTJbKGMLWqrF6KxWW8VDsEkb_SzGFjMNB70KQ9vNEh_iAWK2uuTIm4VB06uct9QssqONxT5otB9PoVtuCVhqJxnIZAChGo14Z9a6HVtbTLXBMK3vrBJUM8r3bsUoJuQyHDOLhqu6_DpIoGSZgAqNizO3CjUAAX-sETUZGTaUKPaRqH75TCTS4PQVNm8VKBm4-3e4EpTetdUYHl-rXduDBE1I92R-KXedFWixgR1Q4UKyjC7kSrXNB0bVAv1ic5H3_SWKi0LMRp9iQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;627e8000-3c7e-42eb-bb3a-981238560759&quot;, persistence: None, user_data: None }
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0634b0
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0634b0
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed51200, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dbb20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed50620, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0NzUsImlhdCI6MTY1MTg1MTE3NSwiYXV0aF90aW1lIjoxNjUxODUxMTcyLCJqdGkiOiI5ZTA5Y2EzZi00MGViLTRhMzMtYjg2ZS05MjIzZGVmNDY1NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKS3M1c0pvMmo1aGhKZUlFa3M4bXR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3Yzg4OGY4LTVhZjUtNGI2ZC05ZmQ0LWZjMjRiMmVjOTFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MVORd5DcyhpLmtrkf8qXsSzEjxOO2aMnmsy8kQIuSYxsbS_M2dCkYme-4rfUO6OwD7NSzEbEtPTJbKGMLWqrF6KxWW8VDsEkb_SzGFjMNB70KQ9vNEh_iAWK2uuTIm4VB06uct9QssqONxT5otB9PoVtuCVhqJxnIZAChGo14Z9a6HVtbTLXBMK3vrBJUM8r3bsUoJuQyHDOLhqu6_DpIoGSZgAqNizO3CjUAAX-sETUZGTaUKPaRqH75TCTS4PQVNm8VKBm4-3e4EpTetdUYHl-rXduDBE1I92R-KXedFWixgR1Q4UKyjC7kSrXNB0bVAv1ic5H3_SWKi0LMRp9iQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:32:57Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/da14db27-02a4-41d9-bc57-097727759c4b&quot;&#x27; @ QOS 0
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:32:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:32:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:32:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:32:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f002e5c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001e030 } }, data: MessageData { topic: &quot;app/da14db27-02a4-41d9-bc57-097727759c4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 51, 98, 100, 55, 57, 57, 102, 45, 100, 48, 55, 52, 45, 52, 102, 97, 57, 45, 97, 50, 55, 101, 45, 101, 98, 51, 101, 49, 54, 102, 50, 57, 48, 48, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 49, 52, 100, 98, 50, 55, 37, 50, 68, 48, 50, 97, 52, 37, 50, 68, 52, 49, 100, 57, 37, 50, 68, 98, 99, 53, 55, 37, 50, 68, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 48, 48, 46, 57, 56, 49, 50, 57, 57, 53, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 49, 48, 54, 102, 99, 54, 45, 52, 52, 100, 53, 45, 52, 57, 51, 53, 45, 97, 55, 50, 50, 45, 55, 51, 56, 49, 97, 98, 99, 48, 99, 52, 50, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 49, 52, 100, 98, 50, 55, 37, 50, 68, 48, 50, 97, 52, 37, 50, 68, 52, 49, 100, 57, 37, 50, 68, 98, 99, 53, 55, 37, 50, 68, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 49, 52, 100, 98, 50, 55, 45, 48, 50, 97, 52, 45, 52, 49, 100, 57, 45, 98, 99, 53, 55, 45, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 48, 57, 101, 49, 51, 53, 57, 45, 98, 51, 55, 54, 45, 52, 54, 100, 48, 45, 98, 48, 102, 57, 45, 56, 55, 98, 101, 53, 97, 101, 57, 55, 54, 51, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 55, 101, 56, 97, 99, 98, 50, 45, 100, 100, 101, 52, 45, 52, 55, 53, 97, 45, 97, 100, 98, 97, 45, 56, 100, 48, 49, 50, 52, 55, 52, 55, 51, 50, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001e030 } } } }
[2022-05-06T15:33:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42edd54f0
[2022-05-06T15:33:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da14db27-02a4-41d9-bc57-097727759c4b&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b3bd799f-d074-4fa9-a27e-eb3e16f2900e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://da14db27%2D02a4%2D41d9%2Dbc57%2D097727759c4b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:00.981299522Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;e4106fc6-44d5-4935-a722-7381abc0c424\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;da14db27%2D02a4%2D41d9%2Dbc57%2D097727759c4b/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;da14db27-02a4-41d9-bc57-097727759c4b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;a09e1359-b376-46d0-b0f9-87be5ae9763b\&quot;,\&quot;senderuid\&quot;:\&quot;c7e8acb2-dde4-475a-adba-8d0124747327\&quot;}&quot; }
[2022-05-06T15:33:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:33:01Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:33:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:33:01Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:33:01Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;1f638eeb-a785-4811-93d8-526198ef1a0b&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:01Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:01Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edd2d50
[2022-05-06T15:33:01Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edd2d50
[2022-05-06T15:33:01Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ee09710, password: 0x55f42ee80840, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef08b00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee09550, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@da14db27-02a4-41d9-bc57-097727759c4b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:03Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee94b10 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee94b10 } } } }
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0029fd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002a260 } }, data: MessageData { topic: &quot;app/da14db27-02a4-41d9-bc57-097727759c4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 54, 48, 100, 56, 50, 51, 97, 45, 100, 100, 97, 57, 45, 52, 52, 97, 97, 45, 98, 52, 51, 97, 45, 55, 51, 101, 55, 97, 49, 55, 52, 52, 99, 48, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 49, 52, 100, 98, 50, 55, 37, 50, 68, 48, 50, 97, 52, 37, 50, 68, 52, 49, 100, 57, 37, 50, 68, 98, 99, 53, 55, 37, 50, 68, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 48, 50, 46, 52, 50, 50, 48, 48, 54, 55, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 49, 52, 100, 98, 50, 55, 37, 50, 68, 48, 50, 97, 52, 37, 50, 68, 52, 49, 100, 57, 37, 50, 68, 98, 99, 53, 55, 37, 50, 68, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 55, 101, 56, 97, 99, 98, 50, 45, 100, 100, 101, 52, 45, 52, 55, 53, 97, 45, 97, 100, 98, 97, 45, 56, 100, 48, 49, 50, 52, 55, 52, 55, 51, 50, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 49, 48, 54, 102, 99, 54, 45, 52, 52, 100, 53, 45, 52, 57, 51, 53, 45, 97, 55, 50, 50, 45, 55, 51, 56, 49, 97, 98, 99, 48, 99, 52, 50, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 55, 101, 56, 97, 99, 98, 50, 45, 100, 100, 101, 52, 45, 52, 55, 53, 97, 45, 97, 100, 98, 97, 45, 56, 100, 48, 49, 50, 52, 55, 52, 55, 51, 50, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 49, 52, 100, 98, 50, 55, 45, 48, 50, 97, 52, 45, 52, 49, 100, 57, 45, 98, 99, 53, 55, 45, 48, 57, 55, 55, 50, 55, 55, 53, 57, 99, 52, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002a260 } } } }
[2022-05-06T15:33:03Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42edcbc40
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da14db27-02a4-41d9-bc57-097727759c4b&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;160d823a-dda9-44aa-b43a-73e7a1744c02\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://da14db27%2D02a4%2D41d9%2Dbc57%2D097727759c4b/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:02.422006733Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;da14db27%2D02a4%2D41d9%2Dbc57%2D097727759c4b/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;c7e8acb2-dde4-475a-adba-8d0124747327\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;e4106fc6-44d5-4935-a722-7381abc0c424\&quot;,\&quot;deviceuid\&quot;:\&quot;c7e8acb2-dde4-475a-adba-8d0124747327\&quot;,\&quot;application\&quot;:\&quot;da14db27-02a4-41d9-bc57-097727759c4b\&quot;}&quot; }
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:33:03Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:33:03Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:33:03Z DEBUG paho_mqtt::token] Token failure! 0x55f42ecffde0, 0x7ffe819ce270
[2022-05-06T15:33:03Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:33:03Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:33:03Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot; &quot;device1&quot;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot; &quot;gateway1&quot;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;da14db27-02a4-41d9-bc57-097727759c4b&#x27;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;da14db27-02a4-41d9-bc57-097727759c4b&quot;
[2022-05-06T15:33:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App da14db27-02a4-41d9-bc57-097727759c4b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:33:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:33:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:33:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:33:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5ODksImlhdCI6MTY1MTg1MTE4OSwianRpIjoiOTI1NjIyOGUtMGU2Yi00OTFjLWEzMWUtMTAwZTkwNDY4YmE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijdadms2X3RuN0lLNVZDenlSWFdZeWciLCJzZXNzaW9uX3N0YXRlIjoiNTQzYjY2ZTctOGNjMS00ODE0LThlMTEtNTY1ODY3ZGMzNWY2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiJ9.P5Fr8kJ0a4Knn2isVjym5-a7GOFb9EKSgEwAiBBnFnI
[2022-05-06T15:33:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:33:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTI5ODksImlhdCI6MTY1MTg1MTE4OSwianRpIjoiOTI1NjIyOGUtMGU2Yi00OTFjLWEzMWUtMTAwZTkwNDY4YmE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijdadms2X3RuN0lLNVZDenlSWFdZeWciLCJzZXNzaW9uX3N0YXRlIjoiNTQzYjY2ZTctOGNjMS00ODE0LThlMTEtNTY1ODY3ZGMzNWY2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiJ9.P5Fr8kJ0a4Knn2isVjym5-a7GOFb9EKSgEwAiBBnFnI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::resources::apps] Create application: 0a9a0f52-a6cb-4585-9c5d-c5edeb420745
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0a9a0f52-a6cb-4585-9c5d-c5edeb420745 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;
[2022-05-06T15:33:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:10.655789Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c0bd5e16-ae49-4c57-9562-cedc6d5daec7\&quot;,\n    \&quot;uid\&quot;: \&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672524710Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672480277Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672413021Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672414854Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672416317Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672417760Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672418882Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.672437827Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:10.655789Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;), &quot;resourceVersion&quot;: String(&quot;c0bd5e16-ae49-4c57-9562-cedc6d5daec7&quot;), &quot;uid&quot;: String(&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672524710Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672480277Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672413021Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672414854Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672416317Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672417760Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672418882Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.672437827Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:33:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:10.655789Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5773b2b0-7b77-4b11-b7d6-a1da7910bdb7\&quot;,\n    \&quot;uid\&quot;: \&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984820195Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984710890Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.697917451Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.704319298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.788702687Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.794371242Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984587339Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984677628Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;G0D9HF9VW7Ts\&quot;,\n        \&quot;username\&quot;: \&quot;user-0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:10.655789Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;), &quot;resourceVersion&quot;: String(&quot;5773b2b0-7b77-4b11-b7d6-a1da7910bdb7&quot;), &quot;uid&quot;: String(&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984820195Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984710890Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.697917451Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.704319298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.788702687Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.794371242Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984587339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984677628Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;G0D9HF9VW7Ts&quot;), &quot;username&quot;: String(&quot;user-0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;)})})})})
[2022-05-06T15:33:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:10.655789Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5773b2b0-7b77-4b11-b7d6-a1da7910bdb7\&quot;,\n    \&quot;uid\&quot;: \&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984820195Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984710890Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.697917451Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.704319298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.788702687Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.794371242Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984587339Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:10.984677628Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;G0D9HF9VW7Ts\&quot;,\n        \&quot;username\&quot;: \&quot;user-0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:10.655789Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;), &quot;resourceVersion&quot;: String(&quot;5773b2b0-7b77-4b11-b7d6-a1da7910bdb7&quot;), &quot;uid&quot;: String(&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984820195Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984710890Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.697917451Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.704319298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.788702687Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.794371242Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984587339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:10.984677628Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;G0D9HF9VW7Ts&quot;), &quot;username&quot;: String(&quot;user-0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;)})})})})
[2022-05-06T15:33:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0ODksImlhdCI6MTY1MTg1MTE4OSwiYXV0aF90aW1lIjoxNjUxODUxMTg3LCJqdGkiOiIxNDAzNjUwYy00OTZjLTQ4ZTMtYjU2NS0xMWZiMDRiNWJjNGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3WnZrNl90bjdJSzVWQ3p5UlhXWXlnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hfo9UlRGi_yeKKU7ACjjsoBhzmMotbFVQsPdkLIZbHAzMeljfKvqtqkCrmjSBok-onpuQVfsXlcNs-nD3BuBXPfus3SYOuMh0dl4AZfLmZOInyJLSNJpNTXQWaF3Esp60ukF9kuupWv1t5UMWg6jwLizUEQahVJYQFiQD1PqLjst-kBHkCkQkA83STiXyE3ErfeOdWFNXtvw_g249suZAjDxVtjN_aVbc3_6iATDQb1r1FZfRJ0Hsz8grIQeyISS08RcjB3ryCsPbm47BSozDWbAoTCpsXeWgcmR62-H_F-VzYBvGesAluRUSTWYNcc6zhUF2g31vw_sLwWAzuBlJw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0ODksImlhdCI6MTY1MTg1MTE4OSwiYXV0aF90aW1lIjoxNjUxODUxMTg3LCJqdGkiOiIxNDAzNjUwYy00OTZjLTQ4ZTMtYjU2NS0xMWZiMDRiNWJjNGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3WnZrNl90bjdJSzVWQ3p5UlhXWXlnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hfo9UlRGi_yeKKU7ACjjsoBhzmMotbFVQsPdkLIZbHAzMeljfKvqtqkCrmjSBok-onpuQVfsXlcNs-nD3BuBXPfus3SYOuMh0dl4AZfLmZOInyJLSNJpNTXQWaF3Esp60ukF9kuupWv1t5UMWg6jwLizUEQahVJYQFiQD1PqLjst-kBHkCkQkA83STiXyE3ErfeOdWFNXtvw_g249suZAjDxVtjN_aVbc3_6iATDQb1r1FZfRJ0Hsz8grIQeyISS08RcjB3ryCsPbm47BSozDWbAoTCpsXeWgcmR62-H_F-VzYBvGesAluRUSTWYNcc6zhUF2g31vw_sLwWAzuBlJw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;d0238981-0be2-4a72-b422-619d92a77c5b&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee2ef70
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee2ef70
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ec6ddf0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edd43d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edbc840, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE0ODksImlhdCI6MTY1MTg1MTE4OSwiYXV0aF90aW1lIjoxNjUxODUxMTg3LCJqdGkiOiIxNDAzNjUwYy00OTZjLTQ4ZTMtYjU2NS0xMWZiMDRiNWJjNGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3WnZrNl90bjdJSzVWQ3p5UlhXWXlnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0M2I2NmU3LThjYzEtNDgxNC04ZTExLTU2NTg2N2RjMzVmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hfo9UlRGi_yeKKU7ACjjsoBhzmMotbFVQsPdkLIZbHAzMeljfKvqtqkCrmjSBok-onpuQVfsXlcNs-nD3BuBXPfus3SYOuMh0dl4AZfLmZOInyJLSNJpNTXQWaF3Esp60ukF9kuupWv1t5UMWg6jwLizUEQahVJYQFiQD1PqLjst-kBHkCkQkA83STiXyE3ErfeOdWFNXtvw_g249suZAjDxVtjN_aVbc3_6iATDQb1r1FZfRJ0Hsz8grIQeyISS08RcjB3ryCsPbm47BSozDWbAoTCpsXeWgcmR62-H_F-VzYBvGesAluRUSTWYNcc6zhUF2g31vw_sLwWAzuBlJw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:11Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;&#x27; @ QOS 0
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea080165d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016850 } }, data: MessageData { topic: &quot;app/0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 50, 53, 99, 50, 102, 100, 53, 45, 54, 52, 53, 49, 45, 52, 97, 98, 55, 45, 57, 100, 56, 50, 45, 102, 99, 100, 53, 48, 101, 55, 51, 50, 100, 100, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 97, 57, 97, 48, 102, 53, 50, 37, 50, 68, 97, 54, 99, 98, 37, 50, 68, 52, 53, 56, 53, 37, 50, 68, 57, 99, 53, 100, 37, 50, 68, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 49, 53, 46, 57, 57, 51, 57, 48, 48, 52, 48, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 48, 55, 55, 48, 100, 56, 48, 45, 97, 56, 101, 54, 45, 52, 48, 51, 99, 45, 57, 50, 56, 97, 45, 57, 54, 51, 56, 99, 102, 55, 101, 56, 98, 51, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 97, 57, 97, 48, 102, 53, 50, 37, 50, 68, 97, 54, 99, 98, 37, 50, 68, 52, 53, 56, 53, 37, 50, 68, 57, 99, 53, 100, 37, 50, 68, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 97, 57, 97, 48, 102, 53, 50, 45, 97, 54, 99, 98, 45, 52, 53, 56, 53, 45, 57, 99, 53, 100, 45, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 52, 99, 53, 57, 52, 48, 98, 45, 101, 97, 98, 50, 45, 52, 56, 50, 51, 45, 97, 53, 98, 102, 45, 50, 102, 56, 52, 97, 51, 98, 50, 57, 97, 55, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 49, 50, 53, 57, 54, 49, 56, 45, 98, 56, 49, 99, 45, 52, 54, 50, 51, 45, 56, 100, 98, 97, 45, 100, 49, 48, 56, 98, 54, 51, 99, 52, 100, 102, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016850 } } } }
[2022-05-06T15:33:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eef3cd0
[2022-05-06T15:33:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;025c2fd5-6451-4ab7-9d82-fcd50e732dd5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0a9a0f52%2Da6cb%2D4585%2D9c5d%2Dc5edeb420745/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:15.993900406Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;applicationuid\&quot;:\&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;0a9a0f52%2Da6cb%2D4585%2D9c5d%2Dc5edeb420745/device1\&quot;,\&quot;application\&quot;:\&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;,\&quot;senderuid\&quot;:\&quot;f4c5940b-eab2-4823-a5bf-2f84a3b29a7a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;91259618-b81c-4623-8dba-d108b63c4df0\&quot;}&quot; }
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:33:17Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;3ad29d23-e8ac-4e0f-8261-e50612b99932&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee7d5a0
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee7d5a0
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ee958c0, password: 0x55f42ee4d920, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f08c360, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed82100, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0802b5c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802b850 } }, data: MessageData { topic: &quot;app/0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 101, 50, 99, 56, 101, 97, 51, 45, 99, 49, 100, 56, 45, 52, 56, 102, 54, 45, 56, 98, 54, 48, 45, 56, 102, 101, 52, 102, 99, 50, 54, 53, 100, 102, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 97, 57, 97, 48, 102, 53, 50, 37, 50, 68, 97, 54, 99, 98, 37, 50, 68, 52, 53, 56, 53, 37, 50, 68, 57, 99, 53, 100, 37, 50, 68, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 49, 55, 46, 49, 49, 50, 48, 56, 53, 53, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 48, 55, 55, 48, 100, 56, 48, 45, 97, 56, 101, 54, 45, 52, 48, 51, 99, 45, 57, 50, 56, 97, 45, 57, 54, 51, 56, 99, 102, 55, 101, 56, 98, 51, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 97, 57, 97, 48, 102, 53, 50, 45, 97, 54, 99, 98, 45, 52, 53, 56, 53, 45, 57, 99, 53, 100, 45, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 52, 99, 53, 57, 52, 48, 98, 45, 101, 97, 98, 50, 45, 52, 56, 50, 51, 45, 97, 53, 98, 102, 45, 50, 102, 56, 52, 97, 51, 98, 50, 57, 97, 55, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 97, 57, 97, 48, 102, 53, 50, 37, 50, 68, 97, 54, 99, 98, 37, 50, 68, 52, 53, 56, 53, 37, 50, 68, 57, 99, 53, 100, 37, 50, 68, 99, 53, 101, 100, 101, 98, 52, 50, 48, 55, 52, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 52, 99, 53, 57, 52, 48, 98, 45, 101, 97, 98, 50, 45, 52, 56, 50, 51, 45, 97, 53, 98, 102, 45, 50, 102, 56, 52, 97, 51, 98, 50, 57, 97, 55, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802b850 } } } }
[2022-05-06T15:33:17Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eca0ac0
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9e2c8ea3-c1d8-48f6-8b60-8fe4fc265df3\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0a9a0f52%2Da6cb%2D4585%2D9c5d%2Dc5edeb420745/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:17.112085574Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;10770d80-a8e6-403c-928a-9638cf7e8b3e\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;f4c5940b-eab2-4823-a5bf-2f84a3b29a7a\&quot;,\&quot;partitionkey\&quot;:\&quot;0a9a0f52%2Da6cb%2D4585%2D9c5d%2Dc5edeb420745/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;f4c5940b-eab2-4823-a5bf-2f84a3b29a7a\&quot;}&quot; }
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee778a0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee778a0 } } } }
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:33:17Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:33:17Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot; &quot;device1&quot;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot; &quot;gateway1&quot;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&#x27;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0a9a0f52-a6cb-4585-9c5d-c5edeb420745&quot;
[2022-05-06T15:33:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0a9a0f52-a6cb-4585-9c5d-c5edeb420745 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 12s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:33:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:33:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:33:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:33:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMDMsImlhdCI6MTY1MTg1MTIwMywianRpIjoiMzQ2NTliZWEtMmE4ZC00MGQ1LWFlMjQtNWJkMTY1ZTMyZDZkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdHdk9mX19Sa0tZdHZTTmhBSzBvOXciLCJzZXNzaW9uX3N0YXRlIjoiYmUxNzE0NjYtMGVlMS00N2EzLWE3YjYtNmFjMWEzOWEwYmYyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiJ9.F0ZSH3jUbgFjjsCHjxwKLxH3RXf7GPMA9LjjLhSLv54
[2022-05-06T15:33:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:33:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMDMsImlhdCI6MTY1MTg1MTIwMywianRpIjoiMzQ2NTliZWEtMmE4ZC00MGQ1LWFlMjQtNWJkMTY1ZTMyZDZkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdHdk9mX19Sa0tZdHZTTmhBSzBvOXciLCJzZXNzaW9uX3N0YXRlIjoiYmUxNzE0NjYtMGVlMS00N2EzLWE3YjYtNmFjMWEzOWEwYmYyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiJ9.F0ZSH3jUbgFjjsCHjxwKLxH3RXf7GPMA9LjjLhSLv54&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:33:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:24Z INFO  drogue_cloud_tests::resources::apps] Create application: b582be31-a2cf-422b-b235-aab8764d451d
[2022-05-06T15:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;
[2022-05-06T15:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b582be31-a2cf-422b-b235-aab8764d451d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;
[2022-05-06T15:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:24.352366Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;b582be31-a2cf-422b-b235-aab8764d451d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e79893d6-d0b3-4319-821f-798b1b92f571\&quot;,\n    \&quot;uid\&quot;: \&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368327739Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368283256Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368232581Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368233503Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368233994Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368234484Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368235106Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.368260914Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:24.352366Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;), &quot;resourceVersion&quot;: String(&quot;e79893d6-d0b3-4319-821f-798b1b92f571&quot;), &quot;uid&quot;: String(&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368327739Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368283256Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368232581Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368233503Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368233994Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368234484Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368235106Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.368260914Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:33:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:24.352366Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b582be31-a2cf-422b-b235-aab8764d451d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f0ff4922-185c-43c7-9bf3-fea8e833b5c8\&quot;,\n    \&quot;uid\&quot;: \&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.623257221Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.623062967Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.409964564Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.414641259Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.472470320Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.478761791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.622836712Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.622855527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;oogVUdMBlARS\&quot;,\n        \&quot;username\&quot;: \&quot;user-b582be31-a2cf-422b-b235-aab8764d451d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:24.352366Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;), &quot;resourceVersion&quot;: String(&quot;f0ff4922-185c-43c7-9bf3-fea8e833b5c8&quot;), &quot;uid&quot;: String(&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.623257221Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.623062967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.409964564Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.414641259Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.472470320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.478761791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.622836712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.622855527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;oogVUdMBlARS&quot;), &quot;username&quot;: String(&quot;user-b582be31-a2cf-422b-b235-aab8764d451d&quot;)})})})})
[2022-05-06T15:33:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:24.352366Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b582be31-a2cf-422b-b235-aab8764d451d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f0ff4922-185c-43c7-9bf3-fea8e833b5c8\&quot;,\n    \&quot;uid\&quot;: \&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.623257221Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.623062967Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.409964564Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.414641259Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.472470320Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.478761791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.622836712Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:24.622855527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;oogVUdMBlARS\&quot;,\n        \&quot;username\&quot;: \&quot;user-b582be31-a2cf-422b-b235-aab8764d451d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:24.352366Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;), &quot;resourceVersion&quot;: String(&quot;f0ff4922-185c-43c7-9bf3-fea8e833b5c8&quot;), &quot;uid&quot;: String(&quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.623257221Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.623062967Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.409964564Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.414641259Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.472470320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.478761791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.622836712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:24.622855527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;oogVUdMBlARS&quot;), &quot;username&quot;: String(&quot;user-b582be31-a2cf-422b-b235-aab8764d451d&quot;)})})})})
[2022-05-06T15:33:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MDMsImlhdCI6MTY1MTg1MTIwMywiYXV0aF90aW1lIjoxNjUxODUxMjAxLCJqdGkiOiJiNjgxNzM1MC1iOTZhLTRhZGQtYmZkYS1jNjFmNzJhM2NlZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHR3ZPZl9fUmtLWXR2U05oQUswbzl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QuTJYQEeSzzEEByar1-Ji_3q_HGNkhgCaszt4aEy5WhNBDCQhtuZjKelQHDuzXviY53SSG0jG3Ck5wQFycM6ngV12pzzK1Pxv53IJQAln77eiDPm3rObA12xHqX2e24vEY4pTcj15FankmixwmDPPXrtTbntuSqT-Z1I0nbFeSUWEXPAwzxcu4Z40WNjgoXo3FpPJYs-s6ARYFP05A7uyApaDQqQrUT_yXYETwu6RrIUDXS2aH147NqX7G22FI8BcnNkHsp2L1wrHuT1O2jCInKc-x-tJXUAAqR7xSbnLDq2nZhidlJqLcIlRbG1eVZ0qqAWGMUNlE-CFD4L6POoFg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MDMsImlhdCI6MTY1MTg1MTIwMywiYXV0aF90aW1lIjoxNjUxODUxMjAxLCJqdGkiOiJiNjgxNzM1MC1iOTZhLTRhZGQtYmZkYS1jNjFmNzJhM2NlZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHR3ZPZl9fUmtLWXR2U05oQUswbzl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QuTJYQEeSzzEEByar1-Ji_3q_HGNkhgCaszt4aEy5WhNBDCQhtuZjKelQHDuzXviY53SSG0jG3Ck5wQFycM6ngV12pzzK1Pxv53IJQAln77eiDPm3rObA12xHqX2e24vEY4pTcj15FankmixwmDPPXrtTbntuSqT-Z1I0nbFeSUWEXPAwzxcu4Z40WNjgoXo3FpPJYs-s6ARYFP05A7uyApaDQqQrUT_yXYETwu6RrIUDXS2aH147NqX7G22FI8BcnNkHsp2L1wrHuT1O2jCInKc-x-tJXUAAqR7xSbnLDq2nZhidlJqLcIlRbG1eVZ0qqAWGMUNlE-CFD4L6POoFg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;919c52f0-acf4-464b-bf3c-419f6cc3cc41&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef253a0
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef253a0
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ef25d00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecb6640, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eeb36b0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MDMsImlhdCI6MTY1MTg1MTIwMywiYXV0aF90aW1lIjoxNjUxODUxMjAxLCJqdGkiOiJiNjgxNzM1MC1iOTZhLTRhZGQtYmZkYS1jNjFmNzJhM2NlZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHR3ZPZl9fUmtLWXR2U05oQUswbzl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTcxNDY2LTBlZTEtNDdhMy1hN2I2LTZhYzFhMzlhMGJmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QuTJYQEeSzzEEByar1-Ji_3q_HGNkhgCaszt4aEy5WhNBDCQhtuZjKelQHDuzXviY53SSG0jG3Ck5wQFycM6ngV12pzzK1Pxv53IJQAln77eiDPm3rObA12xHqX2e24vEY4pTcj15FankmixwmDPPXrtTbntuSqT-Z1I0nbFeSUWEXPAwzxcu4Z40WNjgoXo3FpPJYs-s6ARYFP05A7uyApaDQqQrUT_yXYETwu6RrIUDXS2aH147NqX7G22FI8BcnNkHsp2L1wrHuT1O2jCInKc-x-tJXUAAqR7xSbnLDq2nZhidlJqLcIlRbG1eVZ0qqAWGMUNlE-CFD4L6POoFg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:25Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/b582be31-a2cf-422b-b235-aab8764d451d&quot;&#x27; @ QOS 0
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea080030c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42efb67a0 } }, data: MessageData { topic: &quot;app/b582be31-a2cf-422b-b235-aab8764d451d&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42efb67a0 } } } }
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecd0420, 0x7fea0c001180
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001180, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001180, 0x7fea0c001690
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea00004b90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea0c003ed0
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ed0, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ed0, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ed0, 0x55f42ed50d00
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ed0, 0x7fea0c004b70
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c004f90
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c0048b0
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c004b70
[2022-05-06T15:33:29Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c004b70
[2022-05-06T15:33:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b582be31-a2cf-422b-b235-aab8764d451d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://b582be31%2Da2cf%2D422b%2Db235%2Daab8764d451d/device1&quot;, &quot;applicationuid&quot;: &quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5&quot;, &quot;partitionkey&quot;: &quot;b582be31%2Da2cf%2D422b%2Db235%2Daab8764d451d/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;senderuid&quot;: &quot;84fb3a06-0ff4-497e-9a2c-0210a36ace96&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;ce07b5d0-e014-4fa0-b256-22f129f3f904&quot;, &quot;application&quot;: &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-06T15:33:28.978549291+00:00&quot;, &quot;deviceuid&quot;: &quot;dde7a576-6bfe-4c58-a781-06fea41230a0&quot;, &quot;device&quot;: &quot;device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:33:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:33:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:33:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:33:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:33:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;78207655-69e5-49c2-86e0-6e82a0604e8a&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecac2c0
[2022-05-06T15:33:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecac2c0
[2022-05-06T15:33:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f11e5d0, password: 0x55f42ef586f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f18b640, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f10b900, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@b582be31-a2cf-422b-b235-aab8764d451d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0802b910, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ed8a3e0 } }, data: MessageData { topic: &quot;app/b582be31-a2cf-422b-b235-aab8764d451d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ed8a3e0 } } } }
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001630, 0x7fea0c001c90
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001c90, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001c90, 0x7fea0c001180
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001180, 0x7fea080034a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001180, 0x7fea0c004b70
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c001690
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea0c004b70
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004b70, 0x7fea0c001690
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea080062f0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001690, 0x7fea080033a0
[2022-05-06T15:33:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c001690
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b582be31-a2cf-422b-b235-aab8764d451d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;b582be31%2Da2cf%2D422b%2Db235%2Daab8764d451d/gateway1&quot;, &quot;application&quot;: &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://b582be31%2Da2cf%2D422b%2Db235%2Daab8764d451d/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;id&quot;: &quot;969c919d-83fc-48ea-98b5-80a61a0a55f5&quot;, &quot;senderuid&quot;: &quot;84fb3a06-0ff4-497e-9a2c-0210a36ace96&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;9546dbcb-f3b0-42e3-9523-daa3cbbdded5&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-06T15:33:30.283084601+00:00&quot;, &quot;deviceuid&quot;: &quot;84fb3a06-0ff4-497e-9a2c-0210a36ace96&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:33:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f193d00 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f193d00 } } } }
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:33:30Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:33:30Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot; &quot;device1&quot;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot; &quot;gateway1&quot;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b582be31-a2cf-422b-b235-aab8764d451d&#x27;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b582be31-a2cf-422b-b235-aab8764d451d&quot;
[2022-05-06T15:33:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b582be31-a2cf-422b-b235-aab8764d451d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:33:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:33:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:33:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:33:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMTYsImlhdCI6MTY1MTg1MTIxNiwianRpIjoiYWI1MTM1NjctNDY3Yy00YjQ1LThlZTAtOGU4M2IwYTVlMTAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilg0UnczbTFKZzdidjZqVFlxb1duWkEiLCJzZXNzaW9uX3N0YXRlIjoiZGI3OGQzOTYtZTZmYy00NWI5LTljNDUtODgwMzc0YmE1YWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSJ9.J9lrGh-xTjrcg7hIALcrNryxWPU9SlTyVAyWe_l2vrg
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMTYsImlhdCI6MTY1MTg1MTIxNiwianRpIjoiYWI1MTM1NjctNDY3Yy00YjQ1LThlZTAtOGU4M2IwYTVlMTAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilg0UnczbTFKZzdidjZqVFlxb1duWkEiLCJzZXNzaW9uX3N0YXRlIjoiZGI3OGQzOTYtZTZmYy00NWI5LTljNDUtODgwMzc0YmE1YWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSJ9.J9lrGh-xTjrcg7hIALcrNryxWPU9SlTyVAyWe_l2vrg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::resources::apps] Create application: 38fbad5f-3242-4927-b5df-515c0f79b20f
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 38fbad5f-3242-4927-b5df-515c0f79b20f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;
[2022-05-06T15:33:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:37.956083Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;38fbad5f-3242-4927-b5df-515c0f79b20f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9911cc8c-3381-46a9-930e-4345e5c6641f\&quot;,\n    \&quot;uid\&quot;: \&quot;679e7c99-2f49-4882-9d73-e49921caab23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974523950Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974502Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974473867Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974474738Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974475109Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974475610Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974476311Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.974480379Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:37.956083Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;), &quot;resourceVersion&quot;: String(&quot;9911cc8c-3381-46a9-930e-4345e5c6641f&quot;), &quot;uid&quot;: String(&quot;679e7c99-2f49-4882-9d73-e49921caab23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974523950Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974502Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974473867Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974474738Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974475109Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974475610Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974476311Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.974480379Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:33:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:33:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:37.956083Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;38fbad5f-3242-4927-b5df-515c0f79b20f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;cb6e8a54-6a76-4eb9-a618-dac1525f77ff\&quot;,\n    \&quot;uid\&quot;: \&quot;679e7c99-2f49-4882-9d73-e49921caab23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200813936Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200732102Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.993715759Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.002396809Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.056180529Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.063690183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200632496Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200685726Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;f7rmwJpIwVZe\&quot;,\n        \&quot;username\&quot;: \&quot;user-38fbad5f-3242-4927-b5df-515c0f79b20f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:37.956083Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;), &quot;resourceVersion&quot;: String(&quot;cb6e8a54-6a76-4eb9-a618-dac1525f77ff&quot;), &quot;uid&quot;: String(&quot;679e7c99-2f49-4882-9d73-e49921caab23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200813936Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200732102Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.993715759Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.002396809Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.056180529Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.063690183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200632496Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200685726Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;f7rmwJpIwVZe&quot;), &quot;username&quot;: String(&quot;user-38fbad5f-3242-4927-b5df-515c0f79b20f&quot;)})})})})
[2022-05-06T15:33:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:37.956083Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;38fbad5f-3242-4927-b5df-515c0f79b20f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;cb6e8a54-6a76-4eb9-a618-dac1525f77ff\&quot;,\n    \&quot;uid\&quot;: \&quot;679e7c99-2f49-4882-9d73-e49921caab23\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200813936Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200732102Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:37.993715759Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.002396809Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.056180529Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.063690183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200632496Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:38.200685726Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;f7rmwJpIwVZe\&quot;,\n        \&quot;username\&quot;: \&quot;user-38fbad5f-3242-4927-b5df-515c0f79b20f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:37.956083Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;), &quot;resourceVersion&quot;: String(&quot;cb6e8a54-6a76-4eb9-a618-dac1525f77ff&quot;), &quot;uid&quot;: String(&quot;679e7c99-2f49-4882-9d73-e49921caab23&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200813936Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200732102Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:37.993715759Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.002396809Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.056180529Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.063690183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200632496Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:38.200685726Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;f7rmwJpIwVZe&quot;), &quot;username&quot;: String(&quot;user-38fbad5f-3242-4927-b5df-515c0f79b20f&quot;)})})})})
[2022-05-06T15:33:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MTcsImlhdCI6MTY1MTg1MTIxNywiYXV0aF90aW1lIjoxNjUxODUxMjE0LCJqdGkiOiIxOTZkYTQxZi03MmQ5LTQ3YWYtODkyYi1lYWQxZWEwY2M2MDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYNFJ3M20xSmc3YnY2alRZcW9XblpBIiwic2Vzc2lvbl9zdGF0ZSI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LyXWkEYvrI7TACzL7TfI4eW0gHfHLVMtoMrf9kW1B98ADseTZU1oE8nw6P5wqSOEpKYnn10EWt2K__YTaK_np9vg-kBM41GSz0ZYuFSMZFW_b5st6gd1YTbmpIk9S-enErPTaHa2VqBf2_wCjmRXDwBSzow5PUYM3J0a9jULcWO8Tk6SZ55uENPu9VbP8kmo_nFy0ybP5ihuDWLAAL4Cc9DXsdmX1kuhx5_-C6NJHd770K70lK6pJEAwQ0FsX3l8-LaxEkPLOEp_KZJ1QfTDJkoCVJKtoM29bRbNyJ0UHR2XEqudU8mmRoaTF167xhsB9VxIzbyCPX5AZ-m9osouPQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MTcsImlhdCI6MTY1MTg1MTIxNywiYXV0aF90aW1lIjoxNjUxODUxMjE0LCJqdGkiOiIxOTZkYTQxZi03MmQ5LTQ3YWYtODkyYi1lYWQxZWEwY2M2MDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYNFJ3M20xSmc3YnY2alRZcW9XblpBIiwic2Vzc2lvbl9zdGF0ZSI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LyXWkEYvrI7TACzL7TfI4eW0gHfHLVMtoMrf9kW1B98ADseTZU1oE8nw6P5wqSOEpKYnn10EWt2K__YTaK_np9vg-kBM41GSz0ZYuFSMZFW_b5st6gd1YTbmpIk9S-enErPTaHa2VqBf2_wCjmRXDwBSzow5PUYM3J0a9jULcWO8Tk6SZ55uENPu9VbP8kmo_nFy0ybP5ihuDWLAAL4Cc9DXsdmX1kuhx5_-C6NJHd770K70lK6pJEAwQ0FsX3l8-LaxEkPLOEp_KZJ1QfTDJkoCVJKtoM29bRbNyJ0UHR2XEqudU8mmRoaTF167xhsB9VxIzbyCPX5AZ-m9osouPQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;727fa727-6e0b-47f4-a4b3-a98ff257c392&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef853e0
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef853e0
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42edec180, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed07410, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f11a7d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MTcsImlhdCI6MTY1MTg1MTIxNywiYXV0aF90aW1lIjoxNjUxODUxMjE0LCJqdGkiOiIxOTZkYTQxZi03MmQ5LTQ3YWYtODkyYi1lYWQxZWEwY2M2MDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYNFJ3M20xSmc3YnY2alRZcW9XblpBIiwic2Vzc2lvbl9zdGF0ZSI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiNzhkMzk2LWU2ZmMtNDViOS05YzQ1LTg4MDM3NGJhNWFkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LyXWkEYvrI7TACzL7TfI4eW0gHfHLVMtoMrf9kW1B98ADseTZU1oE8nw6P5wqSOEpKYnn10EWt2K__YTaK_np9vg-kBM41GSz0ZYuFSMZFW_b5st6gd1YTbmpIk9S-enErPTaHa2VqBf2_wCjmRXDwBSzow5PUYM3J0a9jULcWO8Tk6SZ55uENPu9VbP8kmo_nFy0ybP5ihuDWLAAL4Cc9DXsdmX1kuhx5_-C6NJHd770K70lK6pJEAwQ0FsX3l8-LaxEkPLOEp_KZJ1QfTDJkoCVJKtoM29bRbNyJ0UHR2XEqudU8mmRoaTF167xhsB9VxIzbyCPX5AZ-m9osouPQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:39Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/38fbad5f-3242-4927-b5df-515c0f79b20f&quot;&#x27; @ QOS 0
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0801d180, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42f10a8c0 } }, data: MessageData { topic: &quot;app/38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42f10a8c0 } } } }
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee82dd0, 0x55f42efc4cd0
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efc4cd0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efc4cd0, 0x7fea0c000df0
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000df0, 0x55f42f1925f0
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000df0, 0x7fea0c0048b0
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c000c80
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c001460
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001460, 0x7fea0c0048b0
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c003f10
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0048b0, 0x7fea0c004210
[2022-05-06T15:33:42Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c004210
[2022-05-06T15:33:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;679e7c99-2f49-4882-9d73-e49921caab23&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;38fbad5f%2D3242%2D4927%2Db5df%2D515c0f79b20f/device1&quot;, &quot;id&quot;: &quot;142cfa88-2a29-452c-a713-cbb5d0162db9&quot;, &quot;time&quot;: &quot;2022-05-06T15:33:42.986524373+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;0841a9fd-3fe9-4b78-bc06-5d572ed2cc36&quot;, &quot;senderuid&quot;: &quot;974545b6-fa08-43b8-9748-a028ba8c0398&quot;, &quot;application&quot;: &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, &quot;source&quot;: &quot;drogue://38fbad5f%2D3242%2D4927%2Db5df%2D515c0f79b20f/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:33:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:33:43Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:33:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:33:43Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:33:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;7058e354-f77c-4e5c-bb5f-da93f39ce977&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edc7b90
[2022-05-06T15:33:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edc7b90
[2022-05-06T15:33:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ee97040, password: 0x55f42ec7b670, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecce000, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edc7dc0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@38fbad5f-3242-4927-b5df-515c0f79b20f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0800c0a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ee7cb20 } }, data: MessageData { topic: &quot;app/38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42ee7cb20 } } } }
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004230, 0x7fea0c001410
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001410, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001410, 0x7fea0c000e10
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000e10, 0x7fea0801d2b0
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000e10, 0x7fea0c004210
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004210, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004210, 0x7fea0c000bd0
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000bd0, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000bd0, 0x7fea0c004af0
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0801d450
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0c000df0
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000df0, 0x7fea0c004b10
[2022-05-06T15:33:44Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c000df0
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;974545b6-fa08-43b8-9748-a028ba8c0398&quot;, &quot;applicationuid&quot;: &quot;679e7c99-2f49-4882-9d73-e49921caab23&quot;, &quot;id&quot;: &quot;14022803-49aa-4136-8980-941cfeb2e779&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;38fbad5f%2D3242%2D4927%2Db5df%2D515c0f79b20f/gateway1&quot;, &quot;deviceuid&quot;: &quot;974545b6-fa08-43b8-9748-a028ba8c0398&quot;, &quot;time&quot;: &quot;2022-05-06T15:33:44.105499133+00:00&quot;, &quot;source&quot;: &quot;drogue://38fbad5f%2D3242%2D4927%2Db5df%2D515c0f79b20f/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:33:44Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f115720 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f115720 } } } }
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:33:44Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:33:44Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot; &quot;device1&quot;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot; &quot;gateway1&quot;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;38fbad5f-3242-4927-b5df-515c0f79b20f&#x27;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;38fbad5f-3242-4927-b5df-515c0f79b20f&quot;
[2022-05-06T15:33:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 38fbad5f-3242-4927-b5df-515c0f79b20f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:33:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:33:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:33:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:33:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:33:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:33:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMzAsImlhdCI6MTY1MTg1MTIzMCwianRpIjoiODY0YjYxOWYtYzgyNy00ODBmLWIyODctZjg3NDA5Y2RiMjllIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJPRG10VHFNMXdXTE1uemw4Z1BEVEEiLCJzZXNzaW9uX3N0YXRlIjoiMmJkNDgzNTYtNzMwNy00YWNmLWJjZmItOTRlZTdhMzczZTExIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSJ9.nUDQXCPdRndJnpbyHlPXLMQqYo-PCoqzUaBo4eC6Cxc
[2022-05-06T15:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwMzAsImlhdCI6MTY1MTg1MTIzMCwianRpIjoiODY0YjYxOWYtYzgyNy00ODBmLWIyODctZjg3NDA5Y2RiMjllIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJPRG10VHFNMXdXTE1uemw4Z1BEVEEiLCJzZXNzaW9uX3N0YXRlIjoiMmJkNDgzNTYtNzMwNy00YWNmLWJjZmItOTRlZTdhMzczZTExIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSJ9.nUDQXCPdRndJnpbyHlPXLMQqYo-PCoqzUaBo4eC6Cxc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:51Z INFO  drogue_cloud_tests::resources::apps] Create application: b58bda7d-a23e-4416-9afe-6281417bf44a
[2022-05-06T15:33:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;
[2022-05-06T15:33:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b58bda7d-a23e-4416-9afe-6281417bf44a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;
[2022-05-06T15:33:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:51.655934Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d2ef78fe-4c81-4a24-9fc0-ed18c3964b1c\&quot;,\n    \&quot;uid\&quot;: \&quot;485321cc-302c-4d68-97d9-4b375199affa\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.667838075Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:51.655934Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;), &quot;resourceVersion&quot;: String(&quot;d2ef78fe-4c81-4a24-9fc0-ed18c3964b1c&quot;), &quot;uid&quot;: String(&quot;485321cc-302c-4d68-97d9-4b375199affa&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.667838075Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:33:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:51.655934Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a77b7602-9f1d-430d-881c-ef470a54d4e1\&quot;,\n    \&quot;uid\&quot;: \&quot;485321cc-302c-4d68-97d9-4b375199affa\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934175115Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934119611Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.715979751Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.723005868Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.776975588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.782945847Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934075199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934091569Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;MAJPrRYZmgeh\&quot;,\n        \&quot;username\&quot;: \&quot;user-b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:51.655934Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;), &quot;resourceVersion&quot;: String(&quot;a77b7602-9f1d-430d-881c-ef470a54d4e1&quot;), &quot;uid&quot;: String(&quot;485321cc-302c-4d68-97d9-4b375199affa&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934175115Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934119611Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.715979751Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.723005868Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.776975588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.782945847Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934075199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934091569Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;MAJPrRYZmgeh&quot;), &quot;username&quot;: String(&quot;user-b58bda7d-a23e-4416-9afe-6281417bf44a&quot;)})})})})
[2022-05-06T15:33:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:33:51.655934Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a77b7602-9f1d-430d-881c-ef470a54d4e1\&quot;,\n    \&quot;uid\&quot;: \&quot;485321cc-302c-4d68-97d9-4b375199affa\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934175115Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934119611Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.715979751Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.723005868Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.776975588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.782945847Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934075199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:33:51.934091569Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;MAJPrRYZmgeh\&quot;,\n        \&quot;username\&quot;: \&quot;user-b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:33:51.655934Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;), &quot;resourceVersion&quot;: String(&quot;a77b7602-9f1d-430d-881c-ef470a54d4e1&quot;), &quot;uid&quot;: String(&quot;485321cc-302c-4d68-97d9-4b375199affa&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934175115Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934119611Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.715979751Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.723005868Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.776975588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.782945847Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934075199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:33:51.934091569Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;MAJPrRYZmgeh&quot;), &quot;username&quot;: String(&quot;user-b58bda7d-a23e-4416-9afe-6281417bf44a&quot;)})})})})
[2022-05-06T15:33:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MzAsImlhdCI6MTY1MTg1MTIzMCwiYXV0aF90aW1lIjoxNjUxODUxMjI4LCJqdGkiOiI5NTQxNjcyMC03ZTAzLTQ0NWQtOWYyNS1mYTA0MjBkYzczYjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJST0RtdFRxTTF3V0xNbnpsOGdQRFRBIiwic2Vzc2lvbl9zdGF0ZSI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VFHSRev6rRqj803DUfu9dnlkKNgHjzCmoLVXS1-2-cEKBe4NABZWnqd3R0bygM6BuUCeMcSiC8uti5TwN7RpQGu0ZWgA5X19y5WQAawF9vpaAoYOJQiD0_Cq9U_08iUEljN2ap2FOGLhdfMHP27pvmANYvhjQFwukpeEzpnx-U5zdsmWBwIcQ3zzJLOFwjIkbeOfogt8Mm2nZv8LlKRS2tbcQWTfaptgzlLw22hoVCVo7LU6q7ncZeHGQD_2UvuzSn63v2hByKjx2bXa_AX6ZnudvhoklIcOBmVKHsiQu1lmrw4DQjGKCyq-NGdUCGGAxB2tbdZHkqV_eTShxQXUAw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:33:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MzAsImlhdCI6MTY1MTg1MTIzMCwiYXV0aF90aW1lIjoxNjUxODUxMjI4LCJqdGkiOiI5NTQxNjcyMC03ZTAzLTQ0NWQtOWYyNS1mYTA0MjBkYzczYjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJST0RtdFRxTTF3V0xNbnpsOGdQRFRBIiwic2Vzc2lvbl9zdGF0ZSI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VFHSRev6rRqj803DUfu9dnlkKNgHjzCmoLVXS1-2-cEKBe4NABZWnqd3R0bygM6BuUCeMcSiC8uti5TwN7RpQGu0ZWgA5X19y5WQAawF9vpaAoYOJQiD0_Cq9U_08iUEljN2ap2FOGLhdfMHP27pvmANYvhjQFwukpeEzpnx-U5zdsmWBwIcQ3zzJLOFwjIkbeOfogt8Mm2nZv8LlKRS2tbcQWTfaptgzlLw22hoVCVo7LU6q7ncZeHGQD_2UvuzSn63v2hByKjx2bXa_AX6ZnudvhoklIcOBmVKHsiQu1lmrw4DQjGKCyq-NGdUCGGAxB2tbdZHkqV_eTShxQXUAw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;4e57a0d5-7235-4553-b607-aec521a810d9&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee9c3a0
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee9c3a0
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed83b10, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed841e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecba020, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1MzAsImlhdCI6MTY1MTg1MTIzMCwiYXV0aF90aW1lIjoxNjUxODUxMjI4LCJqdGkiOiI5NTQxNjcyMC03ZTAzLTQ0NWQtOWYyNS1mYTA0MjBkYzczYjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJST0RtdFRxTTF3V0xNbnpsOGdQRFRBIiwic2Vzc2lvbl9zdGF0ZSI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiZDQ4MzU2LTczMDctNGFjZi1iY2ZiLTk0ZWU3YTM3M2UxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VFHSRev6rRqj803DUfu9dnlkKNgHjzCmoLVXS1-2-cEKBe4NABZWnqd3R0bygM6BuUCeMcSiC8uti5TwN7RpQGu0ZWgA5X19y5WQAawF9vpaAoYOJQiD0_Cq9U_08iUEljN2ap2FOGLhdfMHP27pvmANYvhjQFwukpeEzpnx-U5zdsmWBwIcQ3zzJLOFwjIkbeOfogt8Mm2nZv8LlKRS2tbcQWTfaptgzlLw22hoVCVo7LU6q7ncZeHGQD_2UvuzSn63v2hByKjx2bXa_AX6ZnudvhoklIcOBmVKHsiQu1lmrw4DQjGKCyq-NGdUCGGAxB2tbdZHkqV_eTShxQXUAw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:52Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/b58bda7d-a23e-4416-9afe-6281417bf44a&quot;&#x27; @ QOS 0
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:33:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:33:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:33:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:33:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0016340, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 56, 48, 97, 101, 101, 100, 97, 45, 54, 102, 56, 98, 45, 52, 51, 102, 101, 45, 56, 99, 102, 54, 45, 98, 98, 57, 97, 51, 99, 101, 52, 52, 52, 102, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 53, 56, 98, 100, 97, 55, 100, 37, 50, 68, 97, 50, 51, 101, 37, 50, 68, 52, 52, 49, 54, 37, 50, 68, 57, 97, 102, 101, 37, 50, 68, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 53, 55, 46, 48, 49, 49, 50, 55, 54, 54, 48, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 102, 98, 98, 51, 53, 57, 97, 45, 48, 53, 98, 50, 45, 52, 49, 101, 98, 45, 97, 98, 100, 97, 45, 102, 100, 56, 54, 102, 102, 53, 99, 102, 54, 53, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 56, 53, 51, 50, 49, 99, 99, 45, 51, 48, 50, 99, 45, 52, 100, 54, 56, 45, 57, 55, 100, 57, 45, 52, 98, 51, 55, 53, 49, 57, 57, 97, 102, 102, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 53, 56, 98, 100, 97, 55, 100, 45, 97, 50, 51, 101, 45, 52, 52, 49, 54, 45, 57, 97, 102, 101, 45, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 53, 56, 98, 100, 97, 55, 100, 37, 50, 68, 97, 50, 51, 101, 37, 50, 68, 52, 52, 49, 54, 37, 50, 68, 57, 97, 102, 101, 37, 50, 68, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 50, 51, 97, 52, 51, 100, 45, 97, 57, 102, 52, 45, 52, 50, 57, 97, 45, 98, 53, 55, 48, 45, 52, 53, 55, 55, 52, 101, 53, 102, 54, 100, 98, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:33:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;480aeeda-6f8b-43fe-8cf6-bb9a3ce444fd\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b58bda7d%2Da23e%2D4416%2D9afe%2D6281417bf44a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:57.011276600Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;deviceuid\&quot;:\&quot;5fbb359a-05b2-41eb-abda-fd86ff5cf65d\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;485321cc-302c-4d68-97d9-4b375199affa\&quot;,\&quot;application\&quot;:\&quot;b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;,\&quot;partitionkey\&quot;:\&quot;b58bda7d%2Da23e%2D4416%2D9afe%2D6281417bf44a/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;c823a43d-a9f4-429a-b570-45774e5f6db3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:33:58Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;133e1307-e23f-4416-b147-2f755c8c39cc&quot;, persistence: None, user_data: None }
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f12de60
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f12de60
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1b96b0, password: 0x55f42eeb1d90, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee312b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1b9840, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@b58bda7d-a23e-4416-9afe-6281417bf44a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f000b480, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 54, 97, 101, 49, 52, 57, 97, 45, 48, 56, 102, 102, 45, 52, 100, 99, 49, 45, 97, 52, 56, 52, 45, 99, 57, 52, 56, 51, 54, 57, 100, 57, 48, 99, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 53, 56, 98, 100, 97, 55, 100, 37, 50, 68, 97, 50, 51, 101, 37, 50, 68, 52, 52, 49, 54, 37, 50, 68, 57, 97, 102, 101, 37, 50, 68, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 51, 58, 53, 56, 46, 49, 51, 48, 53, 50, 50, 56, 53, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 53, 56, 98, 100, 97, 55, 100, 37, 50, 68, 97, 50, 51, 101, 37, 50, 68, 52, 52, 49, 54, 37, 50, 68, 57, 97, 102, 101, 37, 50, 68, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 50, 51, 97, 52, 51, 100, 45, 97, 57, 102, 52, 45, 52, 50, 57, 97, 45, 98, 53, 55, 48, 45, 52, 53, 55, 55, 52, 101, 53, 102, 54, 100, 98, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 56, 53, 51, 50, 49, 99, 99, 45, 51, 48, 50, 99, 45, 52, 100, 54, 56, 45, 57, 55, 100, 57, 45, 52, 98, 51, 55, 53, 49, 57, 57, 97, 102, 102, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 56, 50, 51, 97, 52, 51, 100, 45, 97, 57, 102, 52, 45, 52, 50, 57, 97, 45, 98, 53, 55, 48, 45, 52, 53, 55, 55, 52, 101, 53, 102, 54, 100, 98, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 53, 56, 98, 100, 97, 55, 100, 45, 97, 50, 51, 101, 45, 52, 52, 49, 54, 45, 57, 97, 102, 101, 45, 54, 50, 56, 49, 52, 49, 55, 98, 102, 52, 52, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;86ae149a-08ff-4dc1-a484-c948369d90c3\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b58bda7d%2Da23e%2D4416%2D9afe%2D6281417bf44a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:33:58.130522859Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;b58bda7d%2Da23e%2D4416%2D9afe%2D6281417bf44a/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;c823a43d-a9f4-429a-b570-45774e5f6db3\&quot;,\&quot;applicationuid\&quot;:\&quot;485321cc-302c-4d68-97d9-4b375199affa\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;c823a43d-a9f4-429a-b570-45774e5f6db3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;b58bda7d-a23e-4416-9afe-6281417bf44a\&quot;}&quot; }
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd9c40 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd9c40 } } } }
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:33:58Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:33:58Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot; &quot;device1&quot;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot; &quot;gateway1&quot;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b58bda7d-a23e-4416-9afe-6281417bf44a&#x27;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b58bda7d-a23e-4416-9afe-6281417bf44a&quot;
[2022-05-06T15:33:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b58bda7d-a23e-4416-9afe-6281417bf44a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:34:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:34:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:34:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:34:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNDQsImlhdCI6MTY1MTg1MTI0NCwianRpIjoiNTQxYjA4M2EtYjMzZC00MzdlLTg4ZWMtMDMxOGFkMDU5ZDVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBUWXN1Z0psVTh2NTFCNDQ4cEFMMEEiLCJzZXNzaW9uX3N0YXRlIjoiODdmNTA1ZGEtMTFjZi00ODA4LTljMzEtMzg2N2QyNTQ0MjkzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyJ9.R28TRbkZMmFt960-ckmcrwM_ZGTVhZYeDeFJtdvRSrc
[2022-05-06T15:34:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:34:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNDQsImlhdCI6MTY1MTg1MTI0NCwianRpIjoiNTQxYjA4M2EtYjMzZC00MzdlLTg4ZWMtMDMxOGFkMDU5ZDVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBUWXN1Z0psVTh2NTFCNDQ4cEFMMEEiLCJzZXNzaW9uX3N0YXRlIjoiODdmNTA1ZGEtMTFjZi00ODA4LTljMzEtMzg2N2QyNTQ0MjkzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyJ9.R28TRbkZMmFt960-ckmcrwM_ZGTVhZYeDeFJtdvRSrc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:34:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:05Z INFO  drogue_cloud_tests::resources::apps] Create application: 2cf67da8-00e6-4bcb-a6be-9924c10db1e7
[2022-05-06T15:34:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;
[2022-05-06T15:34:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2cf67da8-00e6-4bcb-a6be-9924c10db1e7 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;
[2022-05-06T15:34:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:05.444270Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0bf1e4b8-5235-4991-ae1b-52ee81064ff2\&quot;,\n    \&quot;uid\&quot;: \&quot;cc736db7-4af6-456e-aa93-a884439a6532\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.462493610Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:05.444270Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;), &quot;resourceVersion&quot;: String(&quot;0bf1e4b8-5235-4991-ae1b-52ee81064ff2&quot;), &quot;uid&quot;: String(&quot;cc736db7-4af6-456e-aa93-a884439a6532&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.462493610Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:34:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:05.444270Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9b6bf41b-a081-407a-8228-e9c31e6da2ab\&quot;,\n    \&quot;uid\&quot;: \&quot;cc736db7-4af6-456e-aa93-a884439a6532\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.772424113Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771703062Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.501966130Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.506104735Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.560702711Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.579876256Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771156989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771174582Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ALFYJH86mT9m\&quot;,\n        \&quot;username\&quot;: \&quot;user-2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:05.444270Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;), &quot;resourceVersion&quot;: String(&quot;9b6bf41b-a081-407a-8228-e9c31e6da2ab&quot;), &quot;uid&quot;: String(&quot;cc736db7-4af6-456e-aa93-a884439a6532&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.772424113Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771703062Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.501966130Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.506104735Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.560702711Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.579876256Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771156989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771174582Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ALFYJH86mT9m&quot;), &quot;username&quot;: String(&quot;user-2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;)})})})})
[2022-05-06T15:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:05.444270Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9b6bf41b-a081-407a-8228-e9c31e6da2ab\&quot;,\n    \&quot;uid\&quot;: \&quot;cc736db7-4af6-456e-aa93-a884439a6532\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.772424113Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771703062Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.501966130Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.506104735Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.560702711Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.579876256Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771156989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:05.771174582Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ALFYJH86mT9m\&quot;,\n        \&quot;username\&quot;: \&quot;user-2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:05.444270Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;), &quot;resourceVersion&quot;: String(&quot;9b6bf41b-a081-407a-8228-e9c31e6da2ab&quot;), &quot;uid&quot;: String(&quot;cc736db7-4af6-456e-aa93-a884439a6532&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.772424113Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771703062Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.501966130Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.506104735Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.560702711Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.579876256Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771156989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:05.771174582Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ALFYJH86mT9m&quot;), &quot;username&quot;: String(&quot;user-2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;)})})})})
[2022-05-06T15:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NDQsImlhdCI6MTY1MTg1MTI0NCwiYXV0aF90aW1lIjoxNjUxODUxMjQxLCJqdGkiOiJjYjU4NTIyMy1kYzgxLTRhYjktYmY5OS1iM2M5MzY0YmQzYWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQVFlzdWdKbFU4djUxQjQ0OHBBTDBBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OcuPrv8yYGCUJ_ijo7SwkHj4B-uzFjbGnIjw5L5tN7-T6e5n9K7zBOabgI0IA_zJDUaWQOU-ObpMyymj-f09gBRg2V37-TnS7G3Q2GSsTHOQZRVOosFL-i5zrCqll9XLw7K90IBdxHBR7Qxa7qYuppmhLEjOsvMJuwguDOoe3QzWXd3kQAuVXk2mBxE6jzegAaKqd-_BgzGWyOW2jioGbX-KYjFWQolDD1lK8Lq28ZdelmQKj0Kdh_bxRatOTh1WfUEZI0cjpx0JFoN2NvWuN2U21O021c8NZs_qN_NyoniQ1ponVVuyb6qBAS4NiKJPled7QsX_4bsyTWvrkuarIw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NDQsImlhdCI6MTY1MTg1MTI0NCwiYXV0aF90aW1lIjoxNjUxODUxMjQxLCJqdGkiOiJjYjU4NTIyMy1kYzgxLTRhYjktYmY5OS1iM2M5MzY0YmQzYWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQVFlzdWdKbFU4djUxQjQ0OHBBTDBBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OcuPrv8yYGCUJ_ijo7SwkHj4B-uzFjbGnIjw5L5tN7-T6e5n9K7zBOabgI0IA_zJDUaWQOU-ObpMyymj-f09gBRg2V37-TnS7G3Q2GSsTHOQZRVOosFL-i5zrCqll9XLw7K90IBdxHBR7Qxa7qYuppmhLEjOsvMJuwguDOoe3QzWXd3kQAuVXk2mBxE6jzegAaKqd-_BgzGWyOW2jioGbX-KYjFWQolDD1lK8Lq28ZdelmQKj0Kdh_bxRatOTh1WfUEZI0cjpx0JFoN2NvWuN2U21O021c8NZs_qN_NyoniQ1ponVVuyb6qBAS4NiKJPled7QsX_4bsyTWvrkuarIw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;31bced8a-04c9-4897-b056-3689254c3136&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0ff6f0
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0ff6f0
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efe0780, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec74130, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed96840, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NDQsImlhdCI6MTY1MTg1MTI0NCwiYXV0aF90aW1lIjoxNjUxODUxMjQxLCJqdGkiOiJjYjU4NTIyMy1kYzgxLTRhYjktYmY5OS1iM2M5MzY0YmQzYWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQVFlzdWdKbFU4djUxQjQ0OHBBTDBBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3ZjUwNWRhLTExY2YtNDgwOC05YzMxLTM4NjdkMjU0NDI5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OcuPrv8yYGCUJ_ijo7SwkHj4B-uzFjbGnIjw5L5tN7-T6e5n9K7zBOabgI0IA_zJDUaWQOU-ObpMyymj-f09gBRg2V37-TnS7G3Q2GSsTHOQZRVOosFL-i5zrCqll9XLw7K90IBdxHBR7Qxa7qYuppmhLEjOsvMJuwguDOoe3QzWXd3kQAuVXk2mBxE6jzegAaKqd-_BgzGWyOW2jioGbX-KYjFWQolDD1lK8Lq28ZdelmQKj0Kdh_bxRatOTh1WfUEZI0cjpx0JFoN2NvWuN2U21O021c8NZs_qN_NyoniQ1ponVVuyb6qBAS4NiKJPled7QsX_4bsyTWvrkuarIw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:06Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;&#x27; @ QOS 0
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0002e00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 97, 97, 51, 48, 98, 102, 55, 45, 57, 52, 51, 97, 45, 52, 100, 56, 100, 45, 57, 55, 98, 101, 45, 51, 50, 55, 52, 54, 54, 55, 98, 102, 102, 49, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 99, 102, 54, 55, 100, 97, 56, 37, 50, 68, 48, 48, 101, 54, 37, 50, 68, 52, 98, 99, 98, 37, 50, 68, 97, 54, 98, 101, 37, 50, 68, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 49, 48, 46, 48, 49, 57, 49, 51, 55, 52, 50, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 99, 102, 54, 55, 100, 97, 56, 45, 48, 48, 101, 54, 45, 52, 98, 99, 98, 45, 97, 54, 98, 101, 45, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 99, 99, 99, 102, 55, 102, 45, 98, 101, 53, 56, 45, 52, 102, 51, 99, 45, 97, 51, 99, 50, 45, 100, 50, 52, 51, 55, 53, 100, 55, 53, 101, 102, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 98, 55, 99, 102, 97, 99, 52, 45, 100, 48, 50, 99, 45, 52, 51, 53, 53, 45, 57, 49, 56, 55, 45, 102, 56, 102, 98, 55, 98, 100, 57, 52, 53, 100, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 99, 55, 51, 54, 100, 98, 55, 45, 52, 97, 102, 54, 45, 52, 53, 54, 101, 45, 97, 97, 57, 51, 45, 97, 56, 56, 52, 52, 51, 57, 97, 54, 53, 51, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 99, 102, 54, 55, 100, 97, 56, 37, 50, 68, 48, 48, 101, 54, 37, 50, 68, 52, 98, 99, 98, 37, 50, 68, 97, 54, 98, 101, 37, 50, 68, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:34:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2aa30bf7-943a-4d8d-97be-3274667bff1a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2cf67da8%2D00e6%2D4bcb%2Da6be%2D9924c10db1e7/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:10.019137428Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;,\&quot;senderuid\&quot;:\&quot;47cccf7f-be58-4f3c-a3c2-d24375d75eff\&quot;,\&quot;deviceuid\&quot;:\&quot;1b7cfac4-d02c-4355-9187-f8fb7bd945d3\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;cc736db7-4af6-456e-aa93-a884439a6532\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;2cf67da8%2D00e6%2D4bcb%2Da6be%2D9924c10db1e7/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:34:11Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;a7ae9c1b-2c74-4c28-8ad2-a14428cd50e2&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecb8170
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecb8170
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ec9f5e0, password: 0x55f42ec7c7f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed1ebd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee7bd90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f002a770, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 55, 50, 57, 100, 50, 98, 55, 45, 101, 57, 55, 48, 45, 52, 98, 53, 50, 45, 97, 54, 57, 54, 45, 54, 100, 102, 55, 52, 55, 50, 51, 53, 102, 102, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 99, 102, 54, 55, 100, 97, 56, 37, 50, 68, 48, 48, 101, 54, 37, 50, 68, 52, 98, 99, 98, 37, 50, 68, 97, 54, 98, 101, 37, 50, 68, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 49, 49, 46, 51, 54, 49, 51, 51, 55, 50, 48, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 99, 99, 99, 102, 55, 102, 45, 98, 101, 53, 56, 45, 52, 102, 51, 99, 45, 97, 51, 99, 50, 45, 100, 50, 52, 51, 55, 53, 100, 55, 53, 101, 102, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 99, 102, 54, 55, 100, 97, 56, 37, 50, 68, 48, 48, 101, 54, 37, 50, 68, 52, 98, 99, 98, 37, 50, 68, 97, 54, 98, 101, 37, 50, 68, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 99, 102, 54, 55, 100, 97, 56, 45, 48, 48, 101, 54, 45, 52, 98, 99, 98, 45, 97, 54, 98, 101, 45, 57, 57, 50, 52, 99, 49, 48, 100, 98, 49, 101, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 99, 55, 51, 54, 100, 98, 55, 45, 52, 97, 102, 54, 45, 52, 53, 54, 101, 45, 97, 97, 57, 51, 45, 97, 56, 56, 52, 52, 51, 57, 97, 54, 53, 51, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 55, 99, 99, 99, 102, 55, 102, 45, 98, 101, 53, 56, 45, 52, 102, 51, 99, 45, 97, 51, 99, 50, 45, 100, 50, 52, 51, 55, 53, 100, 55, 53, 101, 102, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f729d2b7-e970-4b52-a696-6df747235ffc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2cf67da8%2D00e6%2D4bcb%2Da6be%2D9924c10db1e7/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:11.361337208Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;47cccf7f-be58-4f3c-a3c2-d24375d75eff\&quot;,\&quot;partitionkey\&quot;:\&quot;2cf67da8%2D00e6%2D4bcb%2Da6be%2D9924c10db1e7/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7\&quot;,\&quot;applicationuid\&quot;:\&quot;cc736db7-4af6-456e-aa93-a884439a6532\&quot;,\&quot;deviceuid\&quot;:\&quot;47cccf7f-be58-4f3c-a3c2-d24375d75eff\&quot;}&quot; }
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edbb0f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edbb0f0 } } } }
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:34:11Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:34:11Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot; &quot;device1&quot;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot; &quot;gateway1&quot;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&#x27;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2cf67da8-00e6-4bcb-a6be-9924c10db1e7&quot;
[2022-05-06T15:34:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2cf67da8-00e6-4bcb-a6be-9924c10db1e7 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:34:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:34:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:34:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:34:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNTgsImlhdCI6MTY1MTg1MTI1OCwianRpIjoiMTI5MjZhNGYtNTc5MS00M2U0LTljOWEtZTUwM2JmMDliOTlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ill3cld3OEc3ZGNaNWx4b196a3F6REEiLCJzZXNzaW9uX3N0YXRlIjoiMGQwNTgzMGYtMTY1Ny00YWY4LThlYjItOGI5OTE4NDMyY2ZhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSJ9.59fUmBZUWP5k_n8Rfkrh_Iv472a_Ap6wxe1O24hK7Fk
[2022-05-06T15:34:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:34:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNTgsImlhdCI6MTY1MTg1MTI1OCwianRpIjoiMTI5MjZhNGYtNTc5MS00M2U0LTljOWEtZTUwM2JmMDliOTlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ill3cld3OEc3ZGNaNWx4b196a3F6REEiLCJzZXNzaW9uX3N0YXRlIjoiMGQwNTgzMGYtMTY1Ny00YWY4LThlYjItOGI5OTE4NDMyY2ZhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSJ9.59fUmBZUWP5k_n8Rfkrh_Iv472a_Ap6wxe1O24hK7Fk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:34:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 8b7f6991-cc43-428b-8a95-210148e40cf1
[2022-05-06T15:34:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;
[2022-05-06T15:34:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8b7f6991-cc43-428b-8a95-210148e40cf1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;
[2022-05-06T15:34:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:19.020340Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d576783b-4ccd-4412-b2c8-60142e4c515e\&quot;,\n    \&quot;uid\&quot;: \&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.033121721Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:19.020340Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;), &quot;resourceVersion&quot;: String(&quot;d576783b-4ccd-4412-b2c8-60142e4c515e&quot;), &quot;uid&quot;: String(&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.033121721Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:34:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:19.020340Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6bd758c2-bbd4-4952-be71-51cfb1ac5570\&quot;,\n    \&quot;uid\&quot;: \&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326466389Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326368245Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.076748324Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.083398639Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.159327543Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.164703527Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326248640Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326334090Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;x4A7B9QlO4o4\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:19.020340Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;), &quot;resourceVersion&quot;: String(&quot;6bd758c2-bbd4-4952-be71-51cfb1ac5570&quot;), &quot;uid&quot;: String(&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326466389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326368245Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.076748324Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.083398639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.159327543Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.164703527Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326248640Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326334090Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;x4A7B9QlO4o4&quot;), &quot;username&quot;: String(&quot;user-8b7f6991-cc43-428b-8a95-210148e40cf1&quot;)})})})})
[2022-05-06T15:34:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:19.020340Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6bd758c2-bbd4-4952-be71-51cfb1ac5570\&quot;,\n    \&quot;uid\&quot;: \&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326466389Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326368245Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.076748324Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.083398639Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.159327543Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.164703527Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326248640Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:19.326334090Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;x4A7B9QlO4o4\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:19.020340Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;), &quot;resourceVersion&quot;: String(&quot;6bd758c2-bbd4-4952-be71-51cfb1ac5570&quot;), &quot;uid&quot;: String(&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326466389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326368245Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.076748324Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.083398639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.159327543Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.164703527Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326248640Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:19.326334090Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;x4A7B9QlO4o4&quot;), &quot;username&quot;: String(&quot;user-8b7f6991-cc43-428b-8a95-210148e40cf1&quot;)})})})})
[2022-05-06T15:34:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NTgsImlhdCI6MTY1MTg1MTI1OCwiYXV0aF90aW1lIjoxNjUxODUxMjU1LCJqdGkiOiJhYTUwYTU5My04OTQzLTRhMmQtOTk1ZS1mN2ZlNDJkZGUxYjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZd3JXdzhHN2RjWjVseG9femtxekRBIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dss6fRx_staqtLAZrYI2sdFD2lO7ctgaAHoGWs5Ro9gHMTcbQjARXnJa3bXUNNYiUjh7LzuweptMPQeWoIZ7sauv4KqOqFQkIFaRtZqVb9lesn8KxxTPSmHOattW79XG0AObAutx1fwJ0iJULBXsS0k0fQ2VOn9ohcZDmxrpeXvqrOWwPmPjO7eWb3RDXeydbhqLHQ4bmnsZMTLcRctBON7xbFqbSAinvel1-r1KG4lQHTVBV9CgQBMHZT3qJTsPHi9kgc7iSZZ_KbqksvvGyngHBhUx1SIrVkGaLmndMi_0xM5snKZl07wRvMLdF7fx-3ptg1wT6UggNEYfLNmnIg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NTgsImlhdCI6MTY1MTg1MTI1OCwiYXV0aF90aW1lIjoxNjUxODUxMjU1LCJqdGkiOiJhYTUwYTU5My04OTQzLTRhMmQtOTk1ZS1mN2ZlNDJkZGUxYjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZd3JXdzhHN2RjWjVseG9femtxekRBIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dss6fRx_staqtLAZrYI2sdFD2lO7ctgaAHoGWs5Ro9gHMTcbQjARXnJa3bXUNNYiUjh7LzuweptMPQeWoIZ7sauv4KqOqFQkIFaRtZqVb9lesn8KxxTPSmHOattW79XG0AObAutx1fwJ0iJULBXsS0k0fQ2VOn9ohcZDmxrpeXvqrOWwPmPjO7eWb3RDXeydbhqLHQ4bmnsZMTLcRctBON7xbFqbSAinvel1-r1KG4lQHTVBV9CgQBMHZT3qJTsPHi9kgc7iSZZ_KbqksvvGyngHBhUx1SIrVkGaLmndMi_0xM5snKZl07wRvMLdF7fx-3ptg1wT6UggNEYfLNmnIg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;8b1aa671-fc7f-40b9-a38e-50ef319865d2&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f12f7e0
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f12f7e0
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ec46920, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec9fd80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f12f7a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NTgsImlhdCI6MTY1MTg1MTI1OCwiYXV0aF90aW1lIjoxNjUxODUxMjU1LCJqdGkiOiJhYTUwYTU5My04OTQzLTRhMmQtOTk1ZS1mN2ZlNDJkZGUxYjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZd3JXdzhHN2RjWjVseG9femtxekRBIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMDU4MzBmLTE2NTctNGFmOC04ZWIyLThiOTkxODQzMmNmYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dss6fRx_staqtLAZrYI2sdFD2lO7ctgaAHoGWs5Ro9gHMTcbQjARXnJa3bXUNNYiUjh7LzuweptMPQeWoIZ7sauv4KqOqFQkIFaRtZqVb9lesn8KxxTPSmHOattW79XG0AObAutx1fwJ0iJULBXsS0k0fQ2VOn9ohcZDmxrpeXvqrOWwPmPjO7eWb3RDXeydbhqLHQ4bmnsZMTLcRctBON7xbFqbSAinvel1-r1KG4lQHTVBV9CgQBMHZT3qJTsPHi9kgc7iSZZ_KbqksvvGyngHBhUx1SIrVkGaLmndMi_0xM5snKZl07wRvMLdF7fx-3ptg1wT6UggNEYfLNmnIg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:20Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/8b7f6991-cc43-428b-8a95-210148e40cf1&quot;&#x27; @ QOS 0
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea080090f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009370 } }, data: MessageData { topic: &quot;app/8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 54, 97, 54, 49, 55, 102, 56, 45, 100, 102, 101, 54, 45, 52, 57, 52, 53, 45, 56, 53, 99, 102, 45, 54, 97, 101, 57, 100, 57, 54, 101, 52, 98, 100, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 98, 55, 102, 54, 57, 57, 49, 37, 50, 68, 99, 99, 52, 51, 37, 50, 68, 52, 50, 56, 98, 37, 50, 68, 56, 97, 57, 53, 37, 50, 68, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 50, 52, 46, 48, 51, 56, 49, 53, 54, 56, 54, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 98, 55, 102, 54, 57, 57, 49, 45, 99, 99, 52, 51, 45, 52, 50, 56, 98, 45, 56, 97, 57, 53, 45, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 57, 55, 102, 56, 57, 97, 50, 45, 49, 53, 51, 101, 45, 52, 97, 48, 99, 45, 57, 98, 52, 101, 45, 50, 102, 57, 53, 48, 54, 57, 57, 55, 102, 48, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 98, 55, 102, 54, 57, 57, 49, 37, 50, 68, 99, 99, 52, 51, 37, 50, 68, 52, 50, 56, 98, 37, 50, 68, 56, 97, 57, 53, 37, 50, 68, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 54, 50, 52, 53, 102, 54, 98, 45, 97, 100, 56, 51, 45, 52, 51, 99, 52, 45, 98, 57, 50, 102, 45, 54, 54, 49, 48, 100, 102, 101, 100, 49, 52, 55, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 100, 49, 54, 100, 97, 56, 45, 100, 57, 48, 99, 45, 52, 55, 99, 49, 45, 56, 99, 57, 102, 45, 102, 50, 101, 97, 99, 55, 100, 99, 101, 102, 53, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009370 } } } }
[2022-05-06T15:34:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecd45b0
[2022-05-06T15:34:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f6a617f8-dfe6-4945-85cf-6ae9d96e4bda\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8b7f6991%2Dcc43%2D428b%2D8a95%2D210148e40cf1/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:24.038156869Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;a97f89a2-153e-4a0c-9b4e-2f9506997f02\&quot;,\&quot;partitionkey\&quot;:\&quot;8b7f6991%2Dcc43%2D428b%2D8a95%2D210148e40cf1/device1\&quot;,\&quot;senderuid\&quot;:\&quot;b6245f6b-ad83-43c4-b92f-6610dfed1472\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53\&quot;}&quot; }
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:34:25Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;a076c172-f389-409f-8a76-ca17a0730983&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed8a3e0
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed8a3e0
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f0d3b30, password: 0x55f42efb3f70, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edd3610, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d1260, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@8b7f6991-cc43-428b-8a95-210148e40cf1&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0800f6e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800f970 } }, data: MessageData { topic: &quot;app/8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 101, 49, 56, 52, 53, 52, 57, 45, 55, 54, 49, 57, 45, 52, 52, 98, 51, 45, 97, 55, 48, 48, 45, 54, 101, 49, 52, 55, 51, 53, 50, 102, 53, 49, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 98, 55, 102, 54, 57, 57, 49, 37, 50, 68, 99, 99, 52, 51, 37, 50, 68, 52, 50, 56, 98, 37, 50, 68, 56, 97, 57, 53, 37, 50, 68, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 50, 53, 46, 49, 53, 51, 52, 49, 51, 56, 48, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 54, 50, 52, 53, 102, 54, 98, 45, 97, 100, 56, 51, 45, 52, 51, 99, 52, 45, 98, 57, 50, 102, 45, 54, 54, 49, 48, 100, 102, 101, 100, 49, 52, 55, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 100, 49, 54, 100, 97, 56, 45, 100, 57, 48, 99, 45, 52, 55, 99, 49, 45, 56, 99, 57, 102, 45, 102, 50, 101, 97, 99, 55, 100, 99, 101, 102, 53, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 98, 55, 102, 54, 57, 57, 49, 45, 99, 99, 52, 51, 45, 52, 50, 56, 98, 45, 56, 97, 57, 53, 45, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 98, 55, 102, 54, 57, 57, 49, 37, 50, 68, 99, 99, 52, 51, 37, 50, 68, 52, 50, 56, 98, 37, 50, 68, 56, 97, 57, 53, 37, 50, 68, 50, 49, 48, 49, 52, 56, 101, 52, 48, 99, 102, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 54, 50, 52, 53, 102, 54, 98, 45, 97, 100, 56, 51, 45, 52, 51, 99, 52, 45, 98, 57, 50, 102, 45, 54, 54, 49, 48, 100, 102, 101, 100, 49, 52, 55, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800f970 } } } }
[2022-05-06T15:34:25Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecd45b0
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9e184549-7619-44b3-a700-6e147352f512\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8b7f6991%2Dcc43%2D428b%2D8a95%2D210148e40cf1/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:25.153413801Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;b6245f6b-ad83-43c4-b92f-6610dfed1472\&quot;,\&quot;applicationuid\&quot;:\&quot;93d16da8-d90c-47c1-8c9f-f2eac7dcef53\&quot;,\&quot;application\&quot;:\&quot;8b7f6991-cc43-428b-8a95-210148e40cf1\&quot;,\&quot;partitionkey\&quot;:\&quot;8b7f6991%2Dcc43%2D428b%2D8a95%2D210148e40cf1/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;b6245f6b-ad83-43c4-b92f-6610dfed1472\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed076d0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed076d0 } } } }
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:34:25Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:34:25Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot; &quot;device1&quot;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot; &quot;gateway1&quot;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8b7f6991-cc43-428b-8a95-210148e40cf1&#x27;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8b7f6991-cc43-428b-8a95-210148e40cf1&quot;
[2022-05-06T15:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8b7f6991-cc43-428b-8a95-210148e40cf1 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:34:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:34:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:34:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:34:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNzEsImlhdCI6MTY1MTg1MTI3MSwianRpIjoiZWZkYTgzMjUtN2VkMi00ZTg1LWJkNDItNzEyZWU3ZjMzYzA0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZ4cG03WlR4V2lpbWFzY0l0VmlJWkEiLCJzZXNzaW9uX3N0YXRlIjoiNWE5NjYyNWEtNDc5MC00MjM1LWIyMDMtMjk5YTFiOTY0OWJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyJ9.0qqO1w-0tOzxvTlp-JkZE04oJ0HZexme9oJEtc4adyo
[2022-05-06T15:34:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:34:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwNzEsImlhdCI6MTY1MTg1MTI3MSwianRpIjoiZWZkYTgzMjUtN2VkMi00ZTg1LWJkNDItNzEyZWU3ZjMzYzA0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZ4cG03WlR4V2lpbWFzY0l0VmlJWkEiLCJzZXNzaW9uX3N0YXRlIjoiNWE5NjYyNWEtNDc5MC00MjM1LWIyMDMtMjk5YTFiOTY0OWJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyJ9.0qqO1w-0tOzxvTlp-JkZE04oJ0HZexme9oJEtc4adyo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:34:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 1e63a3e9-16ae-4b87-bba2-77d02ef1dd31
[2022-05-06T15:34:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;
[2022-05-06T15:34:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1e63a3e9-16ae-4b87-bba2-77d02ef1dd31 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;
[2022-05-06T15:34:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:32.581055Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;637ef562-acf4-4ff8-9040-14a5e0ba7f6b\&quot;,\n    \&quot;uid\&quot;: \&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:32.581055Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;), &quot;resourceVersion&quot;: String(&quot;637ef562-acf4-4ff8-9040-14a5e0ba7f6b&quot;), &quot;uid&quot;: String(&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae&quot;)})})
[2022-05-06T15:34:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:32.581055Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e57ed705-35c8-4e5e-b306-31675c0e7fb6\&quot;,\n    \&quot;uid\&quot;: \&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847031282Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847084161Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.630103883Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.637210072Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.694608295Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.700952135Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.846985406Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847004592Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kpwKYxwu0k5L\&quot;,\n        \&quot;username\&quot;: \&quot;user-1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:32.581055Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;), &quot;resourceVersion&quot;: String(&quot;e57ed705-35c8-4e5e-b306-31675c0e7fb6&quot;), &quot;uid&quot;: String(&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847031282Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847084161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.630103883Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.637210072Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.694608295Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.700952135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.846985406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847004592Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kpwKYxwu0k5L&quot;), &quot;username&quot;: String(&quot;user-1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;)})})})})
[2022-05-06T15:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:32.581055Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e57ed705-35c8-4e5e-b306-31675c0e7fb6\&quot;,\n    \&quot;uid\&quot;: \&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847031282Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847084161Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.630103883Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.637210072Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.694608295Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.700952135Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.846985406Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:32.847004592Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kpwKYxwu0k5L\&quot;,\n        \&quot;username\&quot;: \&quot;user-1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:32.581055Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;), &quot;resourceVersion&quot;: String(&quot;e57ed705-35c8-4e5e-b306-31675c0e7fb6&quot;), &quot;uid&quot;: String(&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847031282Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847084161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.630103883Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.637210072Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.694608295Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.700952135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.846985406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:32.847004592Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kpwKYxwu0k5L&quot;), &quot;username&quot;: String(&quot;user-1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;)})})})})
[2022-05-06T15:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NzEsImlhdCI6MTY1MTg1MTI3MSwiYXV0aF90aW1lIjoxNjUxODUxMjY5LCJqdGkiOiJlYWI4NjIxZS05MmM1LTQwMjMtOTI5Mi03MzcxZWQ5YWJlMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWeHBtN1pUeFdpaW1hc2NJdFZpSVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WNITn73chUVLCGcSGyyny9WnPsc8JqRKcvxu3fB8rpLCV-rNx2ntpHv1Gvpbj-brQbFZy2YFcz61SyRxmbZNowsZ15EffShZ4xT4HK7203HP5WqVqotFUei5peV33Qn0ifCjiTV0AiNY50ca3vM3p-buyGjiJWqI5hu4n2KIOs6RP6K7f0GlkpWCR7ivmhzFkBukyOK-xlQa-gzUsGfGlgqbLpxqSIqYXTIT8q1y11h4I4X8RNdrULsMad5D8P18mj-fFQzBByi1DIxj8iZeaWsC_40RmRi8rTd9G0c1-3QU7jDaVg_Vv1EyCC4sT-Pwd8wqfyCck-CHIoA258jhhw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NzEsImlhdCI6MTY1MTg1MTI3MSwiYXV0aF90aW1lIjoxNjUxODUxMjY5LCJqdGkiOiJlYWI4NjIxZS05MmM1LTQwMjMtOTI5Mi03MzcxZWQ5YWJlMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWeHBtN1pUeFdpaW1hc2NJdFZpSVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WNITn73chUVLCGcSGyyny9WnPsc8JqRKcvxu3fB8rpLCV-rNx2ntpHv1Gvpbj-brQbFZy2YFcz61SyRxmbZNowsZ15EffShZ4xT4HK7203HP5WqVqotFUei5peV33Qn0ifCjiTV0AiNY50ca3vM3p-buyGjiJWqI5hu4n2KIOs6RP6K7f0GlkpWCR7ivmhzFkBukyOK-xlQa-gzUsGfGlgqbLpxqSIqYXTIT8q1y11h4I4X8RNdrULsMad5D8P18mj-fFQzBByi1DIxj8iZeaWsC_40RmRi8rTd9G0c1-3QU7jDaVg_Vv1EyCC4sT-Pwd8wqfyCck-CHIoA258jhhw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;51757e44-d096-4095-b7e2-b77a3d2e6160&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed1d200
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed1d200
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f0425a0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f1088a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edbaf40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1NzEsImlhdCI6MTY1MTg1MTI3MSwiYXV0aF90aW1lIjoxNjUxODUxMjY5LCJqdGkiOiJlYWI4NjIxZS05MmM1LTQwMjMtOTI5Mi03MzcxZWQ5YWJlMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWeHBtN1pUeFdpaW1hc2NJdFZpSVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhOTY2MjVhLTQ3OTAtNDIzNS1iMjAzLTI5OWExYjk2NDliYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WNITn73chUVLCGcSGyyny9WnPsc8JqRKcvxu3fB8rpLCV-rNx2ntpHv1Gvpbj-brQbFZy2YFcz61SyRxmbZNowsZ15EffShZ4xT4HK7203HP5WqVqotFUei5peV33Qn0ifCjiTV0AiNY50ca3vM3p-buyGjiJWqI5hu4n2KIOs6RP6K7f0GlkpWCR7ivmhzFkBukyOK-xlQa-gzUsGfGlgqbLpxqSIqYXTIT8q1y11h4I4X8RNdrULsMad5D8P18mj-fFQzBByi1DIxj8iZeaWsC_40RmRi8rTd9G0c1-3QU7jDaVg_Vv1EyCC4sT-Pwd8wqfyCck-CHIoA258jhhw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;&#x27; @ QOS 0
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:34:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:34Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:34Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea0800f000, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800f280 } }, data: MessageData { topic: &quot;app/1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 52, 51, 101, 48, 100, 49, 100, 45, 56, 55, 98, 55, 45, 52, 56, 56, 55, 45, 57, 57, 56, 50, 45, 51, 57, 54, 99, 49, 52, 102, 99, 52, 50, 99, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 101, 54, 51, 97, 51, 101, 57, 37, 50, 68, 49, 54, 97, 101, 37, 50, 68, 52, 98, 56, 55, 37, 50, 68, 98, 98, 97, 50, 37, 50, 68, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 51, 55, 46, 48, 52, 49, 49, 51, 51, 51, 52, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 101, 54, 51, 97, 51, 101, 57, 37, 50, 68, 49, 54, 97, 101, 37, 50, 68, 52, 98, 56, 55, 37, 50, 68, 98, 98, 97, 50, 37, 50, 68, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 49, 53, 102, 98, 51, 102, 101, 45, 56, 102, 51, 49, 45, 52, 54, 54, 98, 45, 98, 98, 56, 49, 45, 57, 48, 99, 48, 98, 57, 101, 54, 101, 97, 100, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 56, 50, 52, 55, 53, 57, 54, 45, 54, 102, 50, 49, 45, 52, 97, 53, 54, 45, 97, 48, 53, 97, 45, 54, 101, 100, 56, 52, 50, 52, 101, 101, 55, 98, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 51, 53, 48, 101, 99, 49, 50, 45, 99, 50, 98, 54, 45, 52, 100, 57, 101, 45, 98, 57, 99, 56, 45, 57, 52, 101, 100, 51, 48, 102, 57, 97, 101, 97, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 101, 54, 51, 97, 51, 101, 57, 45, 49, 54, 97, 101, 45, 52, 98, 56, 55, 45, 98, 98, 97, 50, 45, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800f280 } } } }
[2022-05-06T15:34:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ed90dc0
[2022-05-06T15:34:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;243e0d1d-87b7-4887-9982-396c14fc42c4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1e63a3e9%2D16ae%2D4b87%2Dbba2%2D77d02ef1dd31/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:37.041133343Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;1e63a3e9%2D16ae%2D4b87%2Dbba2%2D77d02ef1dd31/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;415fb3fe-8f31-466b-bb81-90c0b9e6ead4\&quot;,\&quot;deviceuid\&quot;:\&quot;88247596-6f21-4a56-a05a-6ed8424ee7b3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae\&quot;,\&quot;application\&quot;:\&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;}&quot; }
[2022-05-06T15:34:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:34:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:34:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:34:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:34:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;f205d219-f703-434a-b09a-5801cc40297b&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecd8e00
[2022-05-06T15:34:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecd8e00
[2022-05-06T15:34:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f19b280, password: 0x55f42ed2c050, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f034880, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f10ef50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:39Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd8700 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd8700 } } } }
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0800d5d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800d860 } }, data: MessageData { topic: &quot;app/1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 97, 49, 51, 57, 99, 57, 98, 45, 101, 99, 54, 52, 45, 52, 48, 53, 52, 45, 98, 52, 49, 98, 45, 101, 54, 57, 50, 98, 48, 101, 99, 48, 99, 48, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 101, 54, 51, 97, 51, 101, 57, 37, 50, 68, 49, 54, 97, 101, 37, 50, 68, 52, 98, 56, 55, 37, 50, 68, 98, 98, 97, 50, 37, 50, 68, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 52, 58, 51, 56, 46, 53, 49, 51, 52, 55, 54, 56, 55, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 101, 54, 51, 97, 51, 101, 57, 37, 50, 68, 49, 54, 97, 101, 37, 50, 68, 52, 98, 56, 55, 37, 50, 68, 98, 98, 97, 50, 37, 50, 68, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 101, 54, 51, 97, 51, 101, 57, 45, 49, 54, 97, 101, 45, 52, 98, 56, 55, 45, 98, 98, 97, 50, 45, 55, 55, 100, 48, 50, 101, 102, 49, 100, 100, 51, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 51, 53, 48, 101, 99, 49, 50, 45, 99, 50, 98, 54, 45, 52, 100, 57, 101, 45, 98, 57, 99, 56, 45, 57, 52, 101, 100, 51, 48, 102, 57, 97, 101, 97, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 49, 53, 102, 98, 51, 102, 101, 45, 56, 102, 51, 49, 45, 52, 54, 54, 98, 45, 98, 98, 56, 49, 45, 57, 48, 99, 48, 98, 57, 101, 54, 101, 97, 100, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 49, 53, 102, 98, 51, 102, 101, 45, 56, 102, 51, 49, 45, 52, 54, 54, 98, 45, 98, 98, 56, 49, 45, 57, 48, 99, 48, 98, 57, 101, 54, 101, 97, 100, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800d860 } } } }
[2022-05-06T15:34:39Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee799d0
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2a139c9b-ec64-4054-b41b-e692b0ec0c05\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1e63a3e9%2D16ae%2D4b87%2Dbba2%2D77d02ef1dd31/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:34:38.513476876Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;1e63a3e9%2D16ae%2D4b87%2Dbba2%2D77d02ef1dd31/gateway1\&quot;,\&quot;application\&quot;:\&quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;4350ec12-c2b6-4d9e-b9c8-94ed30f9aeae\&quot;,\&quot;senderuid\&quot;:\&quot;415fb3fe-8f31-466b-bb81-90c0b9e6ead4\&quot;,\&quot;deviceuid\&quot;:\&quot;415fb3fe-8f31-466b-bb81-90c0b9e6ead4\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:34:39Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:34:39Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:34:39Z DEBUG paho_mqtt::token] Token failure! 0x7fea0802cd70, 0x7ffe819ce270
[2022-05-06T15:34:39Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:34:39Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:34:39Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot; &quot;device1&quot;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot; &quot;gateway1&quot;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&#x27;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1e63a3e9-16ae-4b87-bba2-77d02ef1dd31&quot;
[2022-05-06T15:34:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1e63a3e9-16ae-4b87-bba2-77d02ef1dd31 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:34:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:34:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:34:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:34:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwODUsImlhdCI6MTY1MTg1MTI4NSwianRpIjoiYWIwMzhmZTktOTdkZi00Yzk2LTk5NjctMjYxYzUwMDQ3MzM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImI4ZVdvZDYtV0RDcmtiVmFkMDZlUEEiLCJzZXNzaW9uX3N0YXRlIjoiZjI2MWJiODEtMjllOC00MmM4LWI1MDQtNzVjMThjYWUxYWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiJ9.WieK9i98q2mUet9OwU5EExIkBalqPcr89XlbyCNXRJ8
[2022-05-06T15:34:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:34:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwODUsImlhdCI6MTY1MTg1MTI4NSwianRpIjoiYWIwMzhmZTktOTdkZi00Yzk2LTk5NjctMjYxYzUwMDQ3MzM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImI4ZVdvZDYtV0RDcmtiVmFkMDZlUEEiLCJzZXNzaW9uX3N0YXRlIjoiZjI2MWJiODEtMjllOC00MmM4LWI1MDQtNzVjMThjYWUxYWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiJ9.WieK9i98q2mUet9OwU5EExIkBalqPcr89XlbyCNXRJ8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:34:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:46Z INFO  drogue_cloud_tests::resources::apps] Create application: e28119d8-3fc6-4184-b61a-6232ec58a2d3
[2022-05-06T15:34:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;
[2022-05-06T15:34:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e28119d8-3fc6-4184-b61a-6232ec58a2d3 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;
[2022-05-06T15:34:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:46.364616Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5640cc2e-a1b0-41f1-93b5-a3a8c302400d\&quot;,\n    \&quot;uid\&quot;: \&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384848909Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384824264Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384796241Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384797103Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384797564Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384797965Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384798516Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.384802373Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:46.364616Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;), &quot;resourceVersion&quot;: String(&quot;5640cc2e-a1b0-41f1-93b5-a3a8c302400d&quot;), &quot;uid&quot;: String(&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384848909Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384824264Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384796241Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384797103Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384797564Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384797965Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384798516Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.384802373Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:34:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:46.364616Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7c821830-a233-4e8b-94ce-072e76d01570\&quot;,\n    \&quot;uid\&quot;: \&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665158517Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665121908Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.402577946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.408880970Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.475237854Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.480725207Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665075982Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665094186Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;xyC7op6NjJVg\&quot;,\n        \&quot;username\&quot;: \&quot;user-e28119d8-3fc6-4184-b61a-6232ec58a2d3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:46.364616Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;), &quot;resourceVersion&quot;: String(&quot;7c821830-a233-4e8b-94ce-072e76d01570&quot;), &quot;uid&quot;: String(&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665158517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665121908Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.402577946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.408880970Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.475237854Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.480725207Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665075982Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665094186Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;xyC7op6NjJVg&quot;), &quot;username&quot;: String(&quot;user-e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;)})})})})
[2022-05-06T15:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:46.364616Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7c821830-a233-4e8b-94ce-072e76d01570\&quot;,\n    \&quot;uid\&quot;: \&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665158517Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665121908Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.402577946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.408880970Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.475237854Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.480725207Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665075982Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:46.665094186Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;xyC7op6NjJVg\&quot;,\n        \&quot;username\&quot;: \&quot;user-e28119d8-3fc6-4184-b61a-6232ec58a2d3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:46.364616Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;), &quot;resourceVersion&quot;: String(&quot;7c821830-a233-4e8b-94ce-072e76d01570&quot;), &quot;uid&quot;: String(&quot;23fc4ab4-bf43-4276-99de-d4bdf284873c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665158517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665121908Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.402577946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.408880970Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.475237854Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.480725207Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665075982Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:46.665094186Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;xyC7op6NjJVg&quot;), &quot;username&quot;: String(&quot;user-e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;)})})})})
[2022-05-06T15:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1ODUsImlhdCI6MTY1MTg1MTI4NSwiYXV0aF90aW1lIjoxNjUxODUxMjgyLCJqdGkiOiIyOGQzZGJmMi1jYmE2LTRlMTktYTM0OC00MzQ4YmEwMTA5ZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiOGVXb2Q2LVdEQ3JrYlZhZDA2ZVBBIiwic2Vzc2lvbl9zdGF0ZSI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V8sw3hmP1sT16ieg5A-hyGP-R51gqvu8ENxBsd2fsPom0BErcMeLAqnD5b80tGgcSDuiNfQn40-qXax114i-AZg9CMpQaLbca4BfSi9bA-95g6Ltm9PyO38aVC7INLwLewwinOBaFiIbnYEPz98Y-ncP1eGby08wUekLt5Bg2Qy0H-qGePZmyITuvRlnkB4JM4ncyIWIAseOf0uE6CDeKG5yyWxp4UMiu2p6EYTW4dBc739v2P5dsxuKEzeHQ9Tvd0P00ezEQp8wpNg0rg63D4hoBgCIlJfRGnut25R7lO-jX15REK88SQklOb7Mp1DdmrKfLhayEYK4LU6rLa5kRQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1ODUsImlhdCI6MTY1MTg1MTI4NSwiYXV0aF90aW1lIjoxNjUxODUxMjgyLCJqdGkiOiIyOGQzZGJmMi1jYmE2LTRlMTktYTM0OC00MzQ4YmEwMTA5ZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiOGVXb2Q2LVdEQ3JrYlZhZDA2ZVBBIiwic2Vzc2lvbl9zdGF0ZSI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V8sw3hmP1sT16ieg5A-hyGP-R51gqvu8ENxBsd2fsPom0BErcMeLAqnD5b80tGgcSDuiNfQn40-qXax114i-AZg9CMpQaLbca4BfSi9bA-95g6Ltm9PyO38aVC7INLwLewwinOBaFiIbnYEPz98Y-ncP1eGby08wUekLt5Bg2Qy0H-qGePZmyITuvRlnkB4JM4ncyIWIAseOf0uE6CDeKG5yyWxp4UMiu2p6EYTW4dBc739v2P5dsxuKEzeHQ9Tvd0P00ezEQp8wpNg0rg63D4hoBgCIlJfRGnut25R7lO-jX15REK88SQklOb7Mp1DdmrKfLhayEYK4LU6rLa5kRQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;36be8480-1650-4919-93b9-cc6de48fa0ac&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef01130
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef01130
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee5ac50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f079e30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efb3f20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1ODUsImlhdCI6MTY1MTg1MTI4NSwiYXV0aF90aW1lIjoxNjUxODUxMjgyLCJqdGkiOiIyOGQzZGJmMi1jYmE2LTRlMTktYTM0OC00MzQ4YmEwMTA5ZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiOGVXb2Q2LVdEQ3JrYlZhZDA2ZVBBIiwic2Vzc2lvbl9zdGF0ZSI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNjFiYjgxLTI5ZTgtNDJjOC1iNTA0LTc1YzE4Y2FlMWFjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V8sw3hmP1sT16ieg5A-hyGP-R51gqvu8ENxBsd2fsPom0BErcMeLAqnD5b80tGgcSDuiNfQn40-qXax114i-AZg9CMpQaLbca4BfSi9bA-95g6Ltm9PyO38aVC7INLwLewwinOBaFiIbnYEPz98Y-ncP1eGby08wUekLt5Bg2Qy0H-qGePZmyITuvRlnkB4JM4ncyIWIAseOf0uE6CDeKG5yyWxp4UMiu2p6EYTW4dBc739v2P5dsxuKEzeHQ9Tvd0P00ezEQp8wpNg0rg63D4hoBgCIlJfRGnut25R7lO-jX15REK88SQklOb7Mp1DdmrKfLhayEYK4LU6rLa5kRQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:47Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;&#x27; @ QOS 0
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:34:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:34:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:34:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:34:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f0003b70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec76110 } }, data: MessageData { topic: &quot;app/e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec76110 } } } }
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecfd3d0, 0x55f42ed2a370
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed2a370, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed2a370, 0x55f42f189ed0
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f189ed0, 0x55f42edd9d80
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f189ed0, 0x7fea0c001550
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001550, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001550, 0x7fea0c005d90
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005d90, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005d90, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005d90, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005d90, 0x55f42ec75790
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005d90, 0x7fea0c006130
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006130, 0x55f42ef84920
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006130, 0x7fea0c0024b0
[2022-05-06T15:34:51Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0024b0
[2022-05-06T15:34:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://e28119d8%2D3fc6%2D4184%2Db61a%2D6232ec58a2d3/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;ff3ad284-cfe3-440c-9235-8b20e30ba429&quot;, &quot;senderuid&quot;: &quot;fd3b23f8-ee68-428e-a104-d17473a9885c&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, &quot;deviceuid&quot;: &quot;ff84c326-a53c-4cac-bc9b-89c78ef85acf&quot;, &quot;applicationuid&quot;: &quot;23fc4ab4-bf43-4276-99de-d4bdf284873c&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:34:51.041215824+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;e28119d8%2D3fc6%2D4184%2Db61a%2D6232ec58a2d3/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:34:52Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;afcc85b2-c775-466d-977b-8a3db17c851c&quot;, persistence: None, user_data: None }
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed93940
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed93940
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1de820, password: 0x55f42f1b96e0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee02f00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1a07a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f000c700, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42eff8890 } }, data: MessageData { topic: &quot;app/e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42eff8890 } } } }
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0fa4a0, 0x55f42ed90cf0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed90cf0, 0x55f42ee902a0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed90cf0, 0x55f42ee315b0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee315b0, 0x55f42ee65460
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee315b0, 0x7fea10007dd0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x55f42ee902a0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x55f42ee902a0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x7fea10007d70
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x7fea10007d70
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x55f42ed90fe0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x7fea10007d70
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007dd0, 0x7fea10008330
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008330, 0x7fea10007d70
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008330, 0x7fea100099b0
[2022-05-06T15:34:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100099b0
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;33873b1d-2621-4c9b-8fff-937d3d096e99&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;senderuid&quot;: &quot;fd3b23f8-ee68-428e-a104-d17473a9885c&quot;, &quot;source&quot;: &quot;drogue://e28119d8%2D3fc6%2D4184%2Db61a%2D6232ec58a2d3/gateway1&quot;, &quot;time&quot;: &quot;2022-05-06T15:34:52.286900200+00:00&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;23fc4ab4-bf43-4276-99de-d4bdf284873c&quot;, &quot;partitionkey&quot;: &quot;e28119d8%2D3fc6%2D4184%2Db61a%2D6232ec58a2d3/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;fd3b23f8-ee68-428e-a104-d17473a9885c&quot;, &quot;device&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f04d110 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f04d110 } } } }
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:34:52Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:34:52Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot; &quot;device1&quot;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot; &quot;gateway1&quot;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e28119d8-3fc6-4184-b61a-6232ec58a2d3&#x27;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e28119d8-3fc6-4184-b61a-6232ec58a2d3&quot;
[2022-05-06T15:34:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e28119d8-3fc6-4184-b61a-6232ec58a2d3 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:34:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:34:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:34:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:34:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:34:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:34:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:34:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:34:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwOTgsImlhdCI6MTY1MTg1MTI5OCwianRpIjoiNmZmNzcyODQtNGQzMS00YjllLTlkN2EtNGZiY2U2ZDE3OWE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJ4ZE1yLVMtQUpTdlJmZ0Y5ZWdHVUEiLCJzZXNzaW9uX3N0YXRlIjoiODVjZTU3OWItMjNjOC00NWE4LWI4MTctMTQ3ZGQ4NTMwYmIxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSJ9.UGKZc5qA3ANGfSqSWA68_hr5QcvKjNHu8ydYLTnRHsk
[2022-05-06T15:34:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:34:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMwOTgsImlhdCI6MTY1MTg1MTI5OCwianRpIjoiNmZmNzcyODQtNGQzMS00YjllLTlkN2EtNGZiY2U2ZDE3OWE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJ4ZE1yLVMtQUpTdlJmZ0Y5ZWdHVUEiLCJzZXNzaW9uX3N0YXRlIjoiODVjZTU3OWItMjNjOC00NWE4LWI4MTctMTQ3ZGQ4NTMwYmIxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSJ9.UGKZc5qA3ANGfSqSWA68_hr5QcvKjNHu8ydYLTnRHsk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 83a46128-d825-4f40-968a-546a5d0f6a4c
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 83a46128-d825-4f40-968a-546a5d0f6a4c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;
[2022-05-06T15:34:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:59.708518Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;83a46128-d825-4f40-968a-546a5d0f6a4c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9d67269c-5b6c-4e48-8037-a98941273b0f\&quot;,\n    \&quot;uid\&quot;: \&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726490149Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726466034Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726425498Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726426540Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726427121Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726427822Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726428433Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.726439724Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:34:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:59.708518Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;), &quot;resourceVersion&quot;: String(&quot;9d67269c-5b6c-4e48-8037-a98941273b0f&quot;), &quot;uid&quot;: String(&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726490149Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726466034Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726425498Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726426540Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726427121Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726427822Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726428433Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.726439724Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:34:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:59.708518Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;83a46128-d825-4f40-968a-546a5d0f6a4c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;83f1a9bb-22d6-4af0-acb5-f8808e6a812c\&quot;,\n    \&quot;uid\&quot;: \&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986362984Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986323361Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.748474862Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.754889635Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.828361483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.834413466Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986188318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986280251Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GnFR0zmPqaax\&quot;,\n        \&quot;username\&quot;: \&quot;user-83a46128-d825-4f40-968a-546a5d0f6a4c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:59.708518Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;), &quot;resourceVersion&quot;: String(&quot;83f1a9bb-22d6-4af0-acb5-f8808e6a812c&quot;), &quot;uid&quot;: String(&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986362984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986323361Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.748474862Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.754889635Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.828361483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.834413466Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986188318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986280251Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GnFR0zmPqaax&quot;), &quot;username&quot;: String(&quot;user-83a46128-d825-4f40-968a-546a5d0f6a4c&quot;)})})})})
[2022-05-06T15:35:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:34:59.708518Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;83a46128-d825-4f40-968a-546a5d0f6a4c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;83f1a9bb-22d6-4af0-acb5-f8808e6a812c\&quot;,\n    \&quot;uid\&quot;: \&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986362984Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986323361Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.748474862Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.754889635Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.828361483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.834413466Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986188318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:34:59.986280251Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GnFR0zmPqaax\&quot;,\n        \&quot;username\&quot;: \&quot;user-83a46128-d825-4f40-968a-546a5d0f6a4c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:34:59.708518Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;), &quot;resourceVersion&quot;: String(&quot;83f1a9bb-22d6-4af0-acb5-f8808e6a812c&quot;), &quot;uid&quot;: String(&quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986362984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986323361Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.748474862Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.754889635Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.828361483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.834413466Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986188318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:34:59.986280251Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GnFR0zmPqaax&quot;), &quot;username&quot;: String(&quot;user-83a46128-d825-4f40-968a-546a5d0f6a4c&quot;)})})})})
[2022-05-06T15:35:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1OTksImlhdCI6MTY1MTg1MTI5OSwiYXV0aF90aW1lIjoxNjUxODUxMjk2LCJqdGkiOiI0YTI4MWQ5ZC0wNDc4LTQ0MzMtOGQ3Mi0wNWYxY2NjOTQ5YjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSeGRNci1TLUFKU3ZSZmdGOWVnR1VBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PnSFnk0HeH1_DQ3KtnQ9gUcozJyGPgZ_EULZuaFDqb8FHQ9tJw-TeUd9Ap4KR1_g33HWidDnoTeglBvhkfP1zqgiuokbEwS8bYFQAbDiEdPlXnmB589o2XWFDdJkLk7aM-MdHnEVWtpAZJ99uYhrgT2PcEBr5qIYeig5zaSMLE3pscZfDw6zN2BR7bfneGegNfCYEq8Xm3js2HcbMJDE7EyyKyRhPutD-JZTBMnV4dFQSH2hYJ_pLw5JitSL3CC5cc95P8pW2q-pXZ93L3PO5HIwiXycrWnb6XVgOPc1cVx5gYyWBXds7ss8QBzvnHMATljVaSa3dxpygPuteQmHSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1OTksImlhdCI6MTY1MTg1MTI5OSwiYXV0aF90aW1lIjoxNjUxODUxMjk2LCJqdGkiOiI0YTI4MWQ5ZC0wNDc4LTQ0MzMtOGQ3Mi0wNWYxY2NjOTQ5YjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSeGRNci1TLUFKU3ZSZmdGOWVnR1VBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PnSFnk0HeH1_DQ3KtnQ9gUcozJyGPgZ_EULZuaFDqb8FHQ9tJw-TeUd9Ap4KR1_g33HWidDnoTeglBvhkfP1zqgiuokbEwS8bYFQAbDiEdPlXnmB589o2XWFDdJkLk7aM-MdHnEVWtpAZJ99uYhrgT2PcEBr5qIYeig5zaSMLE3pscZfDw6zN2BR7bfneGegNfCYEq8Xm3js2HcbMJDE7EyyKyRhPutD-JZTBMnV4dFQSH2hYJ_pLw5JitSL3CC5cc95P8pW2q-pXZ93L3PO5HIwiXycrWnb6XVgOPc1cVx5gYyWBXds7ss8QBzvnHMATljVaSa3dxpygPuteQmHSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;0b5ac574-341e-4f7d-89d3-c1341e2fecdb&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0d2a70
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0d2a70
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee72b40, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed8c840, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d1eb0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE1OTksImlhdCI6MTY1MTg1MTI5OSwiYXV0aF90aW1lIjoxNjUxODUxMjk2LCJqdGkiOiI0YTI4MWQ5ZC0wNDc4LTQ0MzMtOGQ3Mi0wNWYxY2NjOTQ5YjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSeGRNci1TLUFKU3ZSZmdGOWVnR1VBIiwic2Vzc2lvbl9zdGF0ZSI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1Y2U1NzliLTIzYzgtNDVhOC1iODE3LTE0N2RkODUzMGJiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PnSFnk0HeH1_DQ3KtnQ9gUcozJyGPgZ_EULZuaFDqb8FHQ9tJw-TeUd9Ap4KR1_g33HWidDnoTeglBvhkfP1zqgiuokbEwS8bYFQAbDiEdPlXnmB589o2XWFDdJkLk7aM-MdHnEVWtpAZJ99uYhrgT2PcEBr5qIYeig5zaSMLE3pscZfDw6zN2BR7bfneGegNfCYEq8Xm3js2HcbMJDE7EyyKyRhPutD-JZTBMnV4dFQSH2hYJ_pLw5JitSL3CC5cc95P8pW2q-pXZ93L3PO5HIwiXycrWnb6XVgOPc1cVx5gYyWBXds7ss8QBzvnHMATljVaSa3dxpygPuteQmHSQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:00Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/83a46128-d825-4f40-968a-546a5d0f6a4c&quot;&#x27; @ QOS 0
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:35:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f002cd60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ed02300 } }, data: MessageData { topic: &quot;app/83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ed02300 } } } }
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec9fd30, 0x55f42ee1e720
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e720, 0x55f42eca35c0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e720, 0x55f42ee1e760
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e760, 0x55f42ec7fb70
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e760, 0x7fea10001ac0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x55f42eca35c0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x7fea10003dc0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x55f42eca35c0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x7fea100062a0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x7fea100078a0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100078a0, 0x7fea100062a0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100078a0, 0x7fea100062a0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100078a0, 0x7fea10007640
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007640, 0x7fea100062a0
[2022-05-06T15:35:05Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10007640
[2022-05-06T15:35:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://83a46128%2Dd825%2D4f40%2D968a%2D546a5d0f6a4c/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;89d0cc2d-686f-4dc1-a0b3-0788800a59f4&quot;, &quot;id&quot;: &quot;2e64a04b-007c-42a9-bffc-4eef185a8f0e&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;83a46128%2Dd825%2D4f40%2D968a%2D546a5d0f6a4c/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;time&quot;: &quot;2022-05-06T15:35:05.061355576+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;7277c04c-747e-4d46-9c88-53c4ab4c3964&quot;, &quot;applicationuid&quot;: &quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b&quot;, &quot;application&quot;: &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;}, payload: &quot;{\&quot;index\&quot;:4}&quot; }
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:35:06Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;14fe4631-9ef1-45aa-8866-d91c5b470fd9&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f076880
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f076880
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ed1dda0, password: 0x55f42ecc7330, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eef8fe0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f18c860, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@83a46128-d825-4f40-968a-546a5d0f6a4c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f0007060, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42edd4c90 } }, data: MessageData { topic: &quot;app/83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42edd4c90 } } } }
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f18c6d0, 0x55f42f18b4c0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f18b4c0, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f18b4c0, 0x55f42f0d9530
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d9530, 0x55f42ec3d590
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d9530, 0x7fea0c005410
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x7fea0c000fb0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000fb0, 0x7fea0c005410
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ee217c0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x55f42ed02aa0
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005410, 0x7fea0c005a30
[2022-05-06T15:35:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c005a30
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f05f840 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f05f840 } } } }
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;83a46128%2Dd825%2D4f40%2D968a%2D546a5d0f6a4c/gateway1&quot;, &quot;senderuid&quot;: &quot;7277c04c-747e-4d46-9c88-53c4ab4c3964&quot;, &quot;applicationuid&quot;: &quot;a0c422c0-ede5-4554-892f-e3b8ec6d7c1b&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;42186b78-a466-4582-82aa-5d2ad64e3985&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://83a46128%2Dd825%2D4f40%2D968a%2D546a5d0f6a4c/gateway1&quot;, &quot;time&quot;: &quot;2022-05-06T15:35:06.201192003+00:00&quot;, &quot;deviceuid&quot;: &quot;7277c04c-747e-4d46-9c88-53c4ab4c3964&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:35:06Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:35:06Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot; &quot;device1&quot;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot; &quot;gateway1&quot;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;83a46128-d825-4f40-968a-546a5d0f6a4c&#x27;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;83a46128-d825-4f40-968a-546a5d0f6a4c&quot;
[2022-05-06T15:35:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 83a46128-d825-4f40-968a-546a5d0f6a4c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:35:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:35:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:35:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:35:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxMTIsImlhdCI6MTY1MTg1MTMxMiwianRpIjoiZjBjMzA1NjItODExNi00OTUxLWJiZDItZDQyOTk1MjUzNGNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJ6YkZRY1lfd3B2TWxOWG4yZzFlWkEiLCJzZXNzaW9uX3N0YXRlIjoiM2ExNmE5Y2EtMGQ4ZS00MjBmLTkxY2MtZjQ3ZjU0ZGMxY2NkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCJ9.cgcOidETlZkrtTT5qSDDnQ4ngX8A7QQy26Pk5CTCI-k
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxMTIsImlhdCI6MTY1MTg1MTMxMiwianRpIjoiZjBjMzA1NjItODExNi00OTUxLWJiZDItZDQyOTk1MjUzNGNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJ6YkZRY1lfd3B2TWxOWG4yZzFlWkEiLCJzZXNzaW9uX3N0YXRlIjoiM2ExNmE5Y2EtMGQ4ZS00MjBmLTkxY2MtZjQ3ZjU0ZGMxY2NkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCJ9.cgcOidETlZkrtTT5qSDDnQ4ngX8A7QQy26Pk5CTCI-k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 638f267a-9319-42c0-a19a-8699358f04b0
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 638f267a-9319-42c0-a19a-8699358f04b0 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;
[2022-05-06T15:35:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:13.838861Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;638f267a-9319-42c0-a19a-8699358f04b0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a9abff5-078b-4e5e-bc0a-5e4e7f3211c0\&quot;,\n    \&quot;uid\&quot;: \&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861096351Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861072646Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861043321Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861044163Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861044614Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861045094Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861045625Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.861049854Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:13.838861Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;), &quot;resourceVersion&quot;: String(&quot;3a9abff5-078b-4e5e-bc0a-5e4e7f3211c0&quot;), &quot;uid&quot;: String(&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861096351Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861072646Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861043321Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861044163Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861044614Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861045094Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861045625Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.861049854Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:35:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:13.838861Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;638f267a-9319-42c0-a19a-8699358f04b0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dea3be61-b5c2-427c-ab03-f9853c5f89a1\&quot;,\n    \&quot;uid\&quot;: \&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195687661Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195623891Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.888202762Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.893032234Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.970638962Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.981233608Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195574589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195594186Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Y4KqxT6XoNpH\&quot;,\n        \&quot;username\&quot;: \&quot;user-638f267a-9319-42c0-a19a-8699358f04b0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:13.838861Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;), &quot;resourceVersion&quot;: String(&quot;dea3be61-b5c2-427c-ab03-f9853c5f89a1&quot;), &quot;uid&quot;: String(&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195687661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195623891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.888202762Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.893032234Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.970638962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.981233608Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195574589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195594186Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Y4KqxT6XoNpH&quot;), &quot;username&quot;: String(&quot;user-638f267a-9319-42c0-a19a-8699358f04b0&quot;)})})})})
[2022-05-06T15:35:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:13.838861Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;638f267a-9319-42c0-a19a-8699358f04b0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dea3be61-b5c2-427c-ab03-f9853c5f89a1\&quot;,\n    \&quot;uid\&quot;: \&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195687661Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195623891Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.888202762Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.893032234Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.970638962Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:13.981233608Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195574589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:14.195594186Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Y4KqxT6XoNpH\&quot;,\n        \&quot;username\&quot;: \&quot;user-638f267a-9319-42c0-a19a-8699358f04b0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:13.838861Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;), &quot;resourceVersion&quot;: String(&quot;dea3be61-b5c2-427c-ab03-f9853c5f89a1&quot;), &quot;uid&quot;: String(&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195687661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195623891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.888202762Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.893032234Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.970638962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:13.981233608Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195574589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:14.195594186Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Y4KqxT6XoNpH&quot;), &quot;username&quot;: String(&quot;user-638f267a-9319-42c0-a19a-8699358f04b0&quot;)})})})})
[2022-05-06T15:35:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MTMsImlhdCI6MTY1MTg1MTMxMywiYXV0aF90aW1lIjoxNjUxODUxMzEwLCJqdGkiOiI4MDIxMWRiMC01NGEwLTQxYzQtODc0Mi05Nzc1ZmUzODQ0ZDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSemJGUWNZX3dwdk1sTlhuMmcxZVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Vdv0Z4F__Kl7xJXcEdwbCqDdPisCzFy6F0TrqkM-zpJWMMPod8t8nwslzg8cWwXAw13mJubPhR9LeCZkf3aqOJMROazlGNeL0IsT6-33TEY0MIYuCb0gIUism1jQvPjUG7urLp6__wiPlQlKZuyg6bOs2J3TBBt1ri5Bd7RmFAHOVP1FJ-Z7hhxEZb7N2SWhKJFEl_rxh_XFtcC1q-BV_pPPmaJCPj8UiuFW-tUTxFOscXv3dQpKiWkQ_TQp3VKCD6ve4YJMEH-LMsjCRMJb_gCRgXnvd1KjOiViAetnEu3R-uOvCMMbF5rz9bXHzueQihUKr9gDUBF6xgJKuOmW4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MTMsImlhdCI6MTY1MTg1MTMxMywiYXV0aF90aW1lIjoxNjUxODUxMzEwLCJqdGkiOiI4MDIxMWRiMC01NGEwLTQxYzQtODc0Mi05Nzc1ZmUzODQ0ZDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSemJGUWNZX3dwdk1sTlhuMmcxZVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Vdv0Z4F__Kl7xJXcEdwbCqDdPisCzFy6F0TrqkM-zpJWMMPod8t8nwslzg8cWwXAw13mJubPhR9LeCZkf3aqOJMROazlGNeL0IsT6-33TEY0MIYuCb0gIUism1jQvPjUG7urLp6__wiPlQlKZuyg6bOs2J3TBBt1ri5Bd7RmFAHOVP1FJ-Z7hhxEZb7N2SWhKJFEl_rxh_XFtcC1q-BV_pPPmaJCPj8UiuFW-tUTxFOscXv3dQpKiWkQ_TQp3VKCD6ve4YJMEH-LMsjCRMJb_gCRgXnvd1KjOiViAetnEu3R-uOvCMMbF5rz9bXHzueQihUKr9gDUBF6xgJKuOmW4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;9eb5b743-16c9-47b1-91a7-38c4a0a11986&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed42480
[2022-05-06T15:35:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed42480
[2022-05-06T15:35:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f064380, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec884c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed12b30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MTMsImlhdCI6MTY1MTg1MTMxMywiYXV0aF90aW1lIjoxNjUxODUxMzEwLCJqdGkiOiI4MDIxMWRiMC01NGEwLTQxYzQtODc0Mi05Nzc1ZmUzODQ0ZDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSemJGUWNZX3dwdk1sTlhuMmcxZVpBIiwic2Vzc2lvbl9zdGF0ZSI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhMTZhOWNhLTBkOGUtNDIwZi05MWNjLWY0N2Y1NGRjMWNjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Vdv0Z4F__Kl7xJXcEdwbCqDdPisCzFy6F0TrqkM-zpJWMMPod8t8nwslzg8cWwXAw13mJubPhR9LeCZkf3aqOJMROazlGNeL0IsT6-33TEY0MIYuCb0gIUism1jQvPjUG7urLp6__wiPlQlKZuyg6bOs2J3TBBt1ri5Bd7RmFAHOVP1FJ-Z7hhxEZb7N2SWhKJFEl_rxh_XFtcC1q-BV_pPPmaJCPj8UiuFW-tUTxFOscXv3dQpKiWkQ_TQp3VKCD6ve4YJMEH-LMsjCRMJb_gCRgXnvd1KjOiViAetnEu3R-uOvCMMbF5rz9bXHzueQihUKr9gDUBF6xgJKuOmW4Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:15Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/638f267a-9319-42c0-a19a-8699358f04b0&quot;&#x27; @ QOS 0
[2022-05-06T15:35:15Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:35:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:35:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0010260, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/638f267a-9319-42c0-a19a-8699358f04b0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 52, 54, 48, 101, 57, 55, 49, 45, 53, 98, 56, 101, 45, 52, 52, 50, 51, 45, 98, 52, 55, 100, 45, 50, 100, 48, 55, 97, 99, 98, 102, 99, 52, 48, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 51, 56, 102, 50, 54, 55, 97, 37, 50, 68, 57, 51, 49, 57, 37, 50, 68, 52, 50, 99, 48, 37, 50, 68, 97, 49, 57, 97, 37, 50, 68, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 49, 57, 46, 48, 55, 51, 49, 56, 57, 53, 49, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 55, 53, 57, 102, 52, 54, 99, 45, 52, 57, 55, 54, 45, 52, 102, 101, 53, 45, 57, 101, 98, 99, 45, 55, 101, 100, 51, 100, 50, 49, 101, 98, 53, 48, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 51, 56, 102, 50, 54, 55, 97, 45, 57, 51, 49, 57, 45, 52, 50, 99, 48, 45, 97, 49, 57, 97, 45, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 51, 56, 102, 50, 54, 55, 97, 37, 50, 68, 57, 51, 49, 57, 37, 50, 68, 52, 50, 99, 48, 37, 50, 68, 97, 49, 57, 97, 37, 50, 68, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 100, 101, 52, 55, 98, 56, 97, 45, 101, 100, 97, 56, 45, 52, 98, 101, 98, 45, 97, 53, 57, 53, 45, 48, 51, 56, 56, 101, 48, 100, 48, 52, 101, 50, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 97, 50, 52, 99, 97, 55, 55, 45, 100, 52, 52, 50, 45, 52, 56, 57, 52, 45, 56, 101, 52, 99, 45, 56, 102, 57, 98, 50, 100, 97, 51, 55, 54, 98, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:35:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/638f267a-9319-42c0-a19a-8699358f04b0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3460e971-5b8e-4423-b47d-2d07acbfc406\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://638f267a%2D9319%2D42c0%2Da19a%2D8699358f04b0/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:19.073189511Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;a759f46c-4976-4fe5-9ebc-7ed3d21eb50f\&quot;,\&quot;application\&quot;:\&quot;638f267a-9319-42c0-a19a-8699358f04b0\&quot;,\&quot;partitionkey\&quot;:\&quot;638f267a%2D9319%2D42c0%2Da19a%2D8699358f04b0/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f\&quot;,\&quot;senderuid\&quot;:\&quot;6a24ca77-d442-4894-8e4c-8f9b2da376b6\&quot;}&quot; }
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:35:20Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;58838811-f9f3-41ee-8e3d-340b5de07398&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecb75c0
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecb75c0
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1d86c0, password: 0x55f42f1d8540, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0452a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1d7780, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@638f267a-9319-42c0-a19a-8699358f04b0&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f102ac0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f102ac0 } } } }
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f002ca60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/638f267a-9319-42c0-a19a-8699358f04b0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 51, 52, 56, 56, 53, 48, 48, 45, 54, 56, 100, 100, 45, 52, 55, 55, 57, 45, 56, 51, 101, 54, 45, 56, 55, 97, 51, 101, 54, 102, 101, 101, 56, 53, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 51, 56, 102, 50, 54, 55, 97, 37, 50, 68, 57, 51, 49, 57, 37, 50, 68, 52, 50, 99, 48, 37, 50, 68, 97, 49, 57, 97, 37, 50, 68, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 50, 48, 46, 49, 57, 48, 54, 48, 50, 53, 57, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 100, 101, 52, 55, 98, 56, 97, 45, 101, 100, 97, 56, 45, 52, 98, 101, 98, 45, 97, 53, 57, 53, 45, 48, 51, 56, 56, 101, 48, 100, 48, 52, 101, 50, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 97, 50, 52, 99, 97, 55, 55, 45, 100, 52, 52, 50, 45, 52, 56, 57, 52, 45, 56, 101, 52, 99, 45, 56, 102, 57, 98, 50, 100, 97, 51, 55, 54, 98, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 51, 56, 102, 50, 54, 55, 97, 45, 57, 51, 49, 57, 45, 52, 50, 99, 48, 45, 97, 49, 57, 97, 45, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 51, 56, 102, 50, 54, 55, 97, 37, 50, 68, 57, 51, 49, 57, 37, 50, 68, 52, 50, 99, 48, 37, 50, 68, 97, 49, 57, 97, 37, 50, 68, 56, 54, 57, 57, 51, 53, 56, 102, 48, 52, 98, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 97, 50, 52, 99, 97, 55, 55, 45, 100, 52, 52, 50, 45, 52, 56, 57, 52, 45, 56, 101, 52, 99, 45, 56, 102, 57, 98, 50, 100, 97, 51, 55, 54, 98, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/638f267a-9319-42c0-a19a-8699358f04b0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a3488500-68dd-4779-83e6-87a3e6fee853\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://638f267a%2D9319%2D42c0%2Da19a%2D8699358f04b0/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:20.190602595Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;7de47b8a-eda8-4beb-a595-0388e0d04e2f\&quot;,\&quot;senderuid\&quot;:\&quot;6a24ca77-d442-4894-8e4c-8f9b2da376b6\&quot;,\&quot;application\&quot;:\&quot;638f267a-9319-42c0-a19a-8699358f04b0\&quot;,\&quot;partitionkey\&quot;:\&quot;638f267a%2D9319%2D42c0%2Da19a%2D8699358f04b0/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;6a24ca77-d442-4894-8e4c-8f9b2da376b6\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:35:20Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:35:20Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:35:20Z DEBUG paho_mqtt::token] Token failure! 0x55f42ef176e0, 0x7ffe819ce270
[2022-05-06T15:35:20Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:35:20Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:35:20Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot; &quot;device1&quot;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot; &quot;gateway1&quot;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;638f267a-9319-42c0-a19a-8699358f04b0&#x27;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;638f267a-9319-42c0-a19a-8699358f04b0&quot;
[2022-05-06T15:35:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 638f267a-9319-42c0-a19a-8699358f04b0 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:35:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:35:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:35:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:35:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxMjYsImlhdCI6MTY1MTg1MTMyNiwianRpIjoiNTgzM2RlNTYtMmQ1NC00MjNiLWE2ZjctYTc5NjkxYTcwNGQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZtMDlrV2wzVTlTUFhuNkRRQ1lLLUEiLCJzZXNzaW9uX3N0YXRlIjoiNTU0YWQ2YjktNzEwMC00NGFkLTg4YTEtNDVlYWYyMGUzZDI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSJ9.BSdPurjWuMFgI1yQhz9pzV19OsUT9dHDHmqLkhAaBJg
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxMjYsImlhdCI6MTY1MTg1MTMyNiwianRpIjoiNTgzM2RlNTYtMmQ1NC00MjNiLWE2ZjctYTc5NjkxYTcwNGQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZtMDlrV2wzVTlTUFhuNkRRQ1lLLUEiLCJzZXNzaW9uX3N0YXRlIjoiNTU0YWQ2YjktNzEwMC00NGFkLTg4YTEtNDVlYWYyMGUzZDI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSJ9.BSdPurjWuMFgI1yQhz9pzV19OsUT9dHDHmqLkhAaBJg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::resources::apps] Create application: ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;
[2022-05-06T15:35:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:27.782316Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d6815fea-c94e-4567-9dd5-0f4caf1d7ecc\&quot;,\n    \&quot;uid\&quot;: \&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793827834Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793903386Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793731795Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793734589Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793735351Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793736173Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793736613Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.793770126Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:27.782316Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;), &quot;resourceVersion&quot;: String(&quot;d6815fea-c94e-4567-9dd5-0f4caf1d7ecc&quot;), &quot;uid&quot;: String(&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793827834Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793903386Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793731795Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793734589Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793735351Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793736173Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793736613Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.793770126Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:35:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:27.782316Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0df769bb-1f73-4b44-b6b8-02ba77fd8a40\&quot;,\n    \&quot;uid\&quot;: \&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074127424Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.075047357Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.825609298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.829936889Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.904951359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.911469184Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074082790Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074099732Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mv8tFHJdiLtv\&quot;,\n        \&quot;username\&quot;: \&quot;user-ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:27.782316Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;), &quot;resourceVersion&quot;: String(&quot;0df769bb-1f73-4b44-b6b8-02ba77fd8a40&quot;), &quot;uid&quot;: String(&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074127424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.075047357Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.825609298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.829936889Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.904951359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.911469184Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074082790Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074099732Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mv8tFHJdiLtv&quot;), &quot;username&quot;: String(&quot;user-ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;)})})})})
[2022-05-06T15:35:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:27.782316Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0df769bb-1f73-4b44-b6b8-02ba77fd8a40\&quot;,\n    \&quot;uid\&quot;: \&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074127424Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.075047357Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.825609298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.829936889Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.904951359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:27.911469184Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074082790Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:28.074099732Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mv8tFHJdiLtv\&quot;,\n        \&quot;username\&quot;: \&quot;user-ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:27.782316Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;), &quot;resourceVersion&quot;: String(&quot;0df769bb-1f73-4b44-b6b8-02ba77fd8a40&quot;), &quot;uid&quot;: String(&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074127424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.075047357Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.825609298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.829936889Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.904951359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:27.911469184Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074082790Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:28.074099732Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mv8tFHJdiLtv&quot;), &quot;username&quot;: String(&quot;user-ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;)})})})})
[2022-05-06T15:35:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MjcsImlhdCI6MTY1MTg1MTMyNywiYXV0aF90aW1lIjoxNjUxODUxMzI0LCJqdGkiOiI1MjRjZGQwNC0yZjJkLTQ1MzMtOTU0ZC0yN2U2N2FhNzhhMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2bTA5a1dsM1U5U1BYbjZEUUNZSy1BIiwic2Vzc2lvbl9zdGF0ZSI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V7mQ7z0lduLvnyexoVlvsmK1GPhlh02O4SbCKMxJm4pvfSozq5Ob1q4JnncZ7qzGGT1EkCXhYAev9LOH1lCtf4BHed7RbQzJu1GkEjXhp6CfIgUxyKBtF1S63qbRMdrxqES1DP48JIgy4DpPxkBD-FoEzt-jCl0C3ytthfJWpynbVf_gN0InK5407iBVKRve-VIL6AE1eE6TNa4y3a6lyrW-DkRcVqKhSjZFfJCNqgc0jTZk60Lw5fEOokIwX4tTltBy30OV9lwe5b3K7JYcLUTR4OAM-febSA7Sfz42psiuTotHsp84sHeQb6iVFKQgVCH8gyc4A61UFQ6aEUHMiQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MjcsImlhdCI6MTY1MTg1MTMyNywiYXV0aF90aW1lIjoxNjUxODUxMzI0LCJqdGkiOiI1MjRjZGQwNC0yZjJkLTQ1MzMtOTU0ZC0yN2U2N2FhNzhhMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2bTA5a1dsM1U5U1BYbjZEUUNZSy1BIiwic2Vzc2lvbl9zdGF0ZSI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V7mQ7z0lduLvnyexoVlvsmK1GPhlh02O4SbCKMxJm4pvfSozq5Ob1q4JnncZ7qzGGT1EkCXhYAev9LOH1lCtf4BHed7RbQzJu1GkEjXhp6CfIgUxyKBtF1S63qbRMdrxqES1DP48JIgy4DpPxkBD-FoEzt-jCl0C3ytthfJWpynbVf_gN0InK5407iBVKRve-VIL6AE1eE6TNa4y3a6lyrW-DkRcVqKhSjZFfJCNqgc0jTZk60Lw5fEOokIwX4tTltBy30OV9lwe5b3K7JYcLUTR4OAM-febSA7Sfz42psiuTotHsp84sHeQb6iVFKQgVCH8gyc4A61UFQ6aEUHMiQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f59e6ee7-ea52-4a44-9046-9c67632f11d5&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee74400
[2022-05-06T15:35:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee74400
[2022-05-06T15:35:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee756d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef04e50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f151720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2MjcsImlhdCI6MTY1MTg1MTMyNywiYXV0aF90aW1lIjoxNjUxODUxMzI0LCJqdGkiOiI1MjRjZGQwNC0yZjJkLTQ1MzMtOTU0ZC0yN2U2N2FhNzhhMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2bTA5a1dsM1U5U1BYbjZEUUNZSy1BIiwic2Vzc2lvbl9zdGF0ZSI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1NGFkNmI5LTcxMDAtNDRhZC04OGExLTQ1ZWFmMjBlM2QyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.V7mQ7z0lduLvnyexoVlvsmK1GPhlh02O4SbCKMxJm4pvfSozq5Ob1q4JnncZ7qzGGT1EkCXhYAev9LOH1lCtf4BHed7RbQzJu1GkEjXhp6CfIgUxyKBtF1S63qbRMdrxqES1DP48JIgy4DpPxkBD-FoEzt-jCl0C3ytthfJWpynbVf_gN0InK5407iBVKRve-VIL6AE1eE6TNa4y3a6lyrW-DkRcVqKhSjZFfJCNqgc0jTZk60Lw5fEOokIwX4tTltBy30OV9lwe5b3K7JYcLUTR4OAM-febSA7Sfz42psiuTotHsp84sHeQb6iVFKQgVCH8gyc4A61UFQ6aEUHMiQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;&#x27; @ QOS 0
[2022-05-06T15:35:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:35:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:35:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea080162e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 100, 56, 100, 98, 100, 98, 101, 45, 57, 55, 50, 98, 45, 52, 99, 97, 100, 45, 56, 51, 54, 52, 45, 98, 56, 53, 55, 98, 97, 100, 48, 55, 50, 53, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 102, 50, 97, 49, 97, 48, 102, 37, 50, 68, 98, 97, 56, 56, 37, 50, 68, 52, 98, 55, 49, 37, 50, 68, 56, 52, 51, 56, 37, 50, 68, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 51, 51, 46, 48, 53, 56, 53, 48, 53, 55, 51, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 53, 53, 98, 50, 48, 51, 57, 45, 99, 99, 99, 98, 45, 52, 53, 54, 102, 45, 57, 98, 57, 55, 45, 101, 100, 100, 57, 51, 97, 100, 100, 98, 55, 48, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 51, 56, 52, 48, 49, 50, 45, 98, 53, 55, 99, 45, 52, 50, 48, 98, 45, 57, 98, 98, 48, 45, 98, 52, 101, 51, 49, 57, 98, 98, 56, 99, 51, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 48, 53, 102, 52, 55, 99, 45, 97, 51, 50, 50, 45, 52, 53, 51, 55, 45, 97, 102, 52, 56, 45, 52, 99, 53, 97, 48, 100, 98, 56, 53, 51, 102, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 102, 50, 97, 49, 97, 48, 102, 45, 98, 97, 56, 56, 45, 52, 98, 55, 49, 45, 56, 52, 51, 56, 45, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 102, 50, 97, 49, 97, 48, 102, 37, 50, 68, 98, 97, 56, 56, 37, 50, 68, 52, 98, 55, 49, 37, 50, 68, 56, 52, 51, 56, 37, 50, 68, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:35:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ad8dbdbe-972b-4cad-8364-b857bad07259\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ef2a1a0f%2Dba88%2D4b71%2D8438%2D2b993aaa6b6c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:33.058505738Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;855b2039-cccb-456f-9b97-edd93addb70f\&quot;,\&quot;applicationuid\&quot;:\&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c\&quot;,\&quot;deviceuid\&quot;:\&quot;a505f47c-a322-4537-af48-4c5a0db853f4\&quot;,\&quot;application\&quot;:\&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;ef2a1a0f%2Dba88%2D4b71%2D8438%2D2b993aaa6b6c/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:35:34Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;49d58364-fb1f-4f00-9dc2-050dde35dc03&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f049d40
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f049d40
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f0da5a0, password: 0x55f42edc9fd0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dbd50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d9820, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0802b600, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 51, 56, 49, 50, 55, 51, 54, 45, 56, 100, 57, 102, 45, 52, 52, 101, 57, 45, 97, 99, 48, 49, 45, 100, 50, 101, 100, 48, 100, 57, 55, 98, 50, 53, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 102, 50, 97, 49, 97, 48, 102, 37, 50, 68, 98, 97, 56, 56, 37, 50, 68, 52, 98, 55, 49, 37, 50, 68, 56, 52, 51, 56, 37, 50, 68, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 51, 52, 46, 49, 55, 55, 54, 48, 56, 55, 56, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 102, 50, 97, 49, 97, 48, 102, 37, 50, 68, 98, 97, 56, 56, 37, 50, 68, 52, 98, 55, 49, 37, 50, 68, 56, 52, 51, 56, 37, 50, 68, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 51, 56, 52, 48, 49, 50, 45, 98, 53, 55, 99, 45, 52, 50, 48, 98, 45, 57, 98, 98, 48, 45, 98, 52, 101, 51, 49, 57, 98, 98, 56, 99, 51, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 53, 53, 98, 50, 48, 51, 57, 45, 99, 99, 99, 98, 45, 52, 53, 54, 102, 45, 57, 98, 57, 55, 45, 101, 100, 100, 57, 51, 97, 100, 100, 98, 55, 48, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 102, 50, 97, 49, 97, 48, 102, 45, 98, 97, 56, 56, 45, 52, 98, 55, 49, 45, 56, 52, 51, 56, 45, 50, 98, 57, 57, 51, 97, 97, 97, 54, 98, 54, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 53, 53, 98, 50, 48, 51, 57, 45, 99, 99, 99, 98, 45, 52, 53, 54, 102, 45, 57, 98, 57, 55, 45, 101, 100, 100, 57, 51, 97, 100, 100, 98, 55, 48, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed30f00 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed30f00 } } } }
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;53812736-8d9f-44e9-ac01-d2ed0d97b25d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ef2a1a0f%2Dba88%2D4b71%2D8438%2D2b993aaa6b6c/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:34.177608788Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;ef2a1a0f%2Dba88%2D4b71%2D8438%2D2b993aaa6b6c/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;a8384012-b57c-420b-9bb0-b4e319bb8c3c\&quot;,\&quot;deviceuid\&quot;:\&quot;855b2039-cccb-456f-9b97-edd93addb70f\&quot;,\&quot;application\&quot;:\&quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c\&quot;,\&quot;senderuid\&quot;:\&quot;855b2039-cccb-456f-9b97-edd93addb70f\&quot;}&quot; }
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:35:34Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:35:34Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot; &quot;device1&quot;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot; &quot;gateway1&quot;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&#x27;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c&quot;
[2022-05-06T15:35:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ef2a1a0f-ba88-4b71-8438-2b993aaa6b6c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:35:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:35:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:35:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:35:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNDAsImlhdCI6MTY1MTg1MTM0MCwianRpIjoiMjg0ZDdjOGEtZTljNy00MmUxLWFlZjMtNTIwY2I1Mjg0NDQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imt2bzg2dExXXzVYT0xJWG9Db2tJVkEiLCJzZXNzaW9uX3N0YXRlIjoiZTJkOGJhMTQtZmRiZS00YTM1LTg1Y2YtODdiMTQzOWE5MmIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCJ9.vNlk2D2m7c2Vg87DqVYVVJx55jLqaN0c3xQuDROxbTA
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNDAsImlhdCI6MTY1MTg1MTM0MCwianRpIjoiMjg0ZDdjOGEtZTljNy00MmUxLWFlZjMtNTIwY2I1Mjg0NDQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imt2bzg2dExXXzVYT0xJWG9Db2tJVkEiLCJzZXNzaW9uX3N0YXRlIjoiZTJkOGJhMTQtZmRiZS00YTM1LTg1Y2YtODdiMTQzOWE5MmIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCJ9.vNlk2D2m7c2Vg87DqVYVVJx55jLqaN0c3xQuDROxbTA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::resources::apps] Create application: b3b670e2-be5b-4412-8dac-a40d2e8c3b94
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b3b670e2-be5b-4412-8dac-a40d2e8c3b94 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;
[2022-05-06T15:35:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:41.773985Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;920bf67b-9b7e-42c9-ab7e-11343fe1d429\&quot;,\n    \&quot;uid\&quot;: \&quot;079adad0-d3b3-4518-984c-2119dfb60019\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.787220798Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:41.773985Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;), &quot;resourceVersion&quot;: String(&quot;920bf67b-9b7e-42c9-ab7e-11343fe1d429&quot;), &quot;uid&quot;: String(&quot;079adad0-d3b3-4518-984c-2119dfb60019&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.787220798Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:35:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:41.773985Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;33c0bdb4-3767-42e3-9939-fcac2b1d0bc8\&quot;,\n    \&quot;uid\&quot;: \&quot;079adad0-d3b3-4518-984c-2119dfb60019\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074398738Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074333325Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.825511531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.832457018Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.890808669Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.900000767Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074272371Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074288491Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;VMAewzuRAdMq\&quot;,\n        \&quot;username\&quot;: \&quot;user-b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:41.773985Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;), &quot;resourceVersion&quot;: String(&quot;33c0bdb4-3767-42e3-9939-fcac2b1d0bc8&quot;), &quot;uid&quot;: String(&quot;079adad0-d3b3-4518-984c-2119dfb60019&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074398738Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074333325Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.825511531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.832457018Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.890808669Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.900000767Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074272371Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074288491Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;VMAewzuRAdMq&quot;), &quot;username&quot;: String(&quot;user-b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;)})})})})
[2022-05-06T15:35:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:41.773985Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;33c0bdb4-3767-42e3-9939-fcac2b1d0bc8\&quot;,\n    \&quot;uid\&quot;: \&quot;079adad0-d3b3-4518-984c-2119dfb60019\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074398738Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074333325Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.825511531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.832457018Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.890808669Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:41.900000767Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074272371Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:42.074288491Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;VMAewzuRAdMq\&quot;,\n        \&quot;username\&quot;: \&quot;user-b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:41.773985Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;), &quot;resourceVersion&quot;: String(&quot;33c0bdb4-3767-42e3-9939-fcac2b1d0bc8&quot;), &quot;uid&quot;: String(&quot;079adad0-d3b3-4518-984c-2119dfb60019&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074398738Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074333325Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.825511531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.832457018Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.890808669Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:41.900000767Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074272371Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:42.074288491Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;VMAewzuRAdMq&quot;), &quot;username&quot;: String(&quot;user-b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;)})})})})
[2022-05-06T15:35:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NDEsImlhdCI6MTY1MTg1MTM0MSwiYXV0aF90aW1lIjoxNjUxODUxMzM4LCJqdGkiOiJiY2FkYzdhNC0wMmU3LTQ5OTItYjM3Ni0zMzgwZDNjYWYyNzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrdm84NnRMV181WE9MSVhvQ29rSVZBIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZP6lD8ZwjpJROCOcz8AnLtN9Lkrrdwl6NhhxdfIbF00pk_fMOHkfIa528oyK-ABlyy2iYImOlXtB99u_RR2L1cAhlXe_hiOiVFVbU3hmTcx4B0Byqxyrrr00Hk_Z1rqsQyHJo5kdtAW6qkLgaDvtm4YR4yqbsdSeCPU_VAgyfWDm1Plzm1WZhB5o9Yjgp7zidQYO7N6V1w3FTp354LCELqVyfdYyWYLLFTeQ3m2AKgwnJks5q9RT2yiHHZIf2JNsFV6NR-d_fj8mzs5RGMI86MXVzMSoUSWT88ocbOuk9GnXk-ahr_puOMZAFOHgqhfDtqTtOWFSFE2ugAYd_VFTWg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NDEsImlhdCI6MTY1MTg1MTM0MSwiYXV0aF90aW1lIjoxNjUxODUxMzM4LCJqdGkiOiJiY2FkYzdhNC0wMmU3LTQ5OTItYjM3Ni0zMzgwZDNjYWYyNzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrdm84NnRMV181WE9MSVhvQ29rSVZBIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZP6lD8ZwjpJROCOcz8AnLtN9Lkrrdwl6NhhxdfIbF00pk_fMOHkfIa528oyK-ABlyy2iYImOlXtB99u_RR2L1cAhlXe_hiOiVFVbU3hmTcx4B0Byqxyrrr00Hk_Z1rqsQyHJo5kdtAW6qkLgaDvtm4YR4yqbsdSeCPU_VAgyfWDm1Plzm1WZhB5o9Yjgp7zidQYO7N6V1w3FTp354LCELqVyfdYyWYLLFTeQ3m2AKgwnJks5q9RT2yiHHZIf2JNsFV6NR-d_fj8mzs5RGMI86MXVzMSoUSWT88ocbOuk9GnXk-ahr_puOMZAFOHgqhfDtqTtOWFSFE2ugAYd_VFTWg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;dcb5a45a-2866-4684-809c-e8535175eed3&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0fe510
[2022-05-06T15:35:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0fe510
[2022-05-06T15:35:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eda7380, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eda7a50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed114f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NDEsImlhdCI6MTY1MTg1MTM0MSwiYXV0aF90aW1lIjoxNjUxODUxMzM4LCJqdGkiOiJiY2FkYzdhNC0wMmU3LTQ5OTItYjM3Ni0zMzgwZDNjYWYyNzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrdm84NnRMV181WE9MSVhvQ29rSVZBIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyZDhiYTE0LWZkYmUtNGEzNS04NWNmLTg3YjE0MzlhOTJiMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZP6lD8ZwjpJROCOcz8AnLtN9Lkrrdwl6NhhxdfIbF00pk_fMOHkfIa528oyK-ABlyy2iYImOlXtB99u_RR2L1cAhlXe_hiOiVFVbU3hmTcx4B0Byqxyrrr00Hk_Z1rqsQyHJo5kdtAW6qkLgaDvtm4YR4yqbsdSeCPU_VAgyfWDm1Plzm1WZhB5o9Yjgp7zidQYO7N6V1w3FTp354LCELqVyfdYyWYLLFTeQ3m2AKgwnJks5q9RT2yiHHZIf2JNsFV6NR-d_fj8mzs5RGMI86MXVzMSoUSWT88ocbOuk9GnXk-ahr_puOMZAFOHgqhfDtqTtOWFSFE2ugAYd_VFTWg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:43Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;&#x27; @ QOS 0
[2022-05-06T15:35:43Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:35:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:35:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea080044a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08004720 } }, data: MessageData { topic: &quot;app/b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 53, 57, 98, 48, 100, 52, 55, 45, 48, 101, 98, 97, 45, 52, 54, 52, 53, 45, 57, 51, 102, 55, 45, 57, 56, 50, 55, 56, 99, 99, 54, 50, 49, 102, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 51, 98, 54, 55, 48, 101, 50, 37, 50, 68, 98, 101, 53, 98, 37, 50, 68, 52, 52, 49, 50, 37, 50, 68, 56, 100, 97, 99, 37, 50, 68, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 52, 55, 46, 48, 55, 49, 54, 48, 56, 53, 49, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 98, 53, 56, 102, 57, 53, 48, 45, 100, 52, 98, 52, 45, 52, 99, 97, 55, 45, 56, 51, 49, 99, 45, 54, 49, 55, 53, 97, 53, 102, 51, 55, 57, 53, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 55, 57, 97, 100, 97, 100, 48, 45, 100, 51, 98, 51, 45, 52, 53, 49, 56, 45, 57, 56, 52, 99, 45, 50, 49, 49, 57, 100, 102, 98, 54, 48, 48, 49, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 57, 102, 97, 53, 98, 98, 57, 45, 98, 101, 56, 52, 45, 52, 101, 100, 101, 45, 56, 102, 100, 97, 45, 57, 54, 57, 99, 55, 97, 101, 98, 100, 54, 55, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 51, 98, 54, 55, 48, 101, 50, 37, 50, 68, 98, 101, 53, 98, 37, 50, 68, 52, 52, 49, 50, 37, 50, 68, 56, 100, 97, 99, 37, 50, 68, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 51, 98, 54, 55, 48, 101, 50, 45, 98, 101, 53, 98, 45, 52, 52, 49, 50, 45, 56, 100, 97, 99, 45, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08004720 } } } }
[2022-05-06T15:35:47Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42efb1ba0
[2022-05-06T15:35:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;759b0d47-0eba-4645-93f7-98278cc621f9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b3b670e2%2Dbe5b%2D4412%2D8dac%2Da40d2e8c3b94/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:47.071608511Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;6b58f950-d4b4-4ca7-831c-6175a5f3795e\&quot;,\&quot;applicationuid\&quot;:\&quot;079adad0-d3b3-4518-984c-2119dfb60019\&quot;,\&quot;deviceuid\&quot;:\&quot;09fa5bb9-be84-4ede-8fda-969c7aebd67d\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;b3b670e2%2Dbe5b%2D4412%2D8dac%2Da40d2e8c3b94/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;}&quot; }
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:35:48Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;260231f2-7bcf-4f1e-b35d-ab6820576525&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecad4f0
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecad4f0
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1ec430, password: 0x55f42ed78870, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecae300, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1d00c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed33310 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed33310 } } } }
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea08019950, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08019be0 } }, data: MessageData { topic: &quot;app/b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 49, 50, 102, 97, 55, 53, 53, 45, 56, 51, 99, 99, 45, 52, 102, 48, 56, 45, 97, 56, 53, 50, 45, 53, 56, 57, 53, 54, 97, 100, 54, 49, 55, 102, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 51, 98, 54, 55, 48, 101, 50, 37, 50, 68, 98, 101, 53, 98, 37, 50, 68, 52, 52, 49, 50, 37, 50, 68, 56, 100, 97, 99, 37, 50, 68, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 53, 58, 52, 56, 46, 49, 57, 52, 50, 51, 49, 57, 48, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 98, 53, 56, 102, 57, 53, 48, 45, 100, 52, 98, 52, 45, 52, 99, 97, 55, 45, 56, 51, 49, 99, 45, 54, 49, 55, 53, 97, 53, 102, 51, 55, 57, 53, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 51, 98, 54, 55, 48, 101, 50, 45, 98, 101, 53, 98, 45, 52, 52, 49, 50, 45, 56, 100, 97, 99, 45, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 51, 98, 54, 55, 48, 101, 50, 37, 50, 68, 98, 101, 53, 98, 37, 50, 68, 52, 52, 49, 50, 37, 50, 68, 56, 100, 97, 99, 37, 50, 68, 97, 52, 48, 100, 50, 101, 56, 99, 51, 98, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 55, 57, 97, 100, 97, 100, 48, 45, 100, 51, 98, 51, 45, 52, 53, 49, 56, 45, 57, 56, 52, 99, 45, 50, 49, 49, 57, 100, 102, 98, 54, 48, 48, 49, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 98, 53, 56, 102, 57, 53, 48, 45, 100, 52, 98, 52, 45, 52, 99, 97, 55, 45, 56, 51, 49, 99, 45, 54, 49, 55, 53, 97, 53, 102, 51, 55, 57, 53, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08019be0 } } } }
[2022-05-06T15:35:48Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42efb1ba0
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;412fa755-83cc-4f08-a852-58956ad617fb\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b3b670e2%2Dbe5b%2D4412%2D8dac%2Da40d2e8c3b94/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:35:48.194231908Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;6b58f950-d4b4-4ca7-831c-6175a5f3795e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94\&quot;,\&quot;partitionkey\&quot;:\&quot;b3b670e2%2Dbe5b%2D4412%2D8dac%2Da40d2e8c3b94/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;079adad0-d3b3-4518-984c-2119dfb60019\&quot;,\&quot;senderuid\&quot;:\&quot;6b58f950-d4b4-4ca7-831c-6175a5f3795e\&quot;}&quot; }
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:35:48Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:35:48Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:35:48Z DEBUG paho_mqtt::token] Token failure! 0x55f42eda7c00, 0x7ffe819ce270
[2022-05-06T15:35:48Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:35:48Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:35:48Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot; &quot;device1&quot;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot; &quot;gateway1&quot;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&#x27;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b3b670e2-be5b-4412-8dac-a40d2e8c3b94&quot;
[2022-05-06T15:35:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b3b670e2-be5b-4412-8dac-a40d2e8c3b94 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:35:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:35:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:35:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:35:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:35:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNTQsImlhdCI6MTY1MTg1MTM1NCwianRpIjoiOThhNGU0YTEtMGQ2Yi00YmU4LWJmMWYtYzUyMjNiMDk4N2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik4xY3U0NE9Qblo2cWU4X1lIaHRvVWciLCJzZXNzaW9uX3N0YXRlIjoiNGMzOGZmY2ItN2NkYS00NzUxLWFkZmMtMWNhODk4ZDZhYjhjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyJ9.fujVEttsIhiuYPNg3aQ4UzzR1YnpRuizajbcxPSEGjs
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNTQsImlhdCI6MTY1MTg1MTM1NCwianRpIjoiOThhNGU0YTEtMGQ2Yi00YmU4LWJmMWYtYzUyMjNiMDk4N2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik4xY3U0NE9Qblo2cWU4X1lIaHRvVWciLCJzZXNzaW9uX3N0YXRlIjoiNGMzOGZmY2ItN2NkYS00NzUxLWFkZmMtMWNhODk4ZDZhYjhjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyJ9.fujVEttsIhiuYPNg3aQ4UzzR1YnpRuizajbcxPSEGjs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::resources::apps] Create application: bf953c0d-484a-45d6-a6d4-2d95f02829a3
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App bf953c0d-484a-45d6-a6d4-2d95f02829a3 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;
[2022-05-06T15:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:55.765384Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;131a6043-82aa-4472-b8b8-16016b758e84\&quot;,\n    \&quot;uid\&quot;: \&quot;a8a9be78-8746-419b-8eb9-93291c8bd738\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:55.765384Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;), &quot;resourceVersion&quot;: String(&quot;131a6043-82aa-4472-b8b8-16016b758e84&quot;), &quot;uid&quot;: String(&quot;a8a9be78-8746-419b-8eb9-93291c8bd738&quot;)})})
[2022-05-06T15:35:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:55.765384Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e0c84b57-f6e0-4196-9815-9b179789df3f\&quot;,\n    \&quot;uid\&quot;: \&quot;a8a9be78-8746-419b-8eb9-93291c8bd738\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.304007820Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303943631Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:55.843198254Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:55.856947684Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.063724929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.071338629Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303745318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303911450Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;muGy0zPzFZdp\&quot;,\n        \&quot;username\&quot;: \&quot;user-bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:55.765384Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;), &quot;resourceVersion&quot;: String(&quot;e0c84b57-f6e0-4196-9815-9b179789df3f&quot;), &quot;uid&quot;: String(&quot;a8a9be78-8746-419b-8eb9-93291c8bd738&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.304007820Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303943631Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:55.843198254Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:55.856947684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.063724929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.071338629Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303745318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303911450Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;muGy0zPzFZdp&quot;), &quot;username&quot;: String(&quot;user-bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;)})})})})
[2022-05-06T15:35:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:35:55.765384Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e0c84b57-f6e0-4196-9815-9b179789df3f\&quot;,\n    \&quot;uid\&quot;: \&quot;a8a9be78-8746-419b-8eb9-93291c8bd738\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.304007820Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303943631Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:55.843198254Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:55.856947684Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.063724929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.071338629Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303745318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:35:56.303911450Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;muGy0zPzFZdp\&quot;,\n        \&quot;username\&quot;: \&quot;user-bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:35:55.765384Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;), &quot;resourceVersion&quot;: String(&quot;e0c84b57-f6e0-4196-9815-9b179789df3f&quot;), &quot;uid&quot;: String(&quot;a8a9be78-8746-419b-8eb9-93291c8bd738&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.304007820Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303943631Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:55.843198254Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:55.856947684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.063724929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.071338629Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303745318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:35:56.303911450Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;muGy0zPzFZdp&quot;), &quot;username&quot;: String(&quot;user-bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;)})})})})
[2022-05-06T15:35:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NTUsImlhdCI6MTY1MTg1MTM1NSwiYXV0aF90aW1lIjoxNjUxODUxMzUyLCJqdGkiOiJjZjg5MzQzNC1mMDA4LTRjYjUtODk2NS0wOTUzODlmZDMwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOMWN1NDRPUG5aNnFlOF9ZSGh0b1VnIiwic2Vzc2lvbl9zdGF0ZSI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fVyonhS4NNVg-kSjn6YpIQfRkO9ERgfRhxYvmlD35A76v1YRzihT8DOzrxCpO-EenCFZWaMyJ-nFWkKdPXlSRR2SFOmEsgyP9feuxU7NwTXpLwgI9j2feDDzi13FXIBmaGh0fKcX80YSQHYkHRSrqpVpo5AZEf209MaOYHMNiGhYgRy0OJwXmqfsecgKe1_O069A8vuwi3ei3tNkspkKh_WPDba373jkdui5AwdrOiZ0bfuvleiAo1rk6WLHLVFpjEWsf8MIEU14FvAkZ4SGwQqaOIstgjhv59EgcX8ZYSQFOXa3vbG-MUhACLbB3-VOx8LaT_-3G53KBigiM3iDqQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:35:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NTUsImlhdCI6MTY1MTg1MTM1NSwiYXV0aF90aW1lIjoxNjUxODUxMzUyLCJqdGkiOiJjZjg5MzQzNC1mMDA4LTRjYjUtODk2NS0wOTUzODlmZDMwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOMWN1NDRPUG5aNnFlOF9ZSGh0b1VnIiwic2Vzc2lvbl9zdGF0ZSI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fVyonhS4NNVg-kSjn6YpIQfRkO9ERgfRhxYvmlD35A76v1YRzihT8DOzrxCpO-EenCFZWaMyJ-nFWkKdPXlSRR2SFOmEsgyP9feuxU7NwTXpLwgI9j2feDDzi13FXIBmaGh0fKcX80YSQHYkHRSrqpVpo5AZEf209MaOYHMNiGhYgRy0OJwXmqfsecgKe1_O069A8vuwi3ei3tNkspkKh_WPDba373jkdui5AwdrOiZ0bfuvleiAo1rk6WLHLVFpjEWsf8MIEU14FvAkZ4SGwQqaOIstgjhv59EgcX8ZYSQFOXa3vbG-MUhACLbB3-VOx8LaT_-3G53KBigiM3iDqQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:35:56Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;a6739e6e-25e0-49fb-8b9d-215c7a1c9034&quot;, persistence: None, user_data: None }
[2022-05-06T15:35:56Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:35:56Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee36ef0
[2022-05-06T15:35:56Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee36ef0
[2022-05-06T15:35:56Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efc8380, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dc980, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed7d2d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NTUsImlhdCI6MTY1MTg1MTM1NSwiYXV0aF90aW1lIjoxNjUxODUxMzUyLCJqdGkiOiJjZjg5MzQzNC1mMDA4LTRjYjUtODk2NS0wOTUzODlmZDMwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOMWN1NDRPUG5aNnFlOF9ZSGh0b1VnIiwic2Vzc2lvbl9zdGF0ZSI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjMzhmZmNiLTdjZGEtNDc1MS1hZGZjLTFjYTg5OGQ2YWI4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fVyonhS4NNVg-kSjn6YpIQfRkO9ERgfRhxYvmlD35A76v1YRzihT8DOzrxCpO-EenCFZWaMyJ-nFWkKdPXlSRR2SFOmEsgyP9feuxU7NwTXpLwgI9j2feDDzi13FXIBmaGh0fKcX80YSQHYkHRSrqpVpo5AZEf209MaOYHMNiGhYgRy0OJwXmqfsecgKe1_O069A8vuwi3ei3tNkspkKh_WPDba373jkdui5AwdrOiZ0bfuvleiAo1rk6WLHLVFpjEWsf8MIEU14FvAkZ4SGwQqaOIstgjhv59EgcX8ZYSQFOXa3vbG-MUhACLbB3-VOx8LaT_-3G53KBigiM3iDqQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:35:57Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;&#x27; @ QOS 0
[2022-05-06T15:35:57Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:35:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:35:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:35:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:35:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:35:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:35:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0008d60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0008fe0 } }, data: MessageData { topic: &quot;app/bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 57, 55, 48, 55, 57, 54, 48, 45, 48, 97, 49, 54, 45, 52, 49, 53, 52, 45, 57, 50, 102, 51, 45, 54, 51, 52, 101, 55, 53, 52, 102, 101, 54, 49, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 102, 57, 53, 51, 99, 48, 100, 37, 50, 68, 52, 56, 52, 97, 37, 50, 68, 52, 53, 100, 54, 37, 50, 68, 97, 54, 100, 52, 37, 50, 68, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 48, 49, 46, 49, 48, 50, 51, 54, 53, 49, 52, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 102, 57, 53, 51, 99, 48, 100, 37, 50, 68, 52, 56, 52, 97, 37, 50, 68, 52, 53, 100, 54, 37, 50, 68, 97, 54, 100, 52, 37, 50, 68, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 97, 99, 98, 51, 50, 100, 101, 45, 48, 48, 57, 100, 45, 52, 56, 49, 49, 45, 97, 55, 98, 102, 45, 51, 49, 97, 55, 51, 55, 53, 98, 100, 48, 98, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 97, 57, 98, 101, 55, 56, 45, 56, 55, 52, 54, 45, 52, 49, 57, 98, 45, 56, 101, 98, 57, 45, 57, 51, 50, 57, 49, 99, 56, 98, 100, 55, 51, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 54, 55, 100, 102, 57, 57, 49, 45, 56, 55, 102, 52, 45, 52, 57, 101, 99, 45, 56, 98, 99, 56, 45, 52, 100, 53, 100, 99, 56, 101, 55, 98, 101, 48, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 102, 57, 53, 51, 99, 48, 100, 45, 52, 56, 52, 97, 45, 52, 53, 100, 54, 45, 97, 54, 100, 52, 45, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0008fe0 } } } }
[2022-05-06T15:36:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0072f0
[2022-05-06T15:36:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;89707960-0a16-4154-92f3-634e754fe61f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://bf953c0d%2D484a%2D45d6%2Da6d4%2D2d95f02829a3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:01.102365140Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;bf953c0d%2D484a%2D45d6%2Da6d4%2D2d95f02829a3/device1\&quot;,\&quot;senderuid\&quot;:\&quot;cacb32de-009d-4811-a7bf-31a7375bd0b4\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;a8a9be78-8746-419b-8eb9-93291c8bd738\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;767df991-87f4-49ec-8bc8-4d5dc8e7be03\&quot;,\&quot;application\&quot;:\&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;}&quot; }
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:36:02Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;974a9641-e908-4e27-b476-b60d2add9f34&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed744e0
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed744e0
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f18d6c0, password: 0x55f42f0d5500, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42efdf600, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f21a6f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd84b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd84b0 } } } }
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f002b3a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002b630 } }, data: MessageData { topic: &quot;app/bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 48, 102, 53, 100, 102, 54, 102, 45, 97, 55, 56, 56, 45, 52, 54, 50, 99, 45, 56, 53, 55, 102, 45, 49, 102, 100, 53, 54, 51, 49, 56, 97, 53, 56, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 102, 57, 53, 51, 99, 48, 100, 37, 50, 68, 52, 56, 52, 97, 37, 50, 68, 52, 53, 100, 54, 37, 50, 68, 97, 54, 100, 52, 37, 50, 68, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 48, 50, 46, 50, 49, 56, 50, 49, 50, 49, 48, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 102, 57, 53, 51, 99, 48, 100, 37, 50, 68, 52, 56, 52, 97, 37, 50, 68, 52, 53, 100, 54, 37, 50, 68, 97, 54, 100, 52, 37, 50, 68, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 97, 99, 98, 51, 50, 100, 101, 45, 48, 48, 57, 100, 45, 52, 56, 49, 49, 45, 97, 55, 98, 102, 45, 51, 49, 97, 55, 51, 55, 53, 98, 100, 48, 98, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 102, 57, 53, 51, 99, 48, 100, 45, 52, 56, 52, 97, 45, 52, 53, 100, 54, 45, 97, 54, 100, 52, 45, 50, 100, 57, 53, 102, 48, 50, 56, 50, 57, 97, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 97, 57, 98, 101, 55, 56, 45, 56, 55, 52, 54, 45, 52, 49, 57, 98, 45, 56, 101, 98, 57, 45, 57, 51, 50, 57, 49, 99, 56, 98, 100, 55, 51, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 97, 99, 98, 51, 50, 100, 101, 45, 48, 48, 57, 100, 45, 52, 56, 49, 49, 45, 97, 55, 98, 102, 45, 51, 49, 97, 55, 51, 55, 53, 98, 100, 48, 98, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002b630 } } } }
[2022-05-06T15:36:02Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee77230
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;70f5df6f-a788-462c-857f-1fd56318a587\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://bf953c0d%2D484a%2D45d6%2Da6d4%2D2d95f02829a3/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:02.218212108Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;bf953c0d%2D484a%2D45d6%2Da6d4%2D2d95f02829a3/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;cacb32de-009d-4811-a7bf-31a7375bd0b4\&quot;,\&quot;application\&quot;:\&quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;a8a9be78-8746-419b-8eb9-93291c8bd738\&quot;,\&quot;senderuid\&quot;:\&quot;cacb32de-009d-4811-a7bf-31a7375bd0b4\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:36:02Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:36:02Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot; &quot;device1&quot;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot; &quot;gateway1&quot;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;bf953c0d-484a-45d6-a6d4-2d95f02829a3&#x27;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;bf953c0d-484a-45d6-a6d4-2d95f02829a3&quot;
[2022-05-06T15:36:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App bf953c0d-484a-45d6-a6d4-2d95f02829a3 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:36:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:36:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:36:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:36:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNjksImlhdCI6MTY1MTg1MTM2OSwianRpIjoiZmNkZGEwYTEtOGY5Zi00OTU4LTkxZTgtNTY2NTdiMzdkOTQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVPZl8xcjRQdTI0bUxSc3R4RGFDR0EiLCJzZXNzaW9uX3N0YXRlIjoiZDMzZDg4MjAtYThhNy00YmJlLThkMTAtMjkxZjk3ODE1MzQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCJ9.AgxEpYwnHSb9VWqbRvpq0m0ZhhOHRpddya2ik4cQ2nY
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxNjksImlhdCI6MTY1MTg1MTM2OSwianRpIjoiZmNkZGEwYTEtOGY5Zi00OTU4LTkxZTgtNTY2NTdiMzdkOTQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVPZl8xcjRQdTI0bUxSc3R4RGFDR0EiLCJzZXNzaW9uX3N0YXRlIjoiZDMzZDg4MjAtYThhNy00YmJlLThkMTAtMjkxZjk3ODE1MzQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCJ9.AgxEpYwnHSb9VWqbRvpq0m0ZhhOHRpddya2ik4cQ2nY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::resources::apps] Create application: e0d362d1-c5d6-4fb1-9d48-8ac60720286f
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e0d362d1-c5d6-4fb1-9d48-8ac60720286f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;
[2022-05-06T15:36:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:09.903397Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5e746a76-7bcd-47c5-ac01-041f8414a841\&quot;,\n    \&quot;uid\&quot;: \&quot;1abe3814-13ff-4d79-af04-4f5b682800b7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913839635Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913871014Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913777719Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913779102Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913779793Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913780635Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913782047Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.913788509Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:09.903397Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;), &quot;resourceVersion&quot;: String(&quot;5e746a76-7bcd-47c5-ac01-041f8414a841&quot;), &quot;uid&quot;: String(&quot;1abe3814-13ff-4d79-af04-4f5b682800b7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913839635Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913871014Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913777719Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913779102Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913779793Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913780635Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913782047Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.913788509Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:36:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:09.903397Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;afbf5735-1eee-439f-b037-afb5559573d9\&quot;,\n    \&quot;uid\&quot;: \&quot;1abe3814-13ff-4d79-af04-4f5b682800b7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215701797Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215744567Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.940918996Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.947325603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.007669918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.014649690Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215656071Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215673143Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;SuNNBRBNa5p0\&quot;,\n        \&quot;username\&quot;: \&quot;user-e0d362d1-c5d6-4fb1-9d48-8ac60720286f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:09.903397Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;), &quot;resourceVersion&quot;: String(&quot;afbf5735-1eee-439f-b037-afb5559573d9&quot;), &quot;uid&quot;: String(&quot;1abe3814-13ff-4d79-af04-4f5b682800b7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215701797Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215744567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.940918996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.947325603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.007669918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.014649690Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215656071Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215673143Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;SuNNBRBNa5p0&quot;), &quot;username&quot;: String(&quot;user-e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;)})})})})
[2022-05-06T15:36:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:09.903397Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;afbf5735-1eee-439f-b037-afb5559573d9\&quot;,\n    \&quot;uid\&quot;: \&quot;1abe3814-13ff-4d79-af04-4f5b682800b7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215701797Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215744567Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.940918996Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:09.947325603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.007669918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.014649690Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215656071Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:10.215673143Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;SuNNBRBNa5p0\&quot;,\n        \&quot;username\&quot;: \&quot;user-e0d362d1-c5d6-4fb1-9d48-8ac60720286f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:09.903397Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;), &quot;resourceVersion&quot;: String(&quot;afbf5735-1eee-439f-b037-afb5559573d9&quot;), &quot;uid&quot;: String(&quot;1abe3814-13ff-4d79-af04-4f5b682800b7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215701797Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215744567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.940918996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:09.947325603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.007669918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.014649690Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215656071Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:10.215673143Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;SuNNBRBNa5p0&quot;), &quot;username&quot;: String(&quot;user-e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;)})})})})
[2022-05-06T15:36:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NjksImlhdCI6MTY1MTg1MTM2OSwiYXV0aF90aW1lIjoxNjUxODUxMzY2LCJqdGkiOiIzYTI1NmNkNC1hZGY3LTRhNWUtYjgwNC0zZDI1NzU1YmRiZTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVT2ZfMXI0UHUyNG1MUnN0eERhQ0dBIiwic2Vzc2lvbl9zdGF0ZSI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XuT7f7q7-AzLV_UUclUBctJlqG_eRHc5KnJ_7PPAMY9sdVDG0xX9H6dk4znejpKu0L9n_vjlDK3cYeuOlTOHIee6dJrFqFxP6Up7kYMIRhvxSW4A1yk4QWOONXhAtkzDXJONXDO-ZHrN6smKHxJJrx2klmdjhtfYDPdR3caFGreizpVTRqrCHhTnwlneLt_5tuli4B4-0ovpB196PbSLvYwQOE9GW5GGjdfj31syqfiIpeElAFWbnnpa5OTYf8tL0M9j9540TS0ZmF_Hv_3ZENnT0vVUzktFw-pG2gHBrwIgyJ2Dy3td4lN5NUh4hGBG6_CGxmfTKegYIsjT3CopgA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NjksImlhdCI6MTY1MTg1MTM2OSwiYXV0aF90aW1lIjoxNjUxODUxMzY2LCJqdGkiOiIzYTI1NmNkNC1hZGY3LTRhNWUtYjgwNC0zZDI1NzU1YmRiZTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVT2ZfMXI0UHUyNG1MUnN0eERhQ0dBIiwic2Vzc2lvbl9zdGF0ZSI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XuT7f7q7-AzLV_UUclUBctJlqG_eRHc5KnJ_7PPAMY9sdVDG0xX9H6dk4znejpKu0L9n_vjlDK3cYeuOlTOHIee6dJrFqFxP6Up7kYMIRhvxSW4A1yk4QWOONXhAtkzDXJONXDO-ZHrN6smKHxJJrx2klmdjhtfYDPdR3caFGreizpVTRqrCHhTnwlneLt_5tuli4B4-0ovpB196PbSLvYwQOE9GW5GGjdfj31syqfiIpeElAFWbnnpa5OTYf8tL0M9j9540TS0ZmF_Hv_3ZENnT0vVUzktFw-pG2gHBrwIgyJ2Dy3td4lN5NUh4hGBG6_CGxmfTKegYIsjT3CopgA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;80d4cb36-38ce-478e-88a6-a7cb2534c954&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1a5c70
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1a5c70
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ecff980, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef098f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1a5c30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2NjksImlhdCI6MTY1MTg1MTM2OSwiYXV0aF90aW1lIjoxNjUxODUxMzY2LCJqdGkiOiIzYTI1NmNkNC1hZGY3LTRhNWUtYjgwNC0zZDI1NzU1YmRiZTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVT2ZfMXI0UHUyNG1MUnN0eERhQ0dBIiwic2Vzc2lvbl9zdGF0ZSI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzM2Q4ODIwLWE4YTctNGJiZS04ZDEwLTI5MWY5NzgxNTM0OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XuT7f7q7-AzLV_UUclUBctJlqG_eRHc5KnJ_7PPAMY9sdVDG0xX9H6dk4znejpKu0L9n_vjlDK3cYeuOlTOHIee6dJrFqFxP6Up7kYMIRhvxSW4A1yk4QWOONXhAtkzDXJONXDO-ZHrN6smKHxJJrx2klmdjhtfYDPdR3caFGreizpVTRqrCHhTnwlneLt_5tuli4B4-0ovpB196PbSLvYwQOE9GW5GGjdfj31syqfiIpeElAFWbnnpa5OTYf8tL0M9j9540TS0ZmF_Hv_3ZENnT0vVUzktFw-pG2gHBrwIgyJ2Dy3td4lN5NUh4hGBG6_CGxmfTKegYIsjT3CopgA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:11Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;&#x27; @ QOS 0
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f0004e20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec8afb0 } }, data: MessageData { topic: &quot;app/e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec8afb0 } } } }
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef893a0, 0x55f42f18bd00
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f18bd00, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f18bd00, 0x55f42f0336f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0336f0, 0x7fea10006db0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0336f0, 0x7fea10006d50
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006d50, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006d50, 0x7fea10001ce0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ef89690
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ef852f0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea100063e0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100063e0, 0x7fea10001ce0
[2022-05-06T15:36:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001ce0
[2022-05-06T15:36:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, &quot;deviceuid&quot;: &quot;1dc84e85-3950-452c-a649-ba104dc19629&quot;, &quot;senderuid&quot;: &quot;dc989613-2ed4-4b23-816d-a6d4f3db203b&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;e0d362d1%2Dc5d6%2D4fb1%2D9d48%2D8ac60720286f/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:36:15.103483172+00:00&quot;, &quot;source&quot;: &quot;drogue://e0d362d1%2Dc5d6%2D4fb1%2D9d48%2D8ac60720286f/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;ff7f4c1f-6afd-4a74-aa9b-cf6f6bc2c965&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;applicationuid&quot;: &quot;1abe3814-13ff-4d79-af04-4f5b682800b7&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:36:16Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;56820fe1-e170-41ff-9be1-6510cfa695ee&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ec85640
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ec85640
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ec85600, password: 0x55f42ed00240, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f076290, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f186780, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f002a580, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42edd4c10 } }, data: MessageData { topic: &quot;app/e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42edd4c10 } } } }
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003970, 0x7fea100052a0
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100052a0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100052a0, 0x7fea100049d0
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100049d0, 0x7fe9f0005200
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100049d0, 0x7fea10001ce0
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea10001ac0
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x7fe9f0009600
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ac0, 0x7fea100063e0
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100063e0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100063e0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100063e0, 0x7fe9f0005100
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100063e0, 0x7fea10005300
[2022-05-06T15:36:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10005300
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;e0d362d1%2Dc5d6%2D4fb1%2D9d48%2D8ac60720286f/gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;time&quot;: &quot;2022-05-06T15:36:16.239990029+00:00&quot;, &quot;source&quot;: &quot;drogue://e0d362d1%2Dc5d6%2D4fb1%2D9d48%2D8ac60720286f/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;f4770b98-368f-4107-9e4b-14a1b53ab030&quot;, &quot;application&quot;: &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;dc989613-2ed4-4b23-816d-a6d4f3db203b&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;1abe3814-13ff-4d79-af04-4f5b682800b7&quot;, &quot;deviceuid&quot;: &quot;dc989613-2ed4-4b23-816d-a6d4f3db203b&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0741c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0741c0 } } } }
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:36:16Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:36:16Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot; &quot;device1&quot;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot; &quot;gateway1&quot;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&#x27;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e0d362d1-c5d6-4fb1-9d48-8ac60720286f&quot;
[2022-05-06T15:36:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e0d362d1-c5d6-4fb1-9d48-8ac60720286f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:36:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:36:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:36:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:36:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxODIsImlhdCI6MTY1MTg1MTM4MiwianRpIjoiZjVhYmU0MjktYzU4ZC00MDEzLWFlNDMtY2I1MjJiYjFlMDA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjliekJMaWdRQ1dWNXZmbTRDaTV2Q3ciLCJzZXNzaW9uX3N0YXRlIjoiMDdjZjYxZTEtYjVkNy00ZGIzLWE2YWYtMThmMmIwYTJlYTZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSJ9.G0LLGYxRmZ4iPzUIeykiCi-1gi4XVm9AeVAUnaX8Kms
[2022-05-06T15:36:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:36:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxODIsImlhdCI6MTY1MTg1MTM4MiwianRpIjoiZjVhYmU0MjktYzU4ZC00MDEzLWFlNDMtY2I1MjJiYjFlMDA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjliekJMaWdRQ1dWNXZmbTRDaTV2Q3ciLCJzZXNzaW9uX3N0YXRlIjoiMDdjZjYxZTEtYjVkNy00ZGIzLWE2YWYtMThmMmIwYTJlYTZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSJ9.G0LLGYxRmZ4iPzUIeykiCi-1gi4XVm9AeVAUnaX8Kms&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:36:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:23Z INFO  drogue_cloud_tests::resources::apps] Create application: a3489e82-b231-4ab0-b4d3-a0a36a9dec97
[2022-05-06T15:36:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;
[2022-05-06T15:36:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a3489e82-b231-4ab0-b4d3-a0a36a9dec97 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;
[2022-05-06T15:36:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:23.625261Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;01c7cc09-e81a-467f-b078-f7efc7a07d16\&quot;,\n    \&quot;uid\&quot;: \&quot;a001547a-19e6-49ab-90c4-13c48363e9c2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646974360Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646929055Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646865826Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646866668Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646867089Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646867680Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646868021Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.646878631Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:23.625261Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;), &quot;resourceVersion&quot;: String(&quot;01c7cc09-e81a-467f-b078-f7efc7a07d16&quot;), &quot;uid&quot;: String(&quot;a001547a-19e6-49ab-90c4-13c48363e9c2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646974360Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646929055Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646865826Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646866668Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646867089Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646867680Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646868021Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.646878631Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:36:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:23.625261Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;74be585b-67d0-4013-a089-05daa12c36fd\&quot;,\n    \&quot;uid\&quot;: \&quot;a001547a-19e6-49ab-90c4-13c48363e9c2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926860554Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926816341Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.684297229Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.705555160Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.756097095Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.761805483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926509546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926782618Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iubBACVGE4Bi\&quot;,\n        \&quot;username\&quot;: \&quot;user-a3489e82-b231-4ab0-b4d3-a0a36a9dec97\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:23.625261Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;), &quot;resourceVersion&quot;: String(&quot;74be585b-67d0-4013-a089-05daa12c36fd&quot;), &quot;uid&quot;: String(&quot;a001547a-19e6-49ab-90c4-13c48363e9c2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926860554Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926816341Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.684297229Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.705555160Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.756097095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.761805483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926509546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926782618Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iubBACVGE4Bi&quot;), &quot;username&quot;: String(&quot;user-a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;)})})})})
[2022-05-06T15:36:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:23.625261Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;74be585b-67d0-4013-a089-05daa12c36fd\&quot;,\n    \&quot;uid\&quot;: \&quot;a001547a-19e6-49ab-90c4-13c48363e9c2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926860554Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926816341Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.684297229Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.705555160Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.756097095Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.761805483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926509546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:23.926782618Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iubBACVGE4Bi\&quot;,\n        \&quot;username\&quot;: \&quot;user-a3489e82-b231-4ab0-b4d3-a0a36a9dec97\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:23.625261Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;), &quot;resourceVersion&quot;: String(&quot;74be585b-67d0-4013-a089-05daa12c36fd&quot;), &quot;uid&quot;: String(&quot;a001547a-19e6-49ab-90c4-13c48363e9c2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926860554Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926816341Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.684297229Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.705555160Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.756097095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.761805483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926509546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:23.926782618Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iubBACVGE4Bi&quot;), &quot;username&quot;: String(&quot;user-a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;)})})})})
[2022-05-06T15:36:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2ODIsImlhdCI6MTY1MTg1MTM4MiwiYXV0aF90aW1lIjoxNjUxODUxMzgwLCJqdGkiOiIxNTBiN2E4Yi0wYzY2LTQzMTQtOTk3Yi02ZDM4NzQwNDBmYWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5YnpCTGlnUUNXVjV2Zm00Q2k1dkN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TPxXicce0TMVvN7QfD-mnNc-ANOObMO-E6JVNx7JJc5gCUOD7HjTPvXAwXokJg_TneVKMa47gbr46xt6XJjztpglhE74K2g8yIPLHvf5Xf5aVEZOGavrZQsVBRJSMbhuFZGQg9ZtfS64giViAFRGHiAQ5KbLPjZa5Xr6f06nfD_h-RAJl2ysEX_Ia8zV4PfiZbz2WJwQjDHDR0_5Pd-65jYxXnicA5pkjgD551gR9y644yey1o0AX5FmZpP7f_lWZLqRfawT4_0NaiV7CNE1QK3rrzxeBhVRU5H1UjDEbHHzSk6iFBbGhZNrvDUNCBF-77J1sOohpH83YTPmhJ0J8A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2ODIsImlhdCI6MTY1MTg1MTM4MiwiYXV0aF90aW1lIjoxNjUxODUxMzgwLCJqdGkiOiIxNTBiN2E4Yi0wYzY2LTQzMTQtOTk3Yi02ZDM4NzQwNDBmYWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5YnpCTGlnUUNXVjV2Zm00Q2k1dkN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TPxXicce0TMVvN7QfD-mnNc-ANOObMO-E6JVNx7JJc5gCUOD7HjTPvXAwXokJg_TneVKMa47gbr46xt6XJjztpglhE74K2g8yIPLHvf5Xf5aVEZOGavrZQsVBRJSMbhuFZGQg9ZtfS64giViAFRGHiAQ5KbLPjZa5Xr6f06nfD_h-RAJl2ysEX_Ia8zV4PfiZbz2WJwQjDHDR0_5Pd-65jYxXnicA5pkjgD551gR9y644yey1o0AX5FmZpP7f_lWZLqRfawT4_0NaiV7CNE1QK3rrzxeBhVRU5H1UjDEbHHzSk6iFBbGhZNrvDUNCBF-77J1sOohpH83YTPmhJ0J8A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;ec2ab465-d442-493d-aa5b-be4bd9b543db&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eee9bf0
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eee9bf0
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee41480, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee375d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eeea0f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2ODIsImlhdCI6MTY1MTg1MTM4MiwiYXV0aF90aW1lIjoxNjUxODUxMzgwLCJqdGkiOiIxNTBiN2E4Yi0wYzY2LTQzMTQtOTk3Yi02ZDM4NzQwNDBmYWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5YnpCTGlnUUNXVjV2Zm00Q2k1dkN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3Y2Y2MWUxLWI1ZDctNGRiMy1hNmFmLTE4ZjJiMGEyZWE2ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TPxXicce0TMVvN7QfD-mnNc-ANOObMO-E6JVNx7JJc5gCUOD7HjTPvXAwXokJg_TneVKMa47gbr46xt6XJjztpglhE74K2g8yIPLHvf5Xf5aVEZOGavrZQsVBRJSMbhuFZGQg9ZtfS64giViAFRGHiAQ5KbLPjZa5Xr6f06nfD_h-RAJl2ysEX_Ia8zV4PfiZbz2WJwQjDHDR0_5Pd-65jYxXnicA5pkjgD551gR9y644yey1o0AX5FmZpP7f_lWZLqRfawT4_0NaiV7CNE1QK3rrzxeBhVRU5H1UjDEbHHzSk6iFBbGhZNrvDUNCBF-77J1sOohpH83YTPmhJ0J8A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;&#x27; @ QOS 0
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f00092e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fea080014b0 } }, data: MessageData { topic: &quot;app/a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fea080014b0 } } } }
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f079b90, 0x55f42eeb48e0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeb48e0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeb48e0, 0x55f42eeb4900
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeb4900, 0x55f42f079e30
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeb4900, 0x7fea0c006cd0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42ecc8c60
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x7fea0c003130
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003130, 0x7fea0c006cd0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x55f42eda63f0
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006cd0, 0x7fea0c006790
[2022-05-06T15:36:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c006790
[2022-05-06T15:36:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;deviceuid&quot;: &quot;a7585c02-2ad9-4eb0-a5d6-521f78235c8a&quot;, &quot;senderuid&quot;: &quot;b2d97ab5-7959-4d4d-a014-e5e7e1e9f02e&quot;, &quot;source&quot;: &quot;drogue://a3489e82%2Db231%2D4ab0%2Db4d3%2Da0a36a9dec97/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;id&quot;: &quot;d81cfc27-9319-4f57-9c5d-b5afdfa4ce7d&quot;, &quot;partitionkey&quot;: &quot;a3489e82%2Db231%2D4ab0%2Db4d3%2Da0a36a9dec97/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:36:28.117042039+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;a001547a-19e6-49ab-90c4-13c48363e9c2&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:36:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;106e0622-2a8e-4deb-a052-140e7c30d833&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edb9d50
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edb9d50
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ee96460, password: 0x55f42f1ceac0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee80bf0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee96d00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f0026a70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fea08001e40 } }, data: MessageData { topic: &quot;app/a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fea08001e40 } } } }
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eddd930, 0x55f42efd9140
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efd9140, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efd9140, 0x55f42ef4d3f0
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef4d3f0, 0x7fea10005d30
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef4d3f0, 0x7fea10006f60
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006f60, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006f60, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006f60, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006f60, 0x7fea10001cf0
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x55f42efb2e80
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x7fea100091f0
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100091f0, 0x7fea10001cf0
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001cf0, 0x55f42f1cf420
[2022-05-06T15:36:29Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001cf0
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;a001547a-19e6-49ab-90c4-13c48363e9c2&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-06T15:36:29.224248522+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;deviceuid&quot;: &quot;b2d97ab5-7959-4d4d-a014-e5e7e1e9f02e&quot;, &quot;source&quot;: &quot;drogue://a3489e82%2Db231%2D4ab0%2Db4d3%2Da0a36a9dec97/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;b2d97ab5-7959-4d4d-a014-e5e7e1e9f02e&quot;, &quot;partitionkey&quot;: &quot;a3489e82%2Db231%2D4ab0%2Db4d3%2Da0a36a9dec97/gateway1&quot;, &quot;id&quot;: &quot;6b05184d-c6f9-4852-9c80-b9bd7fc48dd2&quot;, &quot;application&quot;: &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec797c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec797c0 } } } }
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:36:29Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:36:29Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot; &quot;device1&quot;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot; &quot;gateway1&quot;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&#x27;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a3489e82-b231-4ab0-b4d3-a0a36a9dec97&quot;
[2022-05-06T15:36:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a3489e82-b231-4ab0-b4d3-a0a36a9dec97 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:36:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:36:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:36:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:36:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxOTUsImlhdCI6MTY1MTg1MTM5NSwianRpIjoiZjc3YmNmYTEtZTBlZi00NzI5LWJmY2ItZThhNGNhYzQ0OThkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNYaEV1OVBrb3JBeUlOQTlwUlBIU2ciLCJzZXNzaW9uX3N0YXRlIjoiY2I5OTVlMGYtZTczNy00MWJhLWJhMzgtODQ0NDg5ZTgxMDRjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyJ9.ooujaIG6zLPJX6UX3WsoJxDRpyzzj_iOURVVCm-on0c
[2022-05-06T15:36:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:36:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMxOTUsImlhdCI6MTY1MTg1MTM5NSwianRpIjoiZjc3YmNmYTEtZTBlZi00NzI5LWJmY2ItZThhNGNhYzQ0OThkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNYaEV1OVBrb3JBeUlOQTlwUlBIU2ciLCJzZXNzaW9uX3N0YXRlIjoiY2I5OTVlMGYtZTczNy00MWJhLWJhMzgtODQ0NDg5ZTgxMDRjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyJ9.ooujaIG6zLPJX6UX3WsoJxDRpyzzj_iOURVVCm-on0c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 1f5b0985-bce8-40ad-9f1f-57d8ca759e9e
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1f5b0985-bce8-40ad-9f1f-57d8ca759e9e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;
[2022-05-06T15:36:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:36.751004Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;47588d5b-6ff6-4545-b6e8-7017e4fa4515\&quot;,\n    \&quot;uid\&quot;: \&quot;bee2539b-18cb-490a-be07-858ac344bd8f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.766685786Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:36.751004Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;), &quot;resourceVersion&quot;: String(&quot;47588d5b-6ff6-4545-b6e8-7017e4fa4515&quot;), &quot;uid&quot;: String(&quot;bee2539b-18cb-490a-be07-858ac344bd8f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.766685786Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:36:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:36.751004Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7882b0f7-dd3c-462b-8a7e-87c80cb632e6\&quot;,\n    \&quot;uid\&quot;: \&quot;bee2539b-18cb-490a-be07-858ac344bd8f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079735203Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079634044Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.804603110Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.810137893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.891770646Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.899231840Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079473703Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079583209Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Ybi5rBV6OwP9\&quot;,\n        \&quot;username\&quot;: \&quot;user-1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:36.751004Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;), &quot;resourceVersion&quot;: String(&quot;7882b0f7-dd3c-462b-8a7e-87c80cb632e6&quot;), &quot;uid&quot;: String(&quot;bee2539b-18cb-490a-be07-858ac344bd8f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079735203Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079634044Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.804603110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.810137893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.891770646Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.899231840Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079473703Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079583209Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Ybi5rBV6OwP9&quot;), &quot;username&quot;: String(&quot;user-1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;)})})})})
[2022-05-06T15:36:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:36.751004Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7882b0f7-dd3c-462b-8a7e-87c80cb632e6\&quot;,\n    \&quot;uid\&quot;: \&quot;bee2539b-18cb-490a-be07-858ac344bd8f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079735203Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079634044Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.804603110Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.810137893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.891770646Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:36.899231840Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079473703Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:37.079583209Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Ybi5rBV6OwP9\&quot;,\n        \&quot;username\&quot;: \&quot;user-1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:36.751004Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;), &quot;resourceVersion&quot;: String(&quot;7882b0f7-dd3c-462b-8a7e-87c80cb632e6&quot;), &quot;uid&quot;: String(&quot;bee2539b-18cb-490a-be07-858ac344bd8f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079735203Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079634044Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.804603110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.810137893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.891770646Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:36.899231840Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079473703Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:37.079583209Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Ybi5rBV6OwP9&quot;), &quot;username&quot;: String(&quot;user-1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;)})})})})
[2022-05-06T15:36:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2OTYsImlhdCI6MTY1MTg1MTM5NiwiYXV0aF90aW1lIjoxNjUxODUxMzkzLCJqdGkiOiI0ZmQ2ZjQ0OC1kY2YxLTQ3MjgtYjYxZC04YTdmNGQ2YzVjM2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTWGhFdTlQa29yQXlJTkE5cFJQSFNnIiwic2Vzc2lvbl9zdGF0ZSI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GQWIrSA2cKxwY0i4q4QUk34mxMc7EVB1X0LYvIBfTit9Pv6UMS1ckLNlMIMo1WNvgVRiynmmmo9i5A1WWQs3Ie_xCgQFQ2AWbfQYMIxygkZZpCh8KsYi80pFqxAIHqZpnN58y3fDqYLg7FHmfCQiusXZGbFyeso1lfzEX1qTQtJWDR6xFoNF92F9x0eeIwQy5uDDbPuhLnGdL55O8jl97X6MszodONPr7kf3VOuJbH3ZuMca78VFhmEiXa-7Ik88uYLMuFQQXExt7v61t5YgZUeCMQ3obtxvM2ScJfWEjEA64-Rp_i2887ztLoH1dbdcbAQDfuqGSB6_ut0dfEi9ug\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2OTYsImlhdCI6MTY1MTg1MTM5NiwiYXV0aF90aW1lIjoxNjUxODUxMzkzLCJqdGkiOiI0ZmQ2ZjQ0OC1kY2YxLTQ3MjgtYjYxZC04YTdmNGQ2YzVjM2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTWGhFdTlQa29yQXlJTkE5cFJQSFNnIiwic2Vzc2lvbl9zdGF0ZSI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GQWIrSA2cKxwY0i4q4QUk34mxMc7EVB1X0LYvIBfTit9Pv6UMS1ckLNlMIMo1WNvgVRiynmmmo9i5A1WWQs3Ie_xCgQFQ2AWbfQYMIxygkZZpCh8KsYi80pFqxAIHqZpnN58y3fDqYLg7FHmfCQiusXZGbFyeso1lfzEX1qTQtJWDR6xFoNF92F9x0eeIwQy5uDDbPuhLnGdL55O8jl97X6MszodONPr7kf3VOuJbH3ZuMca78VFhmEiXa-7Ik88uYLMuFQQXExt7v61t5YgZUeCMQ3obtxvM2ScJfWEjEA64-Rp_i2887ztLoH1dbdcbAQDfuqGSB6_ut0dfEi9ug\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:37Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3775c4af-be48-4ae8-aaeb-099296e07250&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:37Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:37Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1eb7f0
[2022-05-06T15:36:37Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1eb7f0
[2022-05-06T15:36:37Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f08b1b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee7b220, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1ebb20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE2OTYsImlhdCI6MTY1MTg1MTM5NiwiYXV0aF90aW1lIjoxNjUxODUxMzkzLCJqdGkiOiI0ZmQ2ZjQ0OC1kY2YxLTQ3MjgtYjYxZC04YTdmNGQ2YzVjM2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTWGhFdTlQa29yQXlJTkE5cFJQSFNnIiwic2Vzc2lvbl9zdGF0ZSI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNiOTk1ZTBmLWU3MzctNDFiYS1iYTM4LTg0NDQ4OWU4MTA0YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GQWIrSA2cKxwY0i4q4QUk34mxMc7EVB1X0LYvIBfTit9Pv6UMS1ckLNlMIMo1WNvgVRiynmmmo9i5A1WWQs3Ie_xCgQFQ2AWbfQYMIxygkZZpCh8KsYi80pFqxAIHqZpnN58y3fDqYLg7FHmfCQiusXZGbFyeso1lfzEX1qTQtJWDR6xFoNF92F9x0eeIwQy5uDDbPuhLnGdL55O8jl97X6MszodONPr7kf3VOuJbH3ZuMca78VFhmEiXa-7Ik88uYLMuFQQXExt7v61t5YgZUeCMQ3obtxvM2ScJfWEjEA64-Rp_i2887ztLoH1dbdcbAQDfuqGSB6_ut0dfEi9ug&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:38Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;&#x27; @ QOS 0
[2022-05-06T15:36:38Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:36:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:36:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:38Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:38Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f001c0b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 50, 52, 48, 52, 98, 50, 99, 45, 53, 51, 48, 49, 45, 52, 102, 100, 51, 45, 57, 55, 97, 53, 45, 102, 98, 50, 101, 56, 50, 50, 52, 55, 102, 52, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 102, 53, 98, 48, 57, 56, 53, 37, 50, 68, 98, 99, 101, 56, 37, 50, 68, 52, 48, 97, 100, 37, 50, 68, 57, 102, 49, 102, 37, 50, 68, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 52, 50, 46, 49, 51, 57, 55, 53, 48, 52, 48, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 51, 97, 53, 100, 55, 102, 57, 45, 56, 100, 99, 99, 45, 52, 55, 98, 54, 45, 57, 53, 100, 101, 45, 55, 50, 54, 54, 97, 100, 53, 51, 99, 98, 48, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 52, 55, 55, 99, 55, 49, 52, 45, 49, 99, 53, 100, 45, 52, 50, 49, 50, 45, 57, 97, 50, 56, 45, 100, 102, 51, 53, 102, 101, 49, 97, 100, 50, 49, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 102, 53, 98, 48, 57, 56, 53, 37, 50, 68, 98, 99, 101, 56, 37, 50, 68, 52, 48, 97, 100, 37, 50, 68, 57, 102, 49, 102, 37, 50, 68, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 102, 53, 98, 48, 57, 56, 53, 45, 98, 99, 101, 56, 45, 52, 48, 97, 100, 45, 57, 102, 49, 102, 45, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 101, 101, 50, 53, 51, 57, 98, 45, 49, 56, 99, 98, 45, 52, 57, 48, 97, 45, 98, 101, 48, 55, 45, 56, 53, 56, 97, 99, 51, 52, 52, 98, 100, 56, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:36:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e2404b2c-5301-4fd3-97a5-fb2e82247f41\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1f5b0985%2Dbce8%2D40ad%2D9f1f%2D57d8ca759e9e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:42.139750404Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;03a5d7f9-8dcc-47b6-95de-7266ad53cb08\&quot;,\&quot;senderuid\&quot;:\&quot;d477c714-1c5d-4212-9a28-df35fe1ad213\&quot;,\&quot;partitionkey\&quot;:\&quot;1f5b0985%2Dbce8%2D40ad%2D9f1f%2D57d8ca759e9e/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;,\&quot;applicationuid\&quot;:\&quot;bee2539b-18cb-490a-be07-858ac344bd8f\&quot;}&quot; }
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:36:43Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0c43d973-9010-400c-bb1d-387c49c2ab22&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee99430
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee99430
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f08bd00, password: 0x55f42f151d00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eee0bc0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f18a3d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0019340, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 54, 52, 55, 99, 51, 49, 100, 45, 49, 97, 97, 99, 45, 52, 98, 51, 51, 45, 57, 55, 56, 53, 45, 52, 98, 101, 52, 100, 53, 50, 98, 48, 101, 50, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 102, 53, 98, 48, 57, 56, 53, 37, 50, 68, 98, 99, 101, 56, 37, 50, 68, 52, 48, 97, 100, 37, 50, 68, 57, 102, 49, 102, 37, 50, 68, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 52, 51, 46, 50, 55, 48, 48, 54, 53, 51, 49, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 102, 53, 98, 48, 57, 56, 53, 37, 50, 68, 98, 99, 101, 56, 37, 50, 68, 52, 48, 97, 100, 37, 50, 68, 57, 102, 49, 102, 37, 50, 68, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 101, 101, 50, 53, 51, 57, 98, 45, 49, 56, 99, 98, 45, 52, 57, 48, 97, 45, 98, 101, 48, 55, 45, 56, 53, 56, 97, 99, 51, 52, 52, 98, 100, 56, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 102, 53, 98, 48, 57, 56, 53, 45, 98, 99, 101, 56, 45, 52, 48, 97, 100, 45, 57, 102, 49, 102, 45, 53, 55, 100, 56, 99, 97, 55, 53, 57, 101, 57, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 52, 55, 55, 99, 55, 49, 52, 45, 49, 99, 53, 100, 45, 52, 50, 49, 50, 45, 57, 97, 50, 56, 45, 100, 102, 51, 53, 102, 101, 49, 97, 100, 50, 49, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 52, 55, 55, 99, 55, 49, 52, 45, 49, 99, 53, 100, 45, 52, 50, 49, 50, 45, 57, 97, 50, 56, 45, 100, 102, 51, 53, 102, 101, 49, 97, 100, 50, 49, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed0fcf0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed0fcf0 } } } }
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b647c31d-1aac-4b33-9785-4be4d52b0e20\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1f5b0985%2Dbce8%2D40ad%2D9f1f%2D57d8ca759e9e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:43.270065318Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;1f5b0985%2Dbce8%2D40ad%2D9f1f%2D57d8ca759e9e/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;bee2539b-18cb-490a-be07-858ac344bd8f\&quot;,\&quot;application\&quot;:\&quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;d477c714-1c5d-4212-9a28-df35fe1ad213\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;d477c714-1c5d-4212-9a28-df35fe1ad213\&quot;}&quot; }
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:36:43Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:36:43Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot; &quot;device1&quot;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot; &quot;gateway1&quot;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&#x27;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1f5b0985-bce8-40ad-9f1f-57d8ca759e9e&quot;
[2022-05-06T15:36:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1f5b0985-bce8-40ad-9f1f-57d8ca759e9e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:36:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:36:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:36:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:36:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:36:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMTAsImlhdCI6MTY1MTg1MTQxMCwianRpIjoiZGFhMzhmZTQtYmJmNC00ZWIxLTk2NTMtNDYyZWU2M2U5NmE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InV5cDk3N2FMNE5ZeDhpOXhBRWhTTnciLCJzZXNzaW9uX3N0YXRlIjoiNDcwZDlmNTAtM2QyMy00ODYxLWE0MzQtZTA5ZGMzNzdiMzBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiJ9.lWYsXQmRnuMlKxfASFycGZQhoJ7Q4VRz0yUK4UgSE2M
[2022-05-06T15:36:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:36:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMTAsImlhdCI6MTY1MTg1MTQxMCwianRpIjoiZGFhMzhmZTQtYmJmNC00ZWIxLTk2NTMtNDYyZWU2M2U5NmE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InV5cDk3N2FMNE5ZeDhpOXhBRWhTTnciLCJzZXNzaW9uX3N0YXRlIjoiNDcwZDlmNTAtM2QyMy00ODYxLWE0MzQtZTA5ZGMzNzdiMzBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiJ9.lWYsXQmRnuMlKxfASFycGZQhoJ7Q4VRz0yUK4UgSE2M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:36:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:51Z INFO  drogue_cloud_tests::resources::apps] Create application: cbe128c8-c26d-4252-afbb-c91b637326eb
[2022-05-06T15:36:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;
[2022-05-06T15:36:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cbe128c8-c26d-4252-afbb-c91b637326eb created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;
[2022-05-06T15:36:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:51.060947Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;180d7d53-0062-44b7-811e-0822d605ea5d\&quot;,\n    \&quot;uid\&quot;: \&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074535977Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074627348Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074451999Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074453963Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074454794Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074455826Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074457159Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.074503946Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:51.060947Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;), &quot;resourceVersion&quot;: String(&quot;180d7d53-0062-44b7-811e-0822d605ea5d&quot;), &quot;uid&quot;: String(&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074535977Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074627348Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074451999Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074453963Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074454794Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074455826Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074457159Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.074503946Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:36:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:51.060947Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1c24ec77-ed5e-4776-b194-6096909292c1\&quot;,\n    \&quot;uid\&quot;: \&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322303535Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322414763Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.098537940Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.102591758Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.166905953Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.172968706Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322256657Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322276845Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;SCgR3sNkTM5u\&quot;,\n        \&quot;username\&quot;: \&quot;user-cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:51.060947Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;), &quot;resourceVersion&quot;: String(&quot;1c24ec77-ed5e-4776-b194-6096909292c1&quot;), &quot;uid&quot;: String(&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322303535Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322414763Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.098537940Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.102591758Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.166905953Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.172968706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322256657Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322276845Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;SCgR3sNkTM5u&quot;), &quot;username&quot;: String(&quot;user-cbe128c8-c26d-4252-afbb-c91b637326eb&quot;)})})})})
[2022-05-06T15:36:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:36:51.060947Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1c24ec77-ed5e-4776-b194-6096909292c1\&quot;,\n    \&quot;uid\&quot;: \&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322303535Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322414763Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.098537940Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.102591758Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.166905953Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.172968706Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322256657Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:36:51.322276845Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;SCgR3sNkTM5u\&quot;,\n        \&quot;username\&quot;: \&quot;user-cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:36:51.060947Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;), &quot;resourceVersion&quot;: String(&quot;1c24ec77-ed5e-4776-b194-6096909292c1&quot;), &quot;uid&quot;: String(&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322303535Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322414763Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.098537940Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.102591758Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.166905953Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.172968706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322256657Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:36:51.322276845Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;SCgR3sNkTM5u&quot;), &quot;username&quot;: String(&quot;user-cbe128c8-c26d-4252-afbb-c91b637326eb&quot;)})})})})
[2022-05-06T15:36:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MTAsImlhdCI6MTY1MTg1MTQxMCwiYXV0aF90aW1lIjoxNjUxODUxNDA3LCJqdGkiOiI2NGUxOGUxMi1jNDNmLTRjOWYtOWE0Yy1jY2QwY2VkYTdmYzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1eXA5NzdhTDROWXg4aTl4QUVoU053Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UTiMEHDyAumd6eLSMn8plzD9RlLkoU7BDarTdlk-iCAkUIhLMKt7MxkZnzPvEDHre759qw94VNCco-jPk_05FsRyq6kbEePJxn7paBebJpsOUOz5bbaVAMRNAgMZJsbqZQMyBLSg6fGr0eQQ0Gw0SaQi36HTohXklejhh_iEtQMdcLmp7ZfJHzUHeu1lpV0JAyYZC9nedNZrom-DG3Hq5UR7OeeH-Kld2xQmGY6ZnS7LmGj5zs7OW4P0Blq7VouLWX4KIfCMP5u3_17Hg4wrr6MaA3iveV9Ui-7U4dS9doAf4NvoXYJL9zAuJR5EO9MiCaKRH4LFXpivwzVlIgEnPg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MTAsImlhdCI6MTY1MTg1MTQxMCwiYXV0aF90aW1lIjoxNjUxODUxNDA3LCJqdGkiOiI2NGUxOGUxMi1jNDNmLTRjOWYtOWE0Yy1jY2QwY2VkYTdmYzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1eXA5NzdhTDROWXg4aTl4QUVoU053Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UTiMEHDyAumd6eLSMn8plzD9RlLkoU7BDarTdlk-iCAkUIhLMKt7MxkZnzPvEDHre759qw94VNCco-jPk_05FsRyq6kbEePJxn7paBebJpsOUOz5bbaVAMRNAgMZJsbqZQMyBLSg6fGr0eQQ0Gw0SaQi36HTohXklejhh_iEtQMdcLmp7ZfJHzUHeu1lpV0JAyYZC9nedNZrom-DG3Hq5UR7OeeH-Kld2xQmGY6ZnS7LmGj5zs7OW4P0Blq7VouLWX4KIfCMP5u3_17Hg4wrr6MaA3iveV9Ui-7U4dS9doAf4NvoXYJL9zAuJR5EO9MiCaKRH4LFXpivwzVlIgEnPg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;287d81e6-f8dc-46f0-948e-282b4821e448&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee9ad60
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee9ad60
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eca8390, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f18cd70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee9b120, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MTAsImlhdCI6MTY1MTg1MTQxMCwiYXV0aF90aW1lIjoxNjUxODUxNDA3LCJqdGkiOiI2NGUxOGUxMi1jNDNmLTRjOWYtOWE0Yy1jY2QwY2VkYTdmYzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1eXA5NzdhTDROWXg4aTl4QUVoU053Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3MGQ5ZjUwLTNkMjMtNDg2MS1hNDM0LWUwOWRjMzc3YjMwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UTiMEHDyAumd6eLSMn8plzD9RlLkoU7BDarTdlk-iCAkUIhLMKt7MxkZnzPvEDHre759qw94VNCco-jPk_05FsRyq6kbEePJxn7paBebJpsOUOz5bbaVAMRNAgMZJsbqZQMyBLSg6fGr0eQQ0Gw0SaQi36HTohXklejhh_iEtQMdcLmp7ZfJHzUHeu1lpV0JAyYZC9nedNZrom-DG3Hq5UR7OeeH-Kld2xQmGY6ZnS7LmGj5zs7OW4P0Blq7VouLWX4KIfCMP5u3_17Hg4wrr6MaA3iveV9Ui-7U4dS9doAf4NvoXYJL9zAuJR5EO9MiCaKRH4LFXpivwzVlIgEnPg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:52Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/cbe128c8-c26d-4252-afbb-c91b637326eb&quot;&#x27; @ QOS 0
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:36:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:36:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:36:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:36:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f000c260, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 98, 99, 49, 56, 49, 57, 97, 45, 51, 48, 52, 100, 45, 52, 49, 48, 102, 45, 98, 55, 51, 100, 45, 100, 48, 51, 57, 57, 99, 51, 52, 51, 57, 54, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 101, 49, 50, 56, 99, 56, 37, 50, 68, 99, 50, 54, 100, 37, 50, 68, 52, 50, 53, 50, 37, 50, 68, 97, 102, 98, 98, 37, 50, 68, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 53, 54, 46, 49, 51, 54, 50, 48, 49, 53, 48, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 53, 49, 102, 54, 57, 48, 101, 45, 53, 99, 97, 99, 45, 52, 48, 98, 56, 45, 98, 53, 102, 97, 45, 98, 100, 50, 100, 54, 52, 49, 101, 99, 97, 50, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 101, 49, 50, 56, 99, 56, 45, 99, 50, 54, 100, 45, 52, 50, 53, 50, 45, 97, 102, 98, 98, 45, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 101, 49, 50, 56, 99, 56, 37, 50, 68, 99, 50, 54, 100, 37, 50, 68, 52, 50, 53, 50, 37, 50, 68, 97, 102, 98, 98, 37, 50, 68, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 101, 99, 102, 54, 99, 99, 99, 45, 57, 49, 50, 98, 45, 52, 53, 55, 99, 45, 56, 97, 56, 101, 45, 53, 97, 55, 57, 49, 102, 49, 57, 97, 56, 48, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 51, 54, 57, 49, 97, 48, 97, 45, 57, 101, 100, 48, 45, 52, 100, 99, 101, 45, 56, 56, 49, 55, 45, 51, 100, 102, 50, 51, 98, 98, 50, 57, 100, 97, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:36:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4bc1819a-304d-410f-b73d-d0399c343967\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cbe128c8%2Dc26d%2D4252%2Dafbb%2Dc91b637326eb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:56.136201509Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;b51f690e-5cac-40b8-b5fa-bd2d641eca24\&quot;,\&quot;application\&quot;:\&quot;cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;,\&quot;partitionkey\&quot;:\&quot;cbe128c8%2Dc26d%2D4252%2Dafbb%2Dc91b637326eb/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;7ecf6ccc-912b-457c-8a8e-5a791f19a805\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:36:57Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;57e52c53-c97e-45a3-9ea0-e193be3e27e7&quot;, persistence: None, user_data: None }
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eee2b60
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eee2b60
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42edd96b0, password: 0x55f42edd1850, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f079040, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1b35a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@cbe128c8-c26d-4252-afbb-c91b637326eb&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0005800, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 56, 48, 49, 52, 55, 101, 48, 45, 50, 99, 101, 101, 45, 52, 51, 53, 55, 45, 57, 56, 98, 56, 45, 102, 97, 100, 54, 100, 54, 97, 50, 100, 56, 98, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 101, 49, 50, 56, 99, 56, 37, 50, 68, 99, 50, 54, 100, 37, 50, 68, 52, 50, 53, 50, 37, 50, 68, 97, 102, 98, 98, 37, 50, 68, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 54, 58, 53, 55, 46, 50, 53, 50, 51, 56, 52, 57, 54, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 53, 49, 102, 54, 57, 48, 101, 45, 53, 99, 97, 99, 45, 52, 48, 98, 56, 45, 98, 53, 102, 97, 45, 98, 100, 50, 100, 54, 52, 49, 101, 99, 97, 50, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 101, 49, 50, 56, 99, 56, 37, 50, 68, 99, 50, 54, 100, 37, 50, 68, 52, 50, 53, 50, 37, 50, 68, 97, 102, 98, 98, 37, 50, 68, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 51, 54, 57, 49, 97, 48, 97, 45, 57, 101, 100, 48, 45, 52, 100, 99, 101, 45, 56, 56, 49, 55, 45, 51, 100, 102, 50, 51, 98, 98, 50, 57, 100, 97, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 101, 49, 50, 56, 99, 56, 45, 99, 50, 54, 100, 45, 52, 50, 53, 50, 45, 97, 102, 98, 98, 45, 99, 57, 49, 98, 54, 51, 55, 51, 50, 54, 101, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 53, 49, 102, 54, 57, 48, 101, 45, 53, 99, 97, 99, 45, 52, 48, 98, 56, 45, 98, 53, 102, 97, 45, 98, 100, 50, 100, 54, 52, 49, 101, 99, 97, 50, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f077b10 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f077b10 } } } }
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a80147e0-2cee-4357-98b8-fad6d6a2d8b9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cbe128c8%2Dc26d%2D4252%2Dafbb%2Dc91b637326eb/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:36:57.252384968Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;b51f690e-5cac-40b8-b5fa-bd2d641eca24\&quot;,\&quot;partitionkey\&quot;:\&quot;cbe128c8%2Dc26d%2D4252%2Dafbb%2Dc91b637326eb/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;33691a0a-9ed0-4dce-8817-3df23bb29da6\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;cbe128c8-c26d-4252-afbb-c91b637326eb\&quot;,\&quot;deviceuid\&quot;:\&quot;b51f690e-5cac-40b8-b5fa-bd2d641eca24\&quot;}&quot; }
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:36:57Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:36:57Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot; &quot;device1&quot;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot; &quot;gateway1&quot;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;cbe128c8-c26d-4252-afbb-c91b637326eb&#x27;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;cbe128c8-c26d-4252-afbb-c91b637326eb&quot;
[2022-05-06T15:36:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cbe128c8-c26d-4252-afbb-c91b637326eb deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:36:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:36:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:36:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:36:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:36:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:37:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:37:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMjMsImlhdCI6MTY1MTg1MTQyMywianRpIjoiOTc0Mzc0N2MtNzY3MC00ZmQ5LThlZDktMDIzYjcyYTIxOTM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IldZaEdRMzFyanpXNHAyNzNWUkJJZFEiLCJzZXNzaW9uX3N0YXRlIjoiYjVmM2M4YjQtZDU4Ny00YTg3LWJiYTItMzFmMDRlODFkMDI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSJ9.J3QMv9Y4Q6GBlBnJ9o-MVwqGbx_TEv7HPys_lixb7tU
[2022-05-06T15:37:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:37:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMjMsImlhdCI6MTY1MTg1MTQyMywianRpIjoiOTc0Mzc0N2MtNzY3MC00ZmQ5LThlZDktMDIzYjcyYTIxOTM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IldZaEdRMzFyanpXNHAyNzNWUkJJZFEiLCJzZXNzaW9uX3N0YXRlIjoiYjVmM2M4YjQtZDU4Ny00YTg3LWJiYTItMzFmMDRlODFkMDI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSJ9.J3QMv9Y4Q6GBlBnJ9o-MVwqGbx_TEv7HPys_lixb7tU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:37:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 7952f312-3462-4bb0-9f5d-b2d9754ea24e
[2022-05-06T15:37:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;
[2022-05-06T15:37:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7952f312-3462-4bb0-9f5d-b2d9754ea24e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;
[2022-05-06T15:37:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:04.655580Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1b19739a-a62e-4a42-806e-27a85e696b68\&quot;,\n    \&quot;uid\&quot;: \&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.672306295Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:04.655580Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;), &quot;resourceVersion&quot;: String(&quot;1b19739a-a62e-4a42-806e-27a85e696b68&quot;), &quot;uid&quot;: String(&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.672306295Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:37:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:04.655580Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8561cb32-af29-458f-be55-eda659b57e26\&quot;,\n    \&quot;uid\&quot;: \&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965651233Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965578908Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.706985189Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.713425670Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.805176376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.813064500Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965334560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965544553Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CZG6ATPjeGhr\&quot;,\n        \&quot;username\&quot;: \&quot;user-7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:04.655580Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;), &quot;resourceVersion&quot;: String(&quot;8561cb32-af29-458f-be55-eda659b57e26&quot;), &quot;uid&quot;: String(&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965651233Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965578908Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.706985189Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.713425670Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.805176376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.813064500Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965334560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965544553Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CZG6ATPjeGhr&quot;), &quot;username&quot;: String(&quot;user-7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;)})})})})
[2022-05-06T15:37:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:04.655580Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8561cb32-af29-458f-be55-eda659b57e26\&quot;,\n    \&quot;uid\&quot;: \&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965651233Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965578908Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.706985189Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.713425670Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.805176376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.813064500Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965334560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:04.965544553Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CZG6ATPjeGhr\&quot;,\n        \&quot;username\&quot;: \&quot;user-7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:04.655580Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;), &quot;resourceVersion&quot;: String(&quot;8561cb32-af29-458f-be55-eda659b57e26&quot;), &quot;uid&quot;: String(&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965651233Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965578908Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.706985189Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.713425670Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.805176376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.813064500Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965334560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:04.965544553Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CZG6ATPjeGhr&quot;), &quot;username&quot;: String(&quot;user-7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;)})})})})
[2022-05-06T15:37:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MjMsImlhdCI6MTY1MTg1MTQyMywiYXV0aF90aW1lIjoxNjUxODUxNDIxLCJqdGkiOiI0M2IzY2EyMS1lMjRmLTQwYzQtYTE5ZC04ZGZhMmZiMTExNWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXWWhHUTMxcmp6VzRwMjczVlJCSWRRIiwic2Vzc2lvbl9zdGF0ZSI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gfNIN_I7PMzTY7lgiDBEdN8R13o6VrXRHxP9nHYYPsl_nlDz4turt7mFUgXZd-IDflWA6qdsLJFHfUPzWb38v4Kzcly4fBSch4vQgm9MPUR9A4fj59pasyDfyOYB9wbxnYyXYdjv_i1WZtJq2cvhY-mb0nuDS6ivthKdGZOTLoSb1Fo0tCsI_TIFXbTY2VeDqJH_1a1U0eADOAzvhIVWQelJr5Rd0TfKTyMcEOeKouaMIQ6iTEWD6ncQsuf7j8Yaig-0CZHsphVJewxgJdu-YDb0dyurZTniXNZNVY4aYg3AwcndXEBRFkAa8MLbfew5Oh_c5tCD_HbJS5HOysz-Zg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MjMsImlhdCI6MTY1MTg1MTQyMywiYXV0aF90aW1lIjoxNjUxODUxNDIxLCJqdGkiOiI0M2IzY2EyMS1lMjRmLTQwYzQtYTE5ZC04ZGZhMmZiMTExNWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXWWhHUTMxcmp6VzRwMjczVlJCSWRRIiwic2Vzc2lvbl9zdGF0ZSI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gfNIN_I7PMzTY7lgiDBEdN8R13o6VrXRHxP9nHYYPsl_nlDz4turt7mFUgXZd-IDflWA6qdsLJFHfUPzWb38v4Kzcly4fBSch4vQgm9MPUR9A4fj59pasyDfyOYB9wbxnYyXYdjv_i1WZtJq2cvhY-mb0nuDS6ivthKdGZOTLoSb1Fo0tCsI_TIFXbTY2VeDqJH_1a1U0eADOAzvhIVWQelJr5Rd0TfKTyMcEOeKouaMIQ6iTEWD6ncQsuf7j8Yaig-0CZHsphVJewxgJdu-YDb0dyurZTniXNZNVY4aYg3AwcndXEBRFkAa8MLbfew5Oh_c5tCD_HbJS5HOysz-Zg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;f822fc33-4ca8-4699-8979-8361671f2ca6&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eeb2f90
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eeb2f90
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f1163e0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edd8480, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eeb2b50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MjMsImlhdCI6MTY1MTg1MTQyMywiYXV0aF90aW1lIjoxNjUxODUxNDIxLCJqdGkiOiI0M2IzY2EyMS1lMjRmLTQwYzQtYTE5ZC04ZGZhMmZiMTExNWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXWWhHUTMxcmp6VzRwMjczVlJCSWRRIiwic2Vzc2lvbl9zdGF0ZSI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1ZjNjOGI0LWQ1ODctNGE4Ny1iYmEyLTMxZjA0ZTgxZDAyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gfNIN_I7PMzTY7lgiDBEdN8R13o6VrXRHxP9nHYYPsl_nlDz4turt7mFUgXZd-IDflWA6qdsLJFHfUPzWb38v4Kzcly4fBSch4vQgm9MPUR9A4fj59pasyDfyOYB9wbxnYyXYdjv_i1WZtJq2cvhY-mb0nuDS6ivthKdGZOTLoSb1Fo0tCsI_TIFXbTY2VeDqJH_1a1U0eADOAzvhIVWQelJr5Rd0TfKTyMcEOeKouaMIQ6iTEWD6ncQsuf7j8Yaig-0CZHsphVJewxgJdu-YDb0dyurZTniXNZNVY4aYg3AwcndXEBRFkAa8MLbfew5Oh_c5tCD_HbJS5HOysz-Zg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:05Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;&#x27; @ QOS 0
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0031f30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00321b0 } }, data: MessageData { topic: &quot;app/7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 50, 100, 48, 102, 56, 57, 55, 45, 51, 55, 56, 97, 45, 52, 56, 54, 48, 45, 98, 102, 53, 102, 45, 53, 55, 57, 50, 54, 53, 53, 51, 55, 97, 52, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 57, 53, 50, 102, 51, 49, 50, 37, 50, 68, 51, 52, 54, 50, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 102, 53, 100, 37, 50, 68, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 55, 58, 48, 57, 46, 49, 53, 54, 49, 56, 57, 52, 48, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 102, 53, 100, 53, 51, 57, 45, 97, 56, 54, 56, 45, 52, 53, 55, 48, 45, 97, 57, 50, 102, 45, 55, 98, 56, 100, 52, 98, 52, 97, 52, 52, 99, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 48, 53, 99, 49, 98, 102, 97, 45, 102, 50, 53, 52, 45, 52, 56, 55, 51, 45, 98, 53, 99, 48, 45, 50, 100, 102, 102, 54, 97, 54, 98, 53, 56, 101, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 57, 53, 50, 102, 51, 49, 50, 37, 50, 68, 51, 52, 54, 50, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 102, 53, 100, 37, 50, 68, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 100, 98, 101, 52, 101, 98, 50, 45, 53, 101, 100, 98, 45, 52, 100, 49, 100, 45, 98, 99, 55, 56, 45, 53, 55, 52, 53, 98, 57, 48, 49, 97, 57, 101, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 57, 53, 50, 102, 51, 49, 50, 45, 51, 52, 54, 50, 45, 52, 98, 98, 48, 45, 57, 102, 53, 100, 45, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00321b0 } } } }
[2022-05-06T15:37:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42efdbed0
[2022-05-06T15:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d2d0f897-378a-4860-bf5f-579265537a47\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7952f312%2D3462%2D4bb0%2D9f5d%2Db2d9754ea24e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:37:09.156189407Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;5bf5d539-a868-4570-a92f-7b8d4b4a44c5\&quot;,\&quot;deviceuid\&quot;:\&quot;505c1bfa-f254-4873-b5c0-2dff6a6b58e4\&quot;,\&quot;partitionkey\&quot;:\&quot;7952f312%2D3462%2D4bb0%2D9f5d%2Db2d9754ea24e/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb\&quot;,\&quot;application\&quot;:\&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:37:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:37:10Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:37:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:37:10Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:37:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ca606aeb-c71d-4a36-9c36-343ced14fc08&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efb55a0
[2022-05-06T15:37:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efb55a0
[2022-05-06T15:37:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f236b60, password: 0x55f42ee5cab0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0fee80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f238170, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:11Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd3fa0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd3fa0 } } } }
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0025580, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0025810 } }, data: MessageData { topic: &quot;app/7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 55, 50, 99, 97, 52, 52, 51, 45, 53, 98, 98, 50, 45, 52, 52, 100, 51, 45, 97, 98, 50, 57, 45, 100, 50, 102, 51, 57, 49, 50, 52, 101, 51, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 57, 53, 50, 102, 51, 49, 50, 37, 50, 68, 51, 52, 54, 50, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 102, 53, 100, 37, 50, 68, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 55, 58, 49, 48, 46, 53, 55, 49, 53, 55, 50, 51, 56, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 102, 53, 100, 53, 51, 57, 45, 97, 56, 54, 56, 45, 52, 53, 55, 48, 45, 97, 57, 50, 102, 45, 55, 98, 56, 100, 52, 98, 52, 97, 52, 52, 99, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 100, 98, 101, 52, 101, 98, 50, 45, 53, 101, 100, 98, 45, 52, 100, 49, 100, 45, 98, 99, 55, 56, 45, 53, 55, 52, 53, 98, 57, 48, 49, 97, 57, 101, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 57, 53, 50, 102, 51, 49, 50, 37, 50, 68, 51, 52, 54, 50, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 102, 53, 100, 37, 50, 68, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 98, 102, 53, 100, 53, 51, 57, 45, 97, 56, 54, 56, 45, 52, 53, 55, 48, 45, 97, 57, 50, 102, 45, 55, 98, 56, 100, 52, 98, 52, 97, 52, 52, 99, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 57, 53, 50, 102, 51, 49, 50, 45, 51, 52, 54, 50, 45, 52, 98, 98, 48, 45, 57, 102, 53, 100, 45, 98, 50, 100, 57, 55, 53, 52, 101, 97, 50, 52, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0025810 } } } }
[2022-05-06T15:37:11Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42efdbed0
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;972ca443-5bb2-44d3-ab29-d2f39124e355\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7952f312%2D3462%2D4bb0%2D9f5d%2Db2d9754ea24e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:37:10.571572385Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;5bf5d539-a868-4570-a92f-7b8d4b4a44c5\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;fdbe4eb2-5edb-4d1d-bc78-5745b901a9eb\&quot;,\&quot;partitionkey\&quot;:\&quot;7952f312%2D3462%2D4bb0%2D9f5d%2Db2d9754ea24e/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;5bf5d539-a868-4570-a92f-7b8d4b4a44c5\&quot;,\&quot;application\&quot;:\&quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:37:11Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:37:11Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot; &quot;device1&quot;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot; &quot;gateway1&quot;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7952f312-3462-4bb0-9f5d-b2d9754ea24e&#x27;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7952f312-3462-4bb0-9f5d-b2d9754ea24e&quot;
[2022-05-06T15:37:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7952f312-3462-4bb0-9f5d-b2d9754ea24e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:37:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:37:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:37:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:37:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMzcsImlhdCI6MTY1MTg1MTQzNywianRpIjoiOWE1NDI4NjktOTJmMy00ZjIxLTgwYzAtNmYxZGE4ZTgxNTA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQ2TnFYTm5aaldyT3NKaW5UYnBYZkEiLCJzZXNzaW9uX3N0YXRlIjoiY2FjNzY2ZjMtOWEzZi00MTA2LTk1MjYtMDA3NTY3YjEyMzIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiJ9.gMl34Bs0Ypa4_1NMhxJyJlAHBMhOAccR7lGfm2zAgDY
[2022-05-06T15:37:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:37:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyMzcsImlhdCI6MTY1MTg1MTQzNywianRpIjoiOWE1NDI4NjktOTJmMy00ZjIxLTgwYzAtNmYxZGE4ZTgxNTA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQ2TnFYTm5aaldyT3NKaW5UYnBYZkEiLCJzZXNzaW9uX3N0YXRlIjoiY2FjNzY2ZjMtOWEzZi00MTA2LTk1MjYtMDA3NTY3YjEyMzIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiJ9.gMl34Bs0Ypa4_1NMhxJyJlAHBMhOAccR7lGfm2zAgDY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:37:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:18Z INFO  drogue_cloud_tests::resources::apps] Create application: 771cddf7-24be-4c3c-9321-f2b5d9339095
[2022-05-06T15:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;
[2022-05-06T15:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 771cddf7-24be-4c3c-9321-f2b5d9339095 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;
[2022-05-06T15:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:18.656911Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dbeaf83d-f8a6-42d5-b0b7-eef51ed4b493\&quot;,\n    \&quot;uid\&quot;: \&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666432873Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666459824Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666336002Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666338105Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666338887Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666339889Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666340370Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.666375295Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:18.656911Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;), &quot;resourceVersion&quot;: String(&quot;dbeaf83d-f8a6-42d5-b0b7-eef51ed4b493&quot;), &quot;uid&quot;: String(&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666432873Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666459824Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666336002Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666338105Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666338887Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666339889Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666340370Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.666375295Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:18.656911Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;35c5d5b9-f6fd-4740-9baf-78dfac439c8c\&quot;,\n    \&quot;uid\&quot;: \&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009809199Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009848502Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.689830725Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.695599066Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.756974073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.764041208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009760558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009780254Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;R8Dv00momiCn\&quot;,\n        \&quot;username\&quot;: \&quot;user-771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:18.656911Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;), &quot;resourceVersion&quot;: String(&quot;35c5d5b9-f6fd-4740-9baf-78dfac439c8c&quot;), &quot;uid&quot;: String(&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009809199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009848502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.689830725Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.695599066Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.756974073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.764041208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009760558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009780254Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;R8Dv00momiCn&quot;), &quot;username&quot;: String(&quot;user-771cddf7-24be-4c3c-9321-f2b5d9339095&quot;)})})})})
[2022-05-06T15:37:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:18.656911Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;35c5d5b9-f6fd-4740-9baf-78dfac439c8c\&quot;,\n    \&quot;uid\&quot;: \&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009809199Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009848502Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.689830725Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.695599066Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.756974073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:18.764041208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009760558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:19.009780254Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;R8Dv00momiCn\&quot;,\n        \&quot;username\&quot;: \&quot;user-771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:18.656911Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;), &quot;resourceVersion&quot;: String(&quot;35c5d5b9-f6fd-4740-9baf-78dfac439c8c&quot;), &quot;uid&quot;: String(&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009809199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009848502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.689830725Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.695599066Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.756974073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:18.764041208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009760558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:19.009780254Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;R8Dv00momiCn&quot;), &quot;username&quot;: String(&quot;user-771cddf7-24be-4c3c-9321-f2b5d9339095&quot;)})})})})
[2022-05-06T15:37:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MzcsImlhdCI6MTY1MTg1MTQzNywiYXV0aF90aW1lIjoxNjUxODUxNDM1LCJqdGkiOiJmZmY5YjMwMy0yZWM2LTRlM2ItYTY4Zi0xMmEzZTRjNGIzYTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0Nk5xWE5uWmpXck9zSmluVGJwWGZBIiwic2Vzc2lvbl9zdGF0ZSI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HlkHsZSKOrEudaE_ZfV6r8cht8nSbp33ffzdNTpj03ng-Au1ymCRPGOlCLKO6d3AWwsvqO-7GPkecl9STMu6aT-6q0xmKt0-5K3dKNq45xrO8isJnbSWBbScZgmuLbGZpupY_tO52asSLeJ9wOHhJ4bF7sOBQiDySowYme4X8X_So-8mMrnbJND_AHOlottXJDwwA8x0O4D3Qr_8vvIhsoP1Bs9tQi87-h1REN_9FMYbwZIlW3N7bKhPRj8NHrO1cKIgR0PJt24HCI0G9WmRxOl26g8QMsGMX56B_RYQFL0bS9N60NBz_Gxkxt8ZNwtJU9BMKyrtSBQWiaZk4v5MQQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MzcsImlhdCI6MTY1MTg1MTQzNywiYXV0aF90aW1lIjoxNjUxODUxNDM1LCJqdGkiOiJmZmY5YjMwMy0yZWM2LTRlM2ItYTY4Zi0xMmEzZTRjNGIzYTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0Nk5xWE5uWmpXck9zSmluVGJwWGZBIiwic2Vzc2lvbl9zdGF0ZSI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HlkHsZSKOrEudaE_ZfV6r8cht8nSbp33ffzdNTpj03ng-Au1ymCRPGOlCLKO6d3AWwsvqO-7GPkecl9STMu6aT-6q0xmKt0-5K3dKNq45xrO8isJnbSWBbScZgmuLbGZpupY_tO52asSLeJ9wOHhJ4bF7sOBQiDySowYme4X8X_So-8mMrnbJND_AHOlottXJDwwA8x0O4D3Qr_8vvIhsoP1Bs9tQi87-h1REN_9FMYbwZIlW3N7bKhPRj8NHrO1cKIgR0PJt24HCI0G9WmRxOl26g8QMsGMX56B_RYQFL0bS9N60NBz_Gxkxt8ZNwtJU9BMKyrtSBQWiaZk4v5MQQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;b7616e79-2581-4f2d-b8fd-4874aaace119&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eca87c0
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eca87c0
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ecd2df0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed7b7d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eca8e90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3MzcsImlhdCI6MTY1MTg1MTQzNywiYXV0aF90aW1lIjoxNjUxODUxNDM1LCJqdGkiOiJmZmY5YjMwMy0yZWM2LTRlM2ItYTY4Zi0xMmEzZTRjNGIzYTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0Nk5xWE5uWmpXck9zSmluVGJwWGZBIiwic2Vzc2lvbl9zdGF0ZSI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhYzc2NmYzLTlhM2YtNDEwNi05NTI2LTAwNzU2N2IxMjMyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HlkHsZSKOrEudaE_ZfV6r8cht8nSbp33ffzdNTpj03ng-Au1ymCRPGOlCLKO6d3AWwsvqO-7GPkecl9STMu6aT-6q0xmKt0-5K3dKNq45xrO8isJnbSWBbScZgmuLbGZpupY_tO52asSLeJ9wOHhJ4bF7sOBQiDySowYme4X8X_So-8mMrnbJND_AHOlottXJDwwA8x0O4D3Qr_8vvIhsoP1Bs9tQi87-h1REN_9FMYbwZIlW3N7bKhPRj8NHrO1cKIgR0PJt24HCI0G9WmRxOl26g8QMsGMX56B_RYQFL0bS9N60NBz_Gxkxt8ZNwtJU9BMKyrtSBQWiaZk4v5MQQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/771cddf7-24be-4c3c-9321-f2b5d9339095&quot;&#x27; @ QOS 0
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea08016a40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016cc0 } }, data: MessageData { topic: &quot;app/771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 97, 55, 99, 100, 101, 49, 98, 45, 99, 98, 99, 52, 45, 52, 56, 53, 49, 45, 98, 102, 98, 48, 45, 98, 48, 97, 102, 48, 98, 51, 48, 55, 102, 51, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 55, 49, 99, 100, 100, 102, 55, 37, 50, 68, 50, 52, 98, 101, 37, 50, 68, 52, 99, 51, 99, 37, 50, 68, 57, 51, 50, 49, 37, 50, 68, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 55, 58, 50, 51, 46, 49, 53, 57, 49, 55, 56, 51, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 55, 49, 99, 100, 100, 102, 55, 45, 50, 52, 98, 101, 45, 52, 99, 51, 99, 45, 57, 51, 50, 49, 45, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 49, 49, 55, 49, 100, 57, 100, 45, 56, 100, 98, 56, 45, 52, 98, 51, 56, 45, 56, 56, 56, 54, 45, 52, 100, 97, 51, 101, 52, 100, 49, 52, 54, 50, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 98, 51, 101, 97, 101, 102, 99, 45, 100, 57, 57, 98, 45, 52, 99, 99, 49, 45, 98, 49, 98, 100, 45, 56, 99, 52, 50, 56, 102, 50, 53, 101, 54, 51, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 55, 49, 99, 100, 100, 102, 55, 37, 50, 68, 50, 52, 98, 101, 37, 50, 68, 52, 99, 51, 99, 37, 50, 68, 57, 51, 50, 49, 37, 50, 68, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 53, 50, 100, 55, 101, 100, 53, 45, 57, 102, 99, 99, 45, 52, 48, 50, 97, 45, 97, 101, 52, 52, 45, 56, 100, 51, 48, 55, 53, 101, 54, 48, 98, 57, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016cc0 } } } }
[2022-05-06T15:37:23Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecb3170
[2022-05-06T15:37:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ba7cde1b-cbc4-4851-bfb0-b0af0b307f3e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://771cddf7%2D24be%2D4c3c%2D9321%2Df2b5d9339095/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:37:23.159178314Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;,\&quot;senderuid\&quot;:\&quot;31171d9d-8db8-4b38-8886-4da3e4d14620\&quot;,\&quot;deviceuid\&quot;:\&quot;ab3eaefc-d99b-4cc1-b1bd-8c428f25e63d\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;771cddf7%2D24be%2D4c3c%2D9321%2Df2b5d9339095/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f\&quot;}&quot; }
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:37:24Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;44bf9b23-e5cf-4432-b3e0-fd3d1a70547e&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1835e0
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1835e0
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ee4a1f0, password: 0x55f42f12fa20, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f032ea0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee49f60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@771cddf7-24be-4c3c-9321-f2b5d9339095&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1167c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1167c0 } } } }
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea080094b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009740 } }, data: MessageData { topic: &quot;app/771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 55, 55, 49, 51, 56, 98, 49, 45, 101, 51, 51, 97, 45, 52, 97, 102, 101, 45, 57, 55, 49, 100, 45, 97, 57, 50, 53, 56, 97, 52, 55, 50, 101, 57, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 55, 49, 99, 100, 100, 102, 55, 37, 50, 68, 50, 52, 98, 101, 37, 50, 68, 52, 99, 51, 99, 37, 50, 68, 57, 51, 50, 49, 37, 50, 68, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 55, 58, 50, 52, 46, 50, 55, 57, 50, 55, 51, 50, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 55, 49, 99, 100, 100, 102, 55, 45, 50, 52, 98, 101, 45, 52, 99, 51, 99, 45, 57, 51, 50, 49, 45, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 55, 49, 99, 100, 100, 102, 55, 37, 50, 68, 50, 52, 98, 101, 37, 50, 68, 52, 99, 51, 99, 37, 50, 68, 57, 51, 50, 49, 37, 50, 68, 102, 50, 98, 53, 100, 57, 51, 51, 57, 48, 57, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 53, 50, 100, 55, 101, 100, 53, 45, 57, 102, 99, 99, 45, 52, 48, 50, 97, 45, 97, 101, 52, 52, 45, 56, 100, 51, 48, 55, 53, 101, 54, 48, 98, 57, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 49, 49, 55, 49, 100, 57, 100, 45, 56, 100, 98, 56, 45, 52, 98, 51, 56, 45, 56, 56, 56, 54, 45, 52, 100, 97, 51, 101, 52, 100, 49, 52, 54, 50, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 49, 49, 55, 49, 100, 57, 100, 45, 56, 100, 98, 56, 45, 52, 98, 51, 56, 45, 56, 56, 56, 54, 45, 52, 100, 97, 51, 101, 52, 100, 49, 52, 54, 50, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009740 } } } }
[2022-05-06T15:37:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42effa640
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;077138b1-e33a-4afe-971d-a9258a472e95\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://771cddf7%2D24be%2D4c3c%2D9321%2Df2b5d9339095/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:37:24.279273222Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;771cddf7-24be-4c3c-9321-f2b5d9339095\&quot;,\&quot;partitionkey\&quot;:\&quot;771cddf7%2D24be%2D4c3c%2D9321%2Df2b5d9339095/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;752d7ed5-9fcc-402a-ae44-8d3075e60b9f\&quot;,\&quot;senderuid\&quot;:\&quot;31171d9d-8db8-4b38-8886-4da3e4d14620\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;31171d9d-8db8-4b38-8886-4da3e4d14620\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:37:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:37:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot; &quot;device1&quot;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot; &quot;gateway1&quot;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;771cddf7-24be-4c3c-9321-f2b5d9339095&#x27;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;771cddf7-24be-4c3c-9321-f2b5d9339095&quot;
[2022-05-06T15:37:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 771cddf7-24be-4c3c-9321-f2b5d9339095 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:37:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:37:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:37:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:37:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNTEsImlhdCI6MTY1MTg1MTQ1MSwianRpIjoiY2EyMzkwNDYtMTQ4NC00ZjdkLTkzMzYtNTIyZTVjNGFiMDU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imk5VjVDbUxYQmV1WkVoTS04c2M3bmciLCJzZXNzaW9uX3N0YXRlIjoiM2MzOTNmNTMtMTY0Mi00YzAxLThjMGMtOTQzNjU0YTkyMGU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSJ9.pEwtDoCtYWVIWrsL7qdQlW_V06Mffuh_rOGNg5ua2EU
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNTEsImlhdCI6MTY1MTg1MTQ1MSwianRpIjoiY2EyMzkwNDYtMTQ4NC00ZjdkLTkzMzYtNTIyZTVjNGFiMDU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imk5VjVDbUxYQmV1WkVoTS04c2M3bmciLCJzZXNzaW9uX3N0YXRlIjoiM2MzOTNmNTMtMTY0Mi00YzAxLThjMGMtOTQzNjU0YTkyMGU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSJ9.pEwtDoCtYWVIWrsL7qdQlW_V06Mffuh_rOGNg5ua2EU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 5c83a9d6-4d9d-4648-9050-d8a795b75d98
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5c83a9d6-4d9d-4648-9050-d8a795b75d98 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;
[2022-05-06T15:37:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:31.963658Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2973712c-793f-4010-957e-a825966e35e9\&quot;,\n    \&quot;uid\&quot;: \&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:31.976711985Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:31.963658Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;), &quot;resourceVersion&quot;: String(&quot;2973712c-793f-4010-957e-a825966e35e9&quot;), &quot;uid&quot;: String(&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:31.976711985Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:37:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:37:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:31.963658Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2e2c3de2-e67c-429e-8c9d-967a3d820ae3\&quot;,\n    \&quot;uid\&quot;: \&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285883294Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285838811Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.012109516Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.021851855Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.094360138Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.100154558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285789930Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285809126Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;wDHmiOiIjgz1\&quot;,\n        \&quot;username\&quot;: \&quot;user-5c83a9d6-4d9d-4648-9050-d8a795b75d98\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:31.963658Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;), &quot;resourceVersion&quot;: String(&quot;2e2c3de2-e67c-429e-8c9d-967a3d820ae3&quot;), &quot;uid&quot;: String(&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285883294Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285838811Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.012109516Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.021851855Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.094360138Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.100154558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285789930Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285809126Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;wDHmiOiIjgz1&quot;), &quot;username&quot;: String(&quot;user-5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;)})})})})
[2022-05-06T15:37:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:31.963658Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2e2c3de2-e67c-429e-8c9d-967a3d820ae3\&quot;,\n    \&quot;uid\&quot;: \&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285883294Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285838811Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.012109516Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.021851855Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.094360138Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.100154558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285789930Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:32.285809126Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;wDHmiOiIjgz1\&quot;,\n        \&quot;username\&quot;: \&quot;user-5c83a9d6-4d9d-4648-9050-d8a795b75d98\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:31.963658Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;), &quot;resourceVersion&quot;: String(&quot;2e2c3de2-e67c-429e-8c9d-967a3d820ae3&quot;), &quot;uid&quot;: String(&quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285883294Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285838811Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.012109516Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.021851855Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.094360138Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.100154558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285789930Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:32.285809126Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;wDHmiOiIjgz1&quot;), &quot;username&quot;: String(&quot;user-5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;)})})})})
[2022-05-06T15:37:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NTEsImlhdCI6MTY1MTg1MTQ1MSwiYXV0aF90aW1lIjoxNjUxODUxNDQ4LCJqdGkiOiIwYjVjZjBkYS03YjZmLTQ4ODEtYjZhYy1kY2FlZjkyYzVkNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpOVY1Q21MWEJldVpFaE0tOHNjN25nIiwic2Vzc2lvbl9zdGF0ZSI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Hd7yt5YaTLP7REYKTLTqq7chFpQUzP7IlV2XkjdqavimCtR6Y3QXS5cbZcAVpAYDEbcDB99pUkt2MFP4rLzr5d3AVEtmMxZZNdHYpoETFGmlN9cG0LVJ5BvG9pV7fnMK-8GZm8i_Zkw-e5auSQrCz1kym-nWHOqVHMBJ5Jy6Owl291QmMjZhehG1gzxZAt2xEz-hsNNtPHTuKytomWVCDGRUSr5GYd7fR74VuQHB3KKjSxCqKqmJemrV2uHctYgIFjhunb1bIm7Q9MDMbVocuK3Z8ZW9qAwKojv0PMvcyYTc3prpV32BZi4oLKwL2a72TINzBMR30vedAc-opmjR0w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NTEsImlhdCI6MTY1MTg1MTQ1MSwiYXV0aF90aW1lIjoxNjUxODUxNDQ4LCJqdGkiOiIwYjVjZjBkYS03YjZmLTQ4ODEtYjZhYy1kY2FlZjkyYzVkNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpOVY1Q21MWEJldVpFaE0tOHNjN25nIiwic2Vzc2lvbl9zdGF0ZSI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Hd7yt5YaTLP7REYKTLTqq7chFpQUzP7IlV2XkjdqavimCtR6Y3QXS5cbZcAVpAYDEbcDB99pUkt2MFP4rLzr5d3AVEtmMxZZNdHYpoETFGmlN9cG0LVJ5BvG9pV7fnMK-8GZm8i_Zkw-e5auSQrCz1kym-nWHOqVHMBJ5Jy6Owl291QmMjZhehG1gzxZAt2xEz-hsNNtPHTuKytomWVCDGRUSr5GYd7fR74VuQHB3KKjSxCqKqmJemrV2uHctYgIFjhunb1bIm7Q9MDMbVocuK3Z8ZW9qAwKojv0PMvcyYTc3prpV32BZi4oLKwL2a72TINzBMR30vedAc-opmjR0w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;9f01d275-dbb4-422b-b473-3b84dcee5866&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef88ea0
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef88ea0
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f22fa60, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f18a3b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee793f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NTEsImlhdCI6MTY1MTg1MTQ1MSwiYXV0aF90aW1lIjoxNjUxODUxNDQ4LCJqdGkiOiIwYjVjZjBkYS03YjZmLTQ4ODEtYjZhYy1kY2FlZjkyYzVkNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpOVY1Q21MWEJldVpFaE0tOHNjN25nIiwic2Vzc2lvbl9zdGF0ZSI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMzkzZjUzLTE2NDItNGMwMS04YzBjLTk0MzY1NGE5MjBlOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Hd7yt5YaTLP7REYKTLTqq7chFpQUzP7IlV2XkjdqavimCtR6Y3QXS5cbZcAVpAYDEbcDB99pUkt2MFP4rLzr5d3AVEtmMxZZNdHYpoETFGmlN9cG0LVJ5BvG9pV7fnMK-8GZm8i_Zkw-e5auSQrCz1kym-nWHOqVHMBJ5Jy6Owl291QmMjZhehG1gzxZAt2xEz-hsNNtPHTuKytomWVCDGRUSr5GYd7fR74VuQHB3KKjSxCqKqmJemrV2uHctYgIFjhunb1bIm7Q9MDMbVocuK3Z8ZW9qAwKojv0PMvcyYTc3prpV32BZi4oLKwL2a72TINzBMR30vedAc-opmjR0w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;&#x27; @ QOS 0
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0802de30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ed0a8d0 } }, data: MessageData { topic: &quot;app/5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ed0a8d0 } } } }
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee12790, 0x55f42ed56d40
[2022-05-06T15:37:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed56d40, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed56d40, 0x7fea0c002980
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c002980, 0x55f42ee5b6a0
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c002980, 0x7fea0c0078c0
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x55f42f1d7750
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c00ae10
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00ae10, 0x7fea0c0078c0
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c002d20
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078c0, 0x7fea0c00aed0
[2022-05-06T15:37:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c00aed0
[2022-05-06T15:37:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;application&quot;: &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, &quot;senderuid&quot;: &quot;ad769913-9bbf-4d75-9a8d-6b7471b50f72&quot;, &quot;applicationuid&quot;: &quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8&quot;, &quot;partitionkey&quot;: &quot;5c83a9d6%2D4d9d%2D4648%2D9050%2Dd8a795b75d98/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;7902e2d9-43c8-488a-ac90-15db0193455f&quot;, &quot;source&quot;: &quot;drogue://5c83a9d6%2D4d9d%2D4648%2D9050%2Dd8a795b75d98/device1&quot;, &quot;deviceuid&quot;: &quot;0572f6ca-4a4d-4da6-b1f9-7adf1c8ce214&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:37:37.163043024+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:37:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;f75fe41e-f85d-4cb6-9267-34f03059de11&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef09940
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef09940
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1523f0, password: 0x55f42ee68310, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f1ecfd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eda80e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0802afb0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42f077bd0 } }, data: MessageData { topic: &quot;app/5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42f077bd0 } } } }
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efc5770, 0x7fea0c003490
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003490, 0x7fea1000bc10
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003490, 0x7fea0c0075e0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x55f42ee21910
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea1000b9a0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b9a0, 0x7fea0c0075e0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10000da0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10007cf0
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd88d0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd88d0 } } } }
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0075e0, 0x7fea10008010
[2022-05-06T15:37:38Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10008010
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;ad769913-9bbf-4d75-9a8d-6b7471b50f72&quot;, &quot;source&quot;: &quot;drogue://5c83a9d6%2D4d9d%2D4648%2D9050%2Dd8a795b75d98/gateway1&quot;, &quot;time&quot;: &quot;2022-05-06T15:37:38.284109413+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;dd5e64b2-7d8c-475c-a3d6-14c68bb079b8&quot;, &quot;id&quot;: &quot;43922efc-885f-4d17-b99e-2411622f9d75&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;ad769913-9bbf-4d75-9a8d-6b7471b50f72&quot;, &quot;partitionkey&quot;: &quot;5c83a9d6%2D4d9d%2D4648%2D9050%2Dd8a795b75d98/gateway1&quot;, &quot;application&quot;: &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:37:38Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:37:38Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot; &quot;device1&quot;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot; &quot;gateway1&quot;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5c83a9d6-4d9d-4648-9050-d8a795b75d98&#x27;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5c83a9d6-4d9d-4648-9050-d8a795b75d98&quot;
[2022-05-06T15:37:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5c83a9d6-4d9d-4648-9050-d8a795b75d98 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:37:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:37:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:37:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:37:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNjQsImlhdCI6MTY1MTg1MTQ2NCwianRpIjoiYWRkOTRmZDMtNWZkZS00ZmEwLWE4NmYtNTk5NmUzZDk2ZWJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZqdVU4WGZGam1VYmVuYnlOZnVtbXciLCJzZXNzaW9uX3N0YXRlIjoiYmQ0YTY2ZjktYTYxNy00YWYzLWFkMWItODcwMjdmNTYzOGI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSJ9.KjipGnd0jOU0rlOw_-vi6L4gmIu1hyULTrTwJV_12kY
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNjQsImlhdCI6MTY1MTg1MTQ2NCwianRpIjoiYWRkOTRmZDMtNWZkZS00ZmEwLWE4NmYtNTk5NmUzZDk2ZWJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZqdVU4WGZGam1VYmVuYnlOZnVtbXciLCJzZXNzaW9uX3N0YXRlIjoiYmQ0YTY2ZjktYTYxNy00YWYzLWFkMWItODcwMjdmNTYzOGI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSJ9.KjipGnd0jOU0rlOw_-vi6L4gmIu1hyULTrTwJV_12kY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::resources::apps] Create application: 7e3385f8-2a02-47d3-8cd0-ea66f9199262
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7e3385f8-2a02-47d3-8cd0-ea66f9199262 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;
[2022-05-06T15:37:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:45.759772Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7e8e5f98-8952-4a0b-8b0d-13df607329a3\&quot;,\n    \&quot;uid\&quot;: \&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775698047Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775670936Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775636973Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775638064Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775638646Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775639247Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775639797Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.775645468Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:45.759772Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;), &quot;resourceVersion&quot;: String(&quot;7e8e5f98-8952-4a0b-8b0d-13df607329a3&quot;), &quot;uid&quot;: String(&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775698047Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775670936Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775636973Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775638064Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775638646Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775639247Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775639797Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.775645468Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:37:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:45.759772Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;450f799e-f00f-4f87-a068-470d97552dd0\&quot;,\n    \&quot;uid\&quot;: \&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.057213706Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056645721Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.799813563Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.808246238Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.867964340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.874220685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056507111Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056615705Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mxY2DXdVo2wF\&quot;,\n        \&quot;username\&quot;: \&quot;user-7e3385f8-2a02-47d3-8cd0-ea66f9199262\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:45.759772Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;), &quot;resourceVersion&quot;: String(&quot;450f799e-f00f-4f87-a068-470d97552dd0&quot;), &quot;uid&quot;: String(&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.057213706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056645721Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.799813563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.808246238Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.867964340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.874220685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056507111Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056615705Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mxY2DXdVo2wF&quot;), &quot;username&quot;: String(&quot;user-7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;)})})})})
[2022-05-06T15:37:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:37:45.759772Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;450f799e-f00f-4f87-a068-470d97552dd0\&quot;,\n    \&quot;uid\&quot;: \&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.057213706Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056645721Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.799813563Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.808246238Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.867964340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:45.874220685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056507111Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:37:46.056615705Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mxY2DXdVo2wF\&quot;,\n        \&quot;username\&quot;: \&quot;user-7e3385f8-2a02-47d3-8cd0-ea66f9199262\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:37:45.759772Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;), &quot;resourceVersion&quot;: String(&quot;450f799e-f00f-4f87-a068-470d97552dd0&quot;), &quot;uid&quot;: String(&quot;3ff093b4-ac26-4d08-a12b-883f456cfb04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.057213706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056645721Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.799813563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.808246238Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.867964340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:45.874220685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056507111Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:37:46.056615705Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mxY2DXdVo2wF&quot;), &quot;username&quot;: String(&quot;user-7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;)})})})})
[2022-05-06T15:37:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NjUsImlhdCI6MTY1MTg1MTQ2NSwiYXV0aF90aW1lIjoxNjUxODUxNDYyLCJqdGkiOiJmNzZiMzU4Yi0yODM0LTQwYzAtYWMwNi1lZjE3ZTZkZGNkMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGanVVOFhmRmptVWJlbmJ5TmZ1bW13Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwpJ4EJBuWOxs2JKY4dn_JcL0-XEGCPpSvaKGd9odEFTlNNW965GUX4JjqTrnwiz8xOxQIwTHwjJYwKMm5_OpUB30qa36-uJRW2UEjACg2MK3Mhm77nZoDZLCVoflzAFJmaJgco2jXqWa4L2aE3aMX5UAnC5aM4y6qjEL28DpFJEwaVNqK-Webgi7fdfFtg3AJCl95uopovQILFijQtoxDAa1z7haia4PyrHo6N2YtYCiKAPfUfZy6R-Qrp--brH5xVVoURkAdhdEp7J8vvLrMfw-ZXCC9Mnc--eSmUTa0yjX7KbZltLS5fPkZCgvAzPIWkztGLmSUBRy7MQBgmx7Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NjUsImlhdCI6MTY1MTg1MTQ2NSwiYXV0aF90aW1lIjoxNjUxODUxNDYyLCJqdGkiOiJmNzZiMzU4Yi0yODM0LTQwYzAtYWMwNi1lZjE3ZTZkZGNkMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGanVVOFhmRmptVWJlbmJ5TmZ1bW13Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwpJ4EJBuWOxs2JKY4dn_JcL0-XEGCPpSvaKGd9odEFTlNNW965GUX4JjqTrnwiz8xOxQIwTHwjJYwKMm5_OpUB30qa36-uJRW2UEjACg2MK3Mhm77nZoDZLCVoflzAFJmaJgco2jXqWa4L2aE3aMX5UAnC5aM4y6qjEL28DpFJEwaVNqK-Webgi7fdfFtg3AJCl95uopovQILFijQtoxDAa1z7haia4PyrHo6N2YtYCiKAPfUfZy6R-Qrp--brH5xVVoURkAdhdEp7J8vvLrMfw-ZXCC9Mnc--eSmUTa0yjX7KbZltLS5fPkZCgvAzPIWkztGLmSUBRy7MQBgmx7Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;10204df1-ac89-44f2-adac-9d2096f808a3&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed4fe90
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed4fe90
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed50d30, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f07a780, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed4fb90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NjUsImlhdCI6MTY1MTg1MTQ2NSwiYXV0aF90aW1lIjoxNjUxODUxNDYyLCJqdGkiOiJmNzZiMzU4Yi0yODM0LTQwYzAtYWMwNi1lZjE3ZTZkZGNkMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGanVVOFhmRmptVWJlbmJ5TmZ1bW13Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkNGE2NmY5LWE2MTctNGFmMy1hZDFiLTg3MDI3ZjU2MzhiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwpJ4EJBuWOxs2JKY4dn_JcL0-XEGCPpSvaKGd9odEFTlNNW965GUX4JjqTrnwiz8xOxQIwTHwjJYwKMm5_OpUB30qa36-uJRW2UEjACg2MK3Mhm77nZoDZLCVoflzAFJmaJgco2jXqWa4L2aE3aMX5UAnC5aM4y6qjEL28DpFJEwaVNqK-Webgi7fdfFtg3AJCl95uopovQILFijQtoxDAa1z7haia4PyrHo6N2YtYCiKAPfUfZy6R-Qrp--brH5xVVoURkAdhdEp7J8vvLrMfw-ZXCC9Mnc--eSmUTa0yjX7KbZltLS5fPkZCgvAzPIWkztGLmSUBRy7MQBgmx7Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:46Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;&#x27; @ QOS 0
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:37:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:37:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:37:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:37:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f0016720, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fe9f0008300 } }, data: MessageData { topic: &quot;app/7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fe9f0008300 } } } }
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eecb4c0, 0x55f42eeca2f0
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeca2f0, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eeca2f0, 0x7fea0c005800
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005800, 0x55f42ee13100
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005800, 0x7fea0c003a20
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003a20, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003a20, 0x7fea0c007840
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x7fea0c003540
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003540, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003540, 0x7fea0c00a970
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00a970, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00a970, 0x55f42ee4dd60
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00a970, 0x55f42eeca6f0
[2022-05-06T15:37:50Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c00a970
[2022-05-06T15:37:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;3ff093b4-ac26-4d08-a12b-883f456cfb04&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, &quot;source&quot;: &quot;drogue://7e3385f8%2D2a02%2D47d3%2D8cd0%2Dea66f9199262/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;482b1e2d-e30b-43e1-b64e-bdef8ffbe610&quot;, &quot;id&quot;: &quot;0e8822aa-14ff-422b-940c-cc34ed3b2cad&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-06T15:37:50.166938881+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;d92f6745-ad9a-4cd8-a4db-d13d76c59cdd&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;7e3385f8%2D2a02%2D47d3%2D8cd0%2Dea66f9199262/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:37:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:37:51Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:37:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:37:51Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:37:51Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ca42b127-af6b-4343-a848-3129938bfe9f&quot;, persistence: None, user_data: None }
[2022-05-06T15:37:51Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:37:51Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed1e2d0
[2022-05-06T15:37:51Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed1e2d0
[2022-05-06T15:37:51Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ed7bd00, password: 0x55f42ee8ed60, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eeca780, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed7ba70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f002b700, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f002b9a0 } }, data: MessageData { topic: &quot;app/7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f002b9a0 } } } }
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ecdcc80, 0x55f42ee77610
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee77610, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee77610, 0x7fea0c003a20
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003a20, 0x7fe9f001bf50
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003a20, 0x7fea0c00a970
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00a970, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c00a970, 0x7fea0c007840
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x7fe9f001cf00
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007840, 0x7fea0c003540
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003540, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003540, 0x7fe9f00086e0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003540, 0x7fea0c00aaa0
[2022-05-06T15:37:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c00aaa0
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-06T15:37:51.563928507+00:00&quot;, &quot;application&quot;: &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://7e3385f8%2D2a02%2D47d3%2D8cd0%2Dea66f9199262/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;applicationuid&quot;: &quot;3ff093b4-ac26-4d08-a12b-883f456cfb04&quot;, &quot;id&quot;: &quot;0547c69c-2353-4804-8327-fc46763e9cac&quot;, &quot;partitionkey&quot;: &quot;7e3385f8%2D2a02%2D47d3%2D8cd0%2Dea66f9199262/gateway1&quot;, &quot;senderuid&quot;: &quot;482b1e2d-e30b-43e1-b64e-bdef8ffbe610&quot;, &quot;deviceuid&quot;: &quot;482b1e2d-e30b-43e1-b64e-bdef8ffbe610&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:37:52Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eccd850 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eccd850 } } } }
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:37:52Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:37:52Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot; &quot;device1&quot;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot; &quot;gateway1&quot;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7e3385f8-2a02-47d3-8cd0-ea66f9199262&#x27;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7e3385f8-2a02-47d3-8cd0-ea66f9199262&quot;
[2022-05-06T15:37:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7e3385f8-2a02-47d3-8cd0-ea66f9199262 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:37:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:37:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:37:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:37:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:37:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:37:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:37:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:37:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNzksImlhdCI6MTY1MTg1MTQ3OSwianRpIjoiYzkzODMzODAtZjVlMi00YmY2LWE4ZTUtYzhjMjA1YTlhYmQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFyY0RTdXpRYlBUdkRyaWhkM1FnS2ciLCJzZXNzaW9uX3N0YXRlIjoiNTRmYzA1ZGMtMmVlNS00NzNjLThiNDUtYmQ0YmRlMzRhMTllIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSJ9.Fs2H1BSO8tM--mrIoLkDO0UV-gJvZH1p7ZWN-GhJ7Gk
[2022-05-06T15:37:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:37:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:37:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyNzksImlhdCI6MTY1MTg1MTQ3OSwianRpIjoiYzkzODMzODAtZjVlMi00YmY2LWE4ZTUtYzhjMjA1YTlhYmQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFyY0RTdXpRYlBUdkRyaWhkM1FnS2ciLCJzZXNzaW9uX3N0YXRlIjoiNTRmYzA1ZGMtMmVlNS00NzNjLThiNDUtYmQ0YmRlMzRhMTllIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSJ9.Fs2H1BSO8tM--mrIoLkDO0UV-gJvZH1p7ZWN-GhJ7Gk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:37:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b
[2022-05-06T15:38:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;
[2022-05-06T15:38:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;
[2022-05-06T15:38:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:00.259081Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d4fc91af-798a-4512-a978-2012e6d3e552\&quot;,\n    \&quot;uid\&quot;: \&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276088901Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276062832Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276001066Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276002289Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276003080Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276003851Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276004603Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.276029049Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:00.259081Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;), &quot;resourceVersion&quot;: String(&quot;d4fc91af-798a-4512-a978-2012e6d3e552&quot;), &quot;uid&quot;: String(&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276088901Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276062832Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276001066Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276002289Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276003080Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276003851Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276004603Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.276029049Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:38:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:00.259081Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bf74b5de-5df6-4282-b17a-38cf748c1cae\&quot;,\n    \&quot;uid\&quot;: \&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.609174660Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.609028196Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.293274129Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.316509396Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.374147930Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.381896824Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.608928910Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.608983532Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QwVKWKDXlzNw\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:00.259081Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;), &quot;resourceVersion&quot;: String(&quot;bf74b5de-5df6-4282-b17a-38cf748c1cae&quot;), &quot;uid&quot;: String(&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.609174660Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.609028196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.293274129Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.316509396Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.374147930Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.381896824Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.608928910Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.608983532Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QwVKWKDXlzNw&quot;), &quot;username&quot;: String(&quot;user-8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;)})})})})
[2022-05-06T15:38:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:00.259081Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bf74b5de-5df6-4282-b17a-38cf748c1cae\&quot;,\n    \&quot;uid\&quot;: \&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.609174660Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.609028196Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.293274129Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.316509396Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.374147930Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.381896824Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.608928910Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:00.608983532Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QwVKWKDXlzNw\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:00.259081Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;), &quot;resourceVersion&quot;: String(&quot;bf74b5de-5df6-4282-b17a-38cf748c1cae&quot;), &quot;uid&quot;: String(&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.609174660Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.609028196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.293274129Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.316509396Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.374147930Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.381896824Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.608928910Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:00.608983532Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QwVKWKDXlzNw&quot;), &quot;username&quot;: String(&quot;user-8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;)})})})})
[2022-05-06T15:38:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NzksImlhdCI6MTY1MTg1MTQ3OSwiYXV0aF90aW1lIjoxNjUxODUxNDc2LCJqdGkiOiI0Yjc2ZjhlNC0zZTVhLTRhOGMtYjlmYS0wMjAzZDc0ZTk1ZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcmNEU3V6UWJQVHZEcmloZDNRZ0tnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SviOifSnhp4oUBGdmEk26Mcl0gBzE80vK5mhv-Qe255f1SqWUTKmGgiOlCQLvou5raHNamZcAsH_E0Mxq8I47BdIE_H6q_BEqKzsMVMS72P-eGQ5P668Iao16R59FqAe9AAhZSRfmU9DRLkvbGA8shTahEFPypCUXbckXzISre-PwR2Sv_Td8NmfYqLMXOYmDsBAo3-nVAwpejrTAnEMS9bmKZaRzpGSScndUG9yN0m0Khyit2cysmf2d7a0-NMQtJPVYVwUoT9u59FLWNI06dpwoxpwetEHgAo8oOPXt7OqEaQCqdpPsZl0TLDm6D4TOQcXM7Xf86EYcTbllnHxMQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NzksImlhdCI6MTY1MTg1MTQ3OSwiYXV0aF90aW1lIjoxNjUxODUxNDc2LCJqdGkiOiI0Yjc2ZjhlNC0zZTVhLTRhOGMtYjlmYS0wMjAzZDc0ZTk1ZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcmNEU3V6UWJQVHZEcmloZDNRZ0tnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SviOifSnhp4oUBGdmEk26Mcl0gBzE80vK5mhv-Qe255f1SqWUTKmGgiOlCQLvou5raHNamZcAsH_E0Mxq8I47BdIE_H6q_BEqKzsMVMS72P-eGQ5P668Iao16R59FqAe9AAhZSRfmU9DRLkvbGA8shTahEFPypCUXbckXzISre-PwR2Sv_Td8NmfYqLMXOYmDsBAo3-nVAwpejrTAnEMS9bmKZaRzpGSScndUG9yN0m0Khyit2cysmf2d7a0-NMQtJPVYVwUoT9u59FLWNI06dpwoxpwetEHgAo8oOPXt7OqEaQCqdpPsZl0TLDm6D4TOQcXM7Xf86EYcTbllnHxMQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;a56d12e6-3246-4e88-88b3-07392718c2fe&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edebd80
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edebd80
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee99cb0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee7ce30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edeccd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3NzksImlhdCI6MTY1MTg1MTQ3OSwiYXV0aF90aW1lIjoxNjUxODUxNDc2LCJqdGkiOiI0Yjc2ZjhlNC0zZTVhLTRhOGMtYjlmYS0wMjAzZDc0ZTk1ZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcmNEU3V6UWJQVHZEcmloZDNRZ0tnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0ZmMwNWRjLTJlZTUtNDczYy04YjQ1LWJkNGJkZTM0YTE5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SviOifSnhp4oUBGdmEk26Mcl0gBzE80vK5mhv-Qe255f1SqWUTKmGgiOlCQLvou5raHNamZcAsH_E0Mxq8I47BdIE_H6q_BEqKzsMVMS72P-eGQ5P668Iao16R59FqAe9AAhZSRfmU9DRLkvbGA8shTahEFPypCUXbckXzISre-PwR2Sv_Td8NmfYqLMXOYmDsBAo3-nVAwpejrTAnEMS9bmKZaRzpGSScndUG9yN0m0Khyit2cysmf2d7a0-NMQtJPVYVwUoT9u59FLWNI06dpwoxpwetEHgAo8oOPXt7OqEaQCqdpPsZl0TLDm6D4TOQcXM7Xf86EYcTbllnHxMQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:01Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;&#x27; @ QOS 0
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fe9f0007f70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 99, 100, 97, 97, 56, 56, 98, 45, 48, 97, 53, 56, 45, 52, 99, 98, 101, 45, 97, 52, 52, 100, 45, 54, 101, 99, 51, 51, 56, 50, 48, 99, 52, 53, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 98, 56, 48, 54, 99, 52, 53, 37, 50, 68, 101, 57, 50, 98, 37, 50, 68, 52, 100, 54, 98, 37, 50, 68, 56, 57, 99, 99, 37, 50, 68, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 48, 53, 46, 49, 55, 51, 52, 57, 54, 57, 50, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 98, 56, 48, 54, 99, 52, 53, 45, 101, 57, 50, 98, 45, 52, 100, 54, 98, 45, 56, 57, 99, 99, 45, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 51, 101, 49, 56, 48, 99, 53, 45, 101, 98, 100, 100, 45, 52, 98, 53, 57, 45, 56, 56, 57, 55, 45, 49, 55, 98, 50, 100, 49, 97, 55, 101, 56, 53, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 97, 56, 56, 49, 57, 48, 51, 45, 49, 50, 54, 52, 45, 52, 102, 51, 98, 45, 56, 54, 57, 57, 45, 51, 102, 100, 100, 55, 55, 99, 99, 55, 98, 53, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 98, 56, 48, 54, 99, 52, 53, 37, 50, 68, 101, 57, 50, 98, 37, 50, 68, 52, 100, 54, 98, 37, 50, 68, 56, 57, 99, 99, 37, 50, 68, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 51, 54, 55, 98, 97, 53, 102, 45, 48, 52, 102, 102, 45, 52, 98, 99, 99, 45, 56, 99, 102, 49, 45, 55, 48, 51, 53, 55, 102, 99, 98, 55, 51, 54, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:38:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6cdaa88b-0a58-4cbe-a44d-6ec33820c456\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8b806c45%2De92b%2D4d6b%2D89cc%2D0a3e2e7bc64b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:05.173496928Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;d3e180c5-ebdd-4b59-8897-17b2d1a7e85f\&quot;,\&quot;applicationuid\&quot;:\&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b\&quot;,\&quot;partitionkey\&quot;:\&quot;8b806c45%2De92b%2D4d6b%2D89cc%2D0a3e2e7bc64b/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;d367ba5f-04ff-4bcc-8cf1-70357fcb7365\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:38:06Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;71e28106-ccab-433c-8ec8-121bf22aa39c&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecbfe80
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecbfe80
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f265db0, password: 0x55f42f031840, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef07760, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecc0120, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec72840 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec72840 } } } }
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fe9f0011260, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 50, 97, 49, 54, 52, 102, 49, 45, 53, 50, 100, 98, 45, 52, 51, 98, 50, 45, 57, 97, 51, 101, 45, 99, 50, 97, 53, 97, 53, 99, 49, 52, 101, 56, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 98, 56, 48, 54, 99, 52, 53, 37, 50, 68, 101, 57, 50, 98, 37, 50, 68, 52, 100, 54, 98, 37, 50, 68, 56, 57, 99, 99, 37, 50, 68, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 48, 54, 46, 51, 48, 51, 49, 55, 49, 56, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 98, 56, 48, 54, 99, 52, 53, 37, 50, 68, 101, 57, 50, 98, 37, 50, 68, 52, 100, 54, 98, 37, 50, 68, 56, 57, 99, 99, 37, 50, 68, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 97, 56, 56, 49, 57, 48, 51, 45, 49, 50, 54, 52, 45, 52, 102, 51, 98, 45, 56, 54, 57, 57, 45, 51, 102, 100, 100, 55, 55, 99, 99, 55, 98, 53, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 98, 56, 48, 54, 99, 52, 53, 45, 101, 57, 50, 98, 45, 52, 100, 54, 98, 45, 56, 57, 99, 99, 45, 48, 97, 51, 101, 50, 101, 55, 98, 99, 54, 52, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 51, 101, 49, 56, 48, 99, 53, 45, 101, 98, 100, 100, 45, 52, 98, 53, 57, 45, 56, 56, 57, 55, 45, 49, 55, 98, 50, 100, 49, 97, 55, 101, 56, 53, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 51, 101, 49, 56, 48, 99, 53, 45, 101, 98, 100, 100, 45, 52, 98, 53, 57, 45, 56, 56, 57, 55, 45, 49, 55, 98, 50, 100, 49, 97, 55, 101, 56, 53, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a2a164f1-52db-43b2-9a3e-c2a5a5c14e8b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8b806c45%2De92b%2D4d6b%2D89cc%2D0a3e2e7bc64b/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:06.303171891Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;8b806c45%2De92b%2D4d6b%2D89cc%2D0a3e2e7bc64b/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;4a881903-1264-4f3b-8699-3fdd77cc7b5b\&quot;,\&quot;application\&quot;:\&quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b\&quot;,\&quot;deviceuid\&quot;:\&quot;d3e180c5-ebdd-4b59-8897-17b2d1a7e85f\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;d3e180c5-ebdd-4b59-8897-17b2d1a7e85f\&quot;}&quot; }
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:38:06Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:38:06Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:38:06Z DEBUG paho_mqtt::token] Token failure! 0x7fe9f0012070, 0x7ffe819ce270
[2022-05-06T15:38:06Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:38:06Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:38:06Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot; &quot;device1&quot;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot; &quot;gateway1&quot;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&#x27;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b&quot;
[2022-05-06T15:38:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8b806c45-e92b-4d6b-89cc-0a3e2e7bc64b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:38:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:38:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:38:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:38:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyOTIsImlhdCI6MTY1MTg1MTQ5MiwianRpIjoiYjI3NDA0ODktMzFlYy00MWUyLTk4Y2EtMWRhZjA5NTg5MmVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImVGeHFfczZfb1VabG1UZ08xbE9rR3ciLCJzZXNzaW9uX3N0YXRlIjoiOGM0OGZiYWItNmI0NS00Yzk5LThhYzUtZjk1YzRjZTJmZjljIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyJ9.-EHlDu6XE-Sfbs0qVZFwZfANlwGiOo_q7xOxcHV1bvo
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMyOTIsImlhdCI6MTY1MTg1MTQ5MiwianRpIjoiYjI3NDA0ODktMzFlYy00MWUyLTk4Y2EtMWRhZjA5NTg5MmVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImVGeHFfczZfb1VabG1UZ08xbE9rR3ciLCJzZXNzaW9uX3N0YXRlIjoiOGM0OGZiYWItNmI0NS00Yzk5LThhYzUtZjk1YzRjZTJmZjljIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyJ9.-EHlDu6XE-Sfbs0qVZFwZfANlwGiOo_q7xOxcHV1bvo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 5f1757c6-604c-423e-b4d4-75a609b4bb2c
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5f1757c6-604c-423e-b4d4-75a609b4bb2c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;
[2022-05-06T15:38:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:13.850289Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a5dd6bbe-8cf6-40c1-9f71-8e0e969d4b76\&quot;,\n    \&quot;uid\&quot;: \&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.867470978Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:13.850289Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;), &quot;resourceVersion&quot;: String(&quot;a5dd6bbe-8cf6-40c1-9f71-8e0e969d4b76&quot;), &quot;uid&quot;: String(&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.867470978Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:38:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:13.850289Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1ce85dcc-2440-463b-b80d-472d660d9a47\&quot;,\n    \&quot;uid\&quot;: \&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291243289Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291152609Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.897152896Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.902817342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.973885416Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.981340318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291057501Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291073090Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;jcajKXLvsNST\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:13.850289Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;), &quot;resourceVersion&quot;: String(&quot;1ce85dcc-2440-463b-b80d-472d660d9a47&quot;), &quot;uid&quot;: String(&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291243289Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291152609Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.897152896Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.902817342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.973885416Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.981340318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291057501Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291073090Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;jcajKXLvsNST&quot;), &quot;username&quot;: String(&quot;user-5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;)})})})})
[2022-05-06T15:38:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:13.850289Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1ce85dcc-2440-463b-b80d-472d660d9a47\&quot;,\n    \&quot;uid\&quot;: \&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291243289Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291152609Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.897152896Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.902817342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.973885416Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:13.981340318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291057501Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:14.291073090Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;jcajKXLvsNST\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:13.850289Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;), &quot;resourceVersion&quot;: String(&quot;1ce85dcc-2440-463b-b80d-472d660d9a47&quot;), &quot;uid&quot;: String(&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291243289Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291152609Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.897152896Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.902817342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.973885416Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:13.981340318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291057501Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:14.291073090Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;jcajKXLvsNST&quot;), &quot;username&quot;: String(&quot;user-5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;)})})})})
[2022-05-06T15:38:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3OTMsImlhdCI6MTY1MTg1MTQ5MywiYXV0aF90aW1lIjoxNjUxODUxNDkwLCJqdGkiOiI0MGQ2YTEyZi1mNGI0LTQyZjYtOWJlOC0yZDAwYjFiYTdiZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJlRnhxX3M2X29VWmxtVGdPMWxPa0d3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PQFNO2JOTYF-U-u3eXDg-HibfQz2Gd9e6uV7RQCyv-ScMS1eKvSZC8bEed5XUPaeeqiAsrKiDFvl_uYcEu1ZRnNb9CFMITjnC3-AD2vdIJWWibVN5nJaWPEO6EwKrK5PalgTIqhjBI-RqLcK7UrInn_qIj9gBXejRyVyr1G8wQrxMY4dFv1_qcThneX3wuCT_uWDJ1TV3xdyVbWnVQCJIv_ybyKL1jnUiaicJGFWqCTioeH4EVqaU7h-WjET7jKQD-Vmk30iPS1Eq3tTIvwgYZ3GvNvP2cEIEUXzGWQvqgLWOEUKOzZCrjbyO5Ja_p-g-4CXtrwyliPuFv7iPldPhA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3OTMsImlhdCI6MTY1MTg1MTQ5MywiYXV0aF90aW1lIjoxNjUxODUxNDkwLCJqdGkiOiI0MGQ2YTEyZi1mNGI0LTQyZjYtOWJlOC0yZDAwYjFiYTdiZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJlRnhxX3M2X29VWmxtVGdPMWxPa0d3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PQFNO2JOTYF-U-u3eXDg-HibfQz2Gd9e6uV7RQCyv-ScMS1eKvSZC8bEed5XUPaeeqiAsrKiDFvl_uYcEu1ZRnNb9CFMITjnC3-AD2vdIJWWibVN5nJaWPEO6EwKrK5PalgTIqhjBI-RqLcK7UrInn_qIj9gBXejRyVyr1G8wQrxMY4dFv1_qcThneX3wuCT_uWDJ1TV3xdyVbWnVQCJIv_ybyKL1jnUiaicJGFWqCTioeH4EVqaU7h-WjET7jKQD-Vmk30iPS1Eq3tTIvwgYZ3GvNvP2cEIEUXzGWQvqgLWOEUKOzZCrjbyO5Ja_p-g-4CXtrwyliPuFv7iPldPhA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;eb11feda-e344-46a1-8ada-f9d85a71a774&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecca320
[2022-05-06T15:38:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecca320
[2022-05-06T15:38:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ef90ff0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f2320e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee46fb0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE3OTMsImlhdCI6MTY1MTg1MTQ5MywiYXV0aF90aW1lIjoxNjUxODUxNDkwLCJqdGkiOiI0MGQ2YTEyZi1mNGI0LTQyZjYtOWJlOC0yZDAwYjFiYTdiZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJlRnhxX3M2X29VWmxtVGdPMWxPa0d3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjNDhmYmFiLTZiNDUtNGM5OS04YWM1LWY5NWM0Y2UyZmY5YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PQFNO2JOTYF-U-u3eXDg-HibfQz2Gd9e6uV7RQCyv-ScMS1eKvSZC8bEed5XUPaeeqiAsrKiDFvl_uYcEu1ZRnNb9CFMITjnC3-AD2vdIJWWibVN5nJaWPEO6EwKrK5PalgTIqhjBI-RqLcK7UrInn_qIj9gBXejRyVyr1G8wQrxMY4dFv1_qcThneX3wuCT_uWDJ1TV3xdyVbWnVQCJIv_ybyKL1jnUiaicJGFWqCTioeH4EVqaU7h-WjET7jKQD-Vmk30iPS1Eq3tTIvwgYZ3GvNvP2cEIEUXzGWQvqgLWOEUKOzZCrjbyO5Ja_p-g-4CXtrwyliPuFv7iPldPhA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:15Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;&#x27; @ QOS 0
[2022-05-06T15:38:15Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:38:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:38:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea08008630, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 49, 102, 98, 51, 55, 49, 101, 45, 50, 57, 54, 50, 45, 52, 100, 55, 100, 45, 57, 102, 97, 52, 45, 53, 100, 54, 54, 51, 102, 102, 100, 48, 49, 52, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 102, 49, 55, 53, 55, 99, 54, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 50, 51, 101, 37, 50, 68, 98, 52, 100, 52, 37, 50, 68, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 49, 57, 46, 49, 57, 57, 55, 55, 57, 52, 55, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 56, 100, 57, 50, 49, 57, 45, 49, 50, 102, 53, 45, 52, 98, 102, 101, 45, 97, 49, 99, 54, 45, 52, 49, 55, 55, 98, 98, 50, 97, 100, 97, 98, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 100, 56, 57, 101, 48, 52, 55, 45, 51, 102, 48, 50, 45, 52, 56, 51, 101, 45, 56, 54, 50, 54, 45, 55, 55, 99, 52, 54, 55, 56, 51, 56, 53, 56, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 102, 49, 55, 53, 55, 99, 54, 45, 54, 48, 52, 99, 45, 52, 50, 51, 101, 45, 98, 52, 100, 52, 45, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 102, 49, 55, 53, 55, 99, 54, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 50, 51, 101, 37, 50, 68, 98, 52, 100, 52, 37, 50, 68, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 55, 56, 50, 51, 55, 53, 98, 45, 52, 52, 56, 48, 45, 52, 53, 102, 50, 45, 98, 102, 52, 98, 45, 51, 52, 57, 56, 49, 53, 51, 51, 97, 55, 101, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:38:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c1fb371e-2962-4d7d-9fa4-5d663ffd0142\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5f1757c6%2D604c%2D423e%2Db4d4%2D75a609b4bb2c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:19.199779473Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6\&quot;,\&quot;deviceuid\&quot;:\&quot;bd89e047-3f02-483e-8626-77c467838586\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;,\&quot;partitionkey\&quot;:\&quot;5f1757c6%2D604c%2D423e%2Db4d4%2D75a609b4bb2c/device1\&quot;,\&quot;senderuid\&quot;:\&quot;1782375b-4480-45f2-bf4b-34981533a7e7\&quot;}&quot; }
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:38:20Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c67a2d5a-1a62-462c-b0e6-889d87f8af6a&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee7ea50
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee7ea50
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42eda6980, password: 0x55f42eeb6290, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed8dc70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ef88610, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f101200 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f101200 } } } }
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0802b770, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 53, 56, 102, 51, 55, 49, 99, 45, 51, 54, 56, 50, 45, 52, 51, 101, 99, 45, 98, 49, 98, 51, 45, 102, 53, 99, 56, 50, 53, 50, 52, 49, 57, 54, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 102, 49, 55, 53, 55, 99, 54, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 50, 51, 101, 37, 50, 68, 98, 52, 100, 52, 37, 50, 68, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 50, 48, 46, 51, 49, 57, 49, 49, 56, 52, 50, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 102, 49, 55, 53, 55, 99, 54, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 50, 51, 101, 37, 50, 68, 98, 52, 100, 52, 37, 50, 68, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 55, 56, 50, 51, 55, 53, 98, 45, 52, 52, 56, 48, 45, 52, 53, 102, 50, 45, 98, 102, 52, 98, 45, 51, 52, 57, 56, 49, 53, 51, 51, 97, 55, 101, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 56, 100, 57, 50, 49, 57, 45, 49, 50, 102, 53, 45, 52, 98, 102, 101, 45, 97, 49, 99, 54, 45, 52, 49, 55, 55, 98, 98, 50, 97, 100, 97, 98, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 102, 49, 55, 53, 55, 99, 54, 45, 54, 48, 52, 99, 45, 52, 50, 51, 101, 45, 98, 52, 100, 52, 45, 55, 53, 97, 54, 48, 57, 98, 52, 98, 98, 50, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 55, 56, 50, 51, 55, 53, 98, 45, 52, 52, 56, 48, 45, 52, 53, 102, 50, 45, 98, 102, 52, 98, 45, 51, 52, 57, 56, 49, 53, 51, 51, 97, 55, 101, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;858f371c-3682-43ec-b1b3-f5c825241968\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5f1757c6%2D604c%2D423e%2Db4d4%2D75a609b4bb2c/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:20.319118425Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;5f1757c6%2D604c%2D423e%2Db4d4%2D75a609b4bb2c/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;1782375b-4480-45f2-bf4b-34981533a7e7\&quot;,\&quot;applicationuid\&quot;:\&quot;bc8d9219-12f5-4bfe-a1c6-4177bb2adab6\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;1782375b-4480-45f2-bf4b-34981533a7e7\&quot;}&quot; }
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:38:20Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:38:20Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:38:20Z DEBUG paho_mqtt::token] Token failure! 0x55f42ee7ace0, 0x7ffe819ce270
[2022-05-06T15:38:20Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:38:20Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:38:20Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot; &quot;device1&quot;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot; &quot;gateway1&quot;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5f1757c6-604c-423e-b4d4-75a609b4bb2c&#x27;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5f1757c6-604c-423e-b4d4-75a609b4bb2c&quot;
[2022-05-06T15:38:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5f1757c6-604c-423e-b4d4-75a609b4bb2c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:38:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:38:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:38:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:38:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMDcsImlhdCI6MTY1MTg1MTUwNywianRpIjoiN2M4Y2E4NWMtYjBiNC00OWNmLTk2YzItMDA0MWIzZDI2ZGE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVYYk82MF80YVFrd1JMNDR1dmRmUWciLCJzZXNzaW9uX3N0YXRlIjoiZTgwODU1MzYtZWIwMS00NTgyLTk5NWQtMTBiMTA1ZTliYTE1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSJ9.SJHGa2X_25-cc4L8GFz02dOTxfdVDUad7NI5R94sAZo
[2022-05-06T15:38:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:38:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMDcsImlhdCI6MTY1MTg1MTUwNywianRpIjoiN2M4Y2E4NWMtYjBiNC00OWNmLTk2YzItMDA0MWIzZDI2ZGE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVYYk82MF80YVFrd1JMNDR1dmRmUWciLCJzZXNzaW9uX3N0YXRlIjoiZTgwODU1MzYtZWIwMS00NTgyLTk5NWQtMTBiMTA1ZTliYTE1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSJ9.SJHGa2X_25-cc4L8GFz02dOTxfdVDUad7NI5R94sAZo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:38:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:28Z INFO  drogue_cloud_tests::resources::apps] Create application: e62264bc-6155-48d5-8e2a-d3c9b96fb536
[2022-05-06T15:38:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;
[2022-05-06T15:38:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e62264bc-6155-48d5-8e2a-d3c9b96fb536 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;
[2022-05-06T15:38:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:28.212460Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9e8a33f6-4a4b-43d1-948c-45e14f6b7687\&quot;,\n    \&quot;uid\&quot;: \&quot;b1a0e496-149d-427e-be38-573b651675b5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232127462Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232105311Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232073972Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232074953Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232075365Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232075745Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232076176Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.232084101Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:28.212460Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;), &quot;resourceVersion&quot;: String(&quot;9e8a33f6-4a4b-43d1-948c-45e14f6b7687&quot;), &quot;uid&quot;: String(&quot;b1a0e496-149d-427e-be38-573b651675b5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232127462Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232105311Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232073972Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232074953Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232075365Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232075745Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232076176Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.232084101Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:38:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:28.212460Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e795c7d1-0280-440c-acc5-144c5836ae66\&quot;,\n    \&quot;uid\&quot;: \&quot;b1a0e496-149d-427e-be38-573b651675b5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539795074Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539735843Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.248828823Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.256809621Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.336386753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.350046583Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539685909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539704013Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;sxPQ12o6NOsI\&quot;,\n        \&quot;username\&quot;: \&quot;user-e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:28.212460Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;), &quot;resourceVersion&quot;: String(&quot;e795c7d1-0280-440c-acc5-144c5836ae66&quot;), &quot;uid&quot;: String(&quot;b1a0e496-149d-427e-be38-573b651675b5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539795074Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539735843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.248828823Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.256809621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.336386753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.350046583Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539685909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539704013Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;sxPQ12o6NOsI&quot;), &quot;username&quot;: String(&quot;user-e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;)})})})})
[2022-05-06T15:38:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:28.212460Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e795c7d1-0280-440c-acc5-144c5836ae66\&quot;,\n    \&quot;uid\&quot;: \&quot;b1a0e496-149d-427e-be38-573b651675b5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539795074Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539735843Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.248828823Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.256809621Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.336386753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.350046583Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539685909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:28.539704013Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;sxPQ12o6NOsI\&quot;,\n        \&quot;username\&quot;: \&quot;user-e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:28.212460Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;), &quot;resourceVersion&quot;: String(&quot;e795c7d1-0280-440c-acc5-144c5836ae66&quot;), &quot;uid&quot;: String(&quot;b1a0e496-149d-427e-be38-573b651675b5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539795074Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539735843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.248828823Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.256809621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.336386753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.350046583Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539685909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:28.539704013Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;sxPQ12o6NOsI&quot;), &quot;username&quot;: String(&quot;user-e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;)})})})})
[2022-05-06T15:38:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MDcsImlhdCI6MTY1MTg1MTUwNywiYXV0aF90aW1lIjoxNjUxODUxNTA0LCJqdGkiOiI0MjRlYmQwNi01ZTgyLTQwYWMtYTRhYy1kYzYwMTE1MDY4NTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFWGJPNjBfNGFRa3dSTDQ0dXZkZlFnIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bs2IhOGA1kT0c4pch56Hv0YrbGyZjCCFdArxX5AhEiUn3AAqGaP5mz-6o0U4exD90KlHMyLKBJZ-cwDAQEUVUGylZSsKwyJbHnGd-XW-V_66v1sCiGgzn2HK0sLHUgtSjXsZo9cJeuZs09q_A8BTXZ5sz7sQ-m84PzHW8X936LiB-HRYiqz8JHzkBE4ZrVZk0FrmtqC12gHIstQ48KAbgVUb3BoH6ykPNOBdrrtk4k-bcjT6BmjtU8AvQcC-TCPd1zE76GEyFkjNZP3m0X-JqnU7Ks-F1GxGs1llrOgbfkQ_1HslML1D1EXrNOaOa5u6OJfs5-1YKzDkoRzIhjoHqw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MDcsImlhdCI6MTY1MTg1MTUwNywiYXV0aF90aW1lIjoxNjUxODUxNTA0LCJqdGkiOiI0MjRlYmQwNi01ZTgyLTQwYWMtYTRhYy1kYzYwMTE1MDY4NTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFWGJPNjBfNGFRa3dSTDQ0dXZkZlFnIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bs2IhOGA1kT0c4pch56Hv0YrbGyZjCCFdArxX5AhEiUn3AAqGaP5mz-6o0U4exD90KlHMyLKBJZ-cwDAQEUVUGylZSsKwyJbHnGd-XW-V_66v1sCiGgzn2HK0sLHUgtSjXsZo9cJeuZs09q_A8BTXZ5sz7sQ-m84PzHW8X936LiB-HRYiqz8JHzkBE4ZrVZk0FrmtqC12gHIstQ48KAbgVUb3BoH6ykPNOBdrrtk4k-bcjT6BmjtU8AvQcC-TCPd1zE76GEyFkjNZP3m0X-JqnU7Ks-F1GxGs1llrOgbfkQ_1HslML1D1EXrNOaOa5u6OJfs5-1YKzDkoRzIhjoHqw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;90096fc9-f334-4c94-8b54-c6ec3b32d87a&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0ff3f0
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0ff3f0
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f0d0af0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee03c60, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d27d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MDcsImlhdCI6MTY1MTg1MTUwNywiYXV0aF90aW1lIjoxNjUxODUxNTA0LCJqdGkiOiI0MjRlYmQwNi01ZTgyLTQwYWMtYTRhYy1kYzYwMTE1MDY4NTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFWGJPNjBfNGFRa3dSTDQ0dXZkZlFnIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MDg1NTM2LWViMDEtNDU4Mi05OTVkLTEwYjEwNWU5YmExNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Bs2IhOGA1kT0c4pch56Hv0YrbGyZjCCFdArxX5AhEiUn3AAqGaP5mz-6o0U4exD90KlHMyLKBJZ-cwDAQEUVUGylZSsKwyJbHnGd-XW-V_66v1sCiGgzn2HK0sLHUgtSjXsZo9cJeuZs09q_A8BTXZ5sz7sQ-m84PzHW8X936LiB-HRYiqz8JHzkBE4ZrVZk0FrmtqC12gHIstQ48KAbgVUb3BoH6ykPNOBdrrtk4k-bcjT6BmjtU8AvQcC-TCPd1zE76GEyFkjNZP3m0X-JqnU7Ks-F1GxGs1llrOgbfkQ_1HslML1D1EXrNOaOa5u6OJfs5-1YKzDkoRzIhjoHqw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;&#x27; @ QOS 0
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea0800bde0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800c060 } }, data: MessageData { topic: &quot;app/e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 55, 55, 55, 52, 97, 100, 55, 45, 99, 100, 55, 50, 45, 52, 98, 99, 97, 45, 98, 102, 97, 49, 45, 51, 99, 56, 101, 50, 54, 100, 97, 53, 50, 54, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 54, 50, 50, 54, 52, 98, 99, 37, 50, 68, 54, 49, 53, 53, 37, 50, 68, 52, 56, 100, 53, 37, 50, 68, 56, 101, 50, 97, 37, 50, 68, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 51, 51, 46, 50, 56, 50, 57, 57, 56, 51, 54, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 54, 50, 50, 54, 52, 98, 99, 37, 50, 68, 54, 49, 53, 53, 37, 50, 68, 52, 56, 100, 53, 37, 50, 68, 56, 101, 50, 97, 37, 50, 68, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 57, 99, 55, 51, 98, 53, 51, 45, 102, 51, 48, 101, 45, 52, 102, 54, 97, 45, 56, 54, 99, 98, 45, 54, 102, 97, 55, 99, 101, 101, 48, 55, 102, 102, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 97, 48, 101, 52, 57, 54, 45, 49, 52, 57, 100, 45, 52, 50, 55, 101, 45, 98, 101, 51, 56, 45, 53, 55, 51, 98, 54, 53, 49, 54, 55, 53, 98, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 50, 101, 56, 56, 101, 54, 57, 45, 52, 51, 56, 54, 45, 52, 48, 50, 100, 45, 97, 48, 49, 56, 45, 56, 48, 48, 48, 102, 50, 48, 99, 56, 57, 97, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 54, 50, 50, 54, 52, 98, 99, 45, 54, 49, 53, 53, 45, 52, 56, 100, 53, 45, 56, 101, 50, 97, 45, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800c060 } } } }
[2022-05-06T15:38:33Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eda80e0
[2022-05-06T15:38:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;37774ad7-cd72-4bca-bfa1-3c8e26da5263\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e62264bc%2D6155%2D48d5%2D8e2a%2Dd3c9b96fb536/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:33.282998365Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;e62264bc%2D6155%2D48d5%2D8e2a%2Dd3c9b96fb536/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;39c73b53-f30e-4f6a-86cb-6fa7cee07ff6\&quot;,\&quot;applicationuid\&quot;:\&quot;b1a0e496-149d-427e-be38-573b651675b5\&quot;,\&quot;deviceuid\&quot;:\&quot;32e88e69-4386-402d-a018-8000f20c89a8\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;}&quot; }
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:38:34Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;b9fc21ca-f772-4d9d-a7eb-ef001fc8da17&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0d5550
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0d5550
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f2635a0, password: 0x55f42ee5bd90, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0f8ba0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ec8abd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eca1d80 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eca1d80 } } } }
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0802c480, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802c710 } }, data: MessageData { topic: &quot;app/e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 98, 49, 54, 51, 99, 53, 54, 45, 57, 101, 100, 55, 45, 52, 55, 97, 99, 45, 56, 98, 102, 57, 45, 56, 48, 54, 54, 102, 53, 53, 50, 97, 53, 53, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 54, 50, 50, 54, 52, 98, 99, 37, 50, 68, 54, 49, 53, 53, 37, 50, 68, 52, 56, 100, 53, 37, 50, 68, 56, 101, 50, 97, 37, 50, 68, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 51, 52, 46, 52, 48, 52, 48, 51, 49, 53, 53, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 57, 99, 55, 51, 98, 53, 51, 45, 102, 51, 48, 101, 45, 52, 102, 54, 97, 45, 56, 54, 99, 98, 45, 54, 102, 97, 55, 99, 101, 101, 48, 55, 102, 102, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 54, 50, 50, 54, 52, 98, 99, 37, 50, 68, 54, 49, 53, 53, 37, 50, 68, 52, 56, 100, 53, 37, 50, 68, 56, 101, 50, 97, 37, 50, 68, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 57, 99, 55, 51, 98, 53, 51, 45, 102, 51, 48, 101, 45, 52, 102, 54, 97, 45, 56, 54, 99, 98, 45, 54, 102, 97, 55, 99, 101, 101, 48, 55, 102, 102, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 54, 50, 50, 54, 52, 98, 99, 45, 54, 49, 53, 53, 45, 52, 56, 100, 53, 45, 56, 101, 50, 97, 45, 100, 51, 99, 57, 98, 57, 54, 102, 98, 53, 51, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 97, 48, 101, 52, 57, 54, 45, 49, 52, 57, 100, 45, 52, 50, 55, 101, 45, 98, 101, 51, 56, 45, 53, 55, 51, 98, 54, 53, 49, 54, 55, 53, 98, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802c710 } } } }
[2022-05-06T15:38:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eda80e0
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;cb163c56-9ed7-47ac-8bf9-8066f552a55e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e62264bc%2D6155%2D48d5%2D8e2a%2Dd3c9b96fb536/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:34.404031553Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;39c73b53-f30e-4f6a-86cb-6fa7cee07ff6\&quot;,\&quot;partitionkey\&quot;:\&quot;e62264bc%2D6155%2D48d5%2D8e2a%2Dd3c9b96fb536/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;39c73b53-f30e-4f6a-86cb-6fa7cee07ff6\&quot;,\&quot;application\&quot;:\&quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536\&quot;,\&quot;applicationuid\&quot;:\&quot;b1a0e496-149d-427e-be38-573b651675b5\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:38:34Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:38:34Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot; &quot;device1&quot;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot; &quot;gateway1&quot;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e62264bc-6155-48d5-8e2a-d3c9b96fb536&#x27;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e62264bc-6155-48d5-8e2a-d3c9b96fb536&quot;
[2022-05-06T15:38:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e62264bc-6155-48d5-8e2a-d3c9b96fb536 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 12s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:38:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:38:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:38:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:38:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMjAsImlhdCI6MTY1MTg1MTUyMCwianRpIjoiYTRkMjIzN2YtYzViYy00MTk4LWExZDAtYjRhNWMzMWY1OGY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtrWDlqejBNNVltV3BkRXNYaEFsMXciLCJzZXNzaW9uX3N0YXRlIjoiNDc3NDdmZTQtY2EwZC00MWI3LTgxZDItNDY1YTIxZTVjZGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyJ9.ZOqGBAm7FOyBk56ScgFTFztRi8D8P-1ZTx8cXu5eXT8
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMjAsImlhdCI6MTY1MTg1MTUyMCwianRpIjoiYTRkMjIzN2YtYzViYy00MTk4LWExZDAtYjRhNWMzMWY1OGY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtrWDlqejBNNVltV3BkRXNYaEFsMXciLCJzZXNzaW9uX3N0YXRlIjoiNDc3NDdmZTQtY2EwZC00MWI3LTgxZDItNDY1YTIxZTVjZGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyJ9.ZOqGBAm7FOyBk56ScgFTFztRi8D8P-1ZTx8cXu5eXT8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::resources::apps] Create application: 3c8d7007-1fd4-4f4f-8e95-2973b341bb07
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3c8d7007-1fd4-4f4f-8e95-2973b341bb07 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;
[2022-05-06T15:38:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:41.750864Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;300f1cc3-11c7-4624-a59e-23b37151db6a\&quot;,\n    \&quot;uid\&quot;: \&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.766099623Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:41.750864Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;), &quot;resourceVersion&quot;: String(&quot;300f1cc3-11c7-4624-a59e-23b37151db6a&quot;), &quot;uid&quot;: String(&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.766099623Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:38:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:41.750864Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;accd0971-0fdb-43c0-b9f4-4f960b12d703\&quot;,\n    \&quot;uid\&quot;: \&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075780387Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075711578Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.808653236Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.813680768Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.870872745Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.877444562Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075585712Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075654832Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;hR6NW1OJG8VF\&quot;,\n        \&quot;username\&quot;: \&quot;user-3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:41.750864Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;), &quot;resourceVersion&quot;: String(&quot;accd0971-0fdb-43c0-b9f4-4f960b12d703&quot;), &quot;uid&quot;: String(&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075780387Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075711578Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.808653236Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.813680768Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.870872745Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.877444562Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075585712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075654832Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;hR6NW1OJG8VF&quot;), &quot;username&quot;: String(&quot;user-3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;)})})})})
[2022-05-06T15:38:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:41.750864Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;accd0971-0fdb-43c0-b9f4-4f960b12d703\&quot;,\n    \&quot;uid\&quot;: \&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075780387Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075711578Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.808653236Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.813680768Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.870872745Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:41.877444562Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075585712Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:42.075654832Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;hR6NW1OJG8VF\&quot;,\n        \&quot;username\&quot;: \&quot;user-3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:41.750864Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;), &quot;resourceVersion&quot;: String(&quot;accd0971-0fdb-43c0-b9f4-4f960b12d703&quot;), &quot;uid&quot;: String(&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075780387Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075711578Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.808653236Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.813680768Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.870872745Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:41.877444562Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075585712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:42.075654832Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;hR6NW1OJG8VF&quot;), &quot;username&quot;: String(&quot;user-3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;)})})})})
[2022-05-06T15:38:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MjEsImlhdCI6MTY1MTg1MTUyMSwiYXV0aF90aW1lIjoxNjUxODUxNTE4LCJqdGkiOiI3NTk3M2RhYy1iNDZhLTQ1NDAtYjNkYS1iMWQ4N2ZiNjIzN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJra1g5anowTTVZbVdwZEVzWGhBbDF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D9wkSGMyTOa4S6gPe00m7eb7LxeGdeWGqW0s3yuk7G-6pFDaV5bkai2bixc-7aL4d8mJaTOtWzAHpj3zbg0AvHRLPMDgb0_4MhkwmiE69tpaHmzww8-oCsyjVB7zt3QIDL41iZkPWtQjmlUzQPbJHMTn7clVJZJI1qOTQEJ08zLklh5f8iGFkxCHEWMy-kwn6hO36R8gZirsDJpU_ISem5wT7mwb16n7huBy-qSja344ZSpSu1qKYQqESqBZy2r7uBWN1tm1lV8nwmVw82WBjp1--YkkUnD_HVQpuCZv5lPz7QS33xpKYtK4Om13AOXz9Ehx31zBR24oFoZHATNi_A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MjEsImlhdCI6MTY1MTg1MTUyMSwiYXV0aF90aW1lIjoxNjUxODUxNTE4LCJqdGkiOiI3NTk3M2RhYy1iNDZhLTQ1NDAtYjNkYS1iMWQ4N2ZiNjIzN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJra1g5anowTTVZbVdwZEVzWGhBbDF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D9wkSGMyTOa4S6gPe00m7eb7LxeGdeWGqW0s3yuk7G-6pFDaV5bkai2bixc-7aL4d8mJaTOtWzAHpj3zbg0AvHRLPMDgb0_4MhkwmiE69tpaHmzww8-oCsyjVB7zt3QIDL41iZkPWtQjmlUzQPbJHMTn7clVJZJI1qOTQEJ08zLklh5f8iGFkxCHEWMy-kwn6hO36R8gZirsDJpU_ISem5wT7mwb16n7huBy-qSja344ZSpSu1qKYQqESqBZy2r7uBWN1tm1lV8nwmVw82WBjp1--YkkUnD_HVQpuCZv5lPz7QS33xpKYtK4Om13AOXz9Ehx31zBR24oFoZHATNi_A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;d1d3d19c-9349-4684-9789-d8f4742197ed&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f230630
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f230630
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eeb4c00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f263d40, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f231b10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MjEsImlhdCI6MTY1MTg1MTUyMSwiYXV0aF90aW1lIjoxNjUxODUxNTE4LCJqdGkiOiI3NTk3M2RhYy1iNDZhLTQ1NDAtYjNkYS1iMWQ4N2ZiNjIzN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJra1g5anowTTVZbVdwZEVzWGhBbDF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3NzQ3ZmU0LWNhMGQtNDFiNy04MWQyLTQ2NWEyMWU1Y2RiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D9wkSGMyTOa4S6gPe00m7eb7LxeGdeWGqW0s3yuk7G-6pFDaV5bkai2bixc-7aL4d8mJaTOtWzAHpj3zbg0AvHRLPMDgb0_4MhkwmiE69tpaHmzww8-oCsyjVB7zt3QIDL41iZkPWtQjmlUzQPbJHMTn7clVJZJI1qOTQEJ08zLklh5f8iGFkxCHEWMy-kwn6hO36R8gZirsDJpU_ISem5wT7mwb16n7huBy-qSja344ZSpSu1qKYQqESqBZy2r7uBWN1tm1lV8nwmVw82WBjp1--YkkUnD_HVQpuCZv5lPz7QS33xpKYtK4Om13AOXz9Ehx31zBR24oFoZHATNi_A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:42Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;&#x27; @ QOS 0
[2022-05-06T15:38:43Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:38:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:38:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7fea0802e700, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802e980 } }, data: MessageData { topic: &quot;app/3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 56, 101, 102, 97, 99, 97, 55, 45, 56, 53, 57, 100, 45, 52, 50, 101, 97, 45, 97, 99, 54, 49, 45, 49, 50, 100, 97, 56, 102, 97, 48, 52, 56, 98, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 56, 100, 55, 48, 48, 55, 37, 50, 68, 49, 102, 100, 52, 37, 50, 68, 52, 102, 52, 102, 37, 50, 68, 56, 101, 57, 53, 37, 50, 68, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 52, 54, 46, 50, 56, 52, 52, 52, 55, 55, 53, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 49, 48, 100, 55, 102, 100, 45, 57, 54, 54, 101, 45, 52, 100, 101, 50, 45, 97, 102, 99, 57, 45, 55, 49, 53, 53, 55, 57, 56, 100, 54, 101, 100, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 49, 53, 97, 99, 51, 56, 57, 45, 54, 53, 99, 57, 45, 52, 53, 54, 100, 45, 56, 100, 99, 51, 45, 98, 54, 98, 57, 99, 100, 53, 49, 55, 101, 52, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 56, 52, 102, 101, 50, 53, 97, 45, 100, 101, 52, 102, 45, 52, 102, 54, 49, 45, 97, 50, 98, 100, 45, 48, 100, 51, 50, 50, 56, 53, 53, 53, 100, 50, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 56, 100, 55, 48, 48, 55, 37, 50, 68, 49, 102, 100, 52, 37, 50, 68, 52, 102, 52, 102, 37, 50, 68, 56, 101, 57, 53, 37, 50, 68, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 56, 100, 55, 48, 48, 55, 45, 49, 102, 100, 52, 45, 52, 102, 52, 102, 45, 56, 101, 57, 53, 45, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802e980 } } } }
[2022-05-06T15:38:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecfde90
[2022-05-06T15:38:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;48efaca7-859d-42ea-ac61-12da8fa048b5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c8d7007%2D1fd4%2D4f4f%2D8e95%2D2973b341bb07/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:46.284447758Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;d15ac389-65c9-456d-8dc3-b6b9cd517e4d\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;184fe25a-de4f-4f61-a2bd-0d3228555d2b\&quot;,\&quot;partitionkey\&quot;:\&quot;3c8d7007%2D1fd4%2D4f4f%2D8e95%2D2973b341bb07/device1\&quot;,\&quot;application\&quot;:\&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;}&quot; }
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:38:47Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d240b8a6-5e6d-427f-99e3-3913f19ce551&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed000b0
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed000b0
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1e8440, password: 0x55f42eeb4520, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee445c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f278700, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f108830 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f108830 } } } }
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7fea0801add0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801b060 } }, data: MessageData { topic: &quot;app/3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 48, 99, 51, 99, 101, 50, 51, 45, 55, 97, 98, 97, 45, 52, 48, 100, 55, 45, 57, 50, 51, 97, 45, 102, 57, 54, 52, 56, 50, 100, 55, 52, 50, 56, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 56, 100, 55, 48, 48, 55, 37, 50, 68, 49, 102, 100, 52, 37, 50, 68, 52, 102, 52, 102, 37, 50, 68, 56, 101, 57, 53, 37, 50, 68, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 56, 58, 52, 55, 46, 51, 50, 48, 55, 55, 56, 55, 54, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 56, 52, 102, 101, 50, 53, 97, 45, 100, 101, 52, 102, 45, 52, 102, 54, 49, 45, 97, 50, 98, 100, 45, 48, 100, 51, 50, 50, 56, 53, 53, 53, 100, 50, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 49, 48, 100, 55, 102, 100, 45, 57, 54, 54, 101, 45, 52, 100, 101, 50, 45, 97, 102, 99, 57, 45, 55, 49, 53, 53, 55, 57, 56, 100, 54, 101, 100, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 56, 100, 55, 48, 48, 55, 37, 50, 68, 49, 102, 100, 52, 37, 50, 68, 52, 102, 52, 102, 37, 50, 68, 56, 101, 57, 53, 37, 50, 68, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 56, 52, 102, 101, 50, 53, 97, 45, 100, 101, 52, 102, 45, 52, 102, 54, 49, 45, 97, 50, 98, 100, 45, 48, 100, 51, 50, 50, 56, 53, 53, 53, 100, 50, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 56, 100, 55, 48, 48, 55, 45, 49, 102, 100, 52, 45, 52, 102, 52, 102, 45, 56, 101, 57, 53, 45, 50, 57, 55, 51, 98, 51, 52, 49, 98, 98, 48, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801b060 } } } }
[2022-05-06T15:38:47Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecfde90
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;30c3ce23-7aba-40d7-923a-f96482d74285\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c8d7007%2D1fd4%2D4f4f%2D8e95%2D2973b341bb07/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:38:47.320778768Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;184fe25a-de4f-4f61-a2bd-0d3228555d2b\&quot;,\&quot;applicationuid\&quot;:\&quot;2910d7fd-966e-4de2-afc9-7155798d6ed5\&quot;,\&quot;partitionkey\&quot;:\&quot;3c8d7007%2D1fd4%2D4f4f%2D8e95%2D2973b341bb07/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;184fe25a-de4f-4f61-a2bd-0d3228555d2b\&quot;,\&quot;application\&quot;:\&quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07\&quot;}&quot; }
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:38:47Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:38:47Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot; &quot;device1&quot;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot; &quot;gateway1&quot;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&#x27;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3c8d7007-1fd4-4f4f-8e95-2973b341bb07&quot;
[2022-05-06T15:38:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3c8d7007-1fd4-4f4f-8e95-2973b341bb07 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:38:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:38:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:38:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:38:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:38:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMzMsImlhdCI6MTY1MTg1MTUzMywianRpIjoiNjdkZGYxMWEtNDZmYi00OTRjLTkwNWMtYjdmMjc2YjI3ZDAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inh6Z1JrdDZpczdWeDI3MjcxdHBhTHciLCJzZXNzaW9uX3N0YXRlIjoiZDQyNDkyYzAtYWJiNy00NzVmLTliNDktZjViMTFiMzI4MmNjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyJ9.B54CgjQjZ_tWJyagrXQxQ0LJnvlkmdK1t4skPptUj4U
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzMzMsImlhdCI6MTY1MTg1MTUzMywianRpIjoiNjdkZGYxMWEtNDZmYi00OTRjLTkwNWMtYjdmMjc2YjI3ZDAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inh6Z1JrdDZpczdWeDI3MjcxdHBhTHciLCJzZXNzaW9uX3N0YXRlIjoiZDQyNDkyYzAtYWJiNy00NzVmLTliNDktZjViMTFiMzI4MmNjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyJ9.B54CgjQjZ_tWJyagrXQxQ0LJnvlkmdK1t4skPptUj4U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::resources::apps] Create application: 59400eec-6af2-47b0-8157-8e7e72490587
[2022-05-06T15:38:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;
[2022-05-06T15:38:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 59400eec-6af2-47b0-8157-8e7e72490587 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;
[2022-05-06T15:38:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:54.991013Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;59400eec-6af2-47b0-8157-8e7e72490587\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8b892ca2-c554-475f-ab64-f547c23bf217\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004270191Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004336255Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004193758Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004195301Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004196062Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004197004Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004198026Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.004226479Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:54.991013Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;), &quot;resourceVersion&quot;: String(&quot;8b892ca2-c554-475f-ab64-f547c23bf217&quot;), &quot;uid&quot;: String(&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004270191Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004336255Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004193758Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004195301Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004196062Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004197004Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004198026Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.004226479Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:38:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:54.991013Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;59400eec-6af2-47b0-8157-8e7e72490587\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;28c8054b-08b5-4332-802e-553243e28b8d\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266086088Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266122075Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.029463808Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.035893298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.092901390Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.098343019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266044129Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266060300Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vTPfNAhEmJeg\&quot;,\n        \&quot;username\&quot;: \&quot;user-59400eec-6af2-47b0-8157-8e7e72490587\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:54.991013Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;), &quot;resourceVersion&quot;: String(&quot;28c8054b-08b5-4332-802e-553243e28b8d&quot;), &quot;uid&quot;: String(&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266086088Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266122075Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.029463808Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.035893298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.092901390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.098343019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266044129Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266060300Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vTPfNAhEmJeg&quot;), &quot;username&quot;: String(&quot;user-59400eec-6af2-47b0-8157-8e7e72490587&quot;)})})})})
[2022-05-06T15:38:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:38:54.991013Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;59400eec-6af2-47b0-8157-8e7e72490587\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;28c8054b-08b5-4332-802e-553243e28b8d\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266086088Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266122075Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.029463808Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.035893298Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.092901390Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.098343019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266044129Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:38:55.266060300Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vTPfNAhEmJeg\&quot;,\n        \&quot;username\&quot;: \&quot;user-59400eec-6af2-47b0-8157-8e7e72490587\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:38:54.991013Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;), &quot;resourceVersion&quot;: String(&quot;28c8054b-08b5-4332-802e-553243e28b8d&quot;), &quot;uid&quot;: String(&quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266086088Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266122075Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.029463808Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.035893298Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.092901390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.098343019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266044129Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:38:55.266060300Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vTPfNAhEmJeg&quot;), &quot;username&quot;: String(&quot;user-59400eec-6af2-47b0-8157-8e7e72490587&quot;)})})})})
[2022-05-06T15:38:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MzQsImlhdCI6MTY1MTg1MTUzNCwiYXV0aF90aW1lIjoxNjUxODUxNTMxLCJqdGkiOiI4Y2E0YWE3ZS01NTE4LTQyNTItOTdjZi04ZjYwNzg4MmYyOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4emdSa3Q2aXM3VngyNzI3MXRwYUx3Iiwic2Vzc2lvbl9zdGF0ZSI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXlUbxs3SqX7bAytE2dP4zi7jStyQvb-v774iht7HjDlDFEt5DXh2Ow6OjPLnANxvaVcwLIL5TR-jFev-pa5AsjwoMpLig2PuvBcrCFZnJzyF3KJAVAO31ZqnQzkRSCE10Af3WovcgmH_8u-WoIg4C9z-Kgs6bobvooekXWrodmvnxYKOkgXgcfi7zLmdWKx086doFoQyalL_xXtA5SQCnvvX0QPIOTYvlqumOwdhfX_8YpHJtwfkMidplW7VUs9d1Ya6DDYKLhYGd-rTOwWIrAyCmlLD0yzRy0ek0QwsPOkgIfe6ci5mx0hWRoE1t0qRerMVi9rAGx4t9vugvDYaw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:38:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MzQsImlhdCI6MTY1MTg1MTUzNCwiYXV0aF90aW1lIjoxNjUxODUxNTMxLCJqdGkiOiI4Y2E0YWE3ZS01NTE4LTQyNTItOTdjZi04ZjYwNzg4MmYyOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4emdSa3Q2aXM3VngyNzI3MXRwYUx3Iiwic2Vzc2lvbl9zdGF0ZSI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXlUbxs3SqX7bAytE2dP4zi7jStyQvb-v774iht7HjDlDFEt5DXh2Ow6OjPLnANxvaVcwLIL5TR-jFev-pa5AsjwoMpLig2PuvBcrCFZnJzyF3KJAVAO31ZqnQzkRSCE10Af3WovcgmH_8u-WoIg4C9z-Kgs6bobvooekXWrodmvnxYKOkgXgcfi7zLmdWKx086doFoQyalL_xXtA5SQCnvvX0QPIOTYvlqumOwdhfX_8YpHJtwfkMidplW7VUs9d1Ya6DDYKLhYGd-rTOwWIrAyCmlLD0yzRy0ek0QwsPOkgIfe6ci5mx0hWRoE1t0qRerMVi9rAGx4t9vugvDYaw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;09d26880-a8ee-46ce-94ce-f72d0b17287b&quot;, persistence: None, user_data: None }
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed41440
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed41440
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed86e90, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42efa51e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee97660, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4MzQsImlhdCI6MTY1MTg1MTUzNCwiYXV0aF90aW1lIjoxNjUxODUxNTMxLCJqdGkiOiI4Y2E0YWE3ZS01NTE4LTQyNTItOTdjZi04ZjYwNzg4MmYyOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4emdSa3Q2aXM3VngyNzI3MXRwYUx3Iiwic2Vzc2lvbl9zdGF0ZSI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0MjQ5MmMwLWFiYjctNDc1Zi05YjQ5LWY1YjExYjMyODJjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXlUbxs3SqX7bAytE2dP4zi7jStyQvb-v774iht7HjDlDFEt5DXh2Ow6OjPLnANxvaVcwLIL5TR-jFev-pa5AsjwoMpLig2PuvBcrCFZnJzyF3KJAVAO31ZqnQzkRSCE10Af3WovcgmH_8u-WoIg4C9z-Kgs6bobvooekXWrodmvnxYKOkgXgcfi7zLmdWKx086doFoQyalL_xXtA5SQCnvvX0QPIOTYvlqumOwdhfX_8YpHJtwfkMidplW7VUs9d1Ya6DDYKLhYGd-rTOwWIrAyCmlLD0yzRy0ek0QwsPOkgIfe6ci5mx0hWRoE1t0qRerMVi9rAGx4t9vugvDYaw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:38:56Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/59400eec-6af2-47b0-8157-8e7e72490587&quot;&#x27; @ QOS 0
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:38:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:38:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:38:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:38:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea080065e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec482e0 } }, data: MessageData { topic: &quot;app/59400eec-6af2-47b0-8157-8e7e72490587&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55f42ec482e0 } } } }
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec88d40, 0x55f42ed036e0
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed036e0, 0x55f42ee04d20
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed036e0, 0x7fea10004210
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea0c006bb0
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea100036a0
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100036a0, 0x55f42ee04d20
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100036a0, 0x7fea1000e370
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x55f42ec8a160
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x55f42ee04d20
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x55f42ee04d20
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x7fea1000bf00
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x7fea1000bf00
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000e370, 0x7fea1000a640
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a640, 0x7fea1000bf00
[2022-05-06T15:38:59Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea1000a640
[2022-05-06T15:38:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/59400eec-6af2-47b0-8157-8e7e72490587&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://59400eec%2D6af2%2D47b0%2D8157%2D8e7e72490587/device1&quot;, &quot;deviceuid&quot;: &quot;8dc31b16-076e-4085-97ca-7220e882fd06&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;time&quot;: &quot;2022-05-06T15:38:59.303769455+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;ca801d66-6fdb-4489-87cb-7ed280e477ce&quot;, &quot;senderuid&quot;: &quot;af08a130-e5a6-46e0-9962-4c1d072d471c&quot;, &quot;partitionkey&quot;: &quot;59400eec%2D6af2%2D47b0%2D8157%2D8e7e72490587/device1&quot;, &quot;applicationuid&quot;: &quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:39:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:39:00Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:39:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:39:00Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:39:00Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;ea1c6c93-5d8e-42f2-8708-58f65f963f88&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:00Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:00Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f18d9b0
[2022-05-06T15:39:00Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f18d9b0
[2022-05-06T15:39:00Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ee65d10, password: 0x55f42f116ad0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee66b00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f08da40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@59400eec-6af2-47b0-8157-8e7e72490587&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0800d760, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42f1a5160 } }, data: MessageData { topic: &quot;app/59400eec-6af2-47b0-8157-8e7e72490587&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55f42f1a5160 } } } }
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000bee0, 0x55f42ed036e0
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed036e0, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed036e0, 0x55f42f030b70
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f030b70, 0x7fea08006a10
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f030b70, 0x7fea1000a640
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a640, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a640, 0x7fea10004210
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004210, 0x7fea1000a620
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a620, 0x7fea0802fb30
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a620, 0x7fea08006950
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a620, 0x7fea1000e4d0
[2022-05-06T15:39:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea1000e4d0
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/59400eec-6af2-47b0-8157-8e7e72490587&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-06T15:39:00.798222936+00:00&quot;, &quot;deviceuid&quot;: &quot;af08a130-e5a6-46e0-9962-4c1d072d471c&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;4bb96bad-0c45-4527-9d3e-f0874564656b&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://59400eec%2D6af2%2D47b0%2D8157%2D8e7e72490587/gateway1&quot;, &quot;application&quot;: &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;f9c6edf6-2cad-4b95-9a4f-a61b16d95572&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;59400eec%2D6af2%2D47b0%2D8157%2D8e7e72490587/gateway1&quot;, &quot;senderuid&quot;: &quot;af08a130-e5a6-46e0-9962-4c1d072d471c&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:39:01Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eccd350 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eccd350 } } } }
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:39:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:39:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot; &quot;device1&quot;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot; &quot;gateway1&quot;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;59400eec-6af2-47b0-8157-8e7e72490587&#x27;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;59400eec-6af2-47b0-8157-8e7e72490587&quot;
[2022-05-06T15:39:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 59400eec-6af2-47b0-8157-8e7e72490587 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:39:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:39:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:39:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:39:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNDgsImlhdCI6MTY1MTg1MTU0OCwianRpIjoiMzc1NGNkY2ItNDFjYS00N2RjLWJkMDItNjI4MGVkNzcyOWEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZHSEZCTjZETk95OTNEc1ZmZVVTd2ciLCJzZXNzaW9uX3N0YXRlIjoiZmY2NzgyYWEtMzczOC00MDE1LWI4MjktZWUxMzYxN2M2YjAwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCJ9.IVe9WrzIDh6YcF5yW6bP2cw6LHu9YWSfkrs7BWCaNsQ
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNDgsImlhdCI6MTY1MTg1MTU0OCwianRpIjoiMzc1NGNkY2ItNDFjYS00N2RjLWJkMDItNjI4MGVkNzcyOWEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZHSEZCTjZETk95OTNEc1ZmZVVTd2ciLCJzZXNzaW9uX3N0YXRlIjoiZmY2NzgyYWEtMzczOC00MDE1LWI4MjktZWUxMzYxN2M2YjAwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCJ9.IVe9WrzIDh6YcF5yW6bP2cw6LHu9YWSfkrs7BWCaNsQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::resources::apps] Create application: bfb84d10-4c53-4698-80e5-bdc123239c43
[2022-05-06T15:39:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;
[2022-05-06T15:39:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App bfb84d10-4c53-4698-80e5-bdc123239c43 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;
[2022-05-06T15:39:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:09.006146Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;bfb84d10-4c53-4698-80e5-bdc123239c43\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a26f0692-665c-46ba-b442-ff20d6e70e2f\&quot;,\n    \&quot;uid\&quot;: \&quot;5d35a41f-2336-4669-8ce2-93391141ccfc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024546929Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024366700Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024338718Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024339440Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024339810Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024340271Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024340702Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.024345160Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:09.006146Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;), &quot;resourceVersion&quot;: String(&quot;a26f0692-665c-46ba-b442-ff20d6e70e2f&quot;), &quot;uid&quot;: String(&quot;5d35a41f-2336-4669-8ce2-93391141ccfc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024546929Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024366700Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024338718Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024339440Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024339810Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024340271Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024340702Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.024345160Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:39:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:09.006146Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;bfb84d10-4c53-4698-80e5-bdc123239c43\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6c5addbd-6a04-4b13-9ba7-aa567673ae8e\&quot;,\n    \&quot;uid\&quot;: \&quot;5d35a41f-2336-4669-8ce2-93391141ccfc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.319116332Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.319009712Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.041465417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.050695926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.103180301Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.116205954Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.318807443Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.318975769Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;IRZVRZTUy0cv\&quot;,\n        \&quot;username\&quot;: \&quot;user-bfb84d10-4c53-4698-80e5-bdc123239c43\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:09.006146Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;), &quot;resourceVersion&quot;: String(&quot;6c5addbd-6a04-4b13-9ba7-aa567673ae8e&quot;), &quot;uid&quot;: String(&quot;5d35a41f-2336-4669-8ce2-93391141ccfc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.319116332Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.319009712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.041465417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.050695926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.103180301Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.116205954Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.318807443Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.318975769Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;IRZVRZTUy0cv&quot;), &quot;username&quot;: String(&quot;user-bfb84d10-4c53-4698-80e5-bdc123239c43&quot;)})})})})
[2022-05-06T15:39:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:09.006146Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;bfb84d10-4c53-4698-80e5-bdc123239c43\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6c5addbd-6a04-4b13-9ba7-aa567673ae8e\&quot;,\n    \&quot;uid\&quot;: \&quot;5d35a41f-2336-4669-8ce2-93391141ccfc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.319116332Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.319009712Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.041465417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.050695926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.103180301Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.116205954Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.318807443Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:09.318975769Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;IRZVRZTUy0cv\&quot;,\n        \&quot;username\&quot;: \&quot;user-bfb84d10-4c53-4698-80e5-bdc123239c43\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:09.006146Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;), &quot;resourceVersion&quot;: String(&quot;6c5addbd-6a04-4b13-9ba7-aa567673ae8e&quot;), &quot;uid&quot;: String(&quot;5d35a41f-2336-4669-8ce2-93391141ccfc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.319116332Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.319009712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.041465417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.050695926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.103180301Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.116205954Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.318807443Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:09.318975769Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;IRZVRZTUy0cv&quot;), &quot;username&quot;: String(&quot;user-bfb84d10-4c53-4698-80e5-bdc123239c43&quot;)})})})})
[2022-05-06T15:39:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NDgsImlhdCI6MTY1MTg1MTU0OCwiYXV0aF90aW1lIjoxNjUxODUxNTQ1LCJqdGkiOiI2NzU3OWRiMi0yNzJjLTQwYmYtODA2Zi04NzJhM2JkMDhlMDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJmR0hGQk42RE5PeTkzRHNWZmVVU3dnIiwic2Vzc2lvbl9zdGF0ZSI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HJyQ8qYZMhYRaVYeCIBGQt7l8440vaBKP6G7I2m_031nOPK7M7w9TIiKnoWPGlwytGYVO7n6n5Vrt_OmPgWSQYaJf_KGmeGlwTI9i_YlQBRU64PGXxxkbbO_ZbFxtcdraysvQBJIMdG6DT3E8e4b4SxqllVxd8mwj6ZMw8kRIoK5B1K38dcuDRwMaqmyt22waaqRgLam3jKp_vqvmherApT2ySwijd37V60MrKwpvpJpUgexGx7s6ej22GySY3GpLDlezsxKIsqcPjvSQeDGelGN7w-8fcztJQ6_NRE_Wte0qcpm1qUlW1Dj-6aJLDHurmfyJJJEjJA8aFubmkMhpA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NDgsImlhdCI6MTY1MTg1MTU0OCwiYXV0aF90aW1lIjoxNjUxODUxNTQ1LCJqdGkiOiI2NzU3OWRiMi0yNzJjLTQwYmYtODA2Zi04NzJhM2JkMDhlMDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJmR0hGQk42RE5PeTkzRHNWZmVVU3dnIiwic2Vzc2lvbl9zdGF0ZSI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HJyQ8qYZMhYRaVYeCIBGQt7l8440vaBKP6G7I2m_031nOPK7M7w9TIiKnoWPGlwytGYVO7n6n5Vrt_OmPgWSQYaJf_KGmeGlwTI9i_YlQBRU64PGXxxkbbO_ZbFxtcdraysvQBJIMdG6DT3E8e4b4SxqllVxd8mwj6ZMw8kRIoK5B1K38dcuDRwMaqmyt22waaqRgLam3jKp_vqvmherApT2ySwijd37V60MrKwpvpJpUgexGx7s6ej22GySY3GpLDlezsxKIsqcPjvSQeDGelGN7w-8fcztJQ6_NRE_Wte0qcpm1qUlW1Dj-6aJLDHurmfyJJJEjJA8aFubmkMhpA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;b96bf9a1-6eb8-4ed3-a0fd-9f2343eb58ab&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0622d0
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0622d0
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee31640, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec89210, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee31e90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NDgsImlhdCI6MTY1MTg1MTU0OCwiYXV0aF90aW1lIjoxNjUxODUxNTQ1LCJqdGkiOiI2NzU3OWRiMi0yNzJjLTQwYmYtODA2Zi04NzJhM2JkMDhlMDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJmR0hGQk42RE5PeTkzRHNWZmVVU3dnIiwic2Vzc2lvbl9zdGF0ZSI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmNjc4MmFhLTM3MzgtNDAxNS1iODI5LWVlMTM2MTdjNmIwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HJyQ8qYZMhYRaVYeCIBGQt7l8440vaBKP6G7I2m_031nOPK7M7w9TIiKnoWPGlwytGYVO7n6n5Vrt_OmPgWSQYaJf_KGmeGlwTI9i_YlQBRU64PGXxxkbbO_ZbFxtcdraysvQBJIMdG6DT3E8e4b4SxqllVxd8mwj6ZMw8kRIoK5B1K38dcuDRwMaqmyt22waaqRgLam3jKp_vqvmherApT2ySwijd37V60MrKwpvpJpUgexGx7s6ej22GySY3GpLDlezsxKIsqcPjvSQeDGelGN7w-8fcztJQ6_NRE_Wte0qcpm1qUlW1Dj-6aJLDHurmfyJJJEjJA8aFubmkMhpA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/bfb84d10-4c53-4698-80e5-bdc123239c43&quot;&#x27; @ QOS 0
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:39:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:39:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:39:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:39:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:39:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:39:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-06T15:39:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-06T15:39:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0800c7a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fe9f0001f20 } }, data: MessageData { topic: &quot;app/bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7fe9f0001f20 } } } }
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee74d30, 0x55f42ee73a20
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee73a20, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee73a20, 0x55f42ec8aad0
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec8aad0, 0x7fea0c000a70
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ec8aad0, 0x7fea0c006080
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42ee73940
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x7fea0c004a20
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004a20, 0x7fea0c006080
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x55f42f106b30
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006080, 0x7fea0c004af0
[2022-05-06T15:39:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c004af0
[2022-05-06T15:39:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://bfb84d10%2D4c53%2D4698%2D80e5%2Dbdc123239c43/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:39:14.308001103+00:00&quot;, &quot;applicationuid&quot;: &quot;5d35a41f-2336-4669-8ce2-93391141ccfc&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;id&quot;: &quot;3d7e3d6c-e48e-4732-8184-978657051ed2&quot;, &quot;deviceuid&quot;: &quot;8027ab89-f6b1-4e68-b035-8d19646b46f4&quot;, &quot;senderuid&quot;: &quot;7b869d5b-43c4-461e-bb04-2ec73fa77fd0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;bfb84d10%2D4c53%2D4698%2D80e5%2Dbdc123239c43/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:39:15Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;ea4f1014-0c11-415e-a3c7-83e51a2cc749&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee15050
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee15050
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ee50300, password: 0x55f42edb8200, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecb4650, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee4f550, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@bfb84d10-4c53-4698-80e5-bdc123239c43&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08008130, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f00028b0 } }, data: MessageData { topic: &quot;app/bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7fe9f00028b0 } } } }
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007070, 0x7fea0c0074e0
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0074e0, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0074e0, 0x55f42ee73a20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee73a20, 0x7fea0802f010
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee73a20, 0x7fea0c004af0
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0c004a60
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004a60, 0x7fea0c004af0
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004af0, 0x7fea0c006400
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006400, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006400, 0x7fea08001750
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006400, 0x7fea0800ca20
[2022-05-06T15:39:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c006400
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;5d35a41f-2336-4669-8ce2-93391141ccfc&quot;, &quot;deviceuid&quot;: &quot;7b869d5b-43c4-461e-bb04-2ec73fa77fd0&quot;, &quot;source&quot;: &quot;drogue://bfb84d10%2D4c53%2D4698%2D80e5%2Dbdc123239c43/gateway1&quot;, &quot;id&quot;: &quot;30370e44-49b1-4210-be69-9406920343aa&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;bfb84d10%2D4c53%2D4698%2D80e5%2Dbdc123239c43/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;7b869d5b-43c4-461e-bb04-2ec73fa77fd0&quot;, &quot;time&quot;: &quot;2022-05-06T15:39:15.435283011+00:00&quot;, &quot;subject&quot;: &quot;connection&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f2878c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f2878c0 } } } }
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:39:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:39:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:39:15Z DEBUG paho_mqtt::token] Token failure! 0x7fea08002770, 0x7ffe819ce270
[2022-05-06T15:39:15Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:39:15Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:39:15Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot; &quot;device1&quot;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot; &quot;gateway1&quot;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;bfb84d10-4c53-4698-80e5-bdc123239c43&#x27;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;bfb84d10-4c53-4698-80e5-bdc123239c43&quot;
[2022-05-06T15:39:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App bfb84d10-4c53-4698-80e5-bdc123239c43 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:39:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:39:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:39:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:39:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNjIsImlhdCI6MTY1MTg1MTU2MiwianRpIjoiNmU3NzE5YTktZDc1OS00OWI0LTg0MDItZDcyNDg2MWRiZjU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZfZjQ3Y0VpWWNBSUZFdVlsQTU2RVEiLCJzZXNzaW9uX3N0YXRlIjoiODkwYWM0ZmItYTQyNi00ODEzLTllMjAtMTAxZWViNzQ0NjE5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSJ9.8h8Cmn57jLcsbzcfOYUN6bZO3qnsBJ5vMToFy-raWNk
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNjIsImlhdCI6MTY1MTg1MTU2MiwianRpIjoiNmU3NzE5YTktZDc1OS00OWI0LTg0MDItZDcyNDg2MWRiZjU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZfZjQ3Y0VpWWNBSUZFdVlsQTU2RVEiLCJzZXNzaW9uX3N0YXRlIjoiODkwYWM0ZmItYTQyNi00ODEzLTllMjAtMTAxZWViNzQ0NjE5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSJ9.8h8Cmn57jLcsbzcfOYUN6bZO3qnsBJ5vMToFy-raWNk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::resources::apps] Create application: eedc9968-3da4-4e74-873a-51d4d961c9bb
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App eedc9968-3da4-4e74-873a-51d4d961c9bb created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;
[2022-05-06T15:39:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:22.854824Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;651322f8-eba4-4392-80b6-962e50d33fd1\&quot;,\n    \&quot;uid\&quot;: \&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876726254Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876518434Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876317096Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876318008Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876318510Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876319071Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876319651Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.876492636Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:22.854824Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;), &quot;resourceVersion&quot;: String(&quot;651322f8-eba4-4392-80b6-962e50d33fd1&quot;), &quot;uid&quot;: String(&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876726254Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876518434Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876317096Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876318008Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876318510Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876319071Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876319651Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.876492636Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:39:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:22.854824Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f8ad71b7-bc31-4ee2-adc7-a4143b4d8792\&quot;,\n    \&quot;uid\&quot;: \&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155282105Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155246639Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.893231517Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.898285240Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.952078838Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.957637636Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155202476Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155219588Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rF9118fMLEh2\&quot;,\n        \&quot;username\&quot;: \&quot;user-eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:22.854824Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;), &quot;resourceVersion&quot;: String(&quot;f8ad71b7-bc31-4ee2-adc7-a4143b4d8792&quot;), &quot;uid&quot;: String(&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155282105Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155246639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.893231517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.898285240Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.952078838Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.957637636Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155202476Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155219588Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rF9118fMLEh2&quot;), &quot;username&quot;: String(&quot;user-eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;)})})})})
[2022-05-06T15:39:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:22.854824Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f8ad71b7-bc31-4ee2-adc7-a4143b4d8792\&quot;,\n    \&quot;uid\&quot;: \&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155282105Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155246639Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.893231517Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.898285240Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.952078838Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:22.957637636Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155202476Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:23.155219588Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rF9118fMLEh2\&quot;,\n        \&quot;username\&quot;: \&quot;user-eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:22.854824Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;), &quot;resourceVersion&quot;: String(&quot;f8ad71b7-bc31-4ee2-adc7-a4143b4d8792&quot;), &quot;uid&quot;: String(&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155282105Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155246639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.893231517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.898285240Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.952078838Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:22.957637636Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155202476Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:23.155219588Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rF9118fMLEh2&quot;), &quot;username&quot;: String(&quot;user-eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;)})})})})
[2022-05-06T15:39:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NjIsImlhdCI6MTY1MTg1MTU2MiwiYXV0aF90aW1lIjoxNjUxODUxNTU5LCJqdGkiOiI3OWUzNDI1OC1mZGNlLTRkODMtOWI0OS00ZmE0NmJiZDY2NGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWX2Y0N2NFaVljQUlGRXVZbEE1NkVRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XkZO73W4ow7_T0tFaEpk3joUQElrY5j51F4q3qbSHRh2GzsnhXeI5W6er_AUhjBeovQdu1-8pscOSwp-fMdAiO-5FI9YrdmNVnYTG8mq5RBrkmZjGqdTGsHNwo9hpyHL22Ub1RIFIKrJ_u79YAteNVNI0y6Kw_KAkHpkOcdc5KHCkDCnEPTzCMiY0nbqr91i6DgoIacYqallomD36DsWHwu07QjepNJaQkXEQzBe0B-OTyM5dT80g7BSGyKdFgiu_DDavVwhkQaGeZhqtuYj02ED3B0ZUNQFpzpk83oqX4_5L-bYm6qsaXGCRVrMe1zxwCrPEbubDxfE_OVwtXuVjw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NjIsImlhdCI6MTY1MTg1MTU2MiwiYXV0aF90aW1lIjoxNjUxODUxNTU5LCJqdGkiOiI3OWUzNDI1OC1mZGNlLTRkODMtOWI0OS00ZmE0NmJiZDY2NGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWX2Y0N2NFaVljQUlGRXVZbEE1NkVRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XkZO73W4ow7_T0tFaEpk3joUQElrY5j51F4q3qbSHRh2GzsnhXeI5W6er_AUhjBeovQdu1-8pscOSwp-fMdAiO-5FI9YrdmNVnYTG8mq5RBrkmZjGqdTGsHNwo9hpyHL22Ub1RIFIKrJ_u79YAteNVNI0y6Kw_KAkHpkOcdc5KHCkDCnEPTzCMiY0nbqr91i6DgoIacYqallomD36DsWHwu07QjepNJaQkXEQzBe0B-OTyM5dT80g7BSGyKdFgiu_DDavVwhkQaGeZhqtuYj02ED3B0ZUNQFpzpk83oqX4_5L-bYm6qsaXGCRVrMe1zxwCrPEbubDxfE_OVwtXuVjw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;338e3a29-649e-4216-b55d-9d34e4c164de&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee9ed90
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee9ed90
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f08aee0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f25dfb0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee9f070, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NjIsImlhdCI6MTY1MTg1MTU2MiwiYXV0aF90aW1lIjoxNjUxODUxNTU5LCJqdGkiOiI3OWUzNDI1OC1mZGNlLTRkODMtOWI0OS00ZmE0NmJiZDY2NGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWX2Y0N2NFaVljQUlGRXVZbEE1NkVRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5MGFjNGZiLWE0MjYtNDgxMy05ZTIwLTEwMWVlYjc0NDYxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XkZO73W4ow7_T0tFaEpk3joUQElrY5j51F4q3qbSHRh2GzsnhXeI5W6er_AUhjBeovQdu1-8pscOSwp-fMdAiO-5FI9YrdmNVnYTG8mq5RBrkmZjGqdTGsHNwo9hpyHL22Ub1RIFIKrJ_u79YAteNVNI0y6Kw_KAkHpkOcdc5KHCkDCnEPTzCMiY0nbqr91i6DgoIacYqallomD36DsWHwu07QjepNJaQkXEQzBe0B-OTyM5dT80g7BSGyKdFgiu_DDavVwhkQaGeZhqtuYj02ED3B0ZUNQFpzpk83oqX4_5L-bYm6qsaXGCRVrMe1zxwCrPEbubDxfE_OVwtXuVjw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:23Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;&#x27; @ QOS 0
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:39:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f0016730, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 97, 51, 101, 53, 50, 99, 50, 45, 53, 97, 54, 56, 45, 52, 48, 48, 49, 45, 98, 51, 52, 48, 45, 55, 97, 52, 49, 98, 57, 49, 101, 57, 97, 48, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 101, 100, 99, 57, 57, 54, 56, 37, 50, 68, 51, 100, 97, 52, 37, 50, 68, 52, 101, 55, 52, 37, 50, 68, 56, 55, 51, 97, 37, 50, 68, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 50, 55, 46, 51, 49, 55, 51, 52, 49, 51, 49, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 101, 100, 99, 57, 57, 54, 56, 45, 51, 100, 97, 52, 45, 52, 101, 55, 52, 45, 56, 55, 51, 97, 45, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 53, 102, 50, 56, 54, 53, 49, 45, 52, 102, 102, 51, 45, 52, 52, 102, 100, 45, 56, 56, 53, 49, 45, 57, 56, 48, 97, 50, 99, 98, 97, 101, 57, 101, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 55, 51, 53, 55, 97, 99, 45, 98, 102, 99, 97, 45, 52, 50, 53, 52, 45, 56, 49, 57, 50, 45, 51, 97, 56, 99, 97, 55, 98, 54, 98, 55, 53, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 53, 102, 50, 56, 54, 53, 49, 45, 52, 102, 102, 51, 45, 52, 52, 102, 100, 45, 56, 56, 53, 49, 45, 57, 56, 48, 97, 50, 99, 98, 97, 101, 57, 101, 102, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 101, 100, 99, 57, 57, 54, 56, 37, 50, 68, 51, 100, 97, 52, 37, 50, 68, 52, 101, 55, 52, 37, 50, 68, 56, 55, 51, 97, 37, 50, 68, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:39:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;aa3e52c2-5a68-4001-b340-7a41b91e9a08\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://eedc9968%2D3da4%2D4e74%2D873a%2D51d4d961c9bb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:27.317341313Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;,\&quot;senderuid\&quot;:\&quot;75f28651-4ff3-44fd-8851-980a2cbae9ef\&quot;,\&quot;applicationuid\&quot;:\&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752\&quot;,\&quot;deviceuid\&quot;:\&quot;75f28651-4ff3-44fd-8851-980a2cbae9ef\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;eedc9968%2D3da4%2D4e74%2D873a%2D51d4d961c9bb/device1\&quot;}&quot; }
[2022-05-06T15:39:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:39:28Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:39:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:39:28Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:39:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;040f8e65-69ad-496d-abac-95a787d1cf59&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee5abb0
[2022-05-06T15:39:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee5abb0
[2022-05-06T15:39:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f182520, password: 0x55f42eee1820, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef85bf0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed954e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f000b8b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 55, 97, 99, 49, 102, 52, 98, 45, 97, 56, 50, 99, 45, 52, 100, 99, 99, 45, 56, 101, 101, 52, 45, 55, 53, 98, 49, 56, 48, 98, 102, 100, 50, 49, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 101, 100, 99, 57, 57, 54, 56, 37, 50, 68, 51, 100, 97, 52, 37, 50, 68, 52, 101, 55, 52, 37, 50, 68, 56, 55, 51, 97, 37, 50, 68, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 50, 56, 46, 54, 54, 48, 55, 49, 57, 49, 57, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 55, 51, 53, 55, 97, 99, 45, 98, 102, 99, 97, 45, 52, 50, 53, 52, 45, 56, 49, 57, 50, 45, 51, 97, 56, 99, 97, 55, 98, 54, 98, 55, 53, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 101, 100, 99, 57, 57, 54, 56, 37, 50, 68, 51, 100, 97, 52, 37, 50, 68, 52, 101, 55, 52, 37, 50, 68, 56, 55, 51, 97, 37, 50, 68, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 53, 102, 50, 56, 54, 53, 49, 45, 52, 102, 102, 51, 45, 52, 52, 102, 100, 45, 56, 56, 53, 49, 45, 57, 56, 48, 97, 50, 99, 98, 97, 101, 57, 101, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 53, 102, 50, 56, 54, 53, 49, 45, 52, 102, 102, 51, 45, 52, 52, 102, 100, 45, 56, 56, 53, 49, 45, 57, 56, 48, 97, 50, 99, 98, 97, 101, 57, 101, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 101, 100, 99, 57, 57, 54, 56, 45, 51, 100, 97, 52, 45, 52, 101, 55, 52, 45, 56, 55, 51, 97, 45, 53, 49, 100, 52, 100, 57, 54, 49, 99, 57, 98, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;97ac1f4b-a82c-4dcc-8ee4-75b180bfd219\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://eedc9968%2D3da4%2D4e74%2D873a%2D51d4d961c9bb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:28.660719192Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;fb7357ac-bfca-4254-8192-3a8ca7b6b752\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;eedc9968%2D3da4%2D4e74%2D873a%2D51d4d961c9bb/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;75f28651-4ff3-44fd-8851-980a2cbae9ef\&quot;,\&quot;senderuid\&quot;:\&quot;75f28651-4ff3-44fd-8851-980a2cbae9ef\&quot;,\&quot;application\&quot;:\&quot;eedc9968-3da4-4e74-873a-51d4d961c9bb\&quot;}&quot; }
[2022-05-06T15:39:29Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec88750 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec88750 } } } }
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:39:29Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:39:29Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot; &quot;device1&quot;
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;eedc9968-3da4-4e74-873a-51d4d961c9bb&#x27;
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;eedc9968-3da4-4e74-873a-51d4d961c9bb&quot;
[2022-05-06T15:39:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App eedc9968-3da4-4e74-873a-51d4d961c9bb deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:39:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:39:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:39:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:39:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNzUsImlhdCI6MTY1MTg1MTU3NSwianRpIjoiZTg1OGQwNjAtMTg2OS00MGE4LTgwZjAtOTg3YjZhMDNlM2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRQam9TOHVEUm9SRWtvOEJlNVFkR0EiLCJzZXNzaW9uX3N0YXRlIjoiM2Y3OWNmOTEtYWM3Ny00YWJiLTg1MGYtZGVmMDhlNzI2YTM1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSJ9.lvnjotEp-UXP7Z2QpJPqMGbo0tWRjLAo0nf0u0PYi9M
[2022-05-06T15:39:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:39:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzNzUsImlhdCI6MTY1MTg1MTU3NSwianRpIjoiZTg1OGQwNjAtMTg2OS00MGE4LTgwZjAtOTg3YjZhMDNlM2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRQam9TOHVEUm9SRWtvOEJlNVFkR0EiLCJzZXNzaW9uX3N0YXRlIjoiM2Y3OWNmOTEtYWM3Ny00YWJiLTg1MGYtZGVmMDhlNzI2YTM1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSJ9.lvnjotEp-UXP7Z2QpJPqMGbo0tWRjLAo0nf0u0PYi9M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 83157951-ee81-47bd-87f3-a8e11753c0ad
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 83157951-ee81-47bd-87f3-a8e11753c0ad created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;
[2022-05-06T15:39:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:36.736418Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;88e5e522-05e6-4489-af9f-1e039c526740\&quot;,\n    \&quot;uid\&quot;: \&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758408211Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758320116Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758233314Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758234185Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758234656Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758235097Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758235598Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.758277215Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:36.736418Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;), &quot;resourceVersion&quot;: String(&quot;88e5e522-05e6-4489-af9f-1e039c526740&quot;), &quot;uid&quot;: String(&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758408211Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758320116Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758233314Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758234185Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758234656Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758235097Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758235598Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.758277215Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:39:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:36.736418Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4cebf07b-f4f1-489d-bd6d-446ab2004215\&quot;,\n    \&quot;uid\&quot;: \&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209520864Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209407001Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.784535929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.792637994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.899290689Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.908252425Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209233094Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209253433Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Qm1gjDdMaWjd\&quot;,\n        \&quot;username\&quot;: \&quot;user-83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:36.736418Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;), &quot;resourceVersion&quot;: String(&quot;4cebf07b-f4f1-489d-bd6d-446ab2004215&quot;), &quot;uid&quot;: String(&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209520864Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209407001Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.784535929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.792637994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.899290689Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.908252425Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209233094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209253433Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Qm1gjDdMaWjd&quot;), &quot;username&quot;: String(&quot;user-83157951-ee81-47bd-87f3-a8e11753c0ad&quot;)})})})})
[2022-05-06T15:39:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:36.736418Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4cebf07b-f4f1-489d-bd6d-446ab2004215\&quot;,\n    \&quot;uid\&quot;: \&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209520864Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209407001Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.784535929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.792637994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.899290689Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:36.908252425Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209233094Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:37.209253433Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Qm1gjDdMaWjd\&quot;,\n        \&quot;username\&quot;: \&quot;user-83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:36.736418Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;), &quot;resourceVersion&quot;: String(&quot;4cebf07b-f4f1-489d-bd6d-446ab2004215&quot;), &quot;uid&quot;: String(&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209520864Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209407001Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.784535929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.792637994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.899290689Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:36.908252425Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209233094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:37.209253433Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Qm1gjDdMaWjd&quot;), &quot;username&quot;: String(&quot;user-83157951-ee81-47bd-87f3-a8e11753c0ad&quot;)})})})})
[2022-05-06T15:39:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NzYsImlhdCI6MTY1MTg1MTU3NiwiYXV0aF90aW1lIjoxNjUxODUxNTczLCJqdGkiOiI5YThmYzQ3MS0wMGQ2LTQxZDEtOTdmMC00YjhmMDgxNzE1YjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkUGpvUzh1RFJvUkVrbzhCZTVRZEdBIiwic2Vzc2lvbl9zdGF0ZSI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IQ7LEeqeDKgOvqb-LuRk9Guk-9bSGUo9Dfw9vluwitdjwnT6xmXVS_v6UGnt_eJ462yZ1mFa0lZCv8bYa7tv0RiSZi4m0Q25VMcAOZVD1kgWf23gzPeyXcxg5dtGS5gA2dDLWyFbJiqG0RdS6kDK4iSDznpbAaPqQJsikm3ht6vHjN5ia5DTlU5BTDTLrmlwKehujmFcxm5qaH8ZgQf2kHJi_yyLWViyga13vK-wl1mxfbvAYxGLa66uzzdiSOMT7QMSnBD7yZ1B-76PXzwdhifknXJzfOz1DJto-1EPBHTSqylN5Ci2tufo7X3SMW0Alz6IQwCpPUrM-5KBx381gA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NzYsImlhdCI6MTY1MTg1MTU3NiwiYXV0aF90aW1lIjoxNjUxODUxNTczLCJqdGkiOiI5YThmYzQ3MS0wMGQ2LTQxZDEtOTdmMC00YjhmMDgxNzE1YjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkUGpvUzh1RFJvUkVrbzhCZTVRZEdBIiwic2Vzc2lvbl9zdGF0ZSI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IQ7LEeqeDKgOvqb-LuRk9Guk-9bSGUo9Dfw9vluwitdjwnT6xmXVS_v6UGnt_eJ462yZ1mFa0lZCv8bYa7tv0RiSZi4m0Q25VMcAOZVD1kgWf23gzPeyXcxg5dtGS5gA2dDLWyFbJiqG0RdS6kDK4iSDznpbAaPqQJsikm3ht6vHjN5ia5DTlU5BTDTLrmlwKehujmFcxm5qaH8ZgQf2kHJi_yyLWViyga13vK-wl1mxfbvAYxGLa66uzzdiSOMT7QMSnBD7yZ1B-76PXzwdhifknXJzfOz1DJto-1EPBHTSqylN5Ci2tufo7X3SMW0Alz6IQwCpPUrM-5KBx381gA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;fd359664-b58a-48c3-ae30-2b0e35e684bc&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed11020
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed11020
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eeb45f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed678e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed67780, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4NzYsImlhdCI6MTY1MTg1MTU3NiwiYXV0aF90aW1lIjoxNjUxODUxNTczLCJqdGkiOiI5YThmYzQ3MS0wMGQ2LTQxZDEtOTdmMC00YjhmMDgxNzE1YjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkUGpvUzh1RFJvUkVrbzhCZTVRZEdBIiwic2Vzc2lvbl9zdGF0ZSI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmNzljZjkxLWFjNzctNGFiYi04NTBmLWRlZjA4ZTcyNmEzNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IQ7LEeqeDKgOvqb-LuRk9Guk-9bSGUo9Dfw9vluwitdjwnT6xmXVS_v6UGnt_eJ462yZ1mFa0lZCv8bYa7tv0RiSZi4m0Q25VMcAOZVD1kgWf23gzPeyXcxg5dtGS5gA2dDLWyFbJiqG0RdS6kDK4iSDznpbAaPqQJsikm3ht6vHjN5ia5DTlU5BTDTLrmlwKehujmFcxm5qaH8ZgQf2kHJi_yyLWViyga13vK-wl1mxfbvAYxGLa66uzzdiSOMT7QMSnBD7yZ1B-76PXzwdhifknXJzfOz1DJto-1EPBHTSqylN5Ci2tufo7X3SMW0Alz6IQwCpPUrM-5KBx381gA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:37Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/83157951-ee81-47bd-87f3-a8e11753c0ad&quot;&#x27; @ QOS 0
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f0003530, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 48, 55, 49, 51, 100, 55, 51, 45, 53, 97, 100, 57, 45, 52, 51, 49, 51, 45, 97, 57, 54, 57, 45, 53, 100, 102, 51, 50, 102, 48, 49, 101, 52, 98, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 51, 49, 53, 55, 57, 53, 49, 37, 50, 68, 101, 101, 56, 49, 37, 50, 68, 52, 55, 98, 100, 37, 50, 68, 56, 55, 102, 51, 37, 50, 68, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 52, 49, 46, 51, 49, 50, 55, 53, 49, 56, 50, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 52, 98, 50, 97, 55, 97, 51, 45, 53, 56, 97, 101, 45, 52, 51, 100, 54, 45, 98, 53, 54, 53, 45, 101, 48, 52, 99, 100, 51, 53, 48, 49, 102, 57, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 99, 101, 101, 97, 54, 97, 48, 45, 55, 48, 48, 98, 45, 52, 97, 53, 57, 45, 98, 55, 101, 53, 45, 53, 49, 100, 53, 54, 55, 98, 53, 54, 52, 57, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 51, 49, 53, 55, 57, 53, 49, 37, 50, 68, 101, 101, 56, 49, 37, 50, 68, 52, 55, 98, 100, 37, 50, 68, 56, 55, 102, 51, 37, 50, 68, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 99, 101, 101, 97, 54, 97, 48, 45, 55, 48, 48, 98, 45, 52, 97, 53, 57, 45, 98, 55, 101, 53, 45, 53, 49, 100, 53, 54, 55, 98, 53, 54, 52, 57, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 51, 49, 53, 55, 57, 53, 49, 45, 101, 101, 56, 49, 45, 52, 55, 98, 100, 45, 56, 55, 102, 51, 45, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:39:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;00713d73-5ad9-4313-a969-5df32f01e4b7\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://83157951%2Dee81%2D47bd%2D87f3%2Da8e11753c0ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:41.312751827Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f\&quot;,\&quot;senderuid\&quot;:\&quot;dceea6a0-700b-4a59-b7e5-51d567b56495\&quot;,\&quot;partitionkey\&quot;:\&quot;83157951%2Dee81%2D47bd%2D87f3%2Da8e11753c0ad/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;dceea6a0-700b-4a59-b7e5-51d567b56495\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;}&quot; }
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:39:42Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;dbbe7e60-2868-42d7-84a3-8ac625bc2006&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efb2bb0
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efb2bb0
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f22fd80, password: 0x55f42ee801f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed006a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed1e650, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@83157951-ee81-47bd-87f3-a8e11753c0ad&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f001a310, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 56, 53, 101, 98, 97, 54, 98, 45, 57, 57, 101, 53, 45, 52, 48, 56, 50, 45, 98, 97, 57, 50, 45, 51, 48, 98, 51, 48, 49, 56, 99, 101, 52, 56, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 51, 49, 53, 55, 57, 53, 49, 37, 50, 68, 101, 101, 56, 49, 37, 50, 68, 52, 55, 98, 100, 37, 50, 68, 56, 55, 102, 51, 37, 50, 68, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 52, 50, 46, 54, 50, 52, 51, 53, 55, 51, 49, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 99, 101, 101, 97, 54, 97, 48, 45, 55, 48, 48, 98, 45, 52, 97, 53, 57, 45, 98, 55, 101, 53, 45, 53, 49, 100, 53, 54, 55, 98, 53, 54, 52, 57, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 52, 98, 50, 97, 55, 97, 51, 45, 53, 56, 97, 101, 45, 52, 51, 100, 54, 45, 98, 53, 54, 53, 45, 101, 48, 52, 99, 100, 51, 53, 48, 49, 102, 57, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 99, 101, 101, 97, 54, 97, 48, 45, 55, 48, 48, 98, 45, 52, 97, 53, 57, 45, 98, 55, 101, 53, 45, 53, 49, 100, 53, 54, 55, 98, 53, 54, 52, 57, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 51, 49, 53, 55, 57, 53, 49, 37, 50, 68, 101, 101, 56, 49, 37, 50, 68, 52, 55, 98, 100, 37, 50, 68, 56, 55, 102, 51, 37, 50, 68, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 51, 49, 53, 55, 57, 53, 49, 45, 101, 101, 56, 49, 45, 52, 55, 98, 100, 45, 56, 55, 102, 51, 45, 97, 56, 101, 49, 49, 55, 53, 51, 99, 48, 97, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c85eba6b-99e5-4082-ba92-30b3018ce484\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://83157951%2Dee81%2D47bd%2D87f3%2Da8e11753c0ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:42.624357311Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;dceea6a0-700b-4a59-b7e5-51d567b56495\&quot;,\&quot;applicationuid\&quot;:\&quot;64b2a7a3-58ae-43d6-b565-e04cd3501f9f\&quot;,\&quot;deviceuid\&quot;:\&quot;dceea6a0-700b-4a59-b7e5-51d567b56495\&quot;,\&quot;partitionkey\&quot;:\&quot;83157951%2Dee81%2D47bd%2D87f3%2Da8e11753c0ad/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;83157951-ee81-47bd-87f3-a8e11753c0ad\&quot;}&quot; }
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed08760 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed08760 } } } }
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:39:42Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:39:42Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot; &quot;device1&quot;
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;83157951-ee81-47bd-87f3-a8e11753c0ad&#x27;
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;83157951-ee81-47bd-87f3-a8e11753c0ad&quot;
[2022-05-06T15:39:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 83157951-ee81-47bd-87f3-a8e11753c0ad deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:39:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:39:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:39:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:39:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzODksImlhdCI6MTY1MTg1MTU4OSwianRpIjoiOTRjNzFiODMtM2E1Zi00MjMwLWFiOGEtMWQ2YjU2YmUxOGZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Img0MWcxRzd5MDBvS0EwTUtReElqYkEiLCJzZXNzaW9uX3N0YXRlIjoiZDZiNDAzNTQtYmYwYi00NGZhLTkzODYtMzNhMWZkYTRlZTZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCJ9.9Y3OXYUvXxFT5EsRn3vnfl2yyyuiUHI5KQ03FwRoQ18
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTMzODksImlhdCI6MTY1MTg1MTU4OSwianRpIjoiOTRjNzFiODMtM2E1Zi00MjMwLWFiOGEtMWQ2YjU2YmUxOGZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Img0MWcxRzd5MDBvS0EwTUtReElqYkEiLCJzZXNzaW9uX3N0YXRlIjoiZDZiNDAzNTQtYmYwYi00NGZhLTkzODYtMzNhMWZkYTRlZTZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCJ9.9Y3OXYUvXxFT5EsRn3vnfl2yyyuiUHI5KQ03FwRoQ18&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::resources::apps] Create application: f54167a7-3e71-4b33-8d2f-bf8b627c545a
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f54167a7-3e71-4b33-8d2f-bf8b627c545a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;
[2022-05-06T15:39:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:49.901798Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fedb32eb-f894-48dd-ba07-609ffb3b3322\&quot;,\n    \&quot;uid\&quot;: \&quot;14d8c4e5-733f-4be3-af24-f57f4106021b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925801300Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925777506Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925748882Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925749563Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925749944Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925750636Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925751306Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.925755966Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:49.901798Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;), &quot;resourceVersion&quot;: String(&quot;fedb32eb-f894-48dd-ba07-609ffb3b3322&quot;), &quot;uid&quot;: String(&quot;14d8c4e5-733f-4be3-af24-f57f4106021b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925801300Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925777506Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925748882Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925749563Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925749944Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925750636Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925751306Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.925755966Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:39:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:49.901798Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6a6e5571-0cf4-4c0a-ae84-e60053762ae4\&quot;,\n    \&quot;uid\&quot;: \&quot;14d8c4e5-733f-4be3-af24-f57f4106021b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192429897Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192295347Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.945129605Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.953064917Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.013433869Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.021412202Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192249480Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192266493Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NpIwlcvPvc7A\&quot;,\n        \&quot;username\&quot;: \&quot;user-f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:49.901798Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;), &quot;resourceVersion&quot;: String(&quot;6a6e5571-0cf4-4c0a-ae84-e60053762ae4&quot;), &quot;uid&quot;: String(&quot;14d8c4e5-733f-4be3-af24-f57f4106021b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192429897Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192295347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.945129605Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.953064917Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.013433869Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.021412202Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192249480Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192266493Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NpIwlcvPvc7A&quot;), &quot;username&quot;: String(&quot;user-f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;)})})})})
[2022-05-06T15:39:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:39:49.901798Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6a6e5571-0cf4-4c0a-ae84-e60053762ae4\&quot;,\n    \&quot;uid\&quot;: \&quot;14d8c4e5-733f-4be3-af24-f57f4106021b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192429897Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192295347Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.945129605Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:49.953064917Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.013433869Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.021412202Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192249480Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:39:50.192266493Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NpIwlcvPvc7A\&quot;,\n        \&quot;username\&quot;: \&quot;user-f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:39:49.901798Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;), &quot;resourceVersion&quot;: String(&quot;6a6e5571-0cf4-4c0a-ae84-e60053762ae4&quot;), &quot;uid&quot;: String(&quot;14d8c4e5-733f-4be3-af24-f57f4106021b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192429897Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192295347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.945129605Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:49.953064917Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.013433869Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.021412202Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192249480Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:39:50.192266493Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NpIwlcvPvc7A&quot;), &quot;username&quot;: String(&quot;user-f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;)})})})})
[2022-05-06T15:39:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4ODksImlhdCI6MTY1MTg1MTU4OSwiYXV0aF90aW1lIjoxNjUxODUxNTg2LCJqdGkiOiIxMDljNGE5Ny0yOTk3LTRjOGYtOTA3NC1iZWUyNmE2MTVlY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoNDFnMUc3eTAwb0tBME1LUXhJamJBIiwic2Vzc2lvbl9zdGF0ZSI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YrkVn0SsjsuRHFlFp_Z5XncPkspAInyHiPLoWK1HUBYkUOM-eniRo_6V-ypTCx9UTo2ItGdBATl2o039XNeDXYZvEc_03w9baeF2FhbVF7dpQ6MzaXH1KIBj-ZJUWulAhz8YSoDuyHqHWMo7Iqd8h7y-Y8la6lFnqsZrxsIUyXXs0gE5MmDtcs2K_yo1tHTEFaKwy9c1eE5IYZh2mjTwvCTg4kXprF_tBo8-Q4mDkCOeriOkLzPn_5EZsYbrpPCuxu0C5kA5cdb4yVYJNU2vPhoqkkUQlTPz4gGBgRJ0JqtbRm09dThEptAEPF2qU5S254GwV4Jx0rKUP55DbemOPg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:39:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4ODksImlhdCI6MTY1MTg1MTU4OSwiYXV0aF90aW1lIjoxNjUxODUxNTg2LCJqdGkiOiIxMDljNGE5Ny0yOTk3LTRjOGYtOTA3NC1iZWUyNmE2MTVlY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoNDFnMUc3eTAwb0tBME1LUXhJamJBIiwic2Vzc2lvbl9zdGF0ZSI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YrkVn0SsjsuRHFlFp_Z5XncPkspAInyHiPLoWK1HUBYkUOM-eniRo_6V-ypTCx9UTo2ItGdBATl2o039XNeDXYZvEc_03w9baeF2FhbVF7dpQ6MzaXH1KIBj-ZJUWulAhz8YSoDuyHqHWMo7Iqd8h7y-Y8la6lFnqsZrxsIUyXXs0gE5MmDtcs2K_yo1tHTEFaKwy9c1eE5IYZh2mjTwvCTg4kXprF_tBo8-Q4mDkCOeriOkLzPn_5EZsYbrpPCuxu0C5kA5cdb4yVYJNU2vPhoqkkUQlTPz4gGBgRJ0JqtbRm09dThEptAEPF2qU5S254GwV4Jx0rKUP55DbemOPg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;d3f612e2-ab38-4022-9f60-e03370ae485f&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee95180
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee95180
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee96920, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed006a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee97620, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE4ODksImlhdCI6MTY1MTg1MTU4OSwiYXV0aF90aW1lIjoxNjUxODUxNTg2LCJqdGkiOiIxMDljNGE5Ny0yOTk3LTRjOGYtOTA3NC1iZWUyNmE2MTVlY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoNDFnMUc3eTAwb0tBME1LUXhJamJBIiwic2Vzc2lvbl9zdGF0ZSI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2YjQwMzU0LWJmMGItNDRmYS05Mzg2LTMzYTFmZGE0ZWU2ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YrkVn0SsjsuRHFlFp_Z5XncPkspAInyHiPLoWK1HUBYkUOM-eniRo_6V-ypTCx9UTo2ItGdBATl2o039XNeDXYZvEc_03w9baeF2FhbVF7dpQ6MzaXH1KIBj-ZJUWulAhz8YSoDuyHqHWMo7Iqd8h7y-Y8la6lFnqsZrxsIUyXXs0gE5MmDtcs2K_yo1tHTEFaKwy9c1eE5IYZh2mjTwvCTg4kXprF_tBo8-Q4mDkCOeriOkLzPn_5EZsYbrpPCuxu0C5kA5cdb4yVYJNU2vPhoqkkUQlTPz4gGBgRJ0JqtbRm09dThEptAEPF2qU5S254GwV4Jx0rKUP55DbemOPg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:51Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;&#x27; @ QOS 0
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:39:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:39:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:39:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:39:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f002aa70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002acf0 } }, data: MessageData { topic: &quot;app/f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 55, 51, 51, 52, 98, 102, 100, 45, 53, 51, 99, 97, 45, 52, 52, 52, 100, 45, 56, 57, 48, 97, 45, 99, 100, 100, 98, 100, 102, 53, 53, 50, 48, 55, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 53, 52, 49, 54, 55, 97, 55, 37, 50, 68, 51, 101, 55, 49, 37, 50, 68, 52, 98, 51, 51, 37, 50, 68, 56, 100, 50, 102, 37, 50, 68, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 53, 52, 46, 51, 49, 56, 57, 49, 52, 52, 56, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 55, 57, 48, 51, 51, 97, 56, 45, 53, 52, 52, 56, 45, 52, 55, 101, 52, 45, 98, 97, 53, 48, 45, 56, 100, 48, 54, 49, 51, 50, 101, 48, 55, 51, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 53, 52, 49, 54, 55, 97, 55, 45, 51, 101, 55, 49, 45, 52, 98, 51, 51, 45, 56, 100, 50, 102, 45, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 52, 100, 56, 99, 52, 101, 53, 45, 55, 51, 51, 102, 45, 52, 98, 101, 51, 45, 97, 102, 50, 52, 45, 102, 53, 55, 102, 52, 49, 48, 54, 48, 50, 49, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 53, 52, 49, 54, 55, 97, 55, 37, 50, 68, 51, 101, 55, 49, 37, 50, 68, 52, 98, 51, 51, 37, 50, 68, 56, 100, 50, 102, 37, 50, 68, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 55, 57, 48, 51, 51, 97, 56, 45, 53, 52, 52, 56, 45, 52, 55, 101, 52, 45, 98, 97, 53, 48, 45, 56, 100, 48, 54, 49, 51, 50, 101, 48, 55, 51, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f002acf0 } } } }
[2022-05-06T15:39:54Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ed7c530
[2022-05-06T15:39:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;87334bfd-53ca-444d-890a-cddbdf552073\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f54167a7%2D3e71%2D4b33%2D8d2f%2Dbf8b627c545a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:54.318914483Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;b79033a8-5448-47e4-ba50-8d06132e073d\&quot;,\&quot;application\&quot;:\&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;,\&quot;applicationuid\&quot;:\&quot;14d8c4e5-733f-4be3-af24-f57f4106021b\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;f54167a7%2D3e71%2D4b33%2D8d2f%2Dbf8b627c545a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;b79033a8-5448-47e4-ba50-8d06132e073d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:39:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:39:55Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:39:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:39:55Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:39:55Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;be6f5a77-01f1-47a7-8a2e-62eb21a99c75&quot;, persistence: None, user_data: None }
[2022-05-06T15:39:55Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:39:55Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee78520
[2022-05-06T15:39:55Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee78520
[2022-05-06T15:39:55Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f231200, password: 0x55f42f2756e0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec797f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee78420, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:39:56Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eee6660 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eee6660 } } } }
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f001be00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001c090 } }, data: MessageData { topic: &quot;app/f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 57, 52, 101, 102, 51, 51, 54, 45, 56, 57, 99, 56, 45, 52, 51, 48, 99, 45, 57, 99, 51, 54, 45, 102, 50, 56, 54, 54, 102, 55, 49, 53, 97, 49, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 53, 52, 49, 54, 55, 97, 55, 37, 50, 68, 51, 101, 55, 49, 37, 50, 68, 52, 98, 51, 51, 37, 50, 68, 56, 100, 50, 102, 37, 50, 68, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 51, 57, 58, 53, 53, 46, 56, 48, 49, 55, 48, 52, 57, 52, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 55, 57, 48, 51, 51, 97, 56, 45, 53, 52, 52, 56, 45, 52, 55, 101, 52, 45, 98, 97, 53, 48, 45, 56, 100, 48, 54, 49, 51, 50, 101, 48, 55, 51, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 53, 52, 49, 54, 55, 97, 55, 37, 50, 68, 51, 101, 55, 49, 37, 50, 68, 52, 98, 51, 51, 37, 50, 68, 56, 100, 50, 102, 37, 50, 68, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 55, 57, 48, 51, 51, 97, 56, 45, 53, 52, 52, 56, 45, 52, 55, 101, 52, 45, 98, 97, 53, 48, 45, 56, 100, 48, 54, 49, 51, 50, 101, 48, 55, 51, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 52, 100, 56, 99, 52, 101, 53, 45, 55, 51, 51, 102, 45, 52, 98, 101, 51, 45, 97, 102, 50, 52, 45, 102, 53, 55, 102, 52, 49, 48, 54, 48, 50, 49, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 53, 52, 49, 54, 55, 97, 55, 45, 51, 101, 55, 49, 45, 52, 98, 51, 51, 45, 56, 100, 50, 102, 45, 98, 102, 56, 98, 54, 50, 55, 99, 53, 52, 53, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f001c090 } } } }
[2022-05-06T15:39:56Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ed7c530
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;994ef336-89c8-430c-9c36-f2866f715a14\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f54167a7%2D3e71%2D4b33%2D8d2f%2Dbf8b627c545a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:39:55.801704945Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;b79033a8-5448-47e4-ba50-8d06132e073d\&quot;,\&quot;partitionkey\&quot;:\&quot;f54167a7%2D3e71%2D4b33%2D8d2f%2Dbf8b627c545a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;b79033a8-5448-47e4-ba50-8d06132e073d\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;14d8c4e5-733f-4be3-af24-f57f4106021b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a\&quot;}&quot; }
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:39:56Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:39:56Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot; &quot;device1&quot;
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f54167a7-3e71-4b33-8d2f-bf8b627c545a&#x27;
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f54167a7-3e71-4b33-8d2f-bf8b627c545a&quot;
[2022-05-06T15:39:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f54167a7-3e71-4b33-8d2f-bf8b627c545a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:39:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:39:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:39:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:39:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:39:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:39:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:40:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:40:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MDMsImlhdCI6MTY1MTg1MTYwMywianRpIjoiNTZkZTU5ZmQtMjNmZS00NzA5LThmNWUtYjQ4YzBlNjIwMjMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNMSWNlNzhrU1VpOFloakczcHVLQUEiLCJzZXNzaW9uX3N0YXRlIjoiNTQ1NWRlMWYtYTYxNS00YzAyLThmZDMtZGY1Zjc1ZDkyMTA1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSJ9.Ukys41bQYkzAij6QlnLMIOqKVtdVrex7gj2eOhsQC9k
[2022-05-06T15:40:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:40:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MDMsImlhdCI6MTY1MTg1MTYwMywianRpIjoiNTZkZTU5ZmQtMjNmZS00NzA5LThmNWUtYjQ4YzBlNjIwMjMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNMSWNlNzhrU1VpOFloakczcHVLQUEiLCJzZXNzaW9uX3N0YXRlIjoiNTQ1NWRlMWYtYTYxNS00YzAyLThmZDMtZGY1Zjc1ZDkyMTA1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSJ9.Ukys41bQYkzAij6QlnLMIOqKVtdVrex7gj2eOhsQC9k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:40:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 8e35f6bb-52a9-40df-84d5-2171d706c44c
[2022-05-06T15:40:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;
[2022-05-06T15:40:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8e35f6bb-52a9-40df-84d5-2171d706c44c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;
[2022-05-06T15:40:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:04.028781Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bb9c27e-4afa-4812-9328-ce0376519f1b\&quot;,\n    \&quot;uid\&quot;: \&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052168971Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052144074Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052064556Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052065457Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052065858Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052066268Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052066779Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.052098309Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:04.028781Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;), &quot;resourceVersion&quot;: String(&quot;7bb9c27e-4afa-4812-9328-ce0376519f1b&quot;), &quot;uid&quot;: String(&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052168971Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052144074Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052064556Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052065457Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052065858Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052066268Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052066779Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.052098309Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:40:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:04.028781Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;570cc48a-ba76-49c9-bdec-7a6f22030a0f\&quot;,\n    \&quot;uid\&quot;: \&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334349866Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334309621Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.071804942Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.076874353Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.127618186Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.133183416Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334174447Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334191770Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TvvekRWE63H1\&quot;,\n        \&quot;username\&quot;: \&quot;user-8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:04.028781Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;), &quot;resourceVersion&quot;: String(&quot;570cc48a-ba76-49c9-bdec-7a6f22030a0f&quot;), &quot;uid&quot;: String(&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334349866Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334309621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.071804942Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.076874353Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.127618186Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.133183416Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334174447Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334191770Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TvvekRWE63H1&quot;), &quot;username&quot;: String(&quot;user-8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;)})})})})
[2022-05-06T15:40:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:04.028781Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;570cc48a-ba76-49c9-bdec-7a6f22030a0f\&quot;,\n    \&quot;uid\&quot;: \&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334349866Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334309621Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.071804942Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.076874353Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.127618186Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.133183416Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334174447Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:04.334191770Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TvvekRWE63H1\&quot;,\n        \&quot;username\&quot;: \&quot;user-8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:04.028781Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;), &quot;resourceVersion&quot;: String(&quot;570cc48a-ba76-49c9-bdec-7a6f22030a0f&quot;), &quot;uid&quot;: String(&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334349866Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334309621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.071804942Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.076874353Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.127618186Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.133183416Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334174447Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:04.334191770Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TvvekRWE63H1&quot;), &quot;username&quot;: String(&quot;user-8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;)})})})})
[2022-05-06T15:40:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MDMsImlhdCI6MTY1MTg1MTYwMywiYXV0aF90aW1lIjoxNjUxODUxNjAwLCJqdGkiOiIwYmZhNTJmZC0zMmY5LTQxYTMtYmI4YS1kYmIxMjlkMzRjYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjTEljZTc4a1NVaThZaGpHM3B1S0FBIiwic2Vzc2lvbl9zdGF0ZSI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CCSwBnnmEHOt8tm9DA04Wmm8Qbi13GDMGlhsACPJiBP6-IT9mv8OgGggSwM9CyrBpqPfnY7ZsGkXBgwK917n8FFJEh516JyXwntRiN1Az17ygRPq0Y1jSpmYUMd_FEyXeecEBKj8DMVy8YNSjqd-s1IYU5mJYw87Tu_-AdyylGIiCBSYMCOX9dv_NUQLPfJzkJ9GVXAPHkkrK_DDTyoTIrWERMdp8fHFH1pBoH3qSmD5eIyK6Ms6NLQWjNqGiFWO02R1ZJXRvpYrgIPFyq-C6nGs1dwy8N2pqUGuBVEUAn51AEFZfaU7nQ1C9UEk8Jqx9ZoR3rsphT7welsdLV4WBg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MDMsImlhdCI6MTY1MTg1MTYwMywiYXV0aF90aW1lIjoxNjUxODUxNjAwLCJqdGkiOiIwYmZhNTJmZC0zMmY5LTQxYTMtYmI4YS1kYmIxMjlkMzRjYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjTEljZTc4a1NVaThZaGpHM3B1S0FBIiwic2Vzc2lvbl9zdGF0ZSI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CCSwBnnmEHOt8tm9DA04Wmm8Qbi13GDMGlhsACPJiBP6-IT9mv8OgGggSwM9CyrBpqPfnY7ZsGkXBgwK917n8FFJEh516JyXwntRiN1Az17ygRPq0Y1jSpmYUMd_FEyXeecEBKj8DMVy8YNSjqd-s1IYU5mJYw87Tu_-AdyylGIiCBSYMCOX9dv_NUQLPfJzkJ9GVXAPHkkrK_DDTyoTIrWERMdp8fHFH1pBoH3qSmD5eIyK6Ms6NLQWjNqGiFWO02R1ZJXRvpYrgIPFyq-C6nGs1dwy8N2pqUGuBVEUAn51AEFZfaU7nQ1C9UEk8Jqx9ZoR3rsphT7welsdLV4WBg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;20d5b5ba-77d0-494c-aaf6-26b22a0a16c2&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecabe30
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecabe30
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ecd2cc0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecd22e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecab990, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MDMsImlhdCI6MTY1MTg1MTYwMywiYXV0aF90aW1lIjoxNjUxODUxNjAwLCJqdGkiOiIwYmZhNTJmZC0zMmY5LTQxYTMtYmI4YS1kYmIxMjlkMzRjYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjTEljZTc4a1NVaThZaGpHM3B1S0FBIiwic2Vzc2lvbl9zdGF0ZSI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0NTVkZTFmLWE2MTUtNGMwMi04ZmQzLWRmNWY3NWQ5MjEwNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CCSwBnnmEHOt8tm9DA04Wmm8Qbi13GDMGlhsACPJiBP6-IT9mv8OgGggSwM9CyrBpqPfnY7ZsGkXBgwK917n8FFJEh516JyXwntRiN1Az17ygRPq0Y1jSpmYUMd_FEyXeecEBKj8DMVy8YNSjqd-s1IYU5mJYw87Tu_-AdyylGIiCBSYMCOX9dv_NUQLPfJzkJ9GVXAPHkkrK_DDTyoTIrWERMdp8fHFH1pBoH3qSmD5eIyK6Ms6NLQWjNqGiFWO02R1ZJXRvpYrgIPFyq-C6nGs1dwy8N2pqUGuBVEUAn51AEFZfaU7nQ1C9UEk8Jqx9ZoR3rsphT7welsdLV4WBg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:05Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;&#x27; @ QOS 0
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea08016f10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08017190 } }, data: MessageData { topic: &quot;app/8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 55, 52, 101, 100, 97, 48, 101, 45, 49, 53, 100, 100, 45, 52, 52, 98, 102, 45, 56, 97, 56, 55, 45, 56, 57, 102, 51, 101, 49, 50, 54, 100, 55, 52, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 101, 51, 53, 102, 54, 98, 98, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 48, 100, 102, 37, 50, 68, 56, 52, 100, 53, 37, 50, 68, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 48, 58, 48, 57, 46, 51, 51, 48, 57, 56, 54, 57, 53, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 56, 52, 100, 102, 53, 101, 101, 45, 99, 100, 50, 53, 45, 52, 54, 99, 99, 45, 98, 50, 48, 101, 45, 50, 97, 102, 98, 98, 55, 97, 100, 49, 52, 48, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 101, 51, 53, 102, 54, 98, 98, 45, 53, 50, 97, 57, 45, 52, 48, 100, 102, 45, 56, 52, 100, 53, 45, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 56, 48, 98, 49, 51, 51, 48, 45, 54, 99, 101, 55, 45, 52, 49, 98, 52, 45, 97, 99, 101, 48, 45, 53, 53, 100, 102, 98, 102, 51, 97, 97, 97, 48, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 56, 48, 98, 49, 51, 51, 48, 45, 54, 99, 101, 55, 45, 52, 49, 98, 52, 45, 97, 99, 101, 48, 45, 53, 53, 100, 102, 98, 102, 51, 97, 97, 97, 48, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 101, 51, 53, 102, 54, 98, 98, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 48, 100, 102, 37, 50, 68, 56, 52, 100, 53, 37, 50, 68, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08017190 } } } }
[2022-05-06T15:40:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee9a950
[2022-05-06T15:40:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c74eda0e-15dd-44bf-8a87-89f3e126d748\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8e35f6bb%2D52a9%2D40df%2D84d5%2D2171d706c44c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:40:09.330986956Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409\&quot;,\&quot;application\&quot;:\&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;,\&quot;senderuid\&quot;:\&quot;a80b1330-6ce7-41b4-ace0-55dfbf3aaa0a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;a80b1330-6ce7-41b4-ace0-55dfbf3aaa0a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;8e35f6bb%2D52a9%2D40df%2D84d5%2D2171d706c44c/device1\&quot;}&quot; }
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:40:10Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ade0c118-ec64-4131-ba15-bf125d5c5d9a&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f25d8e0
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f25d8e0
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ec86160, password: 0x55f42ed414a0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0f7800, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ec84bc0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08009980, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009c10 } }, data: MessageData { topic: &quot;app/8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 54, 57, 57, 99, 48, 97, 55, 45, 51, 51, 56, 51, 45, 52, 52, 53, 99, 45, 98, 101, 57, 98, 45, 51, 97, 99, 49, 101, 55, 53, 102, 102, 53, 53, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 101, 51, 53, 102, 54, 98, 98, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 48, 100, 102, 37, 50, 68, 56, 52, 100, 53, 37, 50, 68, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 48, 58, 49, 48, 46, 52, 52, 56, 56, 56, 50, 54, 54, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 101, 51, 53, 102, 54, 98, 98, 45, 53, 50, 97, 57, 45, 52, 48, 100, 102, 45, 56, 52, 100, 53, 45, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 56, 48, 98, 49, 51, 51, 48, 45, 54, 99, 101, 55, 45, 52, 49, 98, 52, 45, 97, 99, 101, 48, 45, 53, 53, 100, 102, 98, 102, 51, 97, 97, 97, 48, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 101, 51, 53, 102, 54, 98, 98, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 48, 100, 102, 37, 50, 68, 56, 52, 100, 53, 37, 50, 68, 50, 49, 55, 49, 100, 55, 48, 54, 99, 52, 52, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 56, 48, 98, 49, 51, 51, 48, 45, 54, 99, 101, 55, 45, 52, 49, 98, 52, 45, 97, 99, 101, 48, 45, 53, 53, 100, 102, 98, 102, 51, 97, 97, 97, 48, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 56, 52, 100, 102, 53, 101, 101, 45, 99, 100, 50, 53, 45, 52, 54, 99, 99, 45, 98, 50, 48, 101, 45, 50, 97, 102, 98, 98, 55, 97, 100, 49, 52, 48, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08009c10 } } } }
[2022-05-06T15:40:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee9a950
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f278360 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f278360 } } } }
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d699c0a7-3383-445c-be9b-3ac1e75ff55c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://8e35f6bb%2D52a9%2D40df%2D84d5%2D2171d706c44c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:40:10.448882663Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;8e35f6bb-52a9-40df-84d5-2171d706c44c\&quot;,\&quot;deviceuid\&quot;:\&quot;a80b1330-6ce7-41b4-ace0-55dfbf3aaa0a\&quot;,\&quot;partitionkey\&quot;:\&quot;8e35f6bb%2D52a9%2D40df%2D84d5%2D2171d706c44c/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;a80b1330-6ce7-41b4-ace0-55dfbf3aaa0a\&quot;,\&quot;applicationuid\&quot;:\&quot;484df5ee-cd25-46cc-b20e-2afbb7ad1409\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:40:10Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:40:10Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot; &quot;device1&quot;
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8e35f6bb-52a9-40df-84d5-2171d706c44c&#x27;
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8e35f6bb-52a9-40df-84d5-2171d706c44c&quot;
[2022-05-06T15:40:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8e35f6bb-52a9-40df-84d5-2171d706c44c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:40:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:40:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:40:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:40:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MTcsImlhdCI6MTY1MTg1MTYxNywianRpIjoiNWFjY2U1NTctZWQ2MS00NzQwLWEyMTktNGEzZDQzNzQwZGYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJlSTFHRkdSUWtMQWhXMzRDUHVGZWciLCJzZXNzaW9uX3N0YXRlIjoiMWY2NzQzODktMzMwZC00ZjQ0LWE2YTItZWJiZWUzZDI4ZTAyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiJ9.Yo7xYHDVtCDgzFE-_afXFD873swWXCxc4Ww64UWOkek
[2022-05-06T15:40:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:40:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MTcsImlhdCI6MTY1MTg1MTYxNywianRpIjoiNWFjY2U1NTctZWQ2MS00NzQwLWEyMTktNGEzZDQzNzQwZGYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJlSTFHRkdSUWtMQWhXMzRDUHVGZWciLCJzZXNzaW9uX3N0YXRlIjoiMWY2NzQzODktMzMwZC00ZjQ0LWE2YTItZWJiZWUzZDI4ZTAyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiJ9.Yo7xYHDVtCDgzFE-_afXFD873swWXCxc4Ww64UWOkek&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:40:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:18Z INFO  drogue_cloud_tests::resources::apps] Create application: a3f5ae90-f301-4a3a-9483-69634a702bd5
[2022-05-06T15:40:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;
[2022-05-06T15:40:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a3f5ae90-f301-4a3a-9483-69634a702bd5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;
[2022-05-06T15:40:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:18.144851Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bc72a997-a251-4626-ab6e-20753589eb43\&quot;,\n    \&quot;uid\&quot;: \&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.168376089Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.168017027Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167988814Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167989695Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167990396Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167990888Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167991438Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.167995766Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:18.144851Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;), &quot;resourceVersion&quot;: String(&quot;bc72a997-a251-4626-ab6e-20753589eb43&quot;), &quot;uid&quot;: String(&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.168376089Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.168017027Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167988814Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167989695Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167990396Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167990888Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167991438Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.167995766Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:40:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:18.144851Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;14052f05-6f06-46a2-bf2f-d87861ea99d2\&quot;,\n    \&quot;uid\&quot;: \&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493169477Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493097181Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.191563195Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.207720518Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.282733795Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.289897962Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.492841112Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493015048Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;gZ70wtLtSQLK\&quot;,\n        \&quot;username\&quot;: \&quot;user-a3f5ae90-f301-4a3a-9483-69634a702bd5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:18.144851Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;), &quot;resourceVersion&quot;: String(&quot;14052f05-6f06-46a2-bf2f-d87861ea99d2&quot;), &quot;uid&quot;: String(&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493169477Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493097181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.191563195Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.207720518Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.282733795Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.289897962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.492841112Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493015048Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;gZ70wtLtSQLK&quot;), &quot;username&quot;: String(&quot;user-a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;)})})})})
[2022-05-06T15:40:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:18.144851Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;14052f05-6f06-46a2-bf2f-d87861ea99d2\&quot;,\n    \&quot;uid\&quot;: \&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493169477Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493097181Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.191563195Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.207720518Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.282733795Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.289897962Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.492841112Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:18.493015048Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;gZ70wtLtSQLK\&quot;,\n        \&quot;username\&quot;: \&quot;user-a3f5ae90-f301-4a3a-9483-69634a702bd5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:18.144851Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;), &quot;resourceVersion&quot;: String(&quot;14052f05-6f06-46a2-bf2f-d87861ea99d2&quot;), &quot;uid&quot;: String(&quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493169477Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493097181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.191563195Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.207720518Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.282733795Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.289897962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.492841112Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:18.493015048Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;gZ70wtLtSQLK&quot;), &quot;username&quot;: String(&quot;user-a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;)})})})})
[2022-05-06T15:40:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MTcsImlhdCI6MTY1MTg1MTYxNywiYXV0aF90aW1lIjoxNjUxODUxNjE0LCJqdGkiOiI2OTJiZmFjNC00ZmY4LTQwNjgtYWNmOC01OGUwZjAxNjUyY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSZUkxR0ZHUlFrTEFoVzM0Q1B1RmVnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ggjgaNt-v0UO75YWXdW0cSI0qKUnheP_bOi2427mrOSXz8KQp6NNZQAHgbAg0cfCyNj1oSR0Mwc9cJ3FEK92STZL4Yyhbe7DHU5xyQdcccw1JuicvwFM-VpG34I6RkG0bImUkPjgkUvEosWYBmWDjNpc-DEn37kiGMYjtyTCPN4ny43vLjMtjfltQ6if2ebutgn37WfNhrDp-9ck6_HCcYw7kk1l87DzmlLVQK5udHrW7ZSog2XEBMZHsPbV4qQaA9wXrshni-iUEGBh6gHQDf7GtWF320kOBosv79bDWRcvdHpgtGaCHJvBXDw2KmVB8v_D4nk0u20yAOiPg1auiQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MTcsImlhdCI6MTY1MTg1MTYxNywiYXV0aF90aW1lIjoxNjUxODUxNjE0LCJqdGkiOiI2OTJiZmFjNC00ZmY4LTQwNjgtYWNmOC01OGUwZjAxNjUyY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSZUkxR0ZHUlFrTEFoVzM0Q1B1RmVnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ggjgaNt-v0UO75YWXdW0cSI0qKUnheP_bOi2427mrOSXz8KQp6NNZQAHgbAg0cfCyNj1oSR0Mwc9cJ3FEK92STZL4Yyhbe7DHU5xyQdcccw1JuicvwFM-VpG34I6RkG0bImUkPjgkUvEosWYBmWDjNpc-DEn37kiGMYjtyTCPN4ny43vLjMtjfltQ6if2ebutgn37WfNhrDp-9ck6_HCcYw7kk1l87DzmlLVQK5udHrW7ZSog2XEBMZHsPbV4qQaA9wXrshni-iUEGBh6gHQDf7GtWF320kOBosv79bDWRcvdHpgtGaCHJvBXDw2KmVB8v_D4nk0u20yAOiPg1auiQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;489c06fb-eb6f-4043-b364-6ab546e3646a&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efe2290
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efe2290
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efe0b00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee42520, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efe05e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MTcsImlhdCI6MTY1MTg1MTYxNywiYXV0aF90aW1lIjoxNjUxODUxNjE0LCJqdGkiOiI2OTJiZmFjNC00ZmY4LTQwNjgtYWNmOC01OGUwZjAxNjUyY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSZUkxR0ZHUlFrTEFoVzM0Q1B1RmVnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNjc0Mzg5LTMzMGQtNGY0NC1hNmEyLWViYmVlM2QyOGUwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ggjgaNt-v0UO75YWXdW0cSI0qKUnheP_bOi2427mrOSXz8KQp6NNZQAHgbAg0cfCyNj1oSR0Mwc9cJ3FEK92STZL4Yyhbe7DHU5xyQdcccw1JuicvwFM-VpG34I6RkG0bImUkPjgkUvEosWYBmWDjNpc-DEn37kiGMYjtyTCPN4ny43vLjMtjfltQ6if2ebutgn37WfNhrDp-9ck6_HCcYw7kk1l87DzmlLVQK5udHrW7ZSog2XEBMZHsPbV4qQaA9wXrshni-iUEGBh6gHQDf7GtWF320kOBosv79bDWRcvdHpgtGaCHJvBXDw2KmVB8v_D4nk0u20yAOiPg1auiQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;&#x27; @ QOS 0
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0802e5e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f08bfa0 } }, data: MessageData { topic: &quot;app/a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f08bfa0 } } } }
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed18b70, 0x7fea1000b590
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x7fea0c007ad0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007ad0, 0x7fea0c000fd0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007ad0, 0x7fea0c000e00
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000e00, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000e00, 0x7fea0c001a20
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001a20, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001a20, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001a20, 0x7fea0c001ea0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001ea0, 0x7fea0c000f90
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001ea0, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001ea0, 0x7fea0c001f50
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001f50, 0x7fea100017e0
[2022-05-06T15:40:23Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c001f50
[2022-05-06T15:40:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;deviceuid&quot;: &quot;7f6dd3ff-6af9-4f4b-a726-be18f502dd8b&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;acd17c83-a8e1-4bab-b156-71235cf8f326&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;source&quot;: &quot;drogue://a3f5ae90%2Df301%2D4a3a%2D9483%2D69634a702bd5/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:40:23.346851444+00:00&quot;, &quot;senderuid&quot;: &quot;7f6dd3ff-6af9-4f4b-a726-be18f502dd8b&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;a3f5ae90%2Df301%2D4a3a%2D9483%2D69634a702bd5/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:40:24Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;84800550-7b42-4378-8988-bf635f9248c6&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee4d780
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee4d780
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f28b830, password: 0x55f42f0d69d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed8f2d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f08a2f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0802b5e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f1d35e0 } }, data: MessageData { topic: &quot;app/a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f1d35e0 } } } }
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d5f60, 0x55f42f0d4d50
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d4d50, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0d4d50, 0x7fea0c003b50
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x55f42ee7a030
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea10001ce0
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea1000b590
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x7fea1000b4e0
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b4e0, 0x7fea1000b590
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x55f42f0d3c30
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000b590, 0x55f42ee7c430
[2022-05-06T15:40:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea1000b590
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-06T15:40:24.466999612+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;50c61b70-6ba0-47bc-b1da-0fa2b52c7ba2&quot;, &quot;deviceuid&quot;: &quot;7f6dd3ff-6af9-4f4b-a726-be18f502dd8b&quot;, &quot;senderuid&quot;: &quot;7f6dd3ff-6af9-4f4b-a726-be18f502dd8b&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;fe35e701-0e59-4a62-81ec-2575743ea8db&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://a3f5ae90%2Df301%2D4a3a%2D9483%2D69634a702bd5/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;a3f5ae90%2Df301%2D4a3a%2D9483%2D69634a702bd5/device1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee12990 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee12990 } } } }
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:40:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:40:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot; &quot;device1&quot;
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a3f5ae90-f301-4a3a-9483-69634a702bd5&#x27;
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a3f5ae90-f301-4a3a-9483-69634a702bd5&quot;
[2022-05-06T15:40:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a3f5ae90-f301-4a3a-9483-69634a702bd5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:40:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:40:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:40:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:40:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MzEsImlhdCI6MTY1MTg1MTYzMSwianRpIjoiYmUxZGEyYTctOWZjNC00YmEwLWE4NmEtYTBhN2I4YTFjNmRjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFqN2QzZ21WRy1RR2ZnTl9rREZpM1EiLCJzZXNzaW9uX3N0YXRlIjoiNWZmYmViZmQtMzBlMS00ZjcyLWJmZDUtODQ0NzA5MDU1MTlmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiJ9.QAjPSSIZDbHs-BRcdZ58iEOQdExjcS5XcNVWjxGJXKU
[2022-05-06T15:40:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:40:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0MzEsImlhdCI6MTY1MTg1MTYzMSwianRpIjoiYmUxZGEyYTctOWZjNC00YmEwLWE4NmEtYTBhN2I4YTFjNmRjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFqN2QzZ21WRy1RR2ZnTl9rREZpM1EiLCJzZXNzaW9uX3N0YXRlIjoiNWZmYmViZmQtMzBlMS00ZjcyLWJmZDUtODQ0NzA5MDU1MTlmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiJ9.QAjPSSIZDbHs-BRcdZ58iEOQdExjcS5XcNVWjxGJXKU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:40:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 5d77a8ac-ba24-411a-86a1-d21592a26d9f
[2022-05-06T15:40:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;
[2022-05-06T15:40:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5d77a8ac-ba24-411a-86a1-d21592a26d9f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;
[2022-05-06T15:40:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:32.176582Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ee2f1fea-5d70-4833-8787-944e91edb4c3\&quot;,\n    \&quot;uid\&quot;: \&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.192594373Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:32.176582Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;), &quot;resourceVersion&quot;: String(&quot;ee2f1fea-5d70-4833-8787-944e91edb4c3&quot;), &quot;uid&quot;: String(&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.192594373Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:40:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:32.176582Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ac022f61-d89b-4838-afb2-f03198d9af40\&quot;,\n    \&quot;uid\&quot;: \&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542243996Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542201287Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.223031778Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.304611532Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.363378992Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.369530021Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542127308Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542146854Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;bspgNxHb7gzU\&quot;,\n        \&quot;username\&quot;: \&quot;user-5d77a8ac-ba24-411a-86a1-d21592a26d9f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:32.176582Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;), &quot;resourceVersion&quot;: String(&quot;ac022f61-d89b-4838-afb2-f03198d9af40&quot;), &quot;uid&quot;: String(&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542243996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542201287Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.223031778Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.304611532Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.363378992Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.369530021Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542127308Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542146854Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;bspgNxHb7gzU&quot;), &quot;username&quot;: String(&quot;user-5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;)})})})})
[2022-05-06T15:40:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:32.176582Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ac022f61-d89b-4838-afb2-f03198d9af40\&quot;,\n    \&quot;uid\&quot;: \&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542243996Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542201287Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.223031778Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.304611532Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.363378992Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.369530021Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542127308Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:32.542146854Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;bspgNxHb7gzU\&quot;,\n        \&quot;username\&quot;: \&quot;user-5d77a8ac-ba24-411a-86a1-d21592a26d9f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:32.176582Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;), &quot;resourceVersion&quot;: String(&quot;ac022f61-d89b-4838-afb2-f03198d9af40&quot;), &quot;uid&quot;: String(&quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542243996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542201287Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.223031778Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.304611532Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.363378992Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.369530021Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542127308Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:32.542146854Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;bspgNxHb7gzU&quot;), &quot;username&quot;: String(&quot;user-5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;)})})})})
[2022-05-06T15:40:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MzEsImlhdCI6MTY1MTg1MTYzMSwiYXV0aF90aW1lIjoxNjUxODUxNjI4LCJqdGkiOiJjYWJmZTlkMi05MzkzLTRmYmEtYjBjNC00NGNkMmQ2ZjA0OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRajdkM2dtVkctUUdmZ05fa0RGaTNRIiwic2Vzc2lvbl9zdGF0ZSI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WiRFbK0Xsq9dHIU3TGSdHJBhSPxmoIBE8tsrrWnWzNzveqLuy3P-tIlNbp7EJdHEkD1Spp05tRYdIDkacbrdkP8fbvne0L0mXMnLe2KiRhK8apfJxoWYB4AUMpDokO-10_NA5vzWdnnnMKR6tgeYpe2wU09SIZmpg9i-Z2OQgoUfcNK1CzXHQJZyEU5h1DZB3TXevlOFo5wgR4CDHeC3aqDZ_hZdK3wKa5OJqmi9jsatoPqIIezahxM917fhYoaAu_BaC4idrXH5krqKJ-H-FOx72znFMThqQ8IDEbvvfxXDwB2dAFGu7D-5QB-2BCrEJCz0jkWxLZELDj_GeaHNMg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MzEsImlhdCI6MTY1MTg1MTYzMSwiYXV0aF90aW1lIjoxNjUxODUxNjI4LCJqdGkiOiJjYWJmZTlkMi05MzkzLTRmYmEtYjBjNC00NGNkMmQ2ZjA0OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRajdkM2dtVkctUUdmZ05fa0RGaTNRIiwic2Vzc2lvbl9zdGF0ZSI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WiRFbK0Xsq9dHIU3TGSdHJBhSPxmoIBE8tsrrWnWzNzveqLuy3P-tIlNbp7EJdHEkD1Spp05tRYdIDkacbrdkP8fbvne0L0mXMnLe2KiRhK8apfJxoWYB4AUMpDokO-10_NA5vzWdnnnMKR6tgeYpe2wU09SIZmpg9i-Z2OQgoUfcNK1CzXHQJZyEU5h1DZB3TXevlOFo5wgR4CDHeC3aqDZ_hZdK3wKa5OJqmi9jsatoPqIIezahxM917fhYoaAu_BaC4idrXH5krqKJ-H-FOx72znFMThqQ8IDEbvvfxXDwB2dAFGu7D-5QB-2BCrEJCz0jkWxLZELDj_GeaHNMg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;c781623a-33e0-4466-9e39-9a153afbe232&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecabed0
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecabed0
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee9e440, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed1e090, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecac1a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5MzEsImlhdCI6MTY1MTg1MTYzMSwiYXV0aF90aW1lIjoxNjUxODUxNjI4LCJqdGkiOiJjYWJmZTlkMi05MzkzLTRmYmEtYjBjNC00NGNkMmQ2ZjA0OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRajdkM2dtVkctUUdmZ05fa0RGaTNRIiwic2Vzc2lvbl9zdGF0ZSI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZmJlYmZkLTMwZTEtNGY3Mi1iZmQ1LTg0NDcwOTA1NTE5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WiRFbK0Xsq9dHIU3TGSdHJBhSPxmoIBE8tsrrWnWzNzveqLuy3P-tIlNbp7EJdHEkD1Spp05tRYdIDkacbrdkP8fbvne0L0mXMnLe2KiRhK8apfJxoWYB4AUMpDokO-10_NA5vzWdnnnMKR6tgeYpe2wU09SIZmpg9i-Z2OQgoUfcNK1CzXHQJZyEU5h1DZB3TXevlOFo5wgR4CDHeC3aqDZ_hZdK3wKa5OJqmi9jsatoPqIIezahxM917fhYoaAu_BaC4idrXH5krqKJ-H-FOx72znFMThqQ8IDEbvvfxXDwB2dAFGu7D-5QB-2BCrEJCz0jkWxLZELDj_GeaHNMg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;&#x27; @ QOS 0
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f0029b60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f263d30 } }, data: MessageData { topic: &quot;app/5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f263d30 } } } }
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0f7e10, 0x55f42f1e72d0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1e72d0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1e72d0, 0x7fea10001e60
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e60, 0x7fea10005b70
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e60, 0x7fea10001eb0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x7fea10009fd0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009fd0, 0x7fea10001eb0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42ed64f80
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x7fea1000a0c0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a0c0, 0x55f42edd8bf0
[2022-05-06T15:40:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea1000a0c0
[2022-05-06T15:40:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://5d77a8ac%2Dba24%2D411a%2D86a1%2Dd21592a26d9f/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;senderuid&quot;: &quot;56c07c8c-b9b2-4d1f-bc5c-1e00b8dc305c&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:40:37.372119365+00:00&quot;, &quot;application&quot;: &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;id&quot;: &quot;7fcf1f79-304a-41c7-af99-32f850967f66&quot;, &quot;partitionkey&quot;: &quot;5d77a8ac%2Dba24%2D411a%2D86a1%2Dd21592a26d9f/device1&quot;, &quot;deviceuid&quot;: &quot;56c07c8c-b9b2-4d1f-bc5c-1e00b8dc305c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:40:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;59593c40-8dab-4cd1-af29-569bd9a1d3ff&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1d6cd0
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1d6cd0
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f25e8d0, password: 0x55f42f1e5190, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edcdde0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f25d2c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f00246a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ed028b0 } }, data: MessageData { topic: &quot;app/5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ed028b0 } } } }
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee66e60, 0x55f42ee02f50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee02f50, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee02f50, 0x55f42ee02f70
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee02f70, 0x55f42eda3400
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee02f70, 0x7fea0c003b50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea0c007a00
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a00, 0x7fea0c000f90
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a00, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a00, 0x7fea10006d50
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007a00, 0x7fea0c004080
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004080, 0x7fea0c007a00
[2022-05-06T15:40:38Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c007a00
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec7a550 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec7a550 } } } }
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:40:38.487372871+00:00&quot;, &quot;partitionkey&quot;: &quot;5d77a8ac%2Dba24%2D411a%2D86a1%2Dd21592a26d9f/device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://5d77a8ac%2Dba24%2D411a%2D86a1%2Dd21592a26d9f/device1&quot;, &quot;senderuid&quot;: &quot;56c07c8c-b9b2-4d1f-bc5c-1e00b8dc305c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;56c07c8c-b9b2-4d1f-bc5c-1e00b8dc305c&quot;, &quot;applicationuid&quot;: &quot;3eb37fb1-9e1b-43e0-a6d2-d127bde320d2&quot;, &quot;id&quot;: &quot;5228a7c7-847b-4b02-9fe5-a5557d4388fe&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:40:38Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:40:38Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot; &quot;device1&quot;
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5d77a8ac-ba24-411a-86a1-d21592a26d9f&#x27;
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5d77a8ac-ba24-411a-86a1-d21592a26d9f&quot;
[2022-05-06T15:40:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5d77a8ac-ba24-411a-86a1-d21592a26d9f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:40:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:40:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:40:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:40:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NDUsImlhdCI6MTY1MTg1MTY0NSwianRpIjoiYjk4Y2FmN2ItOGNkMS00YTkyLWFlZDgtZWE5ZDc3ODlkNGIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNobF9iWWtEU09ndFc1dlRYc2pOb0EiLCJzZXNzaW9uX3N0YXRlIjoiMGY3NWE4M2QtMTQyZC00YmYyLWFhYWYtMDZhZmE1Mzc5MGU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSJ9.bLDDf3KEk4hxn5uOaB-fDRseIO0nW1IQBb4XAGZEhrc
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NDUsImlhdCI6MTY1MTg1MTY0NSwianRpIjoiYjk4Y2FmN2ItOGNkMS00YTkyLWFlZDgtZWE5ZDc3ODlkNGIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNobF9iWWtEU09ndFc1dlRYc2pOb0EiLCJzZXNzaW9uX3N0YXRlIjoiMGY3NWE4M2QtMTQyZC00YmYyLWFhYWYtMDZhZmE1Mzc5MGU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSJ9.bLDDf3KEk4hxn5uOaB-fDRseIO0nW1IQBb4XAGZEhrc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::resources::apps] Create application: 524b59e9-cb86-4673-8f63-e5210f74815f
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 524b59e9-cb86-4673-8f63-e5210f74815f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;
[2022-05-06T15:40:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:45.865132Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;524b59e9-cb86-4673-8f63-e5210f74815f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5d4b88bf-4946-414d-af89-da0f8e40f91a\&quot;,\n    \&quot;uid\&quot;: \&quot;59103844-a7a0-4a6b-98db-83edbd2807bc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.875382921Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:45.865132Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;), &quot;resourceVersion&quot;: String(&quot;5d4b88bf-4946-414d-af89-da0f8e40f91a&quot;), &quot;uid&quot;: String(&quot;59103844-a7a0-4a6b-98db-83edbd2807bc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.875382921Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:40:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:45.865132Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;524b59e9-cb86-4673-8f63-e5210f74815f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;51fe5e54-c20d-4e5e-8208-71857c39f8ff\&quot;,\n    \&quot;uid\&quot;: \&quot;59103844-a7a0-4a6b-98db-83edbd2807bc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288755261Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288716589Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.928047694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.933909680Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.986663529Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.996900666Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288671484Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288689518Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YVZBlPOvUUnc\&quot;,\n        \&quot;username\&quot;: \&quot;user-524b59e9-cb86-4673-8f63-e5210f74815f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:45.865132Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;), &quot;resourceVersion&quot;: String(&quot;51fe5e54-c20d-4e5e-8208-71857c39f8ff&quot;), &quot;uid&quot;: String(&quot;59103844-a7a0-4a6b-98db-83edbd2807bc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288755261Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288716589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.928047694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.933909680Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.986663529Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.996900666Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288671484Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288689518Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YVZBlPOvUUnc&quot;), &quot;username&quot;: String(&quot;user-524b59e9-cb86-4673-8f63-e5210f74815f&quot;)})})})})
[2022-05-06T15:40:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:45.865132Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;524b59e9-cb86-4673-8f63-e5210f74815f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;51fe5e54-c20d-4e5e-8208-71857c39f8ff\&quot;,\n    \&quot;uid\&quot;: \&quot;59103844-a7a0-4a6b-98db-83edbd2807bc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288755261Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288716589Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.928047694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.933909680Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.986663529Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:45.996900666Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288671484Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:46.288689518Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YVZBlPOvUUnc\&quot;,\n        \&quot;username\&quot;: \&quot;user-524b59e9-cb86-4673-8f63-e5210f74815f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:45.865132Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;), &quot;resourceVersion&quot;: String(&quot;51fe5e54-c20d-4e5e-8208-71857c39f8ff&quot;), &quot;uid&quot;: String(&quot;59103844-a7a0-4a6b-98db-83edbd2807bc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288755261Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288716589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.928047694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.933909680Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.986663529Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:45.996900666Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288671484Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:46.288689518Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YVZBlPOvUUnc&quot;), &quot;username&quot;: String(&quot;user-524b59e9-cb86-4673-8f63-e5210f74815f&quot;)})})})})
[2022-05-06T15:40:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NDUsImlhdCI6MTY1MTg1MTY0NSwiYXV0aF90aW1lIjoxNjUxODUxNjQyLCJqdGkiOiIyNDhjZjRiMy0yOWVmLTRmNTMtYTljNS1lMDkzNzQyZTVkNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzaGxfYllrRFNPZ3RXNXZUWHNqTm9BIiwic2Vzc2lvbl9zdGF0ZSI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BRpBrZkqsccURLRiyMWLoR_TePTV5RngGYBK6UpaDea1USgMzL3AkgXxjdWKPntTeVH_rajVH1g2LPom2bHkxdQKrf__ij3DCK_nbS_lvExtKWdUeeYMv1YqqIyVGGngdHO7Ut6lqzBuqSwM-wRYiVjnw3KPr_4b_h3PzUE2lNy5PEduVbrRL9tJObyKSdTLFU2ESoRvPYxn8hqGy5Rqp888-vUnCpydHjav1cfG_1KKAxQwoGu52yuJ5unR6DvYNuh5GGE88YyMm_9-ZmWeQO6VKxroUPtr528rF-NJNO2aJTDD0TTFXP5UvknUqIA-76dzApsuK2jQRZgFliJtoQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NDUsImlhdCI6MTY1MTg1MTY0NSwiYXV0aF90aW1lIjoxNjUxODUxNjQyLCJqdGkiOiIyNDhjZjRiMy0yOWVmLTRmNTMtYTljNS1lMDkzNzQyZTVkNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzaGxfYllrRFNPZ3RXNXZUWHNqTm9BIiwic2Vzc2lvbl9zdGF0ZSI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BRpBrZkqsccURLRiyMWLoR_TePTV5RngGYBK6UpaDea1USgMzL3AkgXxjdWKPntTeVH_rajVH1g2LPom2bHkxdQKrf__ij3DCK_nbS_lvExtKWdUeeYMv1YqqIyVGGngdHO7Ut6lqzBuqSwM-wRYiVjnw3KPr_4b_h3PzUE2lNy5PEduVbrRL9tJObyKSdTLFU2ESoRvPYxn8hqGy5Rqp888-vUnCpydHjav1cfG_1KKAxQwoGu52yuJ5unR6DvYNuh5GGE88YyMm_9-ZmWeQO6VKxroUPtr528rF-NJNO2aJTDD0TTFXP5UvknUqIA-76dzApsuK2jQRZgFliJtoQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3f087c39-a2a0-4139-b5ea-a932b148da86&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f18d510
[2022-05-06T15:40:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f18d510
[2022-05-06T15:40:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eca7150, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f2371e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f18d110, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NDUsImlhdCI6MTY1MTg1MTY0NSwiYXV0aF90aW1lIjoxNjUxODUxNjQyLCJqdGkiOiIyNDhjZjRiMy0yOWVmLTRmNTMtYTljNS1lMDkzNzQyZTVkNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzaGxfYllrRFNPZ3RXNXZUWHNqTm9BIiwic2Vzc2lvbl9zdGF0ZSI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmNzVhODNkLTE0MmQtNGJmMi1hYWFmLTA2YWZhNTM3OTBlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BRpBrZkqsccURLRiyMWLoR_TePTV5RngGYBK6UpaDea1USgMzL3AkgXxjdWKPntTeVH_rajVH1g2LPom2bHkxdQKrf__ij3DCK_nbS_lvExtKWdUeeYMv1YqqIyVGGngdHO7Ut6lqzBuqSwM-wRYiVjnw3KPr_4b_h3PzUE2lNy5PEduVbrRL9tJObyKSdTLFU2ESoRvPYxn8hqGy5Rqp888-vUnCpydHjav1cfG_1KKAxQwoGu52yuJ5unR6DvYNuh5GGE88YyMm_9-ZmWeQO6VKxroUPtr528rF-NJNO2aJTDD0TTFXP5UvknUqIA-76dzApsuK2jQRZgFliJtoQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:47Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/524b59e9-cb86-4673-8f63-e5210f74815f&quot;&#x27; @ QOS 0
[2022-05-06T15:40:47Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:40:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:40:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:40:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:40:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:40:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f001b0f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/524b59e9-cb86-4673-8f63-e5210f74815f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 102, 48, 98, 53, 55, 98, 97, 45, 52, 98, 50, 102, 45, 52, 101, 54, 48, 45, 57, 55, 56, 48, 45, 53, 101, 57, 102, 98, 49, 100, 100, 102, 53, 100, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 50, 52, 98, 53, 57, 101, 57, 37, 50, 68, 99, 98, 56, 54, 37, 50, 68, 52, 54, 55, 51, 37, 50, 68, 56, 102, 54, 51, 37, 50, 68, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 48, 58, 53, 48, 46, 51, 55, 53, 49, 55, 49, 52, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 50, 52, 98, 53, 57, 101, 57, 45, 99, 98, 56, 54, 45, 52, 54, 55, 51, 45, 56, 102, 54, 51, 45, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 50, 52, 98, 53, 57, 101, 57, 37, 50, 68, 99, 98, 56, 54, 37, 50, 68, 52, 54, 55, 51, 37, 50, 68, 56, 102, 54, 51, 37, 50, 68, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 57, 49, 48, 51, 56, 52, 52, 45, 97, 55, 97, 48, 45, 52, 97, 54, 98, 45, 57, 56, 100, 98, 45, 56, 51, 101, 100, 98, 100, 50, 56, 48, 55, 98, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 57, 49, 57, 49, 100, 51, 50, 45, 101, 102, 99, 99, 45, 52, 102, 48, 102, 45, 56, 53, 52, 100, 45, 50, 49, 56, 102, 53, 102, 55, 56, 53, 48, 102, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 57, 49, 57, 49, 100, 51, 50, 45, 101, 102, 99, 99, 45, 52, 102, 48, 102, 45, 56, 53, 52, 100, 45, 50, 49, 56, 102, 53, 102, 55, 56, 53, 48, 102, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:40:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/524b59e9-cb86-4673-8f63-e5210f74815f&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3f0b57ba-4b2f-4e60-9780-5e9fb1ddf5d9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://524b59e9%2Dcb86%2D4673%2D8f63%2De5210f74815f/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:40:50.375171421Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;524b59e9-cb86-4673-8f63-e5210f74815f\&quot;,\&quot;partitionkey\&quot;:\&quot;524b59e9%2Dcb86%2D4673%2D8f63%2De5210f74815f/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;59103844-a7a0-4a6b-98db-83edbd2807bc\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;b9191d32-efcc-4f0f-854d-218f5f7850f9\&quot;,\&quot;deviceuid\&quot;:\&quot;b9191d32-efcc-4f0f-854d-218f5f7850f9\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:40:51Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d5d703c1-24c5-4815-a1d4-2877c5c8fc9f&quot;, persistence: None, user_data: None }
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ef91290
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ef91290
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f1b2710, password: 0x55f42ee9ef50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f286b20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecfd260, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@524b59e9-cb86-4673-8f63-e5210f74815f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f0026120, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/524b59e9-cb86-4673-8f63-e5210f74815f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 49, 102, 98, 53, 50, 102, 102, 45, 98, 51, 97, 99, 45, 52, 55, 51, 55, 45, 57, 54, 48, 49, 45, 98, 54, 97, 98, 57, 102, 102, 51, 52, 53, 53, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 50, 52, 98, 53, 57, 101, 57, 37, 50, 68, 99, 98, 56, 54, 37, 50, 68, 52, 54, 55, 51, 37, 50, 68, 56, 102, 54, 51, 37, 50, 68, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 48, 58, 53, 49, 46, 52, 48, 48, 53, 51, 55, 49, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 57, 49, 48, 51, 56, 52, 52, 45, 97, 55, 97, 48, 45, 52, 97, 54, 98, 45, 57, 56, 100, 98, 45, 56, 51, 101, 100, 98, 100, 50, 56, 48, 55, 98, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 57, 49, 57, 49, 100, 51, 50, 45, 101, 102, 99, 99, 45, 52, 102, 48, 102, 45, 56, 53, 52, 100, 45, 50, 49, 56, 102, 53, 102, 55, 56, 53, 48, 102, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 50, 52, 98, 53, 57, 101, 57, 45, 99, 98, 56, 54, 45, 52, 54, 55, 51, 45, 56, 102, 54, 51, 45, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 50, 52, 98, 53, 57, 101, 57, 37, 50, 68, 99, 98, 56, 54, 37, 50, 68, 52, 54, 55, 51, 37, 50, 68, 56, 102, 54, 51, 37, 50, 68, 101, 53, 50, 49, 48, 102, 55, 52, 56, 49, 53, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 57, 49, 57, 49, 100, 51, 50, 45, 101, 102, 99, 99, 45, 52, 102, 48, 102, 45, 56, 53, 52, 100, 45, 50, 49, 56, 102, 53, 102, 55, 56, 53, 48, 102, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f28f2d0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f28f2d0 } } } }
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/524b59e9-cb86-4673-8f63-e5210f74815f&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f1fb52ff-b3ac-4737-9601-b6ab9ff34558\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://524b59e9%2Dcb86%2D4673%2D8f63%2De5210f74815f/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:40:51.400537191Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;59103844-a7a0-4a6b-98db-83edbd2807bc\&quot;,\&quot;deviceuid\&quot;:\&quot;b9191d32-efcc-4f0f-854d-218f5f7850f9\&quot;,\&quot;application\&quot;:\&quot;524b59e9-cb86-4673-8f63-e5210f74815f\&quot;,\&quot;partitionkey\&quot;:\&quot;524b59e9%2Dcb86%2D4673%2D8f63%2De5210f74815f/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;b9191d32-efcc-4f0f-854d-218f5f7850f9\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:40:51Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:40:51Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot; &quot;device1&quot;
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;524b59e9-cb86-4673-8f63-e5210f74815f&#x27;
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;524b59e9-cb86-4673-8f63-e5210f74815f&quot;
[2022-05-06T15:40:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 524b59e9-cb86-4673-8f63-e5210f74815f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:40:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:40:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:40:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:40:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:40:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NTgsImlhdCI6MTY1MTg1MTY1OCwianRpIjoiYTMyNWQxNGEtNjU4My00ODRjLWExZWUtM2EwZDQ4YTViYzVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFtSjZEd0hJVklCUnk2YUw1YXVHTlEiLCJzZXNzaW9uX3N0YXRlIjoiMjVlZjU1ZDgtNTgxYS00YWI1LWEzN2UtNjkxMjM3ZjVhZDA5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSJ9.ptb1Rb5JSAVDKGPB_Lvr_S_4iv9ODObh0-zCzrnGHpo
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NTgsImlhdCI6MTY1MTg1MTY1OCwianRpIjoiYTMyNWQxNGEtNjU4My00ODRjLWExZWUtM2EwZDQ4YTViYzVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFtSjZEd0hJVklCUnk2YUw1YXVHTlEiLCJzZXNzaW9uX3N0YXRlIjoiMjVlZjU1ZDgtNTgxYS00YWI1LWEzN2UtNjkxMjM3ZjVhZDA5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSJ9.ptb1Rb5JSAVDKGPB_Lvr_S_4iv9ODObh0-zCzrnGHpo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::resources::apps] Create application: fea0c51f-d2ff-4347-af76-d4fb33cfd290
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fea0c51f-d2ff-4347-af76-d4fb33cfd290 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;
[2022-05-06T15:40:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:58.900956Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2ffbfe93-6ff2-4a72-89b2-3a55a8c451af\&quot;,\n    \&quot;uid\&quot;: \&quot;f87e2703-b224-418a-9646-63ec10567400\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922168361Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922147872Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922121944Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922122645Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922123026Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922123407Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922123998Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.922127765Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:58.900956Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;), &quot;resourceVersion&quot;: String(&quot;2ffbfe93-6ff2-4a72-89b2-3a55a8c451af&quot;), &quot;uid&quot;: String(&quot;f87e2703-b224-418a-9646-63ec10567400&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922168361Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922147872Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922121944Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922122645Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922123026Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922123407Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922123998Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.922127765Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:40:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:58.900956Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a73e697e-e4f4-4be5-b52b-4ae1b3300c96\&quot;,\n    \&quot;uid\&quot;: \&quot;f87e2703-b224-418a-9646-63ec10567400\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234674390Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234548945Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.944525432Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.952528060Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.006104592Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.012333054Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234458786Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234505604Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;bt35qyVoosDu\&quot;,\n        \&quot;username\&quot;: \&quot;user-fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:58.900956Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;), &quot;resourceVersion&quot;: String(&quot;a73e697e-e4f4-4be5-b52b-4ae1b3300c96&quot;), &quot;uid&quot;: String(&quot;f87e2703-b224-418a-9646-63ec10567400&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234674390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234548945Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.944525432Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.952528060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.006104592Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.012333054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234458786Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234505604Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;bt35qyVoosDu&quot;), &quot;username&quot;: String(&quot;user-fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;)})})})})
[2022-05-06T15:40:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:40:58.900956Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a73e697e-e4f4-4be5-b52b-4ae1b3300c96\&quot;,\n    \&quot;uid\&quot;: \&quot;f87e2703-b224-418a-9646-63ec10567400\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234674390Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234548945Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.944525432Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:58.952528060Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.006104592Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.012333054Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234458786Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:40:59.234505604Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;bt35qyVoosDu\&quot;,\n        \&quot;username\&quot;: \&quot;user-fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:40:58.900956Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;), &quot;resourceVersion&quot;: String(&quot;a73e697e-e4f4-4be5-b52b-4ae1b3300c96&quot;), &quot;uid&quot;: String(&quot;f87e2703-b224-418a-9646-63ec10567400&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234674390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234548945Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.944525432Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:58.952528060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.006104592Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.012333054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234458786Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:40:59.234505604Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;bt35qyVoosDu&quot;), &quot;username&quot;: String(&quot;user-fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;)})})})})
[2022-05-06T15:40:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:40:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NTgsImlhdCI6MTY1MTg1MTY1OCwiYXV0aF90aW1lIjoxNjUxODUxNjU1LCJqdGkiOiI2MjY2NzNhMi1hMDMxLTQ1MTItYmU5Ni1mZjFjM2IzMWIzMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhbUo2RHdISVZJQlJ5NmFMNWF1R05RIiwic2Vzc2lvbl9zdGF0ZSI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RNGFRu7Skq5XYXxVhXUrmupIxGcA0v6ZlQiU2FVoG7hZKIwuZ37rNtft_DmVCAMz9DYMM5DDxl8fVxoYTCzha7rlufm9ep3bJ4GpLrc7zLom1gYp5MNCVwhhsUWSeVVhzhOL5sTSg2S23wLieKhmOTSJ0npqkumCe7a0qkHz0HQjT2wdrN4bZ_7Q2IwxqN3hCJt4wX60IZNfx4F31h_QiW87wtRL097YRBMBgsM6reoeFr_sldCWw7aea5K6e-Xdeh5bbzz3BkzUTGO0c5VYVTZdzLvTKRJ4KLM8W3jsrcRInr4qcQEM-mVDqlhGhzeUZjmYuudiw80bUS5HRhgZeg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:40:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:40:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:40:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NTgsImlhdCI6MTY1MTg1MTY1OCwiYXV0aF90aW1lIjoxNjUxODUxNjU1LCJqdGkiOiI2MjY2NzNhMi1hMDMxLTQ1MTItYmU5Ni1mZjFjM2IzMWIzMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhbUo2RHdISVZJQlJ5NmFMNWF1R05RIiwic2Vzc2lvbl9zdGF0ZSI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RNGFRu7Skq5XYXxVhXUrmupIxGcA0v6ZlQiU2FVoG7hZKIwuZ37rNtft_DmVCAMz9DYMM5DDxl8fVxoYTCzha7rlufm9ep3bJ4GpLrc7zLom1gYp5MNCVwhhsUWSeVVhzhOL5sTSg2S23wLieKhmOTSJ0npqkumCe7a0qkHz0HQjT2wdrN4bZ_7Q2IwxqN3hCJt4wX60IZNfx4F31h_QiW87wtRL097YRBMBgsM6reoeFr_sldCWw7aea5K6e-Xdeh5bbzz3BkzUTGO0c5VYVTZdzLvTKRJ4KLM8W3jsrcRInr4qcQEM-mVDqlhGhzeUZjmYuudiw80bUS5HRhgZeg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;8a466a4d-edf7-4534-b340-6d6fe2801d11&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed11020
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed11020
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efe0c80, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee7a350, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edd4900, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NTgsImlhdCI6MTY1MTg1MTY1OCwiYXV0aF90aW1lIjoxNjUxODUxNjU1LCJqdGkiOiI2MjY2NzNhMi1hMDMxLTQ1MTItYmU5Ni1mZjFjM2IzMWIzMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhbUo2RHdISVZJQlJ5NmFMNWF1R05RIiwic2Vzc2lvbl9zdGF0ZSI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1ZWY1NWQ4LTU4MWEtNGFiNS1hMzdlLTY5MTIzN2Y1YWQwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RNGFRu7Skq5XYXxVhXUrmupIxGcA0v6ZlQiU2FVoG7hZKIwuZ37rNtft_DmVCAMz9DYMM5DDxl8fVxoYTCzha7rlufm9ep3bJ4GpLrc7zLom1gYp5MNCVwhhsUWSeVVhzhOL5sTSg2S23wLieKhmOTSJ0npqkumCe7a0qkHz0HQjT2wdrN4bZ_7Q2IwxqN3hCJt4wX60IZNfx4F31h_QiW87wtRL097YRBMBgsM6reoeFr_sldCWw7aea5K6e-Xdeh5bbzz3BkzUTGO0c5VYVTZdzLvTKRJ4KLM8W3jsrcRInr4qcQEM-mVDqlhGhzeUZjmYuudiw80bUS5HRhgZeg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:00Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;&#x27; @ QOS 0
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea08016e30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 52, 54, 49, 54, 101, 99, 55, 45, 56, 55, 97, 53, 45, 52, 56, 98, 53, 45, 57, 101, 97, 54, 45, 52, 100, 49, 49, 49, 101, 97, 51, 97, 97, 54, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 101, 97, 48, 99, 53, 49, 102, 37, 50, 68, 100, 50, 102, 102, 37, 50, 68, 52, 51, 52, 55, 37, 50, 68, 97, 102, 55, 54, 37, 50, 68, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 48, 51, 46, 51, 57, 51, 52, 55, 49, 50, 52, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 98, 54, 102, 98, 55, 56, 102, 45, 54, 98, 101, 51, 45, 52, 97, 50, 56, 45, 56, 101, 51, 57, 45, 98, 97, 54, 51, 97, 53, 97, 97, 100, 48, 102, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 98, 54, 102, 98, 55, 56, 102, 45, 54, 98, 101, 51, 45, 52, 97, 50, 56, 45, 56, 101, 51, 57, 45, 98, 97, 54, 51, 97, 53, 97, 97, 100, 48, 102, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 101, 97, 48, 99, 53, 49, 102, 45, 100, 50, 102, 102, 45, 52, 51, 52, 55, 45, 97, 102, 55, 54, 45, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 56, 55, 101, 50, 55, 48, 51, 45, 98, 50, 50, 52, 45, 52, 49, 56, 97, 45, 57, 54, 52, 54, 45, 54, 51, 101, 99, 49, 48, 53, 54, 55, 52, 48, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 101, 97, 48, 99, 53, 49, 102, 37, 50, 68, 100, 50, 102, 102, 37, 50, 68, 52, 51, 52, 55, 37, 50, 68, 97, 102, 55, 54, 37, 50, 68, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:41:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;44616ec7-87a5-48b5-9ea6-4d111ea3aa6d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fea0c51f%2Dd2ff%2D4347%2Daf76%2Dd4fb33cfd290/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:03.393471244Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;cb6fb78f-6be3-4a28-8e39-ba63a5aad0fe\&quot;,\&quot;deviceuid\&quot;:\&quot;cb6fb78f-6be3-4a28-8e39-ba63a5aad0fe\&quot;,\&quot;application\&quot;:\&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;,\&quot;applicationuid\&quot;:\&quot;f87e2703-b224-418a-9646-63ec10567400\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;fea0c51f%2Dd2ff%2D4347%2Daf76%2Dd4fb33cfd290/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:41:04Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c86abcf7-13cb-4d9c-b004-5698e509625b&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f185d20
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f185d20
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f07a370, password: 0x55f42ecd6f40, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f074440, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed04580, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0802b630, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 55, 48, 54, 52, 48, 55, 54, 45, 54, 98, 57, 53, 45, 52, 48, 56, 48, 45, 97, 97, 99, 100, 45, 52, 54, 51, 52, 55, 56, 52, 57, 56, 99, 55, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 101, 97, 48, 99, 53, 49, 102, 37, 50, 68, 100, 50, 102, 102, 37, 50, 68, 52, 51, 52, 55, 37, 50, 68, 97, 102, 55, 54, 37, 50, 68, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 48, 52, 46, 54, 57, 57, 48, 52, 50, 53, 50, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 101, 97, 48, 99, 53, 49, 102, 45, 100, 50, 102, 102, 45, 52, 51, 52, 55, 45, 97, 102, 55, 54, 45, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 98, 54, 102, 98, 55, 56, 102, 45, 54, 98, 101, 51, 45, 52, 97, 50, 56, 45, 56, 101, 51, 57, 45, 98, 97, 54, 51, 97, 53, 97, 97, 100, 48, 102, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 101, 97, 48, 99, 53, 49, 102, 37, 50, 68, 100, 50, 102, 102, 37, 50, 68, 52, 51, 52, 55, 37, 50, 68, 97, 102, 55, 54, 37, 50, 68, 100, 52, 102, 98, 51, 51, 99, 102, 100, 50, 57, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 98, 54, 102, 98, 55, 56, 102, 45, 54, 98, 101, 51, 45, 52, 97, 50, 56, 45, 56, 101, 51, 57, 45, 98, 97, 54, 51, 97, 53, 97, 97, 100, 48, 102, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 56, 55, 101, 50, 55, 48, 51, 45, 98, 50, 50, 52, 45, 52, 49, 56, 97, 45, 57, 54, 52, 54, 45, 54, 51, 101, 99, 49, 48, 53, 54, 55, 52, 48, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b7064076-6b95-4080-aacd-463478498c7c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fea0c51f%2Dd2ff%2D4347%2Daf76%2Dd4fb33cfd290/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:04.699042528Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290\&quot;,\&quot;senderuid\&quot;:\&quot;cb6fb78f-6be3-4a28-8e39-ba63a5aad0fe\&quot;,\&quot;partitionkey\&quot;:\&quot;fea0c51f%2Dd2ff%2D4347%2Daf76%2Dd4fb33cfd290/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;cb6fb78f-6be3-4a28-8e39-ba63a5aad0fe\&quot;,\&quot;applicationuid\&quot;:\&quot;f87e2703-b224-418a-9646-63ec10567400\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f04ed10 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f04ed10 } } } }
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:41:04Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:41:04Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot; &quot;device1&quot;
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fea0c51f-d2ff-4347-af76-d4fb33cfd290&#x27;
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fea0c51f-d2ff-4347-af76-d4fb33cfd290&quot;
[2022-05-06T15:41:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fea0c51f-d2ff-4347-af76-d4fb33cfd290 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:41:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:41:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:41:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:41:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NzEsImlhdCI6MTY1MTg1MTY3MSwianRpIjoiMjA5NjYyNGYtYjBiYS00OTMzLWFmY2MtMGZkNmMyODljMDRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpNcUdadkp0YUkxbU9xUl83dkE5LWciLCJzZXNzaW9uX3N0YXRlIjoiMTNlOTRjOTAtN2I3Ni00M2MyLWI4Y2QtNTdlNDI0NDkzNWE5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSJ9.RUBsupdCc4hyoPsQTPAeo_LYYXjZ3N_bZYiGQcdBsE4
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0NzEsImlhdCI6MTY1MTg1MTY3MSwianRpIjoiMjA5NjYyNGYtYjBiYS00OTMzLWFmY2MtMGZkNmMyODljMDRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpNcUdadkp0YUkxbU9xUl83dkE5LWciLCJzZXNzaW9uX3N0YXRlIjoiMTNlOTRjOTAtN2I3Ni00M2MyLWI4Y2QtNTdlNDI0NDkzNWE5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSJ9.RUBsupdCc4hyoPsQTPAeo_LYYXjZ3N_bZYiGQcdBsE4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 64dc8586-424f-457b-a311-7e56cfaae6e0
[2022-05-06T15:41:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;
[2022-05-06T15:41:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 64dc8586-424f-457b-a311-7e56cfaae6e0 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;
[2022-05-06T15:41:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:11.990048Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8370725d-6346-423f-b633-8ae542ed1604\&quot;,\n    \&quot;uid\&quot;: \&quot;0164a27e-4820-474a-bcf7-585290ba7e89\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.002292302Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.002338709Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001646903Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001649398Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001650350Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001651311Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001651922Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.001659597Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:11.990048Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;), &quot;resourceVersion&quot;: String(&quot;8370725d-6346-423f-b633-8ae542ed1604&quot;), &quot;uid&quot;: String(&quot;0164a27e-4820-474a-bcf7-585290ba7e89&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.002292302Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.002338709Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001646903Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001649398Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001650350Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001651311Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001651922Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.001659597Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:41:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:11.990048Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fdfb99d7-0183-4f21-8c8b-f183233a8671\&quot;,\n    \&quot;uid\&quot;: \&quot;0164a27e-4820-474a-bcf7-585290ba7e89\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385559179Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385608101Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.029245026Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.038077019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.107666401Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.115347807Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385505589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385531808Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Lcdd7AFFnA5n\&quot;,\n        \&quot;username\&quot;: \&quot;user-64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:11.990048Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;), &quot;resourceVersion&quot;: String(&quot;fdfb99d7-0183-4f21-8c8b-f183233a8671&quot;), &quot;uid&quot;: String(&quot;0164a27e-4820-474a-bcf7-585290ba7e89&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385559179Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385608101Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.029245026Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.038077019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.107666401Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.115347807Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385505589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385531808Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Lcdd7AFFnA5n&quot;), &quot;username&quot;: String(&quot;user-64dc8586-424f-457b-a311-7e56cfaae6e0&quot;)})})})})
[2022-05-06T15:41:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:11.990048Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fdfb99d7-0183-4f21-8c8b-f183233a8671\&quot;,\n    \&quot;uid\&quot;: \&quot;0164a27e-4820-474a-bcf7-585290ba7e89\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385559179Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385608101Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.029245026Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.038077019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.107666401Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.115347807Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385505589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:12.385531808Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Lcdd7AFFnA5n\&quot;,\n        \&quot;username\&quot;: \&quot;user-64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:11.990048Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;), &quot;resourceVersion&quot;: String(&quot;fdfb99d7-0183-4f21-8c8b-f183233a8671&quot;), &quot;uid&quot;: String(&quot;0164a27e-4820-474a-bcf7-585290ba7e89&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385559179Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385608101Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.029245026Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.038077019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.107666401Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.115347807Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385505589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:12.385531808Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Lcdd7AFFnA5n&quot;), &quot;username&quot;: String(&quot;user-64dc8586-424f-457b-a311-7e56cfaae6e0&quot;)})})})})
[2022-05-06T15:41:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NzEsImlhdCI6MTY1MTg1MTY3MSwiYXV0aF90aW1lIjoxNjUxODUxNjY4LCJqdGkiOiJjMDQxZmE3Mi0yYzZmLTRjMWQtYmRhZC01MWI4MjdkZTQwNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKTXFHWnZKdGFJMW1PcVJfN3ZBOS1nIiwic2Vzc2lvbl9zdGF0ZSI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FbVjuV4KrEmS0lQfYTTBl93IC98qiBbHT5mFtKyaZFeHN5wp1zU6HPca8cEJNPzDQExRV8PhSRyTpxQSDWjrQG-Tak8p1Jo0rrvy9FRIldi2OArMcUEv0i9VQ8XGi5CuvOzy7kNWFpm0AooRo9-rty5OTPxrUZrflWwC3QMfCbTOizcTnQd_zoaIYhcc-haf0_eGOau2uiZ-E2noJjh7YiukqLiijhHR0IiXss0v75d8vPYslqCY6dEGBtVGQ88a1hDHQAMZYhHrKCxe5goSbry9NYYNZSEv-10OrY6C13CusIVcr6FGn4HCUv5fB3PhT5R7lwBz9r2pPQ2imSTJlg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NzEsImlhdCI6MTY1MTg1MTY3MSwiYXV0aF90aW1lIjoxNjUxODUxNjY4LCJqdGkiOiJjMDQxZmE3Mi0yYzZmLTRjMWQtYmRhZC01MWI4MjdkZTQwNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKTXFHWnZKdGFJMW1PcVJfN3ZBOS1nIiwic2Vzc2lvbl9zdGF0ZSI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FbVjuV4KrEmS0lQfYTTBl93IC98qiBbHT5mFtKyaZFeHN5wp1zU6HPca8cEJNPzDQExRV8PhSRyTpxQSDWjrQG-Tak8p1Jo0rrvy9FRIldi2OArMcUEv0i9VQ8XGi5CuvOzy7kNWFpm0AooRo9-rty5OTPxrUZrflWwC3QMfCbTOizcTnQd_zoaIYhcc-haf0_eGOau2uiZ-E2noJjh7YiukqLiijhHR0IiXss0v75d8vPYslqCY6dEGBtVGQ88a1hDHQAMZYhHrKCxe5goSbry9NYYNZSEv-10OrY6C13CusIVcr6FGn4HCUv5fB3PhT5R7lwBz9r2pPQ2imSTJlg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;c48d053d-b22d-4017-88ef-9d3d55d701f6&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed16690
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed16690
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed8f530, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42efc6710, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed918a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5NzEsImlhdCI6MTY1MTg1MTY3MSwiYXV0aF90aW1lIjoxNjUxODUxNjY4LCJqdGkiOiJjMDQxZmE3Mi0yYzZmLTRjMWQtYmRhZC01MWI4MjdkZTQwNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKTXFHWnZKdGFJMW1PcVJfN3ZBOS1nIiwic2Vzc2lvbl9zdGF0ZSI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZTk0YzkwLTdiNzYtNDNjMi1iOGNkLTU3ZTQyNDQ5MzVhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FbVjuV4KrEmS0lQfYTTBl93IC98qiBbHT5mFtKyaZFeHN5wp1zU6HPca8cEJNPzDQExRV8PhSRyTpxQSDWjrQG-Tak8p1Jo0rrvy9FRIldi2OArMcUEv0i9VQ8XGi5CuvOzy7kNWFpm0AooRo9-rty5OTPxrUZrflWwC3QMfCbTOizcTnQd_zoaIYhcc-haf0_eGOau2uiZ-E2noJjh7YiukqLiijhHR0IiXss0v75d8vPYslqCY6dEGBtVGQ88a1hDHQAMZYhHrKCxe5goSbry9NYYNZSEv-10OrY6C13CusIVcr6FGn4HCUv5fB3PhT5R7lwBz9r2pPQ2imSTJlg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:13Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/64dc8586-424f-457b-a311-7e56cfaae6e0&quot;&#x27; @ QOS 0
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0800c0f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800c370 } }, data: MessageData { topic: &quot;app/64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 98, 56, 52, 99, 102, 97, 54, 45, 101, 51, 97, 97, 45, 52, 100, 101, 99, 45, 56, 56, 51, 55, 45, 51, 101, 49, 54, 102, 57, 51, 55, 51, 50, 52, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 52, 100, 99, 56, 53, 56, 54, 37, 50, 68, 52, 50, 52, 102, 37, 50, 68, 52, 53, 55, 98, 37, 50, 68, 97, 51, 49, 49, 37, 50, 68, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 49, 54, 46, 52, 50, 48, 52, 55, 49, 53, 52, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 100, 56, 48, 99, 52, 52, 57, 45, 97, 98, 97, 56, 45, 52, 52, 52, 53, 45, 56, 57, 48, 102, 45, 97, 97, 102, 57, 48, 101, 50, 50, 97, 102, 56, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 100, 56, 48, 99, 52, 52, 57, 45, 97, 98, 97, 56, 45, 52, 52, 52, 53, 45, 56, 57, 48, 102, 45, 97, 97, 102, 57, 48, 101, 50, 50, 97, 102, 56, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 52, 100, 99, 56, 53, 56, 54, 45, 52, 50, 52, 102, 45, 52, 53, 55, 98, 45, 97, 51, 49, 49, 45, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 54, 52, 97, 50, 55, 101, 45, 52, 56, 50, 48, 45, 52, 55, 52, 97, 45, 98, 99, 102, 55, 45, 53, 56, 53, 50, 57, 48, 98, 97, 55, 101, 56, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 52, 100, 99, 56, 53, 56, 54, 37, 50, 68, 52, 50, 52, 102, 37, 50, 68, 52, 53, 55, 98, 37, 50, 68, 97, 51, 49, 49, 37, 50, 68, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0800c370 } } } }
[2022-05-06T15:41:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ef02630
[2022-05-06T15:41:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4b84cfa6-e3aa-4dec-8837-3e16f937324d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://64dc8586%2D424f%2D457b%2Da311%2D7e56cfaae6e0/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:16.420471543Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;6d80c449-aba8-4445-890f-aaf90e22af85\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;6d80c449-aba8-4445-890f-aaf90e22af85\&quot;,\&quot;application\&quot;:\&quot;64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;0164a27e-4820-474a-bcf7-585290ba7e89\&quot;,\&quot;partitionkey\&quot;:\&quot;64dc8586%2D424f%2D457b%2Da311%2D7e56cfaae6e0/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:41:17Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;754d26b2-cb93-48e4-b4fa-60bd8c70e810&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed8e350
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed8e350
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f25e800, password: 0x55f42f0f7a00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f034fd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecb61e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@64dc8586-424f-457b-a311-7e56cfaae6e0&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd0940 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd0940 } } } }
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea080108c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08010b50 } }, data: MessageData { topic: &quot;app/64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 102, 49, 54, 53, 53, 52, 57, 45, 49, 57, 51, 98, 45, 52, 102, 54, 48, 45, 98, 99, 49, 57, 45, 50, 53, 102, 100, 98, 97, 98, 53, 102, 53, 52, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 52, 100, 99, 56, 53, 56, 54, 37, 50, 68, 52, 50, 52, 102, 37, 50, 68, 52, 53, 55, 98, 37, 50, 68, 97, 51, 49, 49, 37, 50, 68, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 49, 55, 46, 53, 51, 57, 48, 56, 55, 51, 55, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 52, 100, 99, 56, 53, 56, 54, 45, 52, 50, 52, 102, 45, 52, 53, 55, 98, 45, 97, 51, 49, 49, 45, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 100, 56, 48, 99, 52, 52, 57, 45, 97, 98, 97, 56, 45, 52, 52, 52, 53, 45, 56, 57, 48, 102, 45, 97, 97, 102, 57, 48, 101, 50, 50, 97, 102, 56, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 52, 100, 99, 56, 53, 56, 54, 37, 50, 68, 52, 50, 52, 102, 37, 50, 68, 52, 53, 55, 98, 37, 50, 68, 97, 51, 49, 49, 37, 50, 68, 55, 101, 53, 54, 99, 102, 97, 97, 101, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 100, 56, 48, 99, 52, 52, 57, 45, 97, 98, 97, 56, 45, 52, 52, 52, 53, 45, 56, 57, 48, 102, 45, 97, 97, 102, 57, 48, 101, 50, 50, 97, 102, 56, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 54, 52, 97, 50, 55, 101, 45, 52, 56, 50, 48, 45, 52, 55, 52, 97, 45, 98, 99, 102, 55, 45, 53, 56, 53, 50, 57, 48, 98, 97, 55, 101, 56, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08010b50 } } } }
[2022-05-06T15:41:17Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10009750
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;af165549-193b-4f60-bc19-25fdbab5f543\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://64dc8586%2D424f%2D457b%2Da311%2D7e56cfaae6e0/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:17.539087370Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;64dc8586-424f-457b-a311-7e56cfaae6e0\&quot;,\&quot;deviceuid\&quot;:\&quot;6d80c449-aba8-4445-890f-aaf90e22af85\&quot;,\&quot;partitionkey\&quot;:\&quot;64dc8586%2D424f%2D457b%2Da311%2D7e56cfaae6e0/device1\&quot;,\&quot;senderuid\&quot;:\&quot;6d80c449-aba8-4445-890f-aaf90e22af85\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0164a27e-4820-474a-bcf7-585290ba7e89\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:41:17Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:41:17Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot; &quot;device1&quot;
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;64dc8586-424f-457b-a311-7e56cfaae6e0&#x27;
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;64dc8586-424f-457b-a311-7e56cfaae6e0&quot;
[2022-05-06T15:41:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 64dc8586-424f-457b-a311-7e56cfaae6e0 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:41:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:41:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:41:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:41:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0ODQsImlhdCI6MTY1MTg1MTY4NCwianRpIjoiMzlkYTA2NjgtYTFhOS00NTJlLWJmODItZmFiZWUwNWNmNjJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFwb2tmSkpXb1JOdXNpelVrQlhUUXciLCJzZXNzaW9uX3N0YXRlIjoiM2JmMDUyOTYtMzYxOS00MGFiLTgwOTAtYjVlZGFmNWUzYjdlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSJ9.5ZnKF0p2A5gnIIAz3_QyQAAnFOFxeg3ZdvxwzaDvYRM
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0ODQsImlhdCI6MTY1MTg1MTY4NCwianRpIjoiMzlkYTA2NjgtYTFhOS00NTJlLWJmODItZmFiZWUwNWNmNjJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFwb2tmSkpXb1JOdXNpelVrQlhUUXciLCJzZXNzaW9uX3N0YXRlIjoiM2JmMDUyOTYtMzYxOS00MGFiLTgwOTAtYjVlZGFmNWUzYjdlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSJ9.5ZnKF0p2A5gnIIAz3_QyQAAnFOFxeg3ZdvxwzaDvYRM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 2effa230-bae8-4c66-adb8-f22cbcf91e2e
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2effa230-bae8-4c66-adb8-f22cbcf91e2e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;
[2022-05-06T15:41:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:24.951164Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6d7d0773-da72-4406-9a59-ac76c13e65ab\&quot;,\n    \&quot;uid\&quot;: \&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963714056Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963761905Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963369790Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963371894Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963372725Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963374078Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963375501Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.963396020Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:24.951164Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;), &quot;resourceVersion&quot;: String(&quot;6d7d0773-da72-4406-9a59-ac76c13e65ab&quot;), &quot;uid&quot;: String(&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963714056Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963761905Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963369790Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963371894Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963372725Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963374078Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963375501Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.963396020Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:41:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:41:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;
[2022-05-06T15:41:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:24.951164Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d55111c1-a493-4497-8c0a-d010cb5df036\&quot;,\n    \&quot;uid\&quot;: \&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.251045825Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.251091390Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.993140065Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.000281539Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.051941219Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.057991438Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.250866148Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.250881557Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iUfpRmlUqTtr\&quot;,\n        \&quot;username\&quot;: \&quot;user-2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:24.951164Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;), &quot;resourceVersion&quot;: String(&quot;d55111c1-a493-4497-8c0a-d010cb5df036&quot;), &quot;uid&quot;: String(&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.251045825Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.251091390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.993140065Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.000281539Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.051941219Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.057991438Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.250866148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.250881557Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iUfpRmlUqTtr&quot;), &quot;username&quot;: String(&quot;user-2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;)})})})})
[2022-05-06T15:41:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:41:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:24.951164Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d55111c1-a493-4497-8c0a-d010cb5df036\&quot;,\n    \&quot;uid\&quot;: \&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.251045825Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.251091390Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:24.993140065Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.000281539Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.051941219Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.057991438Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.250866148Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:25.250881557Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iUfpRmlUqTtr\&quot;,\n        \&quot;username\&quot;: \&quot;user-2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:24.951164Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;), &quot;resourceVersion&quot;: String(&quot;d55111c1-a493-4497-8c0a-d010cb5df036&quot;), &quot;uid&quot;: String(&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.251045825Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.251091390Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:24.993140065Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.000281539Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.051941219Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.057991438Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.250866148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:25.250881557Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iUfpRmlUqTtr&quot;), &quot;username&quot;: String(&quot;user-2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;)})})})})
[2022-05-06T15:41:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5ODQsImlhdCI6MTY1MTg1MTY4NCwiYXV0aF90aW1lIjoxNjUxODUxNjgxLCJqdGkiOiI3YzlhZWRhMC1lYTY1LTQ2NWMtYTg5MS1kOWNhZmMzZGNiN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcG9rZkpKV29STnVzaXpVa0JYVFF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XIsQ3xPRBr-fkBo0B4ZvxMoygdQi4haiDfHHBg55sMdilmJsmGsNTJYFn6Z83iSdfIoHoek6rOpmW-AxYCQtQqADky8f6YpoO9eoGr9t1y7nLDE803kyEyjWRx3yu72_Bf6k6uWbBSCdeL5I37SU9HaPMtAPC7T7MyiHbyVrmAGvZfwx8grd3Zv_r87L201j3rMqhPygqITzkOtQWXTIJcf4HwQIKTIbJYILU7J7i5WL8ecUe9Xx8a60Ct2D7DTtyRD1omlAbxg1J5Y7kOyCk7NnuzvgaMc-XJ72jrgJ5W39nEVKiPVRPdJibWP2H2ZNXYMQUqOTj1D3v3-Ocs3buw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5ODQsImlhdCI6MTY1MTg1MTY4NCwiYXV0aF90aW1lIjoxNjUxODUxNjgxLCJqdGkiOiI3YzlhZWRhMC1lYTY1LTQ2NWMtYTg5MS1kOWNhZmMzZGNiN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcG9rZkpKV29STnVzaXpVa0JYVFF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XIsQ3xPRBr-fkBo0B4ZvxMoygdQi4haiDfHHBg55sMdilmJsmGsNTJYFn6Z83iSdfIoHoek6rOpmW-AxYCQtQqADky8f6YpoO9eoGr9t1y7nLDE803kyEyjWRx3yu72_Bf6k6uWbBSCdeL5I37SU9HaPMtAPC7T7MyiHbyVrmAGvZfwx8grd3Zv_r87L201j3rMqhPygqITzkOtQWXTIJcf4HwQIKTIbJYILU7J7i5WL8ecUe9Xx8a60Ct2D7DTtyRD1omlAbxg1J5Y7kOyCk7NnuzvgaMc-XJ72jrgJ5W39nEVKiPVRPdJibWP2H2ZNXYMQUqOTj1D3v3-Ocs3buw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;320dfe69-d9c7-4d37-a5c6-567ea8e9e1da&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f22f840
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f22f840
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eeb4640, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f1e5810, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f22f450, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5ODQsImlhdCI6MTY1MTg1MTY4NCwiYXV0aF90aW1lIjoxNjUxODUxNjgxLCJqdGkiOiI3YzlhZWRhMC1lYTY1LTQ2NWMtYTg5MS1kOWNhZmMzZGNiN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRcG9rZkpKV29STnVzaXpVa0JYVFF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNiZjA1Mjk2LTM2MTktNDBhYi04MDkwLWI1ZWRhZjVlM2I3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XIsQ3xPRBr-fkBo0B4ZvxMoygdQi4haiDfHHBg55sMdilmJsmGsNTJYFn6Z83iSdfIoHoek6rOpmW-AxYCQtQqADky8f6YpoO9eoGr9t1y7nLDE803kyEyjWRx3yu72_Bf6k6uWbBSCdeL5I37SU9HaPMtAPC7T7MyiHbyVrmAGvZfwx8grd3Zv_r87L201j3rMqhPygqITzkOtQWXTIJcf4HwQIKTIbJYILU7J7i5WL8ecUe9Xx8a60Ct2D7DTtyRD1omlAbxg1J5Y7kOyCk7NnuzvgaMc-XJ72jrgJ5W39nEVKiPVRPdJibWP2H2ZNXYMQUqOTj1D3v3-Ocs3buw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:26Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;&#x27; @ QOS 0
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0801b8d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801bb50 } }, data: MessageData { topic: &quot;app/2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 52, 52, 53, 102, 52, 57, 57, 45, 49, 48, 99, 99, 45, 52, 50, 100, 50, 45, 97, 97, 48, 49, 45, 50, 98, 100, 99, 97, 100, 97, 98, 49, 53, 53, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 101, 102, 102, 97, 50, 51, 48, 37, 50, 68, 98, 97, 101, 56, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 97, 100, 98, 56, 37, 50, 68, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 50, 57, 46, 52, 49, 50, 49, 54, 52, 49, 48, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 99, 51, 102, 100, 56, 57, 45, 55, 98, 57, 99, 45, 52, 53, 98, 54, 45, 56, 49, 99, 56, 45, 97, 52, 53, 100, 50, 51, 53, 49, 52, 48, 51, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 101, 102, 102, 97, 50, 51, 48, 45, 98, 97, 101, 56, 45, 52, 99, 54, 54, 45, 97, 100, 98, 56, 45, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 102, 100, 57, 102, 100, 55, 98, 45, 54, 55, 101, 50, 45, 52, 49, 50, 57, 45, 97, 101, 102, 57, 45, 56, 100, 48, 98, 48, 50, 101, 54, 97, 54, 98, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 102, 100, 57, 102, 100, 55, 98, 45, 54, 55, 101, 50, 45, 52, 49, 50, 57, 45, 97, 101, 102, 57, 45, 56, 100, 48, 98, 48, 50, 101, 54, 97, 54, 98, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 101, 102, 102, 97, 50, 51, 48, 37, 50, 68, 98, 97, 101, 56, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 97, 100, 98, 56, 37, 50, 68, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801bb50 } } } }
[2022-05-06T15:41:29Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42f260ac0
[2022-05-06T15:41:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c445f499-10cc-42d2-aa01-2bdcadab155d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2effa230%2Dbae8%2D4c66%2Dadb8%2Df22cbcf91e2e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:29.412164100Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;,\&quot;senderuid\&quot;:\&quot;afd9fd7b-67e2-4129-aef9-8d0b02e6a6b0\&quot;,\&quot;deviceuid\&quot;:\&quot;afd9fd7b-67e2-4129-aef9-8d0b02e6a6b0\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;2effa230%2Dbae8%2D4c66%2Dadb8%2Df22cbcf91e2e/device1\&quot;}&quot; }
[2022-05-06T15:41:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:41:30Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:41:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:41:30Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:41:30Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;e96514ff-bfce-4071-8c71-670b275273b3&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:30Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:30Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1070a0
[2022-05-06T15:41:30Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1070a0
[2022-05-06T15:41:30Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f0d6f90, password: 0x55f42eda9830, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed001c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d6d00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:31Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0fcc90 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0fcc90 } } } }
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0802e080, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802e310 } }, data: MessageData { topic: &quot;app/2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 48, 51, 98, 56, 50, 48, 52, 45, 50, 98, 54, 53, 45, 52, 99, 51, 51, 45, 97, 57, 52, 97, 45, 55, 57, 102, 49, 52, 52, 49, 98, 56, 50, 51, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 101, 102, 102, 97, 50, 51, 48, 37, 50, 68, 98, 97, 101, 56, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 97, 100, 98, 56, 37, 50, 68, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 49, 58, 51, 48, 46, 57, 49, 54, 50, 57, 53, 48, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 101, 102, 102, 97, 50, 51, 48, 37, 50, 68, 98, 97, 101, 56, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 97, 100, 98, 56, 37, 50, 68, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 102, 100, 57, 102, 100, 55, 98, 45, 54, 55, 101, 50, 45, 52, 49, 50, 57, 45, 97, 101, 102, 57, 45, 56, 100, 48, 98, 48, 50, 101, 54, 97, 54, 98, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 99, 51, 102, 100, 56, 57, 45, 55, 98, 57, 99, 45, 52, 53, 98, 54, 45, 56, 49, 99, 56, 45, 97, 52, 53, 100, 50, 51, 53, 49, 52, 48, 51, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 102, 100, 57, 102, 100, 55, 98, 45, 54, 55, 101, 50, 45, 52, 49, 50, 57, 45, 97, 101, 102, 57, 45, 56, 100, 48, 98, 48, 50, 101, 54, 97, 54, 98, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 101, 102, 102, 97, 50, 51, 48, 45, 98, 97, 101, 56, 45, 52, 99, 54, 54, 45, 97, 100, 98, 56, 45, 102, 50, 50, 99, 98, 99, 102, 57, 49, 101, 50, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802e310 } } } }
[2022-05-06T15:41:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42f260ac0
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;003b8204-2b65-4c33-a94a-79f1441b8236\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2effa230%2Dbae8%2D4c66%2Dadb8%2Df22cbcf91e2e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:41:30.916295097Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;2effa230%2Dbae8%2D4c66%2Dadb8%2Df22cbcf91e2e/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;afd9fd7b-67e2-4129-aef9-8d0b02e6a6b0\&quot;,\&quot;applicationuid\&quot;:\&quot;1ec3fd89-7b9c-45b6-81c8-a45d2351403b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;afd9fd7b-67e2-4129-aef9-8d0b02e6a6b0\&quot;,\&quot;application\&quot;:\&quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e\&quot;}&quot; }
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:41:31Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:41:31Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot; &quot;device1&quot;
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2effa230-bae8-4c66-adb8-f22cbcf91e2e&#x27;
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2effa230-bae8-4c66-adb8-f22cbcf91e2e&quot;
[2022-05-06T15:41:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2effa230-bae8-4c66-adb8-f22cbcf91e2e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:41:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:41:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:41:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:41:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0OTgsImlhdCI6MTY1MTg1MTY5OCwianRpIjoiMDM1MzU5OTgtZWI1OS00ZDcwLWFkYWUtNDliM2IwYmNhYjgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNWbHJzY05iTEV0azBsQ0dyN0lXY0EiLCJzZXNzaW9uX3N0YXRlIjoiZTM4M2QwZTQtMjQ3Yi00N2QyLWI1Y2UtMjBkODk4ODMzMTUwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCJ9.ihXiU3F_ninTJJY-XXYZyTmx4tfrOAfcZhHbK8CBHd0
[2022-05-06T15:41:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:41:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM0OTgsImlhdCI6MTY1MTg1MTY5OCwianRpIjoiMDM1MzU5OTgtZWI1OS00ZDcwLWFkYWUtNDliM2IwYmNhYjgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNWbHJzY05iTEV0azBsQ0dyN0lXY0EiLCJzZXNzaW9uX3N0YXRlIjoiZTM4M2QwZTQtMjQ3Yi00N2QyLWI1Y2UtMjBkODk4ODMzMTUwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCJ9.ihXiU3F_ninTJJY-XXYZyTmx4tfrOAfcZhHbK8CBHd0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:41:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:39Z INFO  drogue_cloud_tests::resources::apps] Create application: 1da520fc-553f-4125-b479-a76a2acc9be0
[2022-05-06T15:41:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;
[2022-05-06T15:41:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1da520fc-553f-4125-b479-a76a2acc9be0 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;
[2022-05-06T15:41:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:39.023454Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;1da520fc-553f-4125-b479-a76a2acc9be0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b880876e-6b38-4edc-8c43-1352959685bf\&quot;,\n    \&quot;uid\&quot;: \&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046827250Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046804578Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046763310Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046764182Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046764642Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046765123Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046765644Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.046770594Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:39.023454Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;), &quot;resourceVersion&quot;: String(&quot;b880876e-6b38-4edc-8c43-1352959685bf&quot;), &quot;uid&quot;: String(&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046827250Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046804578Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046763310Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046764182Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046764642Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046765123Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046765644Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.046770594Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:41:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:39.023454Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1da520fc-553f-4125-b479-a76a2acc9be0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;146e6b90-6065-43e5-8cbc-5dff1fe6c657\&quot;,\n    \&quot;uid\&quot;: \&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348682148Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348207017Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.070670526Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.077559558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.151016198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.157664989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348086641Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348105707Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;FIxTN23TIYSd\&quot;,\n        \&quot;username\&quot;: \&quot;user-1da520fc-553f-4125-b479-a76a2acc9be0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:39.023454Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;), &quot;resourceVersion&quot;: String(&quot;146e6b90-6065-43e5-8cbc-5dff1fe6c657&quot;), &quot;uid&quot;: String(&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348682148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348207017Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.070670526Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.077559558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.151016198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.157664989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348086641Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348105707Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;FIxTN23TIYSd&quot;), &quot;username&quot;: String(&quot;user-1da520fc-553f-4125-b479-a76a2acc9be0&quot;)})})})})
[2022-05-06T15:41:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:39.023454Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1da520fc-553f-4125-b479-a76a2acc9be0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;146e6b90-6065-43e5-8cbc-5dff1fe6c657\&quot;,\n    \&quot;uid\&quot;: \&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348682148Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348207017Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.070670526Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.077559558Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.151016198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.157664989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348086641Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:39.348105707Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;FIxTN23TIYSd\&quot;,\n        \&quot;username\&quot;: \&quot;user-1da520fc-553f-4125-b479-a76a2acc9be0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:39.023454Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;), &quot;resourceVersion&quot;: String(&quot;146e6b90-6065-43e5-8cbc-5dff1fe6c657&quot;), &quot;uid&quot;: String(&quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348682148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348207017Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.070670526Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.077559558Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.151016198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.157664989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348086641Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:39.348105707Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;FIxTN23TIYSd&quot;), &quot;username&quot;: String(&quot;user-1da520fc-553f-4125-b479-a76a2acc9be0&quot;)})})})})
[2022-05-06T15:41:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5OTgsImlhdCI6MTY1MTg1MTY5OCwiYXV0aF90aW1lIjoxNjUxODUxNjk1LCJqdGkiOiI5Y2NjZTIzNC03YTkxLTRiZTAtYjljNi1lYjIwZjlhMGFiMzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzVmxyc2NOYkxFdGswbENHcjdJV2NBIiwic2Vzc2lvbl9zdGF0ZSI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.erq4aIhlkoHv8uqA3TbPq-Szcn9Qj-kBveW06BEz9d8jcDaNbJ9NoajO_jyzcc9wNZtc1A7wr29hfkuExf0Lf-VOmWAtyddep7b_FEJf2IigArHiG7EO8FHnRzVnDtKq4zonc2Ig5kDrcRfQMX0PPlQTXJa_3T1IYPvhVL57aJ91aMkmSjwyTMAEjeEyqgN4RbhFEtHlnQX7Trka_PTh8UqhyJw6XM5KToGAzMuB57Golz-K0JvbsyeXLqcZ_999zBqsklnT7htwpm7qY2T9ICBTtcEExJUwYejWHV80KWTmS-lHI4GLD31FnlyHmjgHjtthgK_TT64P-qGMtBRHKw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5OTgsImlhdCI6MTY1MTg1MTY5OCwiYXV0aF90aW1lIjoxNjUxODUxNjk1LCJqdGkiOiI5Y2NjZTIzNC03YTkxLTRiZTAtYjljNi1lYjIwZjlhMGFiMzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzVmxyc2NOYkxFdGswbENHcjdJV2NBIiwic2Vzc2lvbl9zdGF0ZSI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.erq4aIhlkoHv8uqA3TbPq-Szcn9Qj-kBveW06BEz9d8jcDaNbJ9NoajO_jyzcc9wNZtc1A7wr29hfkuExf0Lf-VOmWAtyddep7b_FEJf2IigArHiG7EO8FHnRzVnDtKq4zonc2Ig5kDrcRfQMX0PPlQTXJa_3T1IYPvhVL57aJ91aMkmSjwyTMAEjeEyqgN4RbhFEtHlnQX7Trka_PTh8UqhyJw6XM5KToGAzMuB57Golz-K0JvbsyeXLqcZ_999zBqsklnT7htwpm7qY2T9ICBTtcEExJUwYejWHV80KWTmS-lHI4GLD31FnlyHmjgHjtthgK_TT64P-qGMtBRHKw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;f3a9a0b3-3d7c-4312-8220-502dbc6c5b80&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0640b0
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0640b0
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efc6480, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee5ea90, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efc7370, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTE5OTgsImlhdCI6MTY1MTg1MTY5OCwiYXV0aF90aW1lIjoxNjUxODUxNjk1LCJqdGkiOiI5Y2NjZTIzNC03YTkxLTRiZTAtYjljNi1lYjIwZjlhMGFiMzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzVmxyc2NOYkxFdGswbENHcjdJV2NBIiwic2Vzc2lvbl9zdGF0ZSI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzODNkMGU0LTI0N2ItNDdkMi1iNWNlLTIwZDg5ODgzMzE1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.erq4aIhlkoHv8uqA3TbPq-Szcn9Qj-kBveW06BEz9d8jcDaNbJ9NoajO_jyzcc9wNZtc1A7wr29hfkuExf0Lf-VOmWAtyddep7b_FEJf2IigArHiG7EO8FHnRzVnDtKq4zonc2Ig5kDrcRfQMX0PPlQTXJa_3T1IYPvhVL57aJ91aMkmSjwyTMAEjeEyqgN4RbhFEtHlnQX7Trka_PTh8UqhyJw6XM5KToGAzMuB57Golz-K0JvbsyeXLqcZ_999zBqsklnT7htwpm7qY2T9ICBTtcEExJUwYejWHV80KWTmS-lHI4GLD31FnlyHmjgHjtthgK_TT64P-qGMtBRHKw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:40Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/1da520fc-553f-4125-b479-a76a2acc9be0&quot;&#x27; @ QOS 0
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0802bf60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42efd7e80 } }, data: MessageData { topic: &quot;app/1da520fc-553f-4125-b479-a76a2acc9be0&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42efd7e80 } } } }
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed65eb0, 0x7fea10001e30
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e30, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e30, 0x7fea10001a60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001a60, 0x55f42ee413c0
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001a60, 0x7fea1000a4d0
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a4d0, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a4d0, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a4d0, 0x7fea10000ce0
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea1000a4d0
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a4d0, 0x7fea10000ce0
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x55f42f1e7f30
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea10008d60
[2022-05-06T15:41:43Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10000ce0
[2022-05-06T15:41:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1da520fc-553f-4125-b479-a76a2acc9be0&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-06T15:41:43.414340094+00:00&quot;, &quot;deviceuid&quot;: &quot;83d8072e-631d-4936-b106-727931e429fc&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;1da520fc%2D553f%2D4125%2Db479%2Da76a2acc9be0/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;senderuid&quot;: &quot;83d8072e-631d-4936-b106-727931e429fc&quot;, &quot;id&quot;: &quot;ae30a323-0e30-4d8c-b8f6-323ebacdf1b2&quot;, &quot;application&quot;: &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;, &quot;applicationuid&quot;: &quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b&quot;, &quot;source&quot;: &quot;drogue://1da520fc%2D553f%2D4125%2Db479%2Da76a2acc9be0/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:41:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:41:44Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:41:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:41:44Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:41:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;dc5dab24-1e27-487c-8cd7-14e9c2af6b1a&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0325e0
[2022-05-06T15:41:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0325e0
[2022-05-06T15:41:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42ee9b620, password: 0x55f42f28f690, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0dd8c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecb4720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@1da520fc-553f-4125-b479-a76a2acc9be0&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08019b90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42efd7e80 } }, data: MessageData { topic: &quot;app/1da520fc-553f-4125-b479-a76a2acc9be0&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42efd7e80 } } } }
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009f30, 0x7fea10000d90
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d90, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d90, 0x7fea10000e00
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000e00, 0x7fea08002f00
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000e00, 0x7fea10000ce0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea0802b4c0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea10001e30
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e30, 0x7fea10000ce0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000ce0, 0x7fea10003ce0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003ce0, 0x7fea0802c2a0
[2022-05-06T15:41:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10003ce0
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1da520fc-553f-4125-b479-a76a2acc9be0&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;id&quot;: &quot;3a323e7a-03de-4cc4-8e75-897c37067378&quot;, &quot;application&quot;: &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://1da520fc%2D553f%2D4125%2Db479%2Da76a2acc9be0/device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:41:44.817962731+00:00&quot;, &quot;applicationuid&quot;: &quot;e3db9235-1293-47d2-a8f9-a1a5b878d08b&quot;, &quot;deviceuid&quot;: &quot;83d8072e-631d-4936-b106-727931e429fc&quot;, &quot;partitionkey&quot;: &quot;1da520fc%2D553f%2D4125%2Db479%2Da76a2acc9be0/device1&quot;, &quot;senderuid&quot;: &quot;83d8072e-631d-4936-b106-727931e429fc&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:41:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee48c20 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee48c20 } } } }
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:41:45Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:41:45Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot; &quot;device1&quot;
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1da520fc-553f-4125-b479-a76a2acc9be0&#x27;
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1da520fc-553f-4125-b479-a76a2acc9be0&quot;
[2022-05-06T15:41:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1da520fc-553f-4125-b479-a76a2acc9be0 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 12s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:41:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:41:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:41:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:41:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:41:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MTIsImlhdCI6MTY1MTg1MTcxMiwianRpIjoiYWE5ZWNmOGYtZTRmNC00YmE1LWE3Y2MtOWNkMzVlNGJkMmFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZ0eXNlQUlWaWFXZUdvaFJmMTdRSkEiLCJzZXNzaW9uX3N0YXRlIjoiOGJmNDNkYjQtODE4Mi00NDk0LWI2ZGItZTc4YjcyZGZhYjc3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyJ9.d8Ou3-gvU2GKVOF8NG9t1apDqMSDtH1MHDM0zgHll9M
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MTIsImlhdCI6MTY1MTg1MTcxMiwianRpIjoiYWE5ZWNmOGYtZTRmNC00YmE1LWE3Y2MtOWNkMzVlNGJkMmFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZ0eXNlQUlWaWFXZUdvaFJmMTdRSkEiLCJzZXNzaW9uX3N0YXRlIjoiOGJmNDNkYjQtODE4Mi00NDk0LWI2ZGItZTc4YjcyZGZhYjc3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyJ9.d8Ou3-gvU2GKVOF8NG9t1apDqMSDtH1MHDM0zgHll9M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::resources::apps] Create application: ce66115e-b50a-4c08-9199-10390793cdb4
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ce66115e-b50a-4c08-9199-10390793cdb4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;
[2022-05-06T15:41:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:52.727608Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;ce66115e-b50a-4c08-9199-10390793cdb4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6b30f675-9625-4fff-9d43-8b1abc909e9b\&quot;,\n    \&quot;uid\&quot;: \&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739148074Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739211873Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739028890Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739031084Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739042917Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739044129Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739044789Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.739094242Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:52.727608Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;), &quot;resourceVersion&quot;: String(&quot;6b30f675-9625-4fff-9d43-8b1abc909e9b&quot;), &quot;uid&quot;: String(&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739148074Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739211873Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739028890Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739031084Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739042917Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739044129Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739044789Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.739094242Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:41:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:52.727608Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ce66115e-b50a-4c08-9199-10390793cdb4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e794996b-f9c4-4531-afdc-98ca116cddc8\&quot;,\n    \&quot;uid\&quot;: \&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070213276Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070249634Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.761872703Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.770300918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.826330217Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.833914391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070168502Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070185724Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;K6BIv5USEExG\&quot;,\n        \&quot;username\&quot;: \&quot;user-ce66115e-b50a-4c08-9199-10390793cdb4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:52.727608Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;), &quot;resourceVersion&quot;: String(&quot;e794996b-f9c4-4531-afdc-98ca116cddc8&quot;), &quot;uid&quot;: String(&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070213276Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070249634Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.761872703Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.770300918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.826330217Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.833914391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070168502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070185724Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;K6BIv5USEExG&quot;), &quot;username&quot;: String(&quot;user-ce66115e-b50a-4c08-9199-10390793cdb4&quot;)})})})})
[2022-05-06T15:41:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:41:52.727608Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ce66115e-b50a-4c08-9199-10390793cdb4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e794996b-f9c4-4531-afdc-98ca116cddc8\&quot;,\n    \&quot;uid\&quot;: \&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070213276Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070249634Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.761872703Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.770300918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.826330217Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:52.833914391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070168502Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:41:53.070185724Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;K6BIv5USEExG\&quot;,\n        \&quot;username\&quot;: \&quot;user-ce66115e-b50a-4c08-9199-10390793cdb4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:41:52.727608Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;), &quot;resourceVersion&quot;: String(&quot;e794996b-f9c4-4531-afdc-98ca116cddc8&quot;), &quot;uid&quot;: String(&quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070213276Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070249634Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.761872703Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.770300918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.826330217Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:52.833914391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070168502Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:41:53.070185724Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;K6BIv5USEExG&quot;), &quot;username&quot;: String(&quot;user-ce66115e-b50a-4c08-9199-10390793cdb4&quot;)})})})})
[2022-05-06T15:41:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMTIsImlhdCI6MTY1MTg1MTcxMiwiYXV0aF90aW1lIjoxNjUxODUxNzA5LCJqdGkiOiJhNzhmOGNhYS02YTRhLTQxZDUtYWJiZi04YzY1OWMxMDczNWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2dHlzZUFJVmlhV2VHb2hSZjE3UUpBIiwic2Vzc2lvbl9zdGF0ZSI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlsLt8f0Zk7qGGL38oldCVEIQFtV6-ztC2ATkbp9AYebQyCjy2GWfDU4sR0tm43eXX5qhF4n7bJfOfS65LkTuI6aKeKy9LE38HGnm9XzuFopn1zupQi2SSO9gzF0VtWoceeppyWCorgUq1K40I0EJSTeL6W1OLUBw9O6r7XCscVstCAkrDhnH1-zEWtkAAIeiiMxC6-WfOlpbRGtkBicFNSaUz-R6c0fVOfZ2qXniMw42BLV2ARDvQXjFWipECEtrv2hxbLgiLRTczfEbGubEqHaN7bvufZUDeAcWm441lhdj1bvjuh0cpvqgzukj8uRXwu222sbWqoIs9FcUKHVZA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:41:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMTIsImlhdCI6MTY1MTg1MTcxMiwiYXV0aF90aW1lIjoxNjUxODUxNzA5LCJqdGkiOiJhNzhmOGNhYS02YTRhLTQxZDUtYWJiZi04YzY1OWMxMDczNWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2dHlzZUFJVmlhV2VHb2hSZjE3UUpBIiwic2Vzc2lvbl9zdGF0ZSI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlsLt8f0Zk7qGGL38oldCVEIQFtV6-ztC2ATkbp9AYebQyCjy2GWfDU4sR0tm43eXX5qhF4n7bJfOfS65LkTuI6aKeKy9LE38HGnm9XzuFopn1zupQi2SSO9gzF0VtWoceeppyWCorgUq1K40I0EJSTeL6W1OLUBw9O6r7XCscVstCAkrDhnH1-zEWtkAAIeiiMxC6-WfOlpbRGtkBicFNSaUz-R6c0fVOfZ2qXniMw42BLV2ARDvQXjFWipECEtrv2hxbLgiLRTczfEbGubEqHaN7bvufZUDeAcWm441lhdj1bvjuh0cpvqgzukj8uRXwu222sbWqoIs9FcUKHVZA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;c3587d97-62c0-48bb-ae78-128aaeaa60bf&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee7f690
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee7f690
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed67490, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee7fe50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed67d00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMTIsImlhdCI6MTY1MTg1MTcxMiwiYXV0aF90aW1lIjoxNjUxODUxNzA5LCJqdGkiOiJhNzhmOGNhYS02YTRhLTQxZDUtYWJiZi04YzY1OWMxMDczNWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2dHlzZUFJVmlhV2VHb2hSZjE3UUpBIiwic2Vzc2lvbl9zdGF0ZSI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiZjQzZGI0LTgxODItNDQ5NC1iNmRiLWU3OGI3MmRmYWI3NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlsLt8f0Zk7qGGL38oldCVEIQFtV6-ztC2ATkbp9AYebQyCjy2GWfDU4sR0tm43eXX5qhF4n7bJfOfS65LkTuI6aKeKy9LE38HGnm9XzuFopn1zupQi2SSO9gzF0VtWoceeppyWCorgUq1K40I0EJSTeL6W1OLUBw9O6r7XCscVstCAkrDhnH1-zEWtkAAIeiiMxC6-WfOlpbRGtkBicFNSaUz-R6c0fVOfZ2qXniMw42BLV2ARDvQXjFWipECEtrv2hxbLgiLRTczfEbGubEqHaN7bvufZUDeAcWm441lhdj1bvjuh0cpvqgzukj8uRXwu222sbWqoIs9FcUKHVZA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:53Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/ce66115e-b50a-4c08-9199-10390793cdb4&quot;&#x27; @ QOS 0
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:41:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:41:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:41:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:41:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea08029530, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ed4f7e0 } }, data: MessageData { topic: &quot;app/ce66115e-b50a-4c08-9199-10390793cdb4&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ed4f7e0 } } } }
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f275580, 0x7fea1000a6b0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a6b0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000a6b0, 0x55f42efb96a0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efb96a0, 0x7fea1000a6d0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efb96a0, 0x7fea10001eb0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x7fea10000cb0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea10001eb0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x7fea10000cb0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x55f42ed638f0
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x55f42eef8450
[2022-05-06T15:41:57Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10000cb0
[2022-05-06T15:41:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ce66115e-b50a-4c08-9199-10390793cdb4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67&quot;, &quot;application&quot;: &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;cf02fa9d-6172-46bc-9216-ca84855117d3&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;id&quot;: &quot;8c927f1d-1b86-40c1-b24e-8bb8da277432&quot;, &quot;deviceuid&quot;: &quot;cf02fa9d-6172-46bc-9216-ca84855117d3&quot;, &quot;partitionkey&quot;: &quot;ce66115e%2Db50a%2D4c08%2D9199%2D10390793cdb4/device1&quot;, &quot;source&quot;: &quot;drogue://ce66115e%2Db50a%2D4c08%2D9199%2D10390793cdb4/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:41:57.440644698+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:41:58Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;087fc005-501f-4439-ac65-52a639a1060c&quot;, persistence: None, user_data: None }
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1e6190
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1e6190
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55f42f103270, password: 0x55f42f18bf80, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecd5be0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f102cf0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@ce66115e-b50a-4c08-9199-10390793cdb4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08016830, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42eca80b0 } }, data: MessageData { topic: &quot;app/ce66115e-b50a-4c08-9199-10390793cdb4&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42eca80b0 } } } }
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c001980, 0x7fea10001e20
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e20, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e20, 0x7fea10006080
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006080, 0x7fea08029960
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006080, 0x7fea10000cb0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea08033820
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea10001e00
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e00, 0x7fea10000cb0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cb0, 0x7fea10001e00
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e00, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e00, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e00, 0x7fea080298e0
[2022-05-06T15:41:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001e00
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1a4ea0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1a4ea0 } } } }
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ce66115e-b50a-4c08-9199-10390793cdb4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://ce66115e%2Db50a%2D4c08%2D9199%2D10390793cdb4/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;19b1dd6d-5f99-4cbb-ba8e-caaba652ca67&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;ce66115e%2Db50a%2D4c08%2D9199%2D10390793cdb4/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;, &quot;deviceuid&quot;: &quot;cf02fa9d-6172-46bc-9216-ca84855117d3&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;senderuid&quot;: &quot;cf02fa9d-6172-46bc-9216-ca84855117d3&quot;, &quot;id&quot;: &quot;7b8490b9-9eed-468f-ba88-bdcdd073a703&quot;, &quot;time&quot;: &quot;2022-05-06T15:41:58.602179202+00:00&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:41:58Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:41:58Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot; &quot;device1&quot;
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ce66115e-b50a-4c08-9199-10390793cdb4&#x27;
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ce66115e-b50a-4c08-9199-10390793cdb4&quot;
[2022-05-06T15:41:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ce66115e-b50a-4c08-9199-10390793cdb4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:42:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:42:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:42:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:42:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MjUsImlhdCI6MTY1MTg1MTcyNSwianRpIjoiZTlkMDE1ZjgtODk2Zi00N2U1LWE4NTgtMDBjNzcyNjNkY2RmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndsX3ZpU1A3ZUgtLUE5a1BydVdYeUEiLCJzZXNzaW9uX3N0YXRlIjoiY2YxNzJkODYtNTc2NC00NmI4LWE1N2MtODc0YzNmOTI1OTU2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiJ9.48ppg8_P6Ibh_0ij940cbbR_uHhRG2Fs5qaNl4HYIEE
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MjUsImlhdCI6MTY1MTg1MTcyNSwianRpIjoiZTlkMDE1ZjgtODk2Zi00N2U1LWE4NTgtMDBjNzcyNjNkY2RmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndsX3ZpU1A3ZUgtLUE5a1BydVdYeUEiLCJzZXNzaW9uX3N0YXRlIjoiY2YxNzJkODYtNTc2NC00NmI4LWE1N2MtODc0YzNmOTI1OTU2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiJ9.48ppg8_P6Ibh_0ij940cbbR_uHhRG2Fs5qaNl4HYIEE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::resources::apps] Create application: f115bf19-ea2c-4967-88e5-86ef3234c682
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f115bf19-ea2c-4967-88e5-86ef3234c682 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;
[2022-05-06T15:42:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:05.931561Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;84bc3575-89ab-458a-8595-28cf0ee9d69f\&quot;,\n    \&quot;uid\&quot;: \&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948788831Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948811955Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948754707Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948756410Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948757021Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948757823Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948758804Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.948765006Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:05.931561Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;), &quot;resourceVersion&quot;: String(&quot;84bc3575-89ab-458a-8595-28cf0ee9d69f&quot;), &quot;uid&quot;: String(&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948788831Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948811955Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948754707Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948756410Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948757021Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948757823Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948758804Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.948765006Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:42:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:42:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;
[2022-05-06T15:42:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:05.931561Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;28c7e397-801b-463a-be0c-5b40679801f8\&quot;,\n    \&quot;uid\&quot;: \&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280667698Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280755594Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.976293350Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.981002094Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.035647759Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.047946199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280621582Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280639626Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;aCr825E7OGdV\&quot;,\n        \&quot;username\&quot;: \&quot;user-f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:05.931561Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;), &quot;resourceVersion&quot;: String(&quot;28c7e397-801b-463a-be0c-5b40679801f8&quot;), &quot;uid&quot;: String(&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280667698Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280755594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.976293350Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.981002094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.035647759Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.047946199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280621582Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280639626Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;aCr825E7OGdV&quot;), &quot;username&quot;: String(&quot;user-f115bf19-ea2c-4967-88e5-86ef3234c682&quot;)})})})})
[2022-05-06T15:42:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:42:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:05.931561Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;28c7e397-801b-463a-be0c-5b40679801f8\&quot;,\n    \&quot;uid\&quot;: \&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280667698Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280755594Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.976293350Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:05.981002094Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.035647759Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.047946199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280621582Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:06.280639626Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;aCr825E7OGdV\&quot;,\n        \&quot;username\&quot;: \&quot;user-f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:05.931561Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;), &quot;resourceVersion&quot;: String(&quot;28c7e397-801b-463a-be0c-5b40679801f8&quot;), &quot;uid&quot;: String(&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280667698Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280755594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.976293350Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:05.981002094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.035647759Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.047946199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280621582Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:06.280639626Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;aCr825E7OGdV&quot;), &quot;username&quot;: String(&quot;user-f115bf19-ea2c-4967-88e5-86ef3234c682&quot;)})})})})
[2022-05-06T15:42:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMjUsImlhdCI6MTY1MTg1MTcyNSwiYXV0aF90aW1lIjoxNjUxODUxNzIyLCJqdGkiOiI0MDVjYjU4MS03MWYwLTQ2Y2YtODk0Mi05YWU2Mzk1YjY4YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3bF92aVNQN2VILS1BOWtQcnVXWHlBIiwic2Vzc2lvbl9zdGF0ZSI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W1C8tI7yf0NDKKJV047xKK7o5_YSvPzw2MNsKkGkkn2zv0_3OW1OxnR5jIyLcwfTXpBlmAVfl3qQVLAPsWAeVeXsOFZNPHbJKM0rTroLDFiJwNE86wIyI1NCh5uDuBXbstkQEPgdbOrCtzKO8lHPgZXFLZWkvS_uqA2DMKpp2sfGOE8MPl147OWmKu47DsHCnC5MJHA2XU8Zk9CIK-k0m7pSVMQwJ8d9h3JamVcVBcRLGXGwpWKF0ObMKBHZtxYA_ve-g4qR3Kx3Xznz7fkH01V9hVU2M_T6sYi2S_366aSXZMAfWOY_rhJEbnx0S-VSqRxa2LhfEnioXcMFB1tT3w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMjUsImlhdCI6MTY1MTg1MTcyNSwiYXV0aF90aW1lIjoxNjUxODUxNzIyLCJqdGkiOiI0MDVjYjU4MS03MWYwLTQ2Y2YtODk0Mi05YWU2Mzk1YjY4YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3bF92aVNQN2VILS1BOWtQcnVXWHlBIiwic2Vzc2lvbl9zdGF0ZSI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W1C8tI7yf0NDKKJV047xKK7o5_YSvPzw2MNsKkGkkn2zv0_3OW1OxnR5jIyLcwfTXpBlmAVfl3qQVLAPsWAeVeXsOFZNPHbJKM0rTroLDFiJwNE86wIyI1NCh5uDuBXbstkQEPgdbOrCtzKO8lHPgZXFLZWkvS_uqA2DMKpp2sfGOE8MPl147OWmKu47DsHCnC5MJHA2XU8Zk9CIK-k0m7pSVMQwJ8d9h3JamVcVBcRLGXGwpWKF0ObMKBHZtxYA_ve-g4qR3Kx3Xznz7fkH01V9hVU2M_T6sYi2S_366aSXZMAfWOY_rhJEbnx0S-VSqRxa2LhfEnioXcMFB1tT3w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3053f8ef-b418-4be7-ad71-44adfd865d3c&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecf37b0
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecf37b0
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eca6a00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecf25b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee11890, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMjUsImlhdCI6MTY1MTg1MTcyNSwiYXV0aF90aW1lIjoxNjUxODUxNzIyLCJqdGkiOiI0MDVjYjU4MS03MWYwLTQ2Y2YtODk0Mi05YWU2Mzk1YjY4YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3bF92aVNQN2VILS1BOWtQcnVXWHlBIiwic2Vzc2lvbl9zdGF0ZSI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmMTcyZDg2LTU3NjQtNDZiOC1hNTdjLTg3NGMzZjkyNTk1NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.W1C8tI7yf0NDKKJV047xKK7o5_YSvPzw2MNsKkGkkn2zv0_3OW1OxnR5jIyLcwfTXpBlmAVfl3qQVLAPsWAeVeXsOFZNPHbJKM0rTroLDFiJwNE86wIyI1NCh5uDuBXbstkQEPgdbOrCtzKO8lHPgZXFLZWkvS_uqA2DMKpp2sfGOE8MPl147OWmKu47DsHCnC5MJHA2XU8Zk9CIK-k0m7pSVMQwJ8d9h3JamVcVBcRLGXGwpWKF0ObMKBHZtxYA_ve-g4qR3Kx3Xznz7fkH01V9hVU2M_T6sYi2S_366aSXZMAfWOY_rhJEbnx0S-VSqRxa2LhfEnioXcMFB1tT3w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:07Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/f115bf19-ea2c-4967-88e5-86ef3234c682&quot;&#x27; @ QOS 0
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea080066f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 101, 97, 99, 53, 52, 54, 99, 45, 102, 57, 98, 98, 45, 52, 55, 55, 51, 45, 97, 55, 57, 101, 45, 49, 55, 52, 97, 100, 101, 98, 53, 48, 50, 102, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 49, 49, 53, 98, 102, 49, 57, 37, 50, 68, 101, 97, 50, 99, 37, 50, 68, 52, 57, 54, 55, 37, 50, 68, 56, 56, 101, 53, 37, 50, 68, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 49, 48, 46, 52, 52, 52, 56, 56, 51, 51, 52, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 49, 49, 53, 98, 102, 49, 57, 37, 50, 68, 101, 97, 50, 99, 37, 50, 68, 52, 57, 54, 55, 37, 50, 68, 56, 56, 101, 53, 37, 50, 68, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 49, 49, 53, 98, 102, 49, 57, 45, 101, 97, 50, 99, 45, 52, 57, 54, 55, 45, 56, 56, 101, 53, 45, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 50, 97, 49, 57, 57, 49, 57, 45, 101, 54, 50, 55, 45, 52, 97, 97, 55, 45, 56, 50, 49, 98, 45, 55, 48, 55, 49, 101, 99, 100, 56, 98, 51, 98, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 56, 99, 50, 99, 53, 97, 97, 45, 57, 101, 54, 98, 45, 52, 50, 51, 54, 45, 57, 101, 57, 100, 45, 57, 101, 102, 52, 48, 53, 55, 48, 53, 56, 56, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 50, 97, 49, 57, 57, 49, 57, 45, 101, 54, 50, 55, 45, 52, 97, 97, 55, 45, 56, 50, 49, 98, 45, 55, 48, 55, 49, 101, 99, 100, 56, 98, 51, 98, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:42:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;aeac546c-f9bb-4773-a79e-174adeb502ff\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f115bf19%2Dea2c%2D4967%2D88e5%2D86ef3234c682/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:10.444883348Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;f115bf19%2Dea2c%2D4967%2D88e5%2D86ef3234c682/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;,\&quot;deviceuid\&quot;:\&quot;42a19919-e627-4aa7-821b-7071ecd8b3b3\&quot;,\&quot;applicationuid\&quot;:\&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;42a19919-e627-4aa7-821b-7071ecd8b3b3\&quot;}&quot; }
[2022-05-06T15:42:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:42:11Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:42:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:42:11Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:42:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ce294268-9f79-4c72-948c-0d9455463c05&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed523d0
[2022-05-06T15:42:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed523d0
[2022-05-06T15:42:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ee73b40, password: 0x55f42f0fb600, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eca7db0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed00fe0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@f115bf19-ea2c-4967-88e5-86ef3234c682&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08030370, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 53, 55, 57, 102, 54, 102, 97, 45, 100, 53, 54, 102, 45, 52, 98, 101, 49, 45, 57, 52, 97, 52, 45, 49, 102, 54, 53, 53, 51, 57, 56, 48, 56, 56, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 49, 49, 53, 98, 102, 49, 57, 37, 50, 68, 101, 97, 50, 99, 37, 50, 68, 52, 57, 54, 55, 37, 50, 68, 56, 56, 101, 53, 37, 50, 68, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 49, 49, 46, 56, 51, 50, 53, 53, 52, 51, 55, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 50, 97, 49, 57, 57, 49, 57, 45, 101, 54, 50, 55, 45, 52, 97, 97, 55, 45, 56, 50, 49, 98, 45, 55, 48, 55, 49, 101, 99, 100, 56, 98, 51, 98, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 56, 99, 50, 99, 53, 97, 97, 45, 57, 101, 54, 98, 45, 52, 50, 51, 54, 45, 57, 101, 57, 100, 45, 57, 101, 102, 52, 48, 53, 55, 48, 53, 56, 56, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 49, 49, 53, 98, 102, 49, 57, 37, 50, 68, 101, 97, 50, 99, 37, 50, 68, 52, 57, 54, 55, 37, 50, 68, 56, 56, 101, 53, 37, 50, 68, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 49, 49, 53, 98, 102, 49, 57, 45, 101, 97, 50, 99, 45, 52, 57, 54, 55, 45, 56, 56, 101, 53, 45, 56, 54, 101, 102, 51, 50, 51, 52, 99, 54, 56, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 50, 97, 49, 57, 57, 49, 57, 45, 101, 54, 50, 55, 45, 52, 97, 97, 55, 45, 56, 50, 49, 98, 45, 55, 48, 55, 49, 101, 99, 100, 56, 98, 51, 98, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:42:12Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0dcb50 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0dcb50 } } } }
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a579f6fa-d56f-4be1-94a4-1f655398088f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f115bf19%2Dea2c%2D4967%2D88e5%2D86ef3234c682/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:11.832554371Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;42a19919-e627-4aa7-821b-7071ecd8b3b3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;78c2c5aa-9e6b-4236-9e9d-9ef40570588d\&quot;,\&quot;partitionkey\&quot;:\&quot;f115bf19%2Dea2c%2D4967%2D88e5%2D86ef3234c682/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;f115bf19-ea2c-4967-88e5-86ef3234c682\&quot;,\&quot;senderuid\&quot;:\&quot;42a19919-e627-4aa7-821b-7071ecd8b3b3\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:42:12Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:42:12Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot; &quot;device1&quot;
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f115bf19-ea2c-4967-88e5-86ef3234c682&#x27;
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f115bf19-ea2c-4967-88e5-86ef3234c682&quot;
[2022-05-06T15:42:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f115bf19-ea2c-4967-88e5-86ef3234c682 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:42:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:42:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:42:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:42:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MzksImlhdCI6MTY1MTg1MTczOSwianRpIjoiOWI3ZTBhN2QtNDU1MC00YWI5LWI0ZWMtMWM5NGM0Nzg5YWY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkQ1OE9TX3lILUhYRkFoaE43WnVld2ciLCJzZXNzaW9uX3N0YXRlIjoiMWY2YzRlZmYtNWYxZS00ZmIyLTgzYjEtMTMwOTdkNmIzMGNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCJ9.SzXcCf1cEumOZBxXde6xXhnIFk7ra-4wcGcTDM0QmZ0
[2022-05-06T15:42:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:42:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1MzksImlhdCI6MTY1MTg1MTczOSwianRpIjoiOWI3ZTBhN2QtNDU1MC00YWI5LWI0ZWMtMWM5NGM0Nzg5YWY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkQ1OE9TX3lILUhYRkFoaE43WnVld2ciLCJzZXNzaW9uX3N0YXRlIjoiMWY2YzRlZmYtNWYxZS00ZmIyLTgzYjEtMTMwOTdkNmIzMGNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCJ9.SzXcCf1cEumOZBxXde6xXhnIFk7ra-4wcGcTDM0QmZ0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:42:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:20Z INFO  drogue_cloud_tests::resources::apps] Create application: 477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b
[2022-05-06T15:42:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;
[2022-05-06T15:42:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;
[2022-05-06T15:42:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:20.127738Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0f0c568b-2184-418a-a918-1c3d93f75a14\&quot;,\n    \&quot;uid\&quot;: \&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140475540Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140572894Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140393457Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140395460Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140396282Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140397454Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140399218Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.140442529Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:20.127738Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;), &quot;resourceVersion&quot;: String(&quot;0f0c568b-2184-418a-a918-1c3d93f75a14&quot;), &quot;uid&quot;: String(&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140475540Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140572894Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140393457Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140395460Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140396282Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140397454Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140399218Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.140442529Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:42:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:20.127738Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;46420d7b-f316-4634-a9db-2993f1debce6\&quot;,\n    \&quot;uid\&quot;: \&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513959523Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.514100468Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.165731144Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.172359787Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.309696399Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.319753208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513845539Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513905842Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;inV9fTzYNpB2\&quot;,\n        \&quot;username\&quot;: \&quot;user-477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:20.127738Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;), &quot;resourceVersion&quot;: String(&quot;46420d7b-f316-4634-a9db-2993f1debce6&quot;), &quot;uid&quot;: String(&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513959523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.514100468Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.165731144Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.172359787Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.309696399Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.319753208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513845539Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513905842Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;inV9fTzYNpB2&quot;), &quot;username&quot;: String(&quot;user-477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;)})})})})
[2022-05-06T15:42:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:20.127738Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;46420d7b-f316-4634-a9db-2993f1debce6\&quot;,\n    \&quot;uid\&quot;: \&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513959523Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.514100468Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.165731144Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.172359787Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.309696399Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.319753208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513845539Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:20.513905842Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;inV9fTzYNpB2\&quot;,\n        \&quot;username\&quot;: \&quot;user-477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:20.127738Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;), &quot;resourceVersion&quot;: String(&quot;46420d7b-f316-4634-a9db-2993f1debce6&quot;), &quot;uid&quot;: String(&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513959523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.514100468Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.165731144Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.172359787Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.309696399Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.319753208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513845539Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:20.513905842Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;inV9fTzYNpB2&quot;), &quot;username&quot;: String(&quot;user-477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;)})})})})
[2022-05-06T15:42:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMzksImlhdCI6MTY1MTg1MTczOSwiYXV0aF90aW1lIjoxNjUxODUxNzM2LCJqdGkiOiJhM2YzZmNkYy0yMTgyLTQ2ZjAtOGQxNi1kYWE1NmQzYzBiZjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJENThPU195SC1IWEZBaGhON1p1ZXdnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NvmbQdtidEMdeI5OT83y-l0hF6iDDQNmxeaxuc6IbLXUKWwk7M3DUwtNfCUhow_pNdCF6VO6si9iHHcagzLlXrBOxnjPjktRw1xIBUIK5shGz5YnHSRUkllxo8MjJ4UAVDh2Dc8AR1QyylsLFj2wmZ54C6Ny0qTW6iWY5T2ADpBxs1Xx-2Ovvmi1zFSlsVc_dBDB8EVyAwFP8CqzS1yPs9vSyofJj0rblcpQ7cDPuaUSGyFj8ZLHs7X7Xa9BUVLqBrFx17UKFh6zKoyBW7xhbNp-s9m9TOuMrCmxCkgRQ33n23Z0ViZqEN-tZnzCVOURX4zGRzuTYEYCLNpFcSN1_w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMzksImlhdCI6MTY1MTg1MTczOSwiYXV0aF90aW1lIjoxNjUxODUxNzM2LCJqdGkiOiJhM2YzZmNkYy0yMTgyLTQ2ZjAtOGQxNi1kYWE1NmQzYzBiZjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJENThPU195SC1IWEZBaGhON1p1ZXdnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NvmbQdtidEMdeI5OT83y-l0hF6iDDQNmxeaxuc6IbLXUKWwk7M3DUwtNfCUhow_pNdCF6VO6si9iHHcagzLlXrBOxnjPjktRw1xIBUIK5shGz5YnHSRUkllxo8MjJ4UAVDh2Dc8AR1QyylsLFj2wmZ54C6Ny0qTW6iWY5T2ADpBxs1Xx-2Ovvmi1zFSlsVc_dBDB8EVyAwFP8CqzS1yPs9vSyofJj0rblcpQ7cDPuaUSGyFj8ZLHs7X7Xa9BUVLqBrFx17UKFh6zKoyBW7xhbNp-s9m9TOuMrCmxCkgRQ33n23Z0ViZqEN-tZnzCVOURX4zGRzuTYEYCLNpFcSN1_w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;b6a5beee-00c8-4b99-b53a-85d5ffa0dbb6&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed11220
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed11220
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed25fb0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed10a30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed10230, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwMzksImlhdCI6MTY1MTg1MTczOSwiYXV0aF90aW1lIjoxNjUxODUxNzM2LCJqdGkiOiJhM2YzZmNkYy0yMTgyLTQ2ZjAtOGQxNi1kYWE1NmQzYzBiZjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJENThPU195SC1IWEZBaGhON1p1ZXdnIiwic2Vzc2lvbl9zdGF0ZSI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNmM0ZWZmLTVmMWUtNGZiMi04M2IxLTEzMDk3ZDZiMzBjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NvmbQdtidEMdeI5OT83y-l0hF6iDDQNmxeaxuc6IbLXUKWwk7M3DUwtNfCUhow_pNdCF6VO6si9iHHcagzLlXrBOxnjPjktRw1xIBUIK5shGz5YnHSRUkllxo8MjJ4UAVDh2Dc8AR1QyylsLFj2wmZ54C6Ny0qTW6iWY5T2ADpBxs1Xx-2Ovvmi1zFSlsVc_dBDB8EVyAwFP8CqzS1yPs9vSyofJj0rblcpQ7cDPuaUSGyFj8ZLHs7X7Xa9BUVLqBrFx17UKFh6zKoyBW7xhbNp-s9m9TOuMrCmxCkgRQ33n23Z0ViZqEN-tZnzCVOURX4zGRzuTYEYCLNpFcSN1_w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:21Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;&#x27; @ QOS 0
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0800b110, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 97, 98, 50, 49, 51, 52, 50, 45, 99, 50, 97, 102, 45, 52, 99, 102, 101, 45, 97, 50, 51, 56, 45, 56, 54, 48, 55, 53, 54, 99, 53, 97, 98, 98, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 55, 55, 100, 54, 98, 99, 56, 37, 50, 68, 54, 99, 100, 56, 37, 50, 68, 52, 102, 52, 97, 37, 50, 68, 97, 54, 102, 48, 37, 50, 68, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 50, 53, 46, 52, 54, 56, 54, 51, 52, 54, 57, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 100, 97, 102, 55, 48, 102, 98, 45, 54, 97, 102, 102, 45, 52, 57, 102, 48, 45, 97, 53, 54, 99, 45, 55, 50, 49, 52, 57, 54, 99, 49, 53, 97, 97, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 102, 51, 50, 57, 55, 56, 98, 45, 50, 50, 56, 56, 45, 52, 101, 49, 101, 45, 56, 97, 101, 54, 45, 56, 99, 53, 101, 54, 98, 97, 53, 98, 48, 55, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 55, 55, 100, 54, 98, 99, 56, 45, 54, 99, 100, 56, 45, 52, 102, 52, 97, 45, 97, 54, 102, 48, 45, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 100, 97, 102, 55, 48, 102, 98, 45, 54, 97, 102, 102, 45, 52, 57, 102, 48, 45, 97, 53, 54, 99, 45, 55, 50, 49, 52, 57, 54, 99, 49, 53, 97, 97, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 55, 55, 100, 54, 98, 99, 56, 37, 50, 68, 54, 99, 100, 56, 37, 50, 68, 52, 102, 52, 97, 37, 50, 68, 97, 54, 102, 48, 37, 50, 68, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:42:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8ab21342-c2af-4cfe-a238-860756c5abb9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://477d6bc8%2D6cd8%2D4f4a%2Da6f0%2D5b4c8800f60b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:25.468634699Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;senderuid\&quot;:\&quot;4daf70fb-6aff-49f0-a56c-721496c15aac\&quot;,\&quot;applicationuid\&quot;:\&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;4daf70fb-6aff-49f0-a56c-721496c15aac\&quot;,\&quot;partitionkey\&quot;:\&quot;477d6bc8%2D6cd8%2D4f4a%2Da6f0%2D5b4c8800f60b/device1\&quot;}&quot; }
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:42:26Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;b25d7a75-dfa2-40b6-8420-fcbea1e664f4&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1e68c0
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1e68c0
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f289d80, password: 0x55f42f1e4a80, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec73980, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f074dd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eeb19f0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eeb19f0 } } } }
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08007270, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 52, 57, 101, 52, 54, 97, 49, 45, 98, 51, 53, 56, 45, 52, 52, 54, 53, 45, 98, 51, 54, 53, 45, 54, 54, 57, 101, 57, 54, 49, 102, 98, 54, 53, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 55, 55, 100, 54, 98, 99, 56, 37, 50, 68, 54, 99, 100, 56, 37, 50, 68, 52, 102, 52, 97, 37, 50, 68, 97, 54, 102, 48, 37, 50, 68, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 50, 54, 46, 53, 56, 56, 49, 50, 54, 54, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 102, 51, 50, 57, 55, 56, 98, 45, 50, 50, 56, 56, 45, 52, 101, 49, 101, 45, 56, 97, 101, 54, 45, 56, 99, 53, 101, 54, 98, 97, 53, 98, 48, 55, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 100, 97, 102, 55, 48, 102, 98, 45, 54, 97, 102, 102, 45, 52, 57, 102, 48, 45, 97, 53, 54, 99, 45, 55, 50, 49, 52, 57, 54, 99, 49, 53, 97, 97, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 55, 55, 100, 54, 98, 99, 56, 37, 50, 68, 54, 99, 100, 56, 37, 50, 68, 52, 102, 52, 97, 37, 50, 68, 97, 54, 102, 48, 37, 50, 68, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 100, 97, 102, 55, 48, 102, 98, 45, 54, 97, 102, 102, 45, 52, 57, 102, 48, 45, 97, 53, 54, 99, 45, 55, 50, 49, 52, 57, 54, 99, 49, 53, 97, 97, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 55, 55, 100, 54, 98, 99, 56, 45, 54, 99, 100, 56, 45, 52, 102, 52, 97, 45, 97, 54, 102, 48, 45, 53, 98, 52, 99, 56, 56, 48, 48, 102, 54, 48, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;049e46a1-b358-4465-b365-669e961fb658\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://477d6bc8%2D6cd8%2D4f4a%2Da6f0%2D5b4c8800f60b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:26.588126697Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;0f32978b-2288-4e1e-8ae6-8c5e6ba5b078\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;4daf70fb-6aff-49f0-a56c-721496c15aac\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;477d6bc8%2D6cd8%2D4f4a%2Da6f0%2D5b4c8800f60b/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;4daf70fb-6aff-49f0-a56c-721496c15aac\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b\&quot;}&quot; }
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:42:26Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:42:26Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot; &quot;device1&quot;
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&#x27;
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b&quot;
[2022-05-06T15:42:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 477d6bc8-6cd8-4f4a-a6f0-5b4c8800f60b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:42:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:42:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:42:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:42:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1NTMsImlhdCI6MTY1MTg1MTc1MywianRpIjoiYzY1ZWM2N2MtNTg4Yi00NGMyLWJlMWMtZDU0N2RiNmM5YTNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilc2bld1anhhSUh3MFFuRldpb0tPVGciLCJzZXNzaW9uX3N0YXRlIjoiMDU4OGIyMzgtNTc1MS00MDEwLTkwZWUtMDA3MTc1MDUxMTFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSJ9.NsF7VCHttOUNAVQMtF7H_PHC9fWVSTN2J9AbVgbcyYQ
[2022-05-06T15:42:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:42:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1NTMsImlhdCI6MTY1MTg1MTc1MywianRpIjoiYzY1ZWM2N2MtNTg4Yi00NGMyLWJlMWMtZDU0N2RiNmM5YTNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilc2bld1anhhSUh3MFFuRldpb0tPVGciLCJzZXNzaW9uX3N0YXRlIjoiMDU4OGIyMzgtNTc1MS00MDEwLTkwZWUtMDA3MTc1MDUxMTFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSJ9.NsF7VCHttOUNAVQMtF7H_PHC9fWVSTN2J9AbVgbcyYQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:42:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 370f86ee-8f9b-41ca-be78-ac09e18d9e79
[2022-05-06T15:42:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;
[2022-05-06T15:42:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 370f86ee-8f9b-41ca-be78-ac09e18d9e79 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;
[2022-05-06T15:42:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:34.219064Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9ed6d4e5-5540-4ac4-b9f9-64c76ec65727\&quot;,\n    \&quot;uid\&quot;: \&quot;e253693e-b040-429f-b279-118833ec6423\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:34.219064Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;), &quot;resourceVersion&quot;: String(&quot;9ed6d4e5-5540-4ac4-b9f9-64c76ec65727&quot;), &quot;uid&quot;: String(&quot;e253693e-b040-429f-b279-118833ec6423&quot;)})})
[2022-05-06T15:42:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:34.219064Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;09b94be0-6e05-478b-a36b-a52e83e99725\&quot;,\n    \&quot;uid\&quot;: \&quot;e253693e-b040-429f-b279-118833ec6423\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.592133841Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.592011060Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.275240119Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.282422359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.371758791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.379540926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.590614424Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.590634822Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Q6MysEyZDGqO\&quot;,\n        \&quot;username\&quot;: \&quot;user-370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:34.219064Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;), &quot;resourceVersion&quot;: String(&quot;09b94be0-6e05-478b-a36b-a52e83e99725&quot;), &quot;uid&quot;: String(&quot;e253693e-b040-429f-b279-118833ec6423&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.592133841Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.592011060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.275240119Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.282422359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.371758791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.379540926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.590614424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.590634822Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Q6MysEyZDGqO&quot;), &quot;username&quot;: String(&quot;user-370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;)})})})})
[2022-05-06T15:42:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:34.219064Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;09b94be0-6e05-478b-a36b-a52e83e99725\&quot;,\n    \&quot;uid\&quot;: \&quot;e253693e-b040-429f-b279-118833ec6423\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.592133841Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.592011060Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.275240119Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.282422359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.371758791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.379540926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.590614424Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:34.590634822Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Q6MysEyZDGqO\&quot;,\n        \&quot;username\&quot;: \&quot;user-370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:34.219064Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;), &quot;resourceVersion&quot;: String(&quot;09b94be0-6e05-478b-a36b-a52e83e99725&quot;), &quot;uid&quot;: String(&quot;e253693e-b040-429f-b279-118833ec6423&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.592133841Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.592011060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.275240119Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.282422359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.371758791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.379540926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.590614424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:34.590634822Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Q6MysEyZDGqO&quot;), &quot;username&quot;: String(&quot;user-370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;)})})})})
[2022-05-06T15:42:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNTMsImlhdCI6MTY1MTg1MTc1MywiYXV0aF90aW1lIjoxNjUxODUxNzUwLCJqdGkiOiI0MDYwMTE3My0yMmU5LTQwZmYtYjMwYi1iMmUyOGUxZjM0ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXNm5XdWp4YUlIdzBRbkZXaW9LT1RnIiwic2Vzc2lvbl9zdGF0ZSI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM91wVcxs1vdgq774invp1JSpSFqFO9Akgcki6LXqi9dP8TyearOAVhIQXljUFZnRNHdbsXgygUb1948BChSrk2Maws2EmHGqsFpUXF_EX32OK4jkYrUXKiMIu6tYF1UfnA_AiwyOdzmFWIv9nn5ehm4ckwX20ypsu2Ut93RFh80HH5nQDBOi1j7_vpIXcDGtf0eq6lB9h6lR3ch-WxlSo4T_NYwLT3jPFi0K7kdwumMtPiEHJ8HMJHdGLZ0KW84jvQATk9PYi1H-L2CDVdrC_iBMi5T0IC7KM-mVSZJz4shB38mPohc43q7RqhqIktN5-E1753nX5CHu0fxzp2A0A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNTMsImlhdCI6MTY1MTg1MTc1MywiYXV0aF90aW1lIjoxNjUxODUxNzUwLCJqdGkiOiI0MDYwMTE3My0yMmU5LTQwZmYtYjMwYi1iMmUyOGUxZjM0ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXNm5XdWp4YUlIdzBRbkZXaW9LT1RnIiwic2Vzc2lvbl9zdGF0ZSI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM91wVcxs1vdgq774invp1JSpSFqFO9Akgcki6LXqi9dP8TyearOAVhIQXljUFZnRNHdbsXgygUb1948BChSrk2Maws2EmHGqsFpUXF_EX32OK4jkYrUXKiMIu6tYF1UfnA_AiwyOdzmFWIv9nn5ehm4ckwX20ypsu2Ut93RFh80HH5nQDBOi1j7_vpIXcDGtf0eq6lB9h6lR3ch-WxlSo4T_NYwLT3jPFi0K7kdwumMtPiEHJ8HMJHdGLZ0KW84jvQATk9PYi1H-L2CDVdrC_iBMi5T0IC7KM-mVSZJz4shB38mPohc43q7RqhqIktN5-E1753nX5CHu0fxzp2A0A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;2c100e9f-d5f2-4f1e-ab3d-d5fc312e855a&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ede08e0
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ede08e0
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eddf7c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee4f3d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f051be0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNTMsImlhdCI6MTY1MTg1MTc1MywiYXV0aF90aW1lIjoxNjUxODUxNzUwLCJqdGkiOiI0MDYwMTE3My0yMmU5LTQwZmYtYjMwYi1iMmUyOGUxZjM0ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJXNm5XdWp4YUlIdzBRbkZXaW9LT1RnIiwic2Vzc2lvbl9zdGF0ZSI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1ODhiMjM4LTU3NTEtNDAxMC05MGVlLTAwNzE3NTA1MTExZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM91wVcxs1vdgq774invp1JSpSFqFO9Akgcki6LXqi9dP8TyearOAVhIQXljUFZnRNHdbsXgygUb1948BChSrk2Maws2EmHGqsFpUXF_EX32OK4jkYrUXKiMIu6tYF1UfnA_AiwyOdzmFWIv9nn5ehm4ckwX20ypsu2Ut93RFh80HH5nQDBOi1j7_vpIXcDGtf0eq6lB9h6lR3ch-WxlSo4T_NYwLT3jPFi0K7kdwumMtPiEHJ8HMJHdGLZ0KW84jvQATk9PYi1H-L2CDVdrC_iBMi5T0IC7KM-mVSZJz4shB38mPohc43q7RqhqIktN5-E1753nX5CHu0fxzp2A0A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:35Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;&#x27; @ QOS 0
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:38Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:38Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f0016520, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00167a0 } }, data: MessageData { topic: &quot;app/370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 100, 51, 55, 53, 101, 100, 102, 45, 99, 102, 52, 98, 45, 52, 56, 50, 55, 45, 98, 48, 97, 53, 45, 97, 53, 98, 51, 49, 100, 98, 54, 100, 56, 48, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 48, 102, 56, 54, 101, 101, 37, 50, 68, 56, 102, 57, 98, 37, 50, 68, 52, 49, 99, 97, 37, 50, 68, 98, 101, 55, 56, 37, 50, 68, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 51, 57, 46, 52, 54, 55, 55, 48, 56, 50, 48, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 57, 97, 55, 50, 102, 56, 45, 102, 51, 97, 49, 45, 52, 98, 56, 54, 45, 57, 99, 56, 57, 45, 56, 98, 97, 49, 57, 97, 102, 56, 101, 52, 51, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 48, 102, 56, 54, 101, 101, 45, 56, 102, 57, 98, 45, 52, 49, 99, 97, 45, 98, 101, 55, 56, 45, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 57, 97, 55, 50, 102, 56, 45, 102, 51, 97, 49, 45, 52, 98, 56, 54, 45, 57, 99, 56, 57, 45, 56, 98, 97, 49, 57, 97, 102, 56, 101, 52, 51, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 50, 53, 51, 54, 57, 51, 101, 45, 98, 48, 52, 48, 45, 52, 50, 57, 102, 45, 98, 50, 55, 57, 45, 49, 49, 56, 56, 51, 51, 101, 99, 54, 52, 50, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 48, 102, 56, 54, 101, 101, 37, 50, 68, 56, 102, 57, 98, 37, 50, 68, 52, 49, 99, 97, 37, 50, 68, 98, 101, 55, 56, 37, 50, 68, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f00167a0 } } } }
[2022-05-06T15:42:39Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eddcd50
[2022-05-06T15:42:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ed375edf-cf4b-4827-b0a5-a5b31db6d803\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://370f86ee%2D8f9b%2D41ca%2Dbe78%2Dac09e18d9e79/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:39.467708209Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;599a72f8-f3a1-4b86-9c89-8ba19af8e430\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;599a72f8-f3a1-4b86-9c89-8ba19af8e430\&quot;,\&quot;applicationuid\&quot;:\&quot;e253693e-b040-429f-b279-118833ec6423\&quot;,\&quot;partitionkey\&quot;:\&quot;370f86ee%2D8f9b%2D41ca%2Dbe78%2Dac09e18d9e79/device1\&quot;}&quot; }
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:42:40Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;d7b2c63c-381c-4aec-91cc-f051911b96f7&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecf2560
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecf2560
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ecac4e0, password: 0x55f42ecfd940, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee448f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1b2050, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0d5e70 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f0d5e70 } } } }
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f000b900, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f000bb90 } }, data: MessageData { topic: &quot;app/370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 49, 100, 51, 53, 53, 102, 99, 45, 51, 99, 57, 99, 45, 52, 49, 50, 98, 45, 56, 49, 50, 97, 45, 102, 101, 97, 102, 56, 53, 100, 102, 56, 101, 54, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 48, 102, 56, 54, 101, 101, 37, 50, 68, 56, 102, 57, 98, 37, 50, 68, 52, 49, 99, 97, 37, 50, 68, 98, 101, 55, 56, 37, 50, 68, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 52, 48, 46, 53, 56, 54, 51, 55, 56, 51, 51, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 48, 102, 56, 54, 101, 101, 37, 50, 68, 56, 102, 57, 98, 37, 50, 68, 52, 49, 99, 97, 37, 50, 68, 98, 101, 55, 56, 37, 50, 68, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 48, 102, 56, 54, 101, 101, 45, 56, 102, 57, 98, 45, 52, 49, 99, 97, 45, 98, 101, 55, 56, 45, 97, 99, 48, 57, 101, 49, 56, 100, 57, 101, 55, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 57, 97, 55, 50, 102, 56, 45, 102, 51, 97, 49, 45, 52, 98, 56, 54, 45, 57, 99, 56, 57, 45, 56, 98, 97, 49, 57, 97, 102, 56, 101, 52, 51, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 57, 97, 55, 50, 102, 56, 45, 102, 51, 97, 49, 45, 52, 98, 56, 54, 45, 57, 99, 56, 57, 45, 56, 98, 97, 49, 57, 97, 102, 56, 101, 52, 51, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 50, 53, 51, 54, 57, 51, 101, 45, 98, 48, 52, 48, 45, 52, 50, 57, 102, 45, 98, 50, 55, 57, 45, 49, 49, 56, 56, 51, 51, 101, 99, 54, 52, 50, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f000bb90 } } } }
[2022-05-06T15:42:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42eddcd50
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;81d355fc-3c9c-412b-812a-feaf85df8e64\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://370f86ee%2D8f9b%2D41ca%2Dbe78%2Dac09e18d9e79/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:40.586378337Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;370f86ee%2D8f9b%2D41ca%2Dbe78%2Dac09e18d9e79/device1\&quot;,\&quot;application\&quot;:\&quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;599a72f8-f3a1-4b86-9c89-8ba19af8e430\&quot;,\&quot;senderuid\&quot;:\&quot;599a72f8-f3a1-4b86-9c89-8ba19af8e430\&quot;,\&quot;applicationuid\&quot;:\&quot;e253693e-b040-429f-b279-118833ec6423\&quot;}&quot; }
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:42:40Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:42:40Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot; &quot;device1&quot;
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;370f86ee-8f9b-41ca-be78-ac09e18d9e79&#x27;
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;370f86ee-8f9b-41ca-be78-ac09e18d9e79&quot;
[2022-05-06T15:42:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 370f86ee-8f9b-41ca-be78-ac09e18d9e79 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:42:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:42:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:42:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:42:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1NjcsImlhdCI6MTY1MTg1MTc2NywianRpIjoiNWUyN2QwMmEtYmE3Yy00NjhlLTlmZTAtM2RjNjc3NTg5NjhjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlotQm90ZVB2RGxnNDM2Z0FSWTVCaVEiLCJzZXNzaW9uX3N0YXRlIjoiN2MwNDFjMTAtNjFiZS00OThkLWI5MmItYzczMDhjODBlMzhiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiJ9.DpSwJCIb_XpwsiZMQLKQ-Vv7Z0FN3YIK9Suw8xyQ6hY
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1NjcsImlhdCI6MTY1MTg1MTc2NywianRpIjoiNWUyN2QwMmEtYmE3Yy00NjhlLTlmZTAtM2RjNjc3NTg5NjhjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlotQm90ZVB2RGxnNDM2Z0FSWTVCaVEiLCJzZXNzaW9uX3N0YXRlIjoiN2MwNDFjMTAtNjFiZS00OThkLWI5MmItYzczMDhjODBlMzhiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiJ9.DpSwJCIb_XpwsiZMQLKQ-Vv7Z0FN3YIK9Suw8xyQ6hY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::resources::apps] Create application: 534d913c-fafb-46ad-bbd5-c26977f43b42
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 534d913c-fafb-46ad-bbd5-c26977f43b42 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;
[2022-05-06T15:42:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:47.904441Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5eff9cd8-7daf-4172-890e-d32eecdd6553\&quot;,\n    \&quot;uid\&quot;: \&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:47.917057709Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:47.904441Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;), &quot;resourceVersion&quot;: String(&quot;5eff9cd8-7daf-4172-890e-d32eecdd6553&quot;), &quot;uid&quot;: String(&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:47.917057709Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:42:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:47.904441Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5d5e2952-36dc-441b-9f72-b0d061f5f3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.400132153Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.400000196Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:47.953694202Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:47.959517766Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.037294584Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.043943595Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.399879029Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.399898165Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Gtrd3Lm6MNiw\&quot;,\n        \&quot;username\&quot;: \&quot;user-534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:47.904441Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;), &quot;resourceVersion&quot;: String(&quot;5d5e2952-36dc-441b-9f72-b0d061f5f3e2&quot;), &quot;uid&quot;: String(&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.400132153Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.400000196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:47.953694202Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:47.959517766Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.037294584Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.043943595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.399879029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.399898165Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Gtrd3Lm6MNiw&quot;), &quot;username&quot;: String(&quot;user-534d913c-fafb-46ad-bbd5-c26977f43b42&quot;)})})})})
[2022-05-06T15:42:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:42:47.904441Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5d5e2952-36dc-441b-9f72-b0d061f5f3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.400132153Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.400000196Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:47.953694202Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:47.959517766Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.037294584Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.043943595Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.399879029Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:42:48.399898165Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Gtrd3Lm6MNiw\&quot;,\n        \&quot;username\&quot;: \&quot;user-534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:42:47.904441Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;), &quot;resourceVersion&quot;: String(&quot;5d5e2952-36dc-441b-9f72-b0d061f5f3e2&quot;), &quot;uid&quot;: String(&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.400132153Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.400000196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:47.953694202Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:47.959517766Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.037294584Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.043943595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.399879029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:42:48.399898165Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Gtrd3Lm6MNiw&quot;), &quot;username&quot;: String(&quot;user-534d913c-fafb-46ad-bbd5-c26977f43b42&quot;)})})})})
[2022-05-06T15:42:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNjcsImlhdCI6MTY1MTg1MTc2NywiYXV0aF90aW1lIjoxNjUxODUxNzY0LCJqdGkiOiIzNDdiOTJjZC03Y2YwLTQ0ZjUtOWM2NS04MDBjOTdjNzY2YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaLUJvdGVQdkRsZzQzNmdBUlk1QmlRIiwic2Vzc2lvbl9zdGF0ZSI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GP3P8FaWfqT63v5aUrZP6onBwiFtHNylfp8gO2eQO7zoXeVyBmBNVZT8qwoU9rqws6oc7FEnMcIh6lIjTt9USWGzXIKy8rcLR373V0pqL-ODPCLb0aoE_GJItM3GzJARHg6wYhhmV9JM8bt88am3kSEI4pU7I7PLZyVHnWXphurTfJ6-U6YrYfNodiZeKUF-k28osYdQyUeIsdwHY7gWlT_b6v5hIyD-sK5a0whB_e1--DPF6i3OB9OgcJgenD-l_KGHHRrLi5CSBULf0jOw_NONoY56579YXUE7jToJm4Kgfu-J1tDi-ILvph5Fox1wFgO_4Djj0AGEueCLiDBb6Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:42:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNjcsImlhdCI6MTY1MTg1MTc2NywiYXV0aF90aW1lIjoxNjUxODUxNzY0LCJqdGkiOiIzNDdiOTJjZC03Y2YwLTQ0ZjUtOWM2NS04MDBjOTdjNzY2YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaLUJvdGVQdkRsZzQzNmdBUlk1QmlRIiwic2Vzc2lvbl9zdGF0ZSI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GP3P8FaWfqT63v5aUrZP6onBwiFtHNylfp8gO2eQO7zoXeVyBmBNVZT8qwoU9rqws6oc7FEnMcIh6lIjTt9USWGzXIKy8rcLR373V0pqL-ODPCLb0aoE_GJItM3GzJARHg6wYhhmV9JM8bt88am3kSEI4pU7I7PLZyVHnWXphurTfJ6-U6YrYfNodiZeKUF-k28osYdQyUeIsdwHY7gWlT_b6v5hIyD-sK5a0whB_e1--DPF6i3OB9OgcJgenD-l_KGHHRrLi5CSBULf0jOw_NONoY56579YXUE7jToJm4Kgfu-J1tDi-ILvph5Fox1wFgO_4Djj0AGEueCLiDBb6Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;876dd3ff-33dc-4b80-8a86-ac5b6bea55c5&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecb6d20
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecb6d20
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eca6b10, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecfdd00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee06230, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwNjcsImlhdCI6MTY1MTg1MTc2NywiYXV0aF90aW1lIjoxNjUxODUxNzY0LCJqdGkiOiIzNDdiOTJjZC03Y2YwLTQ0ZjUtOWM2NS04MDBjOTdjNzY2YjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaLUJvdGVQdkRsZzQzNmdBUlk1QmlRIiwic2Vzc2lvbl9zdGF0ZSI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdjMDQxYzEwLTYxYmUtNDk4ZC1iOTJiLWM3MzA4YzgwZTM4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GP3P8FaWfqT63v5aUrZP6onBwiFtHNylfp8gO2eQO7zoXeVyBmBNVZT8qwoU9rqws6oc7FEnMcIh6lIjTt9USWGzXIKy8rcLR373V0pqL-ODPCLb0aoE_GJItM3GzJARHg6wYhhmV9JM8bt88am3kSEI4pU7I7PLZyVHnWXphurTfJ6-U6YrYfNodiZeKUF-k28osYdQyUeIsdwHY7gWlT_b6v5hIyD-sK5a0whB_e1--DPF6i3OB9OgcJgenD-l_KGHHRrLi5CSBULf0jOw_NONoY56579YXUE7jToJm4Kgfu-J1tDi-ILvph5Fox1wFgO_4Djj0AGEueCLiDBb6Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:49Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/534d913c-fafb-46ad-bbd5-c26977f43b42&quot;&#x27; @ QOS 0
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:42:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:42:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:42:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:42:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f0002fc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0003240 } }, data: MessageData { topic: &quot;app/534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 97, 55, 100, 55, 56, 100, 48, 45, 99, 97, 54, 102, 45, 52, 56, 102, 51, 45, 98, 53, 57, 50, 45, 55, 102, 55, 57, 99, 100, 57, 53, 99, 57, 50, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 52, 100, 57, 49, 51, 99, 37, 50, 68, 102, 97, 102, 98, 37, 50, 68, 52, 54, 97, 100, 37, 50, 68, 98, 98, 100, 53, 37, 50, 68, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 53, 50, 46, 52, 54, 55, 57, 50, 48, 56, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 97, 54, 99, 100, 57, 98, 101, 45, 55, 56, 55, 98, 45, 52, 101, 51, 56, 45, 97, 100, 102, 52, 45, 97, 99, 100, 49, 97, 99, 99, 53, 100, 48, 48, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 52, 100, 57, 49, 51, 99, 45, 102, 97, 102, 98, 45, 52, 54, 97, 100, 45, 98, 98, 100, 53, 45, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 52, 100, 57, 49, 51, 99, 37, 50, 68, 102, 97, 102, 98, 37, 50, 68, 52, 54, 97, 100, 37, 50, 68, 98, 98, 100, 53, 37, 50, 68, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 97, 54, 99, 100, 57, 98, 101, 45, 55, 56, 55, 98, 45, 52, 101, 51, 56, 45, 97, 100, 102, 52, 45, 97, 99, 100, 49, 97, 99, 99, 53, 100, 48, 48, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 52, 100, 99, 57, 98, 97, 45, 50, 101, 57, 54, 45, 52, 102, 56, 51, 45, 56, 102, 101, 102, 45, 53, 55, 56, 97, 55, 51, 99, 54, 55, 57, 97, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0003240 } } } }
[2022-05-06T15:42:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42f034e30
[2022-05-06T15:42:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3a7d78d0-ca6f-48f3-b592-7f79cd95c927\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://534d913c%2Dfafb%2D46ad%2Dbbd5%2Dc26977f43b42/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:52.467920822Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;8a6cd9be-787b-4e38-adf4-acd1acc5d004\&quot;,\&quot;application\&quot;:\&quot;534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;534d913c%2Dfafb%2D46ad%2Dbbd5%2Dc26977f43b42/device1\&quot;,\&quot;senderuid\&quot;:\&quot;8a6cd9be-787b-4e38-adf4-acd1acc5d004\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3\&quot;}&quot; }
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:42:53Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;281221f1-d63b-4601-9e26-0bde0e4dd736&quot;, persistence: None, user_data: None }
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efd33b0
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efd33b0
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f25d530, password: 0x55f42f2757d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f034ec0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed19210, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@534d913c-fafb-46ad-bbd5-c26977f43b42&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee129d0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee129d0 } } } }
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f0026b10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0026da0 } }, data: MessageData { topic: &quot;app/534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 98, 50, 51, 52, 53, 54, 98, 45, 52, 98, 57, 101, 45, 52, 102, 98, 49, 45, 98, 57, 55, 97, 45, 49, 48, 50, 56, 97, 100, 102, 99, 57, 97, 48, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 52, 100, 57, 49, 51, 99, 37, 50, 68, 102, 97, 102, 98, 37, 50, 68, 52, 54, 97, 100, 37, 50, 68, 98, 98, 100, 53, 37, 50, 68, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 50, 58, 53, 51, 46, 55, 56, 50, 49, 53, 48, 53, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 52, 100, 57, 49, 51, 99, 45, 102, 97, 102, 98, 45, 52, 54, 97, 100, 45, 98, 98, 100, 53, 45, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 97, 54, 99, 100, 57, 98, 101, 45, 55, 56, 55, 98, 45, 52, 101, 51, 56, 45, 97, 100, 102, 52, 45, 97, 99, 100, 49, 97, 99, 99, 53, 100, 48, 48, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 52, 100, 99, 57, 98, 97, 45, 50, 101, 57, 54, 45, 52, 102, 56, 51, 45, 56, 102, 101, 102, 45, 53, 55, 56, 97, 55, 51, 99, 54, 55, 57, 97, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 52, 100, 57, 49, 51, 99, 37, 50, 68, 102, 97, 102, 98, 37, 50, 68, 52, 54, 97, 100, 37, 50, 68, 98, 98, 100, 53, 37, 50, 68, 99, 50, 54, 57, 55, 55, 102, 52, 51, 98, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 97, 54, 99, 100, 57, 98, 101, 45, 55, 56, 55, 98, 45, 52, 101, 51, 56, 45, 97, 100, 102, 52, 45, 97, 99, 100, 49, 97, 99, 99, 53, 100, 48, 48, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0026da0 } } } }
[2022-05-06T15:42:53Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42f034e30
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7b23456b-4b9e-4fb1-b97a-1028adfc9a05\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://534d913c%2Dfafb%2D46ad%2Dbbd5%2Dc26977f43b42/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:42:53.782150533Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;534d913c-fafb-46ad-bbd5-c26977f43b42\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;8a6cd9be-787b-4e38-adf4-acd1acc5d004\&quot;,\&quot;applicationuid\&quot;:\&quot;2b4dc9ba-2e96-4f83-8fef-578a73c679a3\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;534d913c%2Dfafb%2D46ad%2Dbbd5%2Dc26977f43b42/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;8a6cd9be-787b-4e38-adf4-acd1acc5d004\&quot;}&quot; }
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:42:53Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:42:53Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot; &quot;device1&quot;
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;534d913c-fafb-46ad-bbd5-c26977f43b42&#x27;
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;534d913c-fafb-46ad-bbd5-c26977f43b42&quot;
[2022-05-06T15:42:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 534d913c-fafb-46ad-bbd5-c26977f43b42 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:42:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:42:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:42:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:42:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:42:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:42:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:42:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:42:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1ODAsImlhdCI6MTY1MTg1MTc4MCwianRpIjoiZTJiNjE2MWEtZWE4YS00YjE1LThhNDMtMWViMzNkZWUyN2RlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImliZ1NUY0NDM0ZaNUsxTDI0WVdnSFEiLCJzZXNzaW9uX3N0YXRlIjoiMjk4MTY3MzktODU5Mi00MjJlLTg2OTMtZmFlOWU3Y2FiYjdjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyJ9.5IkBkgPiU3HoSiyq5tDxYWTbP6cZlmHkO7hIOsLOJZ0
[2022-05-06T15:43:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:43:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1ODAsImlhdCI6MTY1MTg1MTc4MCwianRpIjoiZTJiNjE2MWEtZWE4YS00YjE1LThhNDMtMWViMzNkZWUyN2RlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImliZ1NUY0NDM0ZaNUsxTDI0WVdnSFEiLCJzZXNzaW9uX3N0YXRlIjoiMjk4MTY3MzktODU5Mi00MjJlLTg2OTMtZmFlOWU3Y2FiYjdjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyJ9.5IkBkgPiU3HoSiyq5tDxYWTbP6cZlmHkO7hIOsLOJZ0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:43:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:01Z INFO  drogue_cloud_tests::resources::apps] Create application: 2404868a-af56-4981-b4d4-a260549d8d4e
[2022-05-06T15:43:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;
[2022-05-06T15:43:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2404868a-af56-4981-b4d4-a260549d8d4e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;
[2022-05-06T15:43:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:01.050905Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;2404868a-af56-4981-b4d4-a260549d8d4e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;09498ad5-a2c9-43b9-aee8-ff554549c8fe\&quot;,\n    \&quot;uid\&quot;: \&quot;46297595-e3f6-4b33-a9b5-7adecf64937f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.061587308Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:01.050905Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;), &quot;resourceVersion&quot;: String(&quot;09498ad5-a2c9-43b9-aee8-ff554549c8fe&quot;), &quot;uid&quot;: String(&quot;46297595-e3f6-4b33-a9b5-7adecf64937f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.061587308Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:43:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:01.050905Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2404868a-af56-4981-b4d4-a260549d8d4e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d6c59e92-2a1a-4ed0-80f0-e11bac3e1a5b\&quot;,\n    \&quot;uid\&quot;: \&quot;46297595-e3f6-4b33-a9b5-7adecf64937f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350938091Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350880764Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.094760671Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.100001493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.142000927Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.148063900Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350835720Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350854244Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;q4wRP009HK52\&quot;,\n        \&quot;username\&quot;: \&quot;user-2404868a-af56-4981-b4d4-a260549d8d4e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:01.050905Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;), &quot;resourceVersion&quot;: String(&quot;d6c59e92-2a1a-4ed0-80f0-e11bac3e1a5b&quot;), &quot;uid&quot;: String(&quot;46297595-e3f6-4b33-a9b5-7adecf64937f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350938091Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350880764Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.094760671Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.100001493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.142000927Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.148063900Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350835720Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350854244Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;q4wRP009HK52&quot;), &quot;username&quot;: String(&quot;user-2404868a-af56-4981-b4d4-a260549d8d4e&quot;)})})})})
[2022-05-06T15:43:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:01.050905Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2404868a-af56-4981-b4d4-a260549d8d4e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d6c59e92-2a1a-4ed0-80f0-e11bac3e1a5b\&quot;,\n    \&quot;uid\&quot;: \&quot;46297595-e3f6-4b33-a9b5-7adecf64937f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350938091Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350880764Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.094760671Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.100001493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.142000927Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.148063900Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350835720Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:01.350854244Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;q4wRP009HK52\&quot;,\n        \&quot;username\&quot;: \&quot;user-2404868a-af56-4981-b4d4-a260549d8d4e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:01.050905Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;), &quot;resourceVersion&quot;: String(&quot;d6c59e92-2a1a-4ed0-80f0-e11bac3e1a5b&quot;), &quot;uid&quot;: String(&quot;46297595-e3f6-4b33-a9b5-7adecf64937f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350938091Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350880764Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.094760671Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.100001493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.142000927Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.148063900Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350835720Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:01.350854244Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;q4wRP009HK52&quot;), &quot;username&quot;: String(&quot;user-2404868a-af56-4981-b4d4-a260549d8d4e&quot;)})})})})
[2022-05-06T15:43:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwODAsImlhdCI6MTY1MTg1MTc4MCwiYXV0aF90aW1lIjoxNjUxODUxNzc3LCJqdGkiOiJiMjBkNjMwOS02OGI5LTRjMzItODE0Yi0yZTQyYTc4ZTc0YTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpYmdTVGNDQzNGWjVLMUwyNFlXZ0hRIiwic2Vzc2lvbl9zdGF0ZSI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Wwn2-swYAWQdqP35OvE5sB4d8yg-yt-FXno_g84UyGVPBD8bD8F4kYvrtGDOu8fyCdPQJL4rTCsO53yweBezdo5IebM15Y42psYjhM-YBMTVrZHiq7q86LCGVKst3kDjG7Ouzj9J_LTrsH8a9XdT2HYH7eXBuo6R6StCiIOvE9ce5jXbgCUn9pN0x8Q6N4LmJQ_INxT9QEGKgE4nUrY-Nh5sDRTXzHwRxmNtolRFeTLB-7llucSJNUNzEV2FbfU4Ja5VH2BxNs8q6gn3892FAvqMU6pc1fZH3ZIcN0KXslDIbwBXW8-iXF6ki8Gsx_Ot9Rpe2y-F4_tRrxMsRtilHQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwODAsImlhdCI6MTY1MTg1MTc4MCwiYXV0aF90aW1lIjoxNjUxODUxNzc3LCJqdGkiOiJiMjBkNjMwOS02OGI5LTRjMzItODE0Yi0yZTQyYTc4ZTc0YTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpYmdTVGNDQzNGWjVLMUwyNFlXZ0hRIiwic2Vzc2lvbl9zdGF0ZSI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Wwn2-swYAWQdqP35OvE5sB4d8yg-yt-FXno_g84UyGVPBD8bD8F4kYvrtGDOu8fyCdPQJL4rTCsO53yweBezdo5IebM15Y42psYjhM-YBMTVrZHiq7q86LCGVKst3kDjG7Ouzj9J_LTrsH8a9XdT2HYH7eXBuo6R6StCiIOvE9ce5jXbgCUn9pN0x8Q6N4LmJQ_INxT9QEGKgE4nUrY-Nh5sDRTXzHwRxmNtolRFeTLB-7llucSJNUNzEV2FbfU4Ja5VH2BxNs8q6gn3892FAvqMU6pc1fZH3ZIcN0KXslDIbwBXW8-iXF6ki8Gsx_Ot9Rpe2y-F4_tRrxMsRtilHQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;2d49732f-a70b-455e-a311-9e2f4aa5b81b&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee913c0
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee913c0
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee90400, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0d75a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee90d30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwODAsImlhdCI6MTY1MTg1MTc4MCwiYXV0aF90aW1lIjoxNjUxODUxNzc3LCJqdGkiOiJiMjBkNjMwOS02OGI5LTRjMzItODE0Yi0yZTQyYTc4ZTc0YTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpYmdTVGNDQzNGWjVLMUwyNFlXZ0hRIiwic2Vzc2lvbl9zdGF0ZSI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5ODE2NzM5LTg1OTItNDIyZS04NjkzLWZhZTllN2NhYmI3YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Wwn2-swYAWQdqP35OvE5sB4d8yg-yt-FXno_g84UyGVPBD8bD8F4kYvrtGDOu8fyCdPQJL4rTCsO53yweBezdo5IebM15Y42psYjhM-YBMTVrZHiq7q86LCGVKst3kDjG7Ouzj9J_LTrsH8a9XdT2HYH7eXBuo6R6StCiIOvE9ce5jXbgCUn9pN0x8Q6N4LmJQ_INxT9QEGKgE4nUrY-Nh5sDRTXzHwRxmNtolRFeTLB-7llucSJNUNzEV2FbfU4Ja5VH2BxNs8q6gn3892FAvqMU6pc1fZH3ZIcN0KXslDIbwBXW8-iXF6ki8Gsx_Ot9Rpe2y-F4_tRrxMsRtilHQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:02Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2404868a-af56-4981-b4d4-a260549d8d4e&quot;&#x27; @ QOS 0
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0802d420, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fea0802d6c0 } }, data: MessageData { topic: &quot;app/2404868a-af56-4981-b4d4-a260549d8d4e&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fea0802d6c0 } } } }
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee501b0, 0x7fea10001e30
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e30, 0x55f42ed525c0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e30, 0x55f42ee1e080
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e080, 0x55f42ee34860
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e080, 0x7fea10008d90
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x55f42ed525c0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x55f42ed525c0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x55f42ed525c0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea100082d0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x55f42f0dea90
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea100082d0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea100082d0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea10007ce0
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10007ce0, 0x7fea10008d90
[2022-05-06T15:43:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10008d90
[2022-05-06T15:43:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2404868a-af56-4981-b4d4-a260549d8d4e&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;01e143a9-8989-4ac1-a6de-38859ed58e83&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:43:06.488625071+00:00&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://2404868a%2Daf56%2D4981%2Db4d4%2Da260549d8d4e/device1&quot;, &quot;application&quot;: &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;, &quot;senderuid&quot;: &quot;7279f524-decc-4f12-b572-d6a7da5d507a&quot;, &quot;applicationuid&quot;: &quot;46297595-e3f6-4b33-a9b5-7adecf64937f&quot;, &quot;partitionkey&quot;: &quot;2404868a%2Daf56%2D4981%2Db4d4%2Da260549d8d4e/device1&quot;, &quot;deviceuid&quot;: &quot;7279f524-decc-4f12-b572-d6a7da5d507a&quot;}, payload: &quot;{\&quot;index\&quot;:4}&quot; }
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-06T15:43:07Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;d8a5dcc0-bf98-4263-a540-c45fc1031868&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed75570
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed75570
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f286cd0, password: 0x55f42edd7910, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edd39a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edcd4d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@2404868a-af56-4981-b4d4-a260549d8d4e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08023cd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fea0801bdb0 } }, data: MessageData { topic: &quot;app/2404868a-af56-4981-b4d4-a260549d8d4e&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fea0801bdb0 } } } }
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42efda5e0, 0x55f42ee1e130
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e130, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee1e130, 0x7fea10001e10
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e10, 0x7fea0802db30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e10, 0x7fea10008d90
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10008d90, 0x7fea10009da0
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009da0, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009da0, 0x7fea10009c20
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009c20, 0x7fea0800c170
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009c20, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009c20, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009c20, 0x7fea100099f0
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100099f0, 0x7fea0802da30
[2022-05-06T15:43:07Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100099f0
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2404868a-af56-4981-b4d4-a260549d8d4e&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;46297595-e3f6-4b33-a9b5-7adecf64937f&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://2404868a%2Daf56%2D4981%2Db4d4%2Da260549d8d4e/device1&quot;, &quot;id&quot;: &quot;b3939e2e-ee14-49e0-814c-bf4274714fd4&quot;, &quot;partitionkey&quot;: &quot;2404868a%2Daf56%2D4981%2Db4d4%2Da260549d8d4e/device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;7279f524-decc-4f12-b572-d6a7da5d507a&quot;, &quot;application&quot;: &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:43:07.515962156+00:00&quot;, &quot;senderuid&quot;: &quot;7279f524-decc-4f12-b572-d6a7da5d507a&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee9a760 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ee9a760 } } } }
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:43:07Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:43:07Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot; &quot;device1&quot;
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2404868a-af56-4981-b4d4-a260549d8d4e&#x27;
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2404868a-af56-4981-b4d4-a260549d8d4e&quot;
[2022-05-06T15:43:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2404868a-af56-4981-b4d4-a260549d8d4e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:43:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:43:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:43:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:43:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1OTQsImlhdCI6MTY1MTg1MTc5NCwianRpIjoiMmI2NDk3NTctNzJlYi00ZjkzLTkwYWEtZDI2ZDA5YTI1YmEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktCMEpqRzBoMzhNVEF2UUhMY2x5akEiLCJzZXNzaW9uX3N0YXRlIjoiNDBlYmRmMjItNGQyZC00Zjg2LTgzMzgtNGUyMTk2NDBhMzgwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCJ9.1-i6_axH6FZzGFq9MKGW_ucLB4mEjUgX269dm38klAc
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM1OTQsImlhdCI6MTY1MTg1MTc5NCwianRpIjoiMmI2NDk3NTctNzJlYi00ZjkzLTkwYWEtZDI2ZDA5YTI1YmEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktCMEpqRzBoMzhNVEF2UUhMY2x5akEiLCJzZXNzaW9uX3N0YXRlIjoiNDBlYmRmMjItNGQyZC00Zjg2LTgzMzgtNGUyMTk2NDBhMzgwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCJ9.1-i6_axH6FZzGFq9MKGW_ucLB4mEjUgX269dm38klAc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::resources::apps] Create application: e7c3c02f-f25d-4fd8-ba63-5c263b91c65c
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e7c3c02f-f25d-4fd8-ba63-5c263b91c65c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;
[2022-05-06T15:43:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:14.858124Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b2e264ab-a9b5-4aa0-bb3d-65e7246ffbd9\&quot;,\n    \&quot;uid\&quot;: \&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.870234476Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:14.858124Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;), &quot;resourceVersion&quot;: String(&quot;b2e264ab-a9b5-4aa0-bb3d-65e7246ffbd9&quot;), &quot;uid&quot;: String(&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.870234476Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:43:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:14.858124Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;01e09657-0098-43fa-b7e1-fb00cf496aa4\&quot;,\n    \&quot;uid\&quot;: \&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218472865Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218438320Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.905688122Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.914619572Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.988129161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.001037774Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218390941Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218409897Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ZzjDCbC0lo2j\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7c3c02f-f25d-4fd8-ba63-5c263b91c65c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:14.858124Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;), &quot;resourceVersion&quot;: String(&quot;01e09657-0098-43fa-b7e1-fb00cf496aa4&quot;), &quot;uid&quot;: String(&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218472865Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218438320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.905688122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.914619572Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.988129161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.001037774Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218390941Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218409897Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ZzjDCbC0lo2j&quot;), &quot;username&quot;: String(&quot;user-e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;)})})})})
[2022-05-06T15:43:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:14.858124Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;01e09657-0098-43fa-b7e1-fb00cf496aa4\&quot;,\n    \&quot;uid\&quot;: \&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218472865Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218438320Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.905688122Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.914619572Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:14.988129161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.001037774Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218390941Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:15.218409897Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ZzjDCbC0lo2j\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7c3c02f-f25d-4fd8-ba63-5c263b91c65c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:14.858124Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;), &quot;resourceVersion&quot;: String(&quot;01e09657-0098-43fa-b7e1-fb00cf496aa4&quot;), &quot;uid&quot;: String(&quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218472865Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218438320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.905688122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.914619572Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:14.988129161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.001037774Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218390941Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:15.218409897Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ZzjDCbC0lo2j&quot;), &quot;username&quot;: String(&quot;user-e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;)})})})})
[2022-05-06T15:43:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwOTQsImlhdCI6MTY1MTg1MTc5NCwiYXV0aF90aW1lIjoxNjUxODUxNzkxLCJqdGkiOiI5NzA5YmIwZi02ZmE4LTQyNmQtOGZiYS04NmNiMjhjYzQzYzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLQjBKakcwaDM4TVRBdlFITGNseWpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GAJzlB4WsgRVxJ1JX58ELsafeGo4kzX7QecrwEZ2Xw0b6XZGCuK54_gBOiA3PcmuU9UyPnxNXTWcv_C44qZzATMN7zkplDe1Km-TnFzNJ0M6pykAIffz6_7axaQ44kHKFdMKCuph_nPOSN-ib3nTbR5TlO_2kXt61YQ19eyNUpypjz7T-Mx5a6c4LIdhZWvIEWsk3L_OVU4sH0H4vanZLRmRl4S6YVtHx3c527sxcRyOCPniveXvy5QnjwDu-HsRp3qx7D8Ge_gynbomNc2OVE2KeKevZb8ehJKD3oH4Ak_YhS-fKcqc9gv5G3DxKCzXgaGtYvsE6HLk0DTBxylsMA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwOTQsImlhdCI6MTY1MTg1MTc5NCwiYXV0aF90aW1lIjoxNjUxODUxNzkxLCJqdGkiOiI5NzA5YmIwZi02ZmE4LTQyNmQtOGZiYS04NmNiMjhjYzQzYzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLQjBKakcwaDM4TVRBdlFITGNseWpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GAJzlB4WsgRVxJ1JX58ELsafeGo4kzX7QecrwEZ2Xw0b6XZGCuK54_gBOiA3PcmuU9UyPnxNXTWcv_C44qZzATMN7zkplDe1Km-TnFzNJ0M6pykAIffz6_7axaQ44kHKFdMKCuph_nPOSN-ib3nTbR5TlO_2kXt61YQ19eyNUpypjz7T-Mx5a6c4LIdhZWvIEWsk3L_OVU4sH0H4vanZLRmRl4S6YVtHx3c527sxcRyOCPniveXvy5QnjwDu-HsRp3qx7D8Ge_gynbomNc2OVE2KeKevZb8ehJKD3oH4Ak_YhS-fKcqc9gv5G3DxKCzXgaGtYvsE6HLk0DTBxylsMA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;66c81904-e501-4106-9ff1-6b55803df1f0&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f05ce40
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f05ce40
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee632f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edd39a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0d7120, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIwOTQsImlhdCI6MTY1MTg1MTc5NCwiYXV0aF90aW1lIjoxNjUxODUxNzkxLCJqdGkiOiI5NzA5YmIwZi02ZmE4LTQyNmQtOGZiYS04NmNiMjhjYzQzYzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLQjBKakcwaDM4TVRBdlFITGNseWpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZWJkZjIyLTRkMmQtNGY4Ni04MzM4LTRlMjE5NjQwYTM4MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GAJzlB4WsgRVxJ1JX58ELsafeGo4kzX7QecrwEZ2Xw0b6XZGCuK54_gBOiA3PcmuU9UyPnxNXTWcv_C44qZzATMN7zkplDe1Km-TnFzNJ0M6pykAIffz6_7axaQ44kHKFdMKCuph_nPOSN-ib3nTbR5TlO_2kXt61YQ19eyNUpypjz7T-Mx5a6c4LIdhZWvIEWsk3L_OVU4sH0H4vanZLRmRl4S6YVtHx3c527sxcRyOCPniveXvy5QnjwDu-HsRp3qx7D8Ge_gynbomNc2OVE2KeKevZb8ehJKD3oH4Ak_YhS-fKcqc9gv5G3DxKCzXgaGtYvsE6HLk0DTBxylsMA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:15Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;&#x27; @ QOS 0
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:43:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0802e1b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ec87570 } }, data: MessageData { topic: &quot;app/e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ec87570 } } } }
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee77c30, 0x55f42ee76920
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee76920, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee76920, 0x55f42eca63f0
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eca63f0, 0x55f42f08a110
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eca63f0, 0x7fea10009460
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x7fea10009600
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009600, 0x7fea10009460
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee76e60
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x55f42ee7ae30
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009460, 0x7fea10006430
[2022-05-06T15:43:19Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10006430
[2022-05-06T15:43:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc&quot;, &quot;source&quot;: &quot;drogue://e7c3c02f%2Df25d%2D4fd8%2Dba63%2D5c263b91c65c/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;e7c3c02f%2Df25d%2D4fd8%2Dba63%2D5c263b91c65c/device1&quot;, &quot;application&quot;: &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-06T15:43:19.455908772+00:00&quot;, &quot;deviceuid&quot;: &quot;c4190bf0-a5bb-4d21-83d5-532e7c41a2b2&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;id&quot;: &quot;dfbd7c4f-fe54-441f-96b6-52abcdb61de9&quot;, &quot;senderuid&quot;: &quot;c4190bf0-a5bb-4d21-83d5-532e7c41a2b2&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:43:20Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;dd40c764-d207-46e6-a951-96777f258cc1&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f14fe60
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f14fe60
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42eee9050, password: 0x55f42ed80840, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eff7250, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f08b230, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea0800c5b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ec87570 } }, data: MessageData { topic: &quot;app/e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ec87570 } } } }
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100035e0, 0x55f42ee2ffa0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee2ffa0, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee2ffa0, 0x7fea10009600
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009600, 0x7fea0802e590
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009600, 0x7fea10006430
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006430, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006430, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006430, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006430, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006430, 0x7fea10003600
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003600, 0x7fea0802e4b0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003600, 0x7fea10009f50
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009f50, 0x7fea080236d0
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009f50, 0x7fea10009620
[2022-05-06T15:43:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10009620
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd69c0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecd69c0 } } } }
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;b1aab3da-02ee-4c42-b86d-0e1335b13c66&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;partitionkey&quot;: &quot;e7c3c02f%2Df25d%2D4fd8%2Dba63%2D5c263b91c65c/device1&quot;, &quot;source&quot;: &quot;drogue://e7c3c02f%2Df25d%2D4fd8%2Dba63%2D5c263b91c65c/device1&quot;, &quot;senderuid&quot;: &quot;c4190bf0-a5bb-4d21-83d5-532e7c41a2b2&quot;, &quot;deviceuid&quot;: &quot;c4190bf0-a5bb-4d21-83d5-532e7c41a2b2&quot;, &quot;time&quot;: &quot;2022-05-06T15:43:20.576008780+00:00&quot;, &quot;applicationuid&quot;: &quot;d5b34c72-de23-46bc-9f92-1ce21ebcf2cc&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:43:20Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:43:20Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot; &quot;device1&quot;
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&#x27;
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e7c3c02f-f25d-4fd8-ba63-5c263b91c65c&quot;
[2022-05-06T15:43:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e7c3c02f-f25d-4fd8-ba63-5c263b91c65c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:43:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:43:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:43:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:43:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MDcsImlhdCI6MTY1MTg1MTgwNywianRpIjoiZjQ4ZmE3ZmEtMzdjOC00MWM0LWIyYzktY2IxYjBmZTEyZjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlQaGpUWTJUSVAtZ1hHOUpYRW1jblEiLCJzZXNzaW9uX3N0YXRlIjoiYTk5ZjYyNDAtNWUwNS00ZGQzLTg2YzgtN2FlZjE4ZTc0YzkwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCJ9.KhAvL--OYY1Gaj6uf_4mDQ2_nM9OOCddlIQro6W2dHI
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MDcsImlhdCI6MTY1MTg1MTgwNywianRpIjoiZjQ4ZmE3ZmEtMzdjOC00MWM0LWIyYzktY2IxYjBmZTEyZjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlQaGpUWTJUSVAtZ1hHOUpYRW1jblEiLCJzZXNzaW9uX3N0YXRlIjoiYTk5ZjYyNDAtNWUwNS00ZGQzLTg2YzgtN2FlZjE4ZTc0YzkwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCJ9.KhAvL--OYY1Gaj6uf_4mDQ2_nM9OOCddlIQro6W2dHI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::resources::apps] Create application: eea2a451-ce8e-4372-9389-19f7f7777da5
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App eea2a451-ce8e-4372-9389-19f7f7777da5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;
[2022-05-06T15:43:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:27.850593Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;16ddbdf5-858e-4de5-a18d-06938e2a4525\&quot;,\n    \&quot;uid\&quot;: \&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.864005778Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:27.850593Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;), &quot;resourceVersion&quot;: String(&quot;16ddbdf5-858e-4de5-a18d-06938e2a4525&quot;), &quot;uid&quot;: String(&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.864005778Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:43:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:27.850593Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2e312972-0702-4ffa-b163-671d000d4ad9\&quot;,\n    \&quot;uid\&quot;: \&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201711557Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201602452Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.908436460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.920715723Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.978715575Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.984083625Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201545896Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201561356Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vVUgODLssCPW\&quot;,\n        \&quot;username\&quot;: \&quot;user-eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:27.850593Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;), &quot;resourceVersion&quot;: String(&quot;2e312972-0702-4ffa-b163-671d000d4ad9&quot;), &quot;uid&quot;: String(&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201711557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201602452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.908436460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.920715723Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.978715575Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.984083625Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201545896Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201561356Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vVUgODLssCPW&quot;), &quot;username&quot;: String(&quot;user-eea2a451-ce8e-4372-9389-19f7f7777da5&quot;)})})})})
[2022-05-06T15:43:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:27.850593Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2e312972-0702-4ffa-b163-671d000d4ad9\&quot;,\n    \&quot;uid\&quot;: \&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201711557Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201602452Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.908436460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.920715723Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.978715575Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:27.984083625Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201545896Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:28.201561356Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vVUgODLssCPW\&quot;,\n        \&quot;username\&quot;: \&quot;user-eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:27.850593Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;), &quot;resourceVersion&quot;: String(&quot;2e312972-0702-4ffa-b163-671d000d4ad9&quot;), &quot;uid&quot;: String(&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201711557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201602452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.908436460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.920715723Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.978715575Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:27.984083625Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201545896Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:28.201561356Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vVUgODLssCPW&quot;), &quot;username&quot;: String(&quot;user-eea2a451-ce8e-4372-9389-19f7f7777da5&quot;)})})})})
[2022-05-06T15:43:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMDcsImlhdCI6MTY1MTg1MTgwNywiYXV0aF90aW1lIjoxNjUxODUxODA0LCJqdGkiOiJiOTc0ODJmNC0wZDc3LTQyNTktOTczZi1lMzk5YThkOTc5M2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpUGhqVFkyVElQLWdYRzlKWEVtY25RIiwic2Vzc2lvbl9zdGF0ZSI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M5M7hh9XS-omtcZ4ERmuwX-cn42g7q8ZyyzNXme4PgZmFUFq1pwjh-cPYi9i_4iNtRKf8soIMOxkJZRtJ-11ULZtpq4_IttqN9fj8RulUiOsH8dX-voY3_mMoruDhwxO-BPxWpl1rse0P4ec4FcZigLqtPjOybzLXnoXhIKLR3JptZzysCv5_LfkvNEkiBP1iGfuf1WO3pq3VG9ORZfqJlHvzrS-zLDvI769O1io0pE0b2foQTuFM4ZacuE-nNbVvjk_j9UOHh355JjasWh2nzYkL2Vn0xFe4bqzlmJY86SkDv_UXRqTdLC1Yn-FarKvi7i5iiJPAXiGSu1WKnmDuQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMDcsImlhdCI6MTY1MTg1MTgwNywiYXV0aF90aW1lIjoxNjUxODUxODA0LCJqdGkiOiJiOTc0ODJmNC0wZDc3LTQyNTktOTczZi1lMzk5YThkOTc5M2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpUGhqVFkyVElQLWdYRzlKWEVtY25RIiwic2Vzc2lvbl9zdGF0ZSI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M5M7hh9XS-omtcZ4ERmuwX-cn42g7q8ZyyzNXme4PgZmFUFq1pwjh-cPYi9i_4iNtRKf8soIMOxkJZRtJ-11ULZtpq4_IttqN9fj8RulUiOsH8dX-voY3_mMoruDhwxO-BPxWpl1rse0P4ec4FcZigLqtPjOybzLXnoXhIKLR3JptZzysCv5_LfkvNEkiBP1iGfuf1WO3pq3VG9ORZfqJlHvzrS-zLDvI769O1io0pE0b2foQTuFM4ZacuE-nNbVvjk_j9UOHh355JjasWh2nzYkL2Vn0xFe4bqzlmJY86SkDv_UXRqTdLC1Yn-FarKvi7i5iiJPAXiGSu1WKnmDuQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;797b88ae-6f1f-41d9-8a9f-192006781d57&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecc9290
[2022-05-06T15:43:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecc9290
[2022-05-06T15:43:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee59d00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee76ef0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecc9020, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMDcsImlhdCI6MTY1MTg1MTgwNywiYXV0aF90aW1lIjoxNjUxODUxODA0LCJqdGkiOiJiOTc0ODJmNC0wZDc3LTQyNTktOTczZi1lMzk5YThkOTc5M2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpUGhqVFkyVElQLWdYRzlKWEVtY25RIiwic2Vzc2lvbl9zdGF0ZSI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5OWY2MjQwLTVlMDUtNGRkMy04NmM4LTdhZWYxOGU3NGM5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M5M7hh9XS-omtcZ4ERmuwX-cn42g7q8ZyyzNXme4PgZmFUFq1pwjh-cPYi9i_4iNtRKf8soIMOxkJZRtJ-11ULZtpq4_IttqN9fj8RulUiOsH8dX-voY3_mMoruDhwxO-BPxWpl1rse0P4ec4FcZigLqtPjOybzLXnoXhIKLR3JptZzysCv5_LfkvNEkiBP1iGfuf1WO3pq3VG9ORZfqJlHvzrS-zLDvI769O1io0pE0b2foQTuFM4ZacuE-nNbVvjk_j9UOHh355JjasWh2nzYkL2Vn0xFe4bqzlmJY86SkDv_UXRqTdLC1Yn-FarKvi7i5iiJPAXiGSu1WKnmDuQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/eea2a451-ce8e-4372-9389-19f7f7777da5&quot;&#x27; @ QOS 0
[2022-05-06T15:43:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:43:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:43:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0801fff0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 54, 98, 100, 49, 50, 49, 97, 45, 52, 102, 55, 53, 45, 52, 98, 100, 100, 45, 97, 54, 48, 52, 45, 52, 101, 101, 98, 57, 102, 97, 48, 98, 56, 56, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 101, 97, 50, 97, 52, 53, 49, 37, 50, 68, 99, 101, 56, 101, 37, 50, 68, 52, 51, 55, 50, 37, 50, 68, 57, 51, 56, 57, 37, 50, 68, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 51, 58, 51, 50, 46, 52, 54, 50, 51, 52, 50, 52, 50, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 48, 56, 56, 50, 56, 54, 99, 45, 57, 57, 100, 51, 45, 52, 102, 48, 55, 45, 56, 49, 101, 55, 45, 101, 51, 54, 98, 97, 101, 57, 54, 99, 48, 98, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 52, 50, 53, 55, 57, 101, 45, 51, 97, 53, 53, 45, 52, 100, 51, 56, 45, 98, 52, 56, 97, 45, 51, 52, 50, 98, 102, 102, 100, 99, 54, 102, 101, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 101, 97, 50, 97, 52, 53, 49, 45, 99, 101, 56, 101, 45, 52, 51, 55, 50, 45, 57, 51, 56, 57, 45, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 48, 56, 56, 50, 56, 54, 99, 45, 57, 57, 100, 51, 45, 52, 102, 48, 55, 45, 56, 49, 101, 55, 45, 101, 51, 54, 98, 97, 101, 57, 54, 99, 48, 98, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 101, 97, 50, 97, 52, 53, 49, 37, 50, 68, 99, 101, 56, 101, 37, 50, 68, 52, 51, 55, 50, 37, 50, 68, 57, 51, 56, 57, 37, 50, 68, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:43:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;66bd121a-4f75-4bdd-a604-4eeb9fa0b882\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://eea2a451%2Dce8e%2D4372%2D9389%2D19f7f7777da5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:43:32.462342426Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;5088286c-99d3-4f07-81e7-e36bae96c0ba\&quot;,\&quot;applicationuid\&quot;:\&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3\&quot;,\&quot;application\&quot;:\&quot;eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;,\&quot;deviceuid\&quot;:\&quot;5088286c-99d3-4f07-81e7-e36bae96c0ba\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;eea2a451%2Dce8e%2D4372%2D9389%2D19f7f7777da5/device1\&quot;}&quot; }
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:43:33Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;efb7f690-cc5d-464c-92f5-710a2f099789&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efd7c30
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efd7c30
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f2606a0, password: 0x55f42f107a80, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed1e990, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f25f7f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@eea2a451-ce8e-4372-9389-19f7f7777da5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0801a550, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 54, 97, 101, 97, 51, 100, 56, 45, 50, 100, 52, 48, 45, 52, 52, 50, 54, 45, 97, 102, 54, 55, 45, 97, 98, 52, 102, 52, 53, 55, 48, 57, 57, 97, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 101, 97, 50, 97, 52, 53, 49, 37, 50, 68, 99, 101, 56, 101, 37, 50, 68, 52, 51, 55, 50, 37, 50, 68, 57, 51, 56, 57, 37, 50, 68, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 51, 58, 51, 51, 46, 55, 54, 48, 48, 54, 56, 50, 53, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 48, 56, 56, 50, 56, 54, 99, 45, 57, 57, 100, 51, 45, 52, 102, 48, 55, 45, 56, 49, 101, 55, 45, 101, 51, 54, 98, 97, 101, 57, 54, 99, 48, 98, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 52, 50, 53, 55, 57, 101, 45, 51, 97, 53, 53, 45, 52, 100, 51, 56, 45, 98, 52, 56, 97, 45, 51, 52, 50, 98, 102, 102, 100, 99, 54, 102, 101, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 101, 97, 50, 97, 52, 53, 49, 45, 99, 101, 56, 101, 45, 52, 51, 55, 50, 45, 57, 51, 56, 57, 45, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 101, 97, 50, 97, 52, 53, 49, 37, 50, 68, 99, 101, 56, 101, 37, 50, 68, 52, 51, 55, 50, 37, 50, 68, 57, 51, 56, 57, 37, 50, 68, 49, 57, 102, 55, 102, 55, 55, 55, 55, 100, 97, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 48, 56, 56, 50, 56, 54, 99, 45, 57, 57, 100, 51, 45, 52, 102, 48, 55, 45, 56, 49, 101, 55, 45, 101, 51, 54, 98, 97, 101, 57, 54, 99, 48, 98, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b6aea3d8-2d40-4426-af67-ab4f457099a1\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://eea2a451%2Dce8e%2D4372%2D9389%2D19f7f7777da5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:43:33.760068256Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;5088286c-99d3-4f07-81e7-e36bae96c0ba\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;b442579e-3a55-4d38-b48a-342bffdc6fe3\&quot;,\&quot;application\&quot;:\&quot;eea2a451-ce8e-4372-9389-19f7f7777da5\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;eea2a451%2Dce8e%2D4372%2D9389%2D19f7f7777da5/device1\&quot;,\&quot;senderuid\&quot;:\&quot;5088286c-99d3-4f07-81e7-e36bae96c0ba\&quot;}&quot; }
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed74480 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed74480 } } } }
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:43:33Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:43:33Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot; &quot;device1&quot;
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;eea2a451-ce8e-4372-9389-19f7f7777da5&#x27;
[2022-05-06T15:43:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;eea2a451-ce8e-4372-9389-19f7f7777da5&quot;
[2022-05-06T15:43:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App eea2a451-ce8e-4372-9389-19f7f7777da5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:43:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:43:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:43:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:43:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MjAsImlhdCI6MTY1MTg1MTgyMCwianRpIjoiMzBmZjIzNzQtZDMxOS00ZGE1LWE1MjAtZThkOGJjNjRmZDQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9oZmdMemwyLVkxQ3MzaGI4ZmpHMFEiLCJzZXNzaW9uX3N0YXRlIjoiOGRjNGY3YzgtMjcwOC00M2NhLWEyNGYtYTI4YjliMDZkNWUyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiJ9.qZq1pv5liZyP0qElTSrRbbntb1MWV43zIeNNSSsElZ0
[2022-05-06T15:43:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:43:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MjAsImlhdCI6MTY1MTg1MTgyMCwianRpIjoiMzBmZjIzNzQtZDMxOS00ZGE1LWE1MjAtZThkOGJjNjRmZDQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9oZmdMemwyLVkxQ3MzaGI4ZmpHMFEiLCJzZXNzaW9uX3N0YXRlIjoiOGRjNGY3YzgtMjcwOC00M2NhLWEyNGYtYTI4YjliMDZkNWUyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiJ9.qZq1pv5liZyP0qElTSrRbbntb1MWV43zIeNNSSsElZ0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:43:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:41Z INFO  drogue_cloud_tests::resources::apps] Create application: c8d8387e-8e1e-459a-939e-f772c17d72dc
[2022-05-06T15:43:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;
[2022-05-06T15:43:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c8d8387e-8e1e-459a-939e-f772c17d72dc created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;
[2022-05-06T15:43:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:41.048916Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3e1b2a0e-22c8-4cdb-9391-5205fbf76f5d\&quot;,\n    \&quot;uid\&quot;: \&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.062594954Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:41.048916Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;), &quot;resourceVersion&quot;: String(&quot;3e1b2a0e-22c8-4cdb-9391-5205fbf76f5d&quot;), &quot;uid&quot;: String(&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.062594954Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:43:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:41.048916Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;46357424-74d0-4cf4-a021-330574c633b1\&quot;,\n    \&quot;uid\&quot;: \&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419180557Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419119122Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.100247822Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.105561781Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.179098383Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.185304923Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419028401Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419076843Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;OGdGVwY8T2Cl\&quot;,\n        \&quot;username\&quot;: \&quot;user-c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:41.048916Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;), &quot;resourceVersion&quot;: String(&quot;46357424-74d0-4cf4-a021-330574c633b1&quot;), &quot;uid&quot;: String(&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419180557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419119122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.100247822Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.105561781Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.179098383Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.185304923Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419028401Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419076843Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;OGdGVwY8T2Cl&quot;), &quot;username&quot;: String(&quot;user-c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;)})})})})
[2022-05-06T15:43:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:41.048916Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;46357424-74d0-4cf4-a021-330574c633b1\&quot;,\n    \&quot;uid\&quot;: \&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419180557Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419119122Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.100247822Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.105561781Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.179098383Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.185304923Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419028401Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:41.419076843Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;OGdGVwY8T2Cl\&quot;,\n        \&quot;username\&quot;: \&quot;user-c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:41.048916Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;), &quot;resourceVersion&quot;: String(&quot;46357424-74d0-4cf4-a021-330574c633b1&quot;), &quot;uid&quot;: String(&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419180557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419119122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.100247822Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.105561781Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.179098383Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.185304923Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419028401Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:41.419076843Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;OGdGVwY8T2Cl&quot;), &quot;username&quot;: String(&quot;user-c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;)})})})})
[2022-05-06T15:43:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMjAsImlhdCI6MTY1MTg1MTgyMCwiYXV0aF90aW1lIjoxNjUxODUxODE3LCJqdGkiOiIyOTAzODI5ZC01ZWQ2LTQwMDItYjk5Yy1hY2NiOWZkZjFjNjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvaGZnTHpsMi1ZMUNzM2hiOGZqRzBRIiwic2Vzc2lvbl9zdGF0ZSI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VxIsF-SGRsq2vQuMt2JhiZr3wH1Alc8i6vnKCEXm1ksfGCkA_-SJIGObs0NUkJ4kCLjt2cguVEA49thH2-8fjSJum0uEVKVJkX8e3RGlTREdRA6xodt_uYQDhUTE23HdyoDKiuip8xuk4_SEjo1tO_vw5Km7YzIgHg3QgFWT-Fv7IOPx9sPKqoTjdwK-i9w_fP7rP-m_WRt-fQ7oXbtz8BQObnwgZKuknieQexXNJTC6IpkkkkmdTOzgfWjTzwSdeCbjRd_F--ZwICohOvvaNFqSqyEDii8mja0hk0c-Hk23lxdvNZJJSTZ11tNCiy_0Fg8mzFHOsWJj9MzO19iX0A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMjAsImlhdCI6MTY1MTg1MTgyMCwiYXV0aF90aW1lIjoxNjUxODUxODE3LCJqdGkiOiIyOTAzODI5ZC01ZWQ2LTQwMDItYjk5Yy1hY2NiOWZkZjFjNjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvaGZnTHpsMi1ZMUNzM2hiOGZqRzBRIiwic2Vzc2lvbl9zdGF0ZSI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VxIsF-SGRsq2vQuMt2JhiZr3wH1Alc8i6vnKCEXm1ksfGCkA_-SJIGObs0NUkJ4kCLjt2cguVEA49thH2-8fjSJum0uEVKVJkX8e3RGlTREdRA6xodt_uYQDhUTE23HdyoDKiuip8xuk4_SEjo1tO_vw5Km7YzIgHg3QgFWT-Fv7IOPx9sPKqoTjdwK-i9w_fP7rP-m_WRt-fQ7oXbtz8BQObnwgZKuknieQexXNJTC6IpkkkkmdTOzgfWjTzwSdeCbjRd_F--ZwICohOvvaNFqSqyEDii8mja0hk0c-Hk23lxdvNZJJSTZ11tNCiy_0Fg8mzFHOsWJj9MzO19iX0A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;3223fced-ea69-43cd-8565-06e91245fc71&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed50300
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed50300
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed51a20, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eefacd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed52530, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMjAsImlhdCI6MTY1MTg1MTgyMCwiYXV0aF90aW1lIjoxNjUxODUxODE3LCJqdGkiOiIyOTAzODI5ZC01ZWQ2LTQwMDItYjk5Yy1hY2NiOWZkZjFjNjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvaGZnTHpsMi1ZMUNzM2hiOGZqRzBRIiwic2Vzc2lvbl9zdGF0ZSI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzRmN2M4LTI3MDgtNDNjYS1hMjRmLWEyOGI5YjA2ZDVlMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VxIsF-SGRsq2vQuMt2JhiZr3wH1Alc8i6vnKCEXm1ksfGCkA_-SJIGObs0NUkJ4kCLjt2cguVEA49thH2-8fjSJum0uEVKVJkX8e3RGlTREdRA6xodt_uYQDhUTE23HdyoDKiuip8xuk4_SEjo1tO_vw5Km7YzIgHg3QgFWT-Fv7IOPx9sPKqoTjdwK-i9w_fP7rP-m_WRt-fQ7oXbtz8BQObnwgZKuknieQexXNJTC6IpkkkkmdTOzgfWjTzwSdeCbjRd_F--ZwICohOvvaNFqSqyEDii8mja0hk0c-Hk23lxdvNZJJSTZ11tNCiy_0Fg8mzFHOsWJj9MzO19iX0A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:42Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;&#x27; @ QOS 0
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f0004ab0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 51, 57, 49, 49, 98, 51, 97, 45, 57, 52, 57, 49, 45, 52, 97, 53, 48, 45, 97, 99, 50, 55, 45, 99, 55, 97, 54, 102, 100, 49, 52, 99, 97, 102, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 100, 56, 51, 56, 55, 101, 37, 50, 68, 56, 101, 49, 101, 37, 50, 68, 52, 53, 57, 97, 37, 50, 68, 57, 51, 57, 101, 37, 50, 68, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 51, 58, 52, 53, 46, 52, 55, 54, 52, 56, 53, 51, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 100, 56, 51, 56, 55, 101, 37, 50, 68, 56, 101, 49, 101, 37, 50, 68, 52, 53, 57, 97, 37, 50, 68, 57, 51, 57, 101, 37, 50, 68, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 52, 50, 56, 101, 52, 52, 53, 45, 97, 49, 57, 57, 45, 52, 52, 49, 57, 45, 57, 54, 52, 98, 45, 98, 51, 52, 97, 101, 53, 53, 100, 102, 97, 102, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 52, 50, 56, 101, 52, 52, 53, 45, 97, 49, 57, 57, 45, 52, 52, 49, 57, 45, 57, 54, 52, 98, 45, 98, 51, 52, 97, 101, 53, 53, 100, 102, 97, 102, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 100, 56, 51, 56, 55, 101, 45, 56, 101, 49, 101, 45, 52, 53, 57, 97, 45, 57, 51, 57, 101, 45, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 99, 99, 51, 50, 57, 98, 52, 45, 100, 50, 98, 98, 45, 52, 48, 55, 54, 45, 57, 98, 52, 99, 45, 53, 100, 56, 97, 97, 51, 101, 54, 54, 53, 101, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:43:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;73911b3a-9491-4a50-ac27-c7a6fd14caf0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8d8387e%2D8e1e%2D459a%2D939e%2Df772c17d72dc/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:43:45.476485397Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;c8d8387e%2D8e1e%2D459a%2D939e%2Df772c17d72dc/device1\&quot;,\&quot;senderuid\&quot;:\&quot;c428e445-a199-4419-964b-b34ae55dfaf5\&quot;,\&quot;deviceuid\&quot;:\&quot;c428e445-a199-4419-964b-b34ae55dfaf5\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;,\&quot;applicationuid\&quot;:\&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:43:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:43:46Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:43:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:43:46Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:43:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;2cac9b90-a42a-4279-84cf-15affec4cd35&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed86710
[2022-05-06T15:43:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed86710
[2022-05-06T15:43:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1ea6f0, password: 0x55f42ed76440, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f2611f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee03640, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:47Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efb2360 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efb2360 } } } }
[2022-05-06T15:43:47Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:43:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f0016110, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 101, 98, 49, 48, 56, 99, 51, 45, 52, 49, 57, 54, 45, 52, 57, 101, 97, 45, 97, 101, 54, 56, 45, 51, 97, 97, 97, 98, 57, 97, 97, 100, 50, 48, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 100, 56, 51, 56, 55, 101, 37, 50, 68, 56, 101, 49, 101, 37, 50, 68, 52, 53, 57, 97, 37, 50, 68, 57, 51, 57, 101, 37, 50, 68, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 51, 58, 52, 54, 46, 56, 52, 56, 49, 57, 56, 54, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 99, 99, 51, 50, 57, 98, 52, 45, 100, 50, 98, 98, 45, 52, 48, 55, 54, 45, 57, 98, 52, 99, 45, 53, 100, 56, 97, 97, 51, 101, 54, 54, 53, 101, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 52, 50, 56, 101, 52, 52, 53, 45, 97, 49, 57, 57, 45, 52, 52, 49, 57, 45, 57, 54, 52, 98, 45, 98, 51, 52, 97, 101, 53, 53, 100, 102, 97, 102, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 100, 56, 51, 56, 55, 101, 37, 50, 68, 56, 101, 49, 101, 37, 50, 68, 52, 53, 57, 97, 37, 50, 68, 57, 51, 57, 101, 37, 50, 68, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 100, 56, 51, 56, 55, 101, 45, 56, 101, 49, 101, 45, 52, 53, 57, 97, 45, 57, 51, 57, 101, 45, 102, 55, 55, 50, 99, 49, 55, 100, 55, 50, 100, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 52, 50, 56, 101, 52, 52, 53, 45, 97, 49, 57, 57, 45, 52, 52, 49, 57, 45, 57, 54, 52, 98, 45, 98, 51, 52, 97, 101, 53, 53, 100, 102, 97, 102, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:43:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;aeb108c3-4196-49ea-ae68-3aaab9aad203\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8d8387e%2D8e1e%2D459a%2D939e%2Df772c17d72dc/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:43:46.848198622Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;7cc329b4-d2bb-4076-9b4c-5d8aa3e665e8\&quot;,\&quot;deviceuid\&quot;:\&quot;c428e445-a199-4419-964b-b34ae55dfaf5\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;c8d8387e%2D8e1e%2D459a%2D939e%2Df772c17d72dc/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;c8d8387e-8e1e-459a-939e-f772c17d72dc\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;c428e445-a199-4419-964b-b34ae55dfaf5\&quot;}&quot; }
[2022-05-06T15:43:47Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:43:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:43:47Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:43:47Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot; &quot;device1&quot;
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c8d8387e-8e1e-459a-939e-f772c17d72dc&#x27;
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c8d8387e-8e1e-459a-939e-f772c17d72dc&quot;
[2022-05-06T15:43:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c8d8387e-8e1e-459a-939e-f772c17d72dc deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:43:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:43:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:43:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:43:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:43:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:43:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MzQsImlhdCI6MTY1MTg1MTgzNCwianRpIjoiOGZiNGQzODktNjY5NC00MmQ2LWE2ZjEtNjRkNTBiZmRlMTYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFoMDd5VEtOTGtKczRweEl1VTVZalEiLCJzZXNzaW9uX3N0YXRlIjoiMGE2ZmI3Y2ItNjFiZi00ZTU0LWI1ZDMtMGM1MDMxNGM0NTI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCJ9.fCoFXxYhico6_4cYsYth1LeoBTfo76TIEPsDbFmzFZM
[2022-05-06T15:43:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:43:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2MzQsImlhdCI6MTY1MTg1MTgzNCwianRpIjoiOGZiNGQzODktNjY5NC00MmQ2LWE2ZjEtNjRkNTBiZmRlMTYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFoMDd5VEtOTGtKczRweEl1VTVZalEiLCJzZXNzaW9uX3N0YXRlIjoiMGE2ZmI3Y2ItNjFiZi00ZTU0LWI1ZDMtMGM1MDMxNGM0NTI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCJ9.fCoFXxYhico6_4cYsYth1LeoBTfo76TIEPsDbFmzFZM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:43:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:55Z INFO  drogue_cloud_tests::resources::apps] Create application: 4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6
[2022-05-06T15:43:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;
[2022-05-06T15:43:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;
[2022-05-06T15:43:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:55.437053Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;62e7127a-e6d8-40ce-b51d-bc689d18609b\&quot;,\n    \&quot;uid\&quot;: \&quot;098df255-63c8-423f-a35c-50b31dc9a4cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.450081767Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:55.437053Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;), &quot;resourceVersion&quot;: String(&quot;62e7127a-e6d8-40ce-b51d-bc689d18609b&quot;), &quot;uid&quot;: String(&quot;098df255-63c8-423f-a35c-50b31dc9a4cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.450081767Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:43:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:55.437053Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b3a7c471-2817-415f-97e5-d0687a071948\&quot;,\n    \&quot;uid\&quot;: \&quot;098df255-63c8-423f-a35c-50b31dc9a4cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.002037296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.002002570Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.491638020Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.499710069Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.585553214Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.593134643Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.001955081Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.001973476Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RhQjIjnIURBX\&quot;,\n        \&quot;username\&quot;: \&quot;user-4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:55.437053Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;), &quot;resourceVersion&quot;: String(&quot;b3a7c471-2817-415f-97e5-d0687a071948&quot;), &quot;uid&quot;: String(&quot;098df255-63c8-423f-a35c-50b31dc9a4cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.002037296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.002002570Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.491638020Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.499710069Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.585553214Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.593134643Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.001955081Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.001973476Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RhQjIjnIURBX&quot;), &quot;username&quot;: String(&quot;user-4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;)})})})})
[2022-05-06T15:43:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:43:55.437053Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b3a7c471-2817-415f-97e5-d0687a071948\&quot;,\n    \&quot;uid\&quot;: \&quot;098df255-63c8-423f-a35c-50b31dc9a4cc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.002037296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.002002570Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.491638020Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.499710069Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.585553214Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:55.593134643Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.001955081Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:43:56.001973476Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RhQjIjnIURBX\&quot;,\n        \&quot;username\&quot;: \&quot;user-4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:43:55.437053Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;), &quot;resourceVersion&quot;: String(&quot;b3a7c471-2817-415f-97e5-d0687a071948&quot;), &quot;uid&quot;: String(&quot;098df255-63c8-423f-a35c-50b31dc9a4cc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.002037296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.002002570Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.491638020Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.499710069Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.585553214Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:55.593134643Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.001955081Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:43:56.001973476Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RhQjIjnIURBX&quot;), &quot;username&quot;: String(&quot;user-4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;)})})})})
[2022-05-06T15:43:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMzQsImlhdCI6MTY1MTg1MTgzNCwiYXV0aF90aW1lIjoxNjUxODUxODMxLCJqdGkiOiJmZDM3YWEyNy1iYzUyLTQwZjctYWY4Yy02NGM1ZDJlNmY3M2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRaDA3eVRLTkxrSnM0cHhJdVU1WWpRIiwic2Vzc2lvbl9zdGF0ZSI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jPaX0tjKaxkCK4qGCoK1-CTUPWXCHmWSppER0ENM43uwqjieBW2MyGTGc-LQh54_57g1HGolt2NE0ogLrCrWq2DCsDj3ni23cd37S29JnFMG5AAp5aFsbH8Ru7O9V6h7sanUUpnMzAt6ouozUiNk_d8cek9pCtuRuiObzCBiM_GiXmX8ubT-MLbptDiTOWF3Q8b9RkgTPBbWOJxTpsCgVFfeI0BBSKX8eGMr8ppy_yFwT_SGFATbTXgNxvSubBnf3UOzna33qkDYRtQ9CnKNoNvRfeko8Z1MBqS5SRFHckO_fYBTBW2nq26msjOG-Wr9R6bmPanQwmawn5_-vyGpqA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:43:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMzQsImlhdCI6MTY1MTg1MTgzNCwiYXV0aF90aW1lIjoxNjUxODUxODMxLCJqdGkiOiJmZDM3YWEyNy1iYzUyLTQwZjctYWY4Yy02NGM1ZDJlNmY3M2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRaDA3eVRLTkxrSnM0cHhJdVU1WWpRIiwic2Vzc2lvbl9zdGF0ZSI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jPaX0tjKaxkCK4qGCoK1-CTUPWXCHmWSppER0ENM43uwqjieBW2MyGTGc-LQh54_57g1HGolt2NE0ogLrCrWq2DCsDj3ni23cd37S29JnFMG5AAp5aFsbH8Ru7O9V6h7sanUUpnMzAt6ouozUiNk_d8cek9pCtuRuiObzCBiM_GiXmX8ubT-MLbptDiTOWF3Q8b9RkgTPBbWOJxTpsCgVFfeI0BBSKX8eGMr8ppy_yFwT_SGFATbTXgNxvSubBnf3UOzna33qkDYRtQ9CnKNoNvRfeko8Z1MBqS5SRFHckO_fYBTBW2nq26msjOG-Wr9R6bmPanQwmawn5_-vyGpqA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;162fbfdd-0480-40e4-a2b1-0f21321b53f9&quot;, persistence: None, user_data: None }
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed91700
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed91700
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed8fdd0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec484b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed90b60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxMzQsImlhdCI6MTY1MTg1MTgzNCwiYXV0aF90aW1lIjoxNjUxODUxODMxLCJqdGkiOiJmZDM3YWEyNy1iYzUyLTQwZjctYWY4Yy02NGM1ZDJlNmY3M2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRaDA3eVRLTkxrSnM0cHhJdVU1WWpRIiwic2Vzc2lvbl9zdGF0ZSI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBhNmZiN2NiLTYxYmYtNGU1NC1iNWQzLTBjNTAzMTRjNDUyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jPaX0tjKaxkCK4qGCoK1-CTUPWXCHmWSppER0ENM43uwqjieBW2MyGTGc-LQh54_57g1HGolt2NE0ogLrCrWq2DCsDj3ni23cd37S29JnFMG5AAp5aFsbH8Ru7O9V6h7sanUUpnMzAt6ouozUiNk_d8cek9pCtuRuiObzCBiM_GiXmX8ubT-MLbptDiTOWF3Q8b9RkgTPBbWOJxTpsCgVFfeI0BBSKX8eGMr8ppy_yFwT_SGFATbTXgNxvSubBnf3UOzna33qkDYRtQ9CnKNoNvRfeko8Z1MBqS5SRFHckO_fYBTBW2nq26msjOG-Wr9R6bmPanQwmawn5_-vyGpqA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:43:56Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;&#x27; @ QOS 0
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:43:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:43:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:43:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:43:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea080047c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08004a40 } }, data: MessageData { topic: &quot;app/4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 52, 97, 52, 49, 50, 97, 99, 45, 54, 53, 97, 53, 45, 52, 101, 53, 49, 45, 57, 57, 97, 50, 45, 54, 102, 97, 51, 52, 55, 98, 50, 100, 54, 99, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 97, 57, 97, 102, 49, 55, 55, 37, 50, 68, 102, 101, 49, 54, 37, 50, 68, 52, 97, 99, 97, 37, 50, 68, 98, 51, 98, 54, 37, 50, 68, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 48, 48, 46, 52, 56, 49, 54, 51, 56, 49, 49, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 51, 97, 98, 52, 100, 102, 57, 45, 55, 53, 51, 100, 45, 52, 50, 52, 48, 45, 57, 102, 50, 51, 45, 98, 101, 55, 99, 51, 100, 53, 53, 56, 52, 54, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 97, 57, 97, 102, 49, 55, 55, 45, 102, 101, 49, 54, 45, 52, 97, 99, 97, 45, 98, 51, 98, 54, 45, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 97, 57, 97, 102, 49, 55, 55, 37, 50, 68, 102, 101, 49, 54, 37, 50, 68, 52, 97, 99, 97, 37, 50, 68, 98, 51, 98, 54, 37, 50, 68, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 51, 97, 98, 52, 100, 102, 57, 45, 55, 53, 51, 100, 45, 52, 50, 52, 48, 45, 57, 102, 50, 51, 45, 98, 101, 55, 99, 51, 100, 53, 53, 56, 52, 54, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 57, 56, 100, 102, 50, 53, 53, 45, 54, 51, 99, 56, 45, 52, 50, 51, 102, 45, 97, 51, 53, 99, 45, 53, 48, 98, 51, 49, 100, 99, 57, 97, 52, 99, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08004a40 } } } }
[2022-05-06T15:44:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0079f0
[2022-05-06T15:44:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f4a412ac-65a5-4e51-99a2-6fa347b2d6c4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4a9af177%2Dfe16%2D4aca%2Db3b6%2D5ef9b58fb2a6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:00.481638112Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;53ab4df9-753d-4240-9f23-be7c3d558464\&quot;,\&quot;application\&quot;:\&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;,\&quot;partitionkey\&quot;:\&quot;4a9af177%2Dfe16%2D4aca%2Db3b6%2D5ef9b58fb2a6/device1\&quot;,\&quot;senderuid\&quot;:\&quot;53ab4df9-753d-4240-9f23-be7c3d558464\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;098df255-63c8-423f-a35c-50b31dc9a4cc\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:44:01Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a24c7325-e3fc-4748-b84d-035e3f2d4c02&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0d94f0
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0d94f0
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1b0e60, password: 0x55f42eede890, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eff8700, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f232a80, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08019ed0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801a160 } }, data: MessageData { topic: &quot;app/4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 57, 98, 99, 99, 49, 54, 102, 45, 100, 48, 98, 51, 45, 52, 57, 50, 57, 45, 97, 50, 101, 51, 45, 102, 51, 55, 52, 48, 55, 53, 99, 97, 102, 55, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 97, 57, 97, 102, 49, 55, 55, 37, 50, 68, 102, 101, 49, 54, 37, 50, 68, 52, 97, 99, 97, 37, 50, 68, 98, 51, 98, 54, 37, 50, 68, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 48, 49, 46, 53, 57, 57, 56, 48, 53, 55, 51, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 51, 97, 98, 52, 100, 102, 57, 45, 55, 53, 51, 100, 45, 52, 50, 52, 48, 45, 57, 102, 50, 51, 45, 98, 101, 55, 99, 51, 100, 53, 53, 56, 52, 54, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 97, 57, 97, 102, 49, 55, 55, 37, 50, 68, 102, 101, 49, 54, 37, 50, 68, 52, 97, 99, 97, 37, 50, 68, 98, 51, 98, 54, 37, 50, 68, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 51, 97, 98, 52, 100, 102, 57, 45, 55, 53, 51, 100, 45, 52, 50, 52, 48, 45, 57, 102, 50, 51, 45, 98, 101, 55, 99, 51, 100, 53, 53, 56, 52, 54, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 97, 57, 97, 102, 49, 55, 55, 45, 102, 101, 49, 54, 45, 52, 97, 99, 97, 45, 98, 51, 98, 54, 45, 53, 101, 102, 57, 98, 53, 56, 102, 98, 50, 97, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 57, 56, 100, 102, 50, 53, 53, 45, 54, 51, 99, 56, 45, 52, 50, 51, 102, 45, 97, 51, 53, 99, 45, 53, 48, 98, 51, 49, 100, 99, 57, 97, 52, 99, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0801a160 } } } }
[2022-05-06T15:44:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0079f0
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f9bcc16f-d0b3-4929-a2e3-f374075caf76\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4a9af177%2Dfe16%2D4aca%2Db3b6%2D5ef9b58fb2a6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:01.599805737Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;53ab4df9-753d-4240-9f23-be7c3d558464\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;4a9af177%2Dfe16%2D4aca%2Db3b6%2D5ef9b58fb2a6/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;53ab4df9-753d-4240-9f23-be7c3d558464\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6\&quot;,\&quot;applicationuid\&quot;:\&quot;098df255-63c8-423f-a35c-50b31dc9a4cc\&quot;}&quot; }
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eff9850 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eff9850 } } } }
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:44:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:44:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot; &quot;device1&quot;
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&#x27;
[2022-05-06T15:44:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6&quot;
[2022-05-06T15:44:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4a9af177-fe16-4aca-b3b6-5ef9b58fb2a6 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:44:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:44:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:44:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:44:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NDgsImlhdCI6MTY1MTg1MTg0OCwianRpIjoiNjkwZmI2NWUtMDc5ZC00YTE2LWI3YTUtODNiOWFlYzJkNDk4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjV0QUtRVDBWZ1ZMSkoyU0JNODFpOHciLCJzZXNzaW9uX3N0YXRlIjoiMDFjMzEyMzYtYjhlOS00OTUzLWI2ZDYtZjFmYTVjMmI3YmQ5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSJ9.Pdk23AQIwZblXara4jAFTZ-3VVdbuDGVgaIsvNNcJq4
[2022-05-06T15:44:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:44:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NDgsImlhdCI6MTY1MTg1MTg0OCwianRpIjoiNjkwZmI2NWUtMDc5ZC00YTE2LWI3YTUtODNiOWFlYzJkNDk4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjV0QUtRVDBWZ1ZMSkoyU0JNODFpOHciLCJzZXNzaW9uX3N0YXRlIjoiMDFjMzEyMzYtYjhlOS00OTUzLWI2ZDYtZjFmYTVjMmI3YmQ5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSJ9.Pdk23AQIwZblXara4jAFTZ-3VVdbuDGVgaIsvNNcJq4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:44:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 0d6e0c2f-a31b-4efe-98a6-7c292128476d
[2022-05-06T15:44:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;
[2022-05-06T15:44:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0d6e0c2f-a31b-4efe-98a6-7c292128476d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;
[2022-05-06T15:44:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:09.267314Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;31f2de1a-d507-452d-9d45-9d7664392d0f\&quot;,\n    \&quot;uid\&quot;: \&quot;aa749e58-680a-445b-96e5-c1b9eacfe211\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290285418Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290259148Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290189778Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290190810Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290191381Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290192053Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290192493Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.290237378Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:09.267314Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;), &quot;resourceVersion&quot;: String(&quot;31f2de1a-d507-452d-9d45-9d7664392d0f&quot;), &quot;uid&quot;: String(&quot;aa749e58-680a-445b-96e5-c1b9eacfe211&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290285418Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290259148Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290189778Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290190810Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290191381Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290192053Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290192493Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.290237378Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:44:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:09.267314Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2fbbba98-b625-49d1-ba67-61733c90d4af\&quot;,\n    \&quot;uid\&quot;: \&quot;aa749e58-680a-445b-96e5-c1b9eacfe211\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.650062952Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.650007398Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.314345931Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.321802487Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.413355242Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.418566107Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.649964507Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.649980527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QFEupE0IEI1G\&quot;,\n        \&quot;username\&quot;: \&quot;user-0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:09.267314Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;), &quot;resourceVersion&quot;: String(&quot;2fbbba98-b625-49d1-ba67-61733c90d4af&quot;), &quot;uid&quot;: String(&quot;aa749e58-680a-445b-96e5-c1b9eacfe211&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.650062952Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.650007398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.314345931Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.321802487Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.413355242Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.418566107Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.649964507Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.649980527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QFEupE0IEI1G&quot;), &quot;username&quot;: String(&quot;user-0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;)})})})})
[2022-05-06T15:44:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:09.267314Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2fbbba98-b625-49d1-ba67-61733c90d4af\&quot;,\n    \&quot;uid\&quot;: \&quot;aa749e58-680a-445b-96e5-c1b9eacfe211\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.650062952Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.650007398Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.314345931Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.321802487Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.413355242Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.418566107Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.649964507Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:09.649980527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QFEupE0IEI1G\&quot;,\n        \&quot;username\&quot;: \&quot;user-0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:09.267314Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;), &quot;resourceVersion&quot;: String(&quot;2fbbba98-b625-49d1-ba67-61733c90d4af&quot;), &quot;uid&quot;: String(&quot;aa749e58-680a-445b-96e5-c1b9eacfe211&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.650062952Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.650007398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.314345931Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.321802487Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.413355242Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.418566107Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.649964507Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:09.649980527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QFEupE0IEI1G&quot;), &quot;username&quot;: String(&quot;user-0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;)})})})})
[2022-05-06T15:44:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNDgsImlhdCI6MTY1MTg1MTg0OCwiYXV0aF90aW1lIjoxNjUxODUxODQ1LCJqdGkiOiI4ODdlYWQ2OS1kODljLTRiNDQtOTQ2ZS03NGEwZGRkMWVjNmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1dEFLUVQwVmdWTEpKMlNCTTgxaTh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VzUyBAq_4oyBZBvjM3HOKVM9gu4LO92JHIrnI2MrqXqBY-rZOIAPTBlZP4Vqc9MTSUvWZmddAqOiacyT0vqCPjp0ybgR9m580fLy1KEGJA5iSwHOBacrxV7-lFlOFTZY9-MjCAmOHZAV_akMByRqR-xoR4UIH7Vl1jyB8Tx1gdkD92cZjTeySGn-qeBecD5QkPcHE9DtpMEF-V6_Qh5n95xbeIHO3qzPBtHNJrq370As4lwWfPcmBU3JwU0wbf4tgHPRWWSYxvJpTgpnttrMVdOSk2tN0dWmCib00E9K5lU10WlyJz6miIJ1UZd-dSky3oLfxY6H-4FGAT-q03c52w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNDgsImlhdCI6MTY1MTg1MTg0OCwiYXV0aF90aW1lIjoxNjUxODUxODQ1LCJqdGkiOiI4ODdlYWQ2OS1kODljLTRiNDQtOTQ2ZS03NGEwZGRkMWVjNmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1dEFLUVQwVmdWTEpKMlNCTTgxaTh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VzUyBAq_4oyBZBvjM3HOKVM9gu4LO92JHIrnI2MrqXqBY-rZOIAPTBlZP4Vqc9MTSUvWZmddAqOiacyT0vqCPjp0ybgR9m580fLy1KEGJA5iSwHOBacrxV7-lFlOFTZY9-MjCAmOHZAV_akMByRqR-xoR4UIH7Vl1jyB8Tx1gdkD92cZjTeySGn-qeBecD5QkPcHE9DtpMEF-V6_Qh5n95xbeIHO3qzPBtHNJrq370As4lwWfPcmBU3JwU0wbf4tgHPRWWSYxvJpTgpnttrMVdOSk2tN0dWmCib00E9K5lU10WlyJz6miIJ1UZd-dSky3oLfxY6H-4FGAT-q03c52w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f92f168a-b822-4393-b815-096d8dc28750&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eca7050
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eca7050
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eeb45f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecbbd20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eeb5ea0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNDgsImlhdCI6MTY1MTg1MTg0OCwiYXV0aF90aW1lIjoxNjUxODUxODQ1LCJqdGkiOiI4ODdlYWQ2OS1kODljLTRiNDQtOTQ2ZS03NGEwZGRkMWVjNmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1dEFLUVQwVmdWTEpKMlNCTTgxaTh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxYzMxMjM2LWI4ZTktNDk1My1iNmQ2LWYxZmE1YzJiN2JkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VzUyBAq_4oyBZBvjM3HOKVM9gu4LO92JHIrnI2MrqXqBY-rZOIAPTBlZP4Vqc9MTSUvWZmddAqOiacyT0vqCPjp0ybgR9m580fLy1KEGJA5iSwHOBacrxV7-lFlOFTZY9-MjCAmOHZAV_akMByRqR-xoR4UIH7Vl1jyB8Tx1gdkD92cZjTeySGn-qeBecD5QkPcHE9DtpMEF-V6_Qh5n95xbeIHO3qzPBtHNJrq370As4lwWfPcmBU3JwU0wbf4tgHPRWWSYxvJpTgpnttrMVdOSk2tN0dWmCib00E9K5lU10WlyJz6miIJ1UZd-dSky3oLfxY6H-4FGAT-q03c52w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;&#x27; @ QOS 0
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea08015470, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea080156f0 } }, data: MessageData { topic: &quot;app/0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 52, 48, 101, 52, 102, 55, 52, 45, 57, 48, 52, 53, 45, 52, 56, 102, 99, 45, 56, 50, 102, 57, 45, 49, 100, 100, 52, 98, 100, 98, 102, 49, 49, 50, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 54, 101, 48, 99, 50, 102, 37, 50, 68, 97, 51, 49, 98, 37, 50, 68, 52, 101, 102, 101, 37, 50, 68, 57, 56, 97, 54, 37, 50, 68, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 49, 52, 46, 52, 55, 52, 50, 56, 48, 48, 50, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 54, 101, 48, 99, 50, 102, 45, 97, 51, 49, 98, 45, 52, 101, 102, 101, 45, 57, 56, 97, 54, 45, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 54, 101, 48, 99, 50, 102, 37, 50, 68, 97, 51, 49, 98, 37, 50, 68, 52, 101, 102, 101, 37, 50, 68, 57, 56, 97, 54, 37, 50, 68, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 98, 50, 54, 50, 51, 51, 100, 45, 97, 99, 50, 56, 45, 52, 53, 56, 52, 45, 57, 98, 101, 97, 45, 100, 98, 100, 56, 52, 98, 55, 102, 102, 57, 57, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 98, 50, 54, 50, 51, 51, 100, 45, 97, 99, 50, 56, 45, 52, 53, 56, 52, 45, 57, 98, 101, 97, 45, 100, 98, 100, 56, 52, 98, 55, 102, 102, 57, 57, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 97, 55, 52, 57, 101, 53, 56, 45, 54, 56, 48, 97, 45, 52, 52, 53, 98, 45, 57, 54, 101, 53, 45, 99, 49, 98, 57, 101, 97, 99, 102, 101, 50, 49, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea080156f0 } } } }
[2022-05-06T15:44:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10003ec0
[2022-05-06T15:44:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;640e4f74-9045-48fc-82f9-1dd4bdbf1120\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d6e0c2f%2Da31b%2D4efe%2D98a6%2D7c292128476d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:14.474280027Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;,\&quot;partitionkey\&quot;:\&quot;0d6e0c2f%2Da31b%2D4efe%2D98a6%2D7c292128476d/device1\&quot;,\&quot;senderuid\&quot;:\&quot;cb26233d-ac28-4584-9bea-dbd84b7ff99a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;cb26233d-ac28-4584-9bea-dbd84b7ff99a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;aa749e58-680a-445b-96e5-c1b9eacfe211\&quot;}&quot; }
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:44:15Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;2da7e8a3-cb12-4952-9bb6-a9ebdac8e9f3&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eeca100
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eeca100
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ed087f0, password: 0x55f42eda6e50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed85e20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed08560, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08031bf0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08031e80 } }, data: MessageData { topic: &quot;app/0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 50, 98, 53, 50, 52, 97, 101, 45, 54, 99, 98, 55, 45, 52, 102, 49, 97, 45, 56, 54, 48, 98, 45, 56, 97, 53, 52, 99, 98, 102, 54, 56, 100, 100, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 54, 101, 48, 99, 50, 102, 37, 50, 68, 97, 51, 49, 98, 37, 50, 68, 52, 101, 102, 101, 37, 50, 68, 57, 56, 97, 54, 37, 50, 68, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 49, 53, 46, 53, 56, 57, 54, 53, 51, 50, 51, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 98, 50, 54, 50, 51, 51, 100, 45, 97, 99, 50, 56, 45, 52, 53, 56, 52, 45, 57, 98, 101, 97, 45, 100, 98, 100, 56, 52, 98, 55, 102, 102, 57, 57, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 97, 55, 52, 57, 101, 53, 56, 45, 54, 56, 48, 97, 45, 52, 52, 53, 98, 45, 57, 54, 101, 53, 45, 99, 49, 98, 57, 101, 97, 99, 102, 101, 50, 49, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 54, 101, 48, 99, 50, 102, 45, 97, 51, 49, 98, 45, 52, 101, 102, 101, 45, 57, 56, 97, 54, 45, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 98, 50, 54, 50, 51, 51, 100, 45, 97, 99, 50, 56, 45, 52, 53, 56, 52, 45, 57, 98, 101, 97, 45, 100, 98, 100, 56, 52, 98, 55, 102, 102, 57, 57, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 54, 101, 48, 99, 50, 102, 37, 50, 68, 97, 51, 49, 98, 37, 50, 68, 52, 101, 102, 101, 37, 50, 68, 57, 56, 97, 54, 37, 50, 68, 55, 99, 50, 57, 50, 49, 50, 56, 52, 55, 54, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08031e80 } } } }
[2022-05-06T15:44:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea080198c0
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;72b524ae-6cb7-4f1a-860b-8a54cbf68dd0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d6e0c2f%2Da31b%2D4efe%2D98a6%2D7c292128476d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:15.589653237Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;cb26233d-ac28-4584-9bea-dbd84b7ff99a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;aa749e58-680a-445b-96e5-c1b9eacfe211\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d\&quot;,\&quot;deviceuid\&quot;:\&quot;cb26233d-ac28-4584-9bea-dbd84b7ff99a\&quot;,\&quot;partitionkey\&quot;:\&quot;0d6e0c2f%2Da31b%2D4efe%2D98a6%2D7c292128476d/device1\&quot;}&quot; }
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed26110 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed26110 } } } }
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:44:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:44:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot; &quot;device1&quot;
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0d6e0c2f-a31b-4efe-98a6-7c292128476d&#x27;
[2022-05-06T15:44:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0d6e0c2f-a31b-4efe-98a6-7c292128476d&quot;
[2022-05-06T15:44:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0d6e0c2f-a31b-4efe-98a6-7c292128476d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:44:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:44:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:44:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:44:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NjIsImlhdCI6MTY1MTg1MTg2MiwianRpIjoiZjE3MzdiZjktMWM2Mi00NmQ4LWJjOWYtZmFhNjM1NjcwNjE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJYNkxtVmhFQlBtX2dROXVKNWlZYmciLCJzZXNzaW9uX3N0YXRlIjoiYWM1OGI5MTQtZTNhZi00MmVkLWJmZGUtYzdlM2EwMjg0YjUyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiJ9.GO5CLm9iND9h60vkBLQCjEejQRvPBXD3ffPDuEkfu_E
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NjIsImlhdCI6MTY1MTg1MTg2MiwianRpIjoiZjE3MzdiZjktMWM2Mi00NmQ4LWJjOWYtZmFhNjM1NjcwNjE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJYNkxtVmhFQlBtX2dROXVKNWlZYmciLCJzZXNzaW9uX3N0YXRlIjoiYWM1OGI5MTQtZTNhZi00MmVkLWJmZGUtYzdlM2EwMjg0YjUyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiJ9.GO5CLm9iND9h60vkBLQCjEejQRvPBXD3ffPDuEkfu_E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::resources::apps] Create application: 17f67577-23b2-4b89-8007-11b1624bccf4
[2022-05-06T15:44:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;
[2022-05-06T15:44:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 17f67577-23b2-4b89-8007-11b1624bccf4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;
[2022-05-06T15:44:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:23.011489Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;17f67577-23b2-4b89-8007-11b1624bccf4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;69a05d7c-641c-4a57-a1b4-afabf425110c\&quot;,\n    \&quot;uid\&quot;: \&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:23.011489Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;), &quot;resourceVersion&quot;: String(&quot;69a05d7c-641c-4a57-a1b4-afabf425110c&quot;), &quot;uid&quot;: String(&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9&quot;)})})
[2022-05-06T15:44:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:23.011489Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;17f67577-23b2-4b89-8007-11b1624bccf4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;93ba7986-4ff2-4939-842f-129ff9ac7ed7\&quot;,\n    \&quot;uid\&quot;: \&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538314673Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538270852Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.082745038Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.088498891Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.203416076Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.210358006Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538130518Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538148452Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;dyo8WIA9XwtI\&quot;,\n        \&quot;username\&quot;: \&quot;user-17f67577-23b2-4b89-8007-11b1624bccf4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:23.011489Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;), &quot;resourceVersion&quot;: String(&quot;93ba7986-4ff2-4939-842f-129ff9ac7ed7&quot;), &quot;uid&quot;: String(&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538314673Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538270852Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.082745038Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.088498891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.203416076Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.210358006Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538130518Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538148452Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;dyo8WIA9XwtI&quot;), &quot;username&quot;: String(&quot;user-17f67577-23b2-4b89-8007-11b1624bccf4&quot;)})})})})
[2022-05-06T15:44:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:23.011489Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;17f67577-23b2-4b89-8007-11b1624bccf4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;93ba7986-4ff2-4939-842f-129ff9ac7ed7\&quot;,\n    \&quot;uid\&quot;: \&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538314673Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538270852Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.082745038Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.088498891Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.203416076Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.210358006Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538130518Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:23.538148452Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;dyo8WIA9XwtI\&quot;,\n        \&quot;username\&quot;: \&quot;user-17f67577-23b2-4b89-8007-11b1624bccf4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:23.011489Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;), &quot;resourceVersion&quot;: String(&quot;93ba7986-4ff2-4939-842f-129ff9ac7ed7&quot;), &quot;uid&quot;: String(&quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538314673Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538270852Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.082745038Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.088498891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.203416076Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.210358006Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538130518Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:23.538148452Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;dyo8WIA9XwtI&quot;), &quot;username&quot;: String(&quot;user-17f67577-23b2-4b89-8007-11b1624bccf4&quot;)})})})})
[2022-05-06T15:44:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNjIsImlhdCI6MTY1MTg1MTg2MiwiYXV0aF90aW1lIjoxNjUxODUxODU5LCJqdGkiOiI5NzZkMjJiOS05OWI1LTQ2N2UtOWQwOS1lMDc0OTE2Y2ExYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJyWDZMbVZoRUJQbV9nUTl1SjVpWWJnIiwic2Vzc2lvbl9zdGF0ZSI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hyk-Qa42hJn3Nr_GharTCovSMhWcKi4NZoeuWhcdH9AKQWs2nXykbwLeqkWrs4PP54b2K5s5wg0w0jeegLxMjjO3e6HIcguHD5fD_9zd9QYDr_YsxTWH2iqNFKIhwW2vRgK1hQsHyxaauOCkyeGlMtzb3MeD2uJZAkyQf7LAPoUoPvUJxBjIac5LUei-2RWDPmOTx3q39AAuFsy-PLxraYmmDAC8zgLRwVEoJIMOcm5adVl6kpsQOZW3q4J4PaJ61dyctP6hi-K-Xiip4IZ3FhRQ4U5pmscDC-_sQjSg3JdVkP49LK1KsY_9YntIrIPVvtkqC0sMGYNjrGzvALzc7A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNjIsImlhdCI6MTY1MTg1MTg2MiwiYXV0aF90aW1lIjoxNjUxODUxODU5LCJqdGkiOiI5NzZkMjJiOS05OWI1LTQ2N2UtOWQwOS1lMDc0OTE2Y2ExYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJyWDZMbVZoRUJQbV9nUTl1SjVpWWJnIiwic2Vzc2lvbl9zdGF0ZSI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hyk-Qa42hJn3Nr_GharTCovSMhWcKi4NZoeuWhcdH9AKQWs2nXykbwLeqkWrs4PP54b2K5s5wg0w0jeegLxMjjO3e6HIcguHD5fD_9zd9QYDr_YsxTWH2iqNFKIhwW2vRgK1hQsHyxaauOCkyeGlMtzb3MeD2uJZAkyQf7LAPoUoPvUJxBjIac5LUei-2RWDPmOTx3q39AAuFsy-PLxraYmmDAC8zgLRwVEoJIMOcm5adVl6kpsQOZW3q4J4PaJ61dyctP6hi-K-Xiip4IZ3FhRQ4U5pmscDC-_sQjSg3JdVkP49LK1KsY_9YntIrIPVvtkqC0sMGYNjrGzvALzc7A\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;6b954c3c-5a52-48ec-8659-a9378579ceb8&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eddd9d0
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eddd9d0
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed51cf0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eff6bf0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed50e30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNjIsImlhdCI6MTY1MTg1MTg2MiwiYXV0aF90aW1lIjoxNjUxODUxODU5LCJqdGkiOiI5NzZkMjJiOS05OWI1LTQ2N2UtOWQwOS1lMDc0OTE2Y2ExYzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJyWDZMbVZoRUJQbV9nUTl1SjVpWWJnIiwic2Vzc2lvbl9zdGF0ZSI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjNThiOTE0LWUzYWYtNDJlZC1iZmRlLWM3ZTNhMDI4NGI1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hyk-Qa42hJn3Nr_GharTCovSMhWcKi4NZoeuWhcdH9AKQWs2nXykbwLeqkWrs4PP54b2K5s5wg0w0jeegLxMjjO3e6HIcguHD5fD_9zd9QYDr_YsxTWH2iqNFKIhwW2vRgK1hQsHyxaauOCkyeGlMtzb3MeD2uJZAkyQf7LAPoUoPvUJxBjIac5LUei-2RWDPmOTx3q39AAuFsy-PLxraYmmDAC8zgLRwVEoJIMOcm5adVl6kpsQOZW3q4J4PaJ61dyctP6hi-K-Xiip4IZ3FhRQ4U5pmscDC-_sQjSg3JdVkP49LK1KsY_9YntIrIPVvtkqC0sMGYNjrGzvALzc7A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/17f67577-23b2-4b89-8007-11b1624bccf4&quot;&#x27; @ QOS 0
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea08027600, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fe9f002acd0 } }, data: MessageData { topic: &quot;app/17f67577-23b2-4b89-8007-11b1624bccf4&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fe9f002acd0 } } } }
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f277cd0, 0x55f42f276bb0
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f276bb0, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f276bb0, 0x55f42ef93340
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef93340, 0x7fea0c006020
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef93340, 0x7fea0c005330
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005330, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c005330, 0x7fea0c003ad0
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ad0, 0x55f42f276d50
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ad0, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003ad0, 0x7fea0c003b50
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b50, 0x7fea0c003bb0
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003bb0, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003bb0, 0x55f42edaaf90
[2022-05-06T15:44:27Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c003bb0
[2022-05-06T15:44:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/17f67577-23b2-4b89-8007-11b1624bccf4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;, &quot;deviceuid&quot;: &quot;cb2c124e-0aaa-46aa-9988-118630df982c&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;aab23433-8d17-41fb-88c9-ca282cfc1c55&quot;, &quot;partitionkey&quot;: &quot;17f67577%2D23b2%2D4b89%2D8007%2D11b1624bccf4/device1&quot;, &quot;applicationuid&quot;: &quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9&quot;, &quot;source&quot;: &quot;drogue://17f67577%2D23b2%2D4b89%2D8007%2D11b1624bccf4/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:44:27.484161793+00:00&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;senderuid&quot;: &quot;cb2c124e-0aaa-46aa-9988-118630df982c&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:44:28Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a303dd0f-5346-4d09-9192-5fe933e29a4e&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee44aa0
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee44aa0
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f277f00, password: 0x55f42f2797b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eeb1180, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f276c90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@17f67577-23b2-4b89-8007-11b1624bccf4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08016a70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fe9f0020ac0 } }, data: MessageData { topic: &quot;app/17f67577-23b2-4b89-8007-11b1624bccf4&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fe9f0020ac0 } } } }
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f277cd0, 0x55f42f276a60
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f276a60, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f276a60, 0x7fea0c003c10
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003c10, 0x7fea0802fc20
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003c10, 0x7fea0c003bb0
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003bb0, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003bb0, 0x7fea0c003b90
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea0c003af0
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003af0, 0x7fea0c003b90
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea08027680
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003b90, 0x7fea0c003c30
[2022-05-06T15:44:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c003b90
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ef24cc0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ef24cc0 } } } }
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/17f67577-23b2-4b89-8007-11b1624bccf4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;17f67577%2D23b2%2D4b89%2D8007%2D11b1624bccf4/device1&quot;, &quot;senderuid&quot;: &quot;cb2c124e-0aaa-46aa-9988-118630df982c&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://17f67577%2D23b2%2D4b89%2D8007%2D11b1624bccf4/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:44:28.814975334+00:00&quot;, &quot;applicationuid&quot;: &quot;fefeeef5-2cfd-4240-a0de-8de0133fb7d9&quot;, &quot;id&quot;: &quot;a82f7232-c4ec-4baa-bb2d-46c94459a262&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;, &quot;deviceuid&quot;: &quot;cb2c124e-0aaa-46aa-9988-118630df982c&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:44:28Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:44:28Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot; &quot;device1&quot;
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;17f67577-23b2-4b89-8007-11b1624bccf4&#x27;
[2022-05-06T15:44:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;17f67577-23b2-4b89-8007-11b1624bccf4&quot;
[2022-05-06T15:44:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 17f67577-23b2-4b89-8007-11b1624bccf4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:44:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:44:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:44:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:44:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NzUsImlhdCI6MTY1MTg1MTg3NSwianRpIjoiN2UwYzk3NTgtY2Y2OC00ODA4LTg0NTAtZmRiZWMzZDE1YzMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBMbGxXTFZhUk9qeURGYlRodTN6SXciLCJzZXNzaW9uX3N0YXRlIjoiMGUzNjA3NGMtYmM2Ni00M2EyLWFlNDgtNzE1MTgxMDA1OGFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCJ9.IaqLDYKbI0euzwkRF_2RNKVOIhwhOfLzPgnKAMgqzQE
[2022-05-06T15:44:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:44:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2NzUsImlhdCI6MTY1MTg1MTg3NSwianRpIjoiN2UwYzk3NTgtY2Y2OC00ODA4LTg0NTAtZmRiZWMzZDE1YzMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBMbGxXTFZhUk9qeURGYlRodTN6SXciLCJzZXNzaW9uX3N0YXRlIjoiMGUzNjA3NGMtYmM2Ni00M2EyLWFlNDgtNzE1MTgxMDA1OGFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCJ9.IaqLDYKbI0euzwkRF_2RNKVOIhwhOfLzPgnKAMgqzQE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:44:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 30960f90-d0f6-4f11-b9cd-22274ecbb1e7
[2022-05-06T15:44:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;
[2022-05-06T15:44:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 30960f90-d0f6-4f11-b9cd-22274ecbb1e7 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;
[2022-05-06T15:44:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:36.077991Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;28624ea8-27a4-4648-be93-d4fc4f0c138c\&quot;,\n    \&quot;uid\&quot;: \&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091515761Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091558892Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091362455Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091364157Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091365100Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091366212Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091367965Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.091414161Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:36.077991Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;), &quot;resourceVersion&quot;: String(&quot;28624ea8-27a4-4648-be93-d4fc4f0c138c&quot;), &quot;uid&quot;: String(&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091515761Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091558892Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091362455Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091364157Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091365100Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091366212Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091367965Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.091414161Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:44:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:36.077991Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ec1764da-b017-4880-aac0-963bc817e0cb\&quot;,\n    \&quot;uid\&quot;: \&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526529891Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526584594Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.119201670Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.126799589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.199716498Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.211983478Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526410929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526429754Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;d1wz5188v92x\&quot;,\n        \&quot;username\&quot;: \&quot;user-30960f90-d0f6-4f11-b9cd-22274ecbb1e7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:36.077991Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;), &quot;resourceVersion&quot;: String(&quot;ec1764da-b017-4880-aac0-963bc817e0cb&quot;), &quot;uid&quot;: String(&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526529891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526584594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.119201670Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.126799589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.199716498Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.211983478Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526410929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526429754Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;d1wz5188v92x&quot;), &quot;username&quot;: String(&quot;user-30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;)})})})})
[2022-05-06T15:44:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:36.077991Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ec1764da-b017-4880-aac0-963bc817e0cb\&quot;,\n    \&quot;uid\&quot;: \&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526529891Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526584594Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.119201670Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.126799589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.199716498Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.211983478Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526410929Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:36.526429754Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;d1wz5188v92x\&quot;,\n        \&quot;username\&quot;: \&quot;user-30960f90-d0f6-4f11-b9cd-22274ecbb1e7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:36.077991Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;), &quot;resourceVersion&quot;: String(&quot;ec1764da-b017-4880-aac0-963bc817e0cb&quot;), &quot;uid&quot;: String(&quot;748c1125-59c8-4704-bd7f-3f3be71ad89b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526529891Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526584594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.119201670Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.126799589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.199716498Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.211983478Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526410929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:36.526429754Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;d1wz5188v92x&quot;), &quot;username&quot;: String(&quot;user-30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;)})})})})
[2022-05-06T15:44:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNzUsImlhdCI6MTY1MTg1MTg3NSwiYXV0aF90aW1lIjoxNjUxODUxODcyLCJqdGkiOiIzYTZiNDI4Yi1hYjJkLTRkZGItYWY2Ny0xYTdlZWFkZjZhN2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwTGxsV0xWYVJPanlERmJUaHUzekl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.d6gkH4k_UAxZC8C0R9tpI-MaFRlP2Bz3LPKjIYFgeOPI9uDjPNi5Fw4mEhKLOC53HbZwwiuvBzISnE2l6O9NNTkgTlt-Qg98zfaYQZqm0QB5MkKXKgZxzOnXBC2DhkI_-WVnDbO7BrhCQmAECACluFtvIzRMp4tHRxUWKcu0qg3-LfbZaoODnIaJhCyrFLSriJd9tbN33Mb0lTRe5aefJgf0VZHART_AbfOF0LgAv_uZJfra6o14oagkDZWiiMYocEMjD6tjg94a1DllomtKVaXnErxFvRUug90IYAmEx0Yvi3RTIYR96jQ48OxiW4zS8h9GDdmMYmzSskjuIMBTMA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNzUsImlhdCI6MTY1MTg1MTg3NSwiYXV0aF90aW1lIjoxNjUxODUxODcyLCJqdGkiOiIzYTZiNDI4Yi1hYjJkLTRkZGItYWY2Ny0xYTdlZWFkZjZhN2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwTGxsV0xWYVJPanlERmJUaHUzekl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.d6gkH4k_UAxZC8C0R9tpI-MaFRlP2Bz3LPKjIYFgeOPI9uDjPNi5Fw4mEhKLOC53HbZwwiuvBzISnE2l6O9NNTkgTlt-Qg98zfaYQZqm0QB5MkKXKgZxzOnXBC2DhkI_-WVnDbO7BrhCQmAECACluFtvIzRMp4tHRxUWKcu0qg3-LfbZaoODnIaJhCyrFLSriJd9tbN33Mb0lTRe5aefJgf0VZHART_AbfOF0LgAv_uZJfra6o14oagkDZWiiMYocEMjD6tjg94a1DllomtKVaXnErxFvRUug90IYAmEx0Yvi3RTIYR96jQ48OxiW4zS8h9GDdmMYmzSskjuIMBTMA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;3d2feebd-0644-42fc-8bca-0c6f940d96d1&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee204c0
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee204c0
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee1d860, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee635c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eda85a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxNzUsImlhdCI6MTY1MTg1MTg3NSwiYXV0aF90aW1lIjoxNjUxODUxODcyLCJqdGkiOiIzYTZiNDI4Yi1hYjJkLTRkZGItYWY2Ny0xYTdlZWFkZjZhN2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwTGxsV0xWYVJPanlERmJUaHUzekl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlMzYwNzRjLWJjNjYtNDNhMi1hZTQ4LTcxNTE4MTAwNThhZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.d6gkH4k_UAxZC8C0R9tpI-MaFRlP2Bz3LPKjIYFgeOPI9uDjPNi5Fw4mEhKLOC53HbZwwiuvBzISnE2l6O9NNTkgTlt-Qg98zfaYQZqm0QB5MkKXKgZxzOnXBC2DhkI_-WVnDbO7BrhCQmAECACluFtvIzRMp4tHRxUWKcu0qg3-LfbZaoODnIaJhCyrFLSriJd9tbN33Mb0lTRe5aefJgf0VZHART_AbfOF0LgAv_uZJfra6o14oagkDZWiiMYocEMjD6tjg94a1DllomtKVaXnErxFvRUug90IYAmEx0Yvi3RTIYR96jQ48OxiW4zS8h9GDdmMYmzSskjuIMBTMA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:37Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;&#x27; @ QOS 0
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:38Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:38Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea08034420, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42eeb3f70 } }, data: MessageData { topic: &quot;app/30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42eeb3f70 } } } }
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d38f0, 0x55f42edba610
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42edba610, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42edba610, 0x7fea0c003930
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003930, 0x7fea0c0052a0
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003930, 0x7fea10001eb0
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001eb0, 0x7fea10000cf0
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cf0, 0x55f42edba440
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cf0, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cf0, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cf0, 0x7fea10006160
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006160, 0x55f42eef9b30
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006160, 0x7fea100061f0
[2022-05-06T15:44:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100061f0
[2022-05-06T15:44:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;94468092-eadb-4677-8e8f-07fffc9af3b3&quot;, &quot;time&quot;: &quot;2022-05-06T15:44:40.490811470+00:00&quot;, &quot;application&quot;: &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, &quot;source&quot;: &quot;drogue://30960f90%2Dd0f6%2D4f11%2Db9cd%2D22274ecbb1e7/device1&quot;, &quot;deviceuid&quot;: &quot;af52eb9c-21fc-4d8c-919e-354160787645&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;30960f90%2Dd0f6%2D4f11%2Db9cd%2D22274ecbb1e7/device1&quot;, &quot;senderuid&quot;: &quot;af52eb9c-21fc-4d8c-919e-354160787645&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;748c1125-59c8-4704-bd7f-3f3be71ad89b&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:44:41Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;b3fcc576-91dd-44cc-b4f4-c8713802ef6a&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed93e40
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed93e40
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ef853e0, password: 0x55f42f0ffbb0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee47b00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ef854a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08010d30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f079fc0 } }, data: MessageData { topic: &quot;app/30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f079fc0 } } } }
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000cd0, 0x55f42edba610
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42edba610, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42edba610, 0x55f42f1d38f0
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d38f0, 0x7fea08034800
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d38f0, 0x7fea100061f0
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100061f0, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100061f0, 0x7fea10003a70
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea10006160
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006160, 0x7fea10003a70
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea0802c960
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003a70, 0x7fea08034700
[2022-05-06T15:44:41Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10003a70
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://30960f90%2Dd0f6%2D4f11%2Db9cd%2D22274ecbb1e7/device1&quot;, &quot;application&quot;: &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, &quot;senderuid&quot;: &quot;af52eb9c-21fc-4d8c-919e-354160787645&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;partitionkey&quot;: &quot;30960f90%2Dd0f6%2D4f11%2Db9cd%2D22274ecbb1e7/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;af52eb9c-21fc-4d8c-919e-354160787645&quot;, &quot;id&quot;: &quot;9164f5d3-4182-4913-a99e-822006ba3e03&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;time&quot;: &quot;2022-05-06T15:44:41.863256648+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;748c1125-59c8-4704-bd7f-3f3be71ad89b&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efa50a0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efa50a0 } } } }
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:44:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:44:41Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:44:41Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot; &quot;device1&quot;
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&#x27;
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;30960f90-d0f6-4f11-b9cd-22274ecbb1e7&quot;
[2022-05-06T15:44:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 30960f90-d0f6-4f11-b9cd-22274ecbb1e7 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:44:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:44:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:44:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:44:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2ODgsImlhdCI6MTY1MTg1MTg4OCwianRpIjoiMTNkZTBkZDQtYzgyMy00YThmLTlmMWUtZjNmMDNkMmNlYmFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1LM2RBa0lxbkZLc05YbmZQZFEzb0EiLCJzZXNzaW9uX3N0YXRlIjoiMDUwNmZkMTQtODEwMC00NWZhLTg5MjMtNGFkMjFmYTQ3ZGUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyJ9.xDolbHXKMIimSSNUqNkLZlCNpCi9X226SfzOaD5d_Jw
[2022-05-06T15:44:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:44:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM2ODgsImlhdCI6MTY1MTg1MTg4OCwianRpIjoiMTNkZTBkZDQtYzgyMy00YThmLTlmMWUtZjNmMDNkMmNlYmFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1LM2RBa0lxbkZLc05YbmZQZFEzb0EiLCJzZXNzaW9uX3N0YXRlIjoiMDUwNmZkMTQtODEwMC00NWZhLTg5MjMtNGFkMjFmYTQ3ZGUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyJ9.xDolbHXKMIimSSNUqNkLZlCNpCi9X226SfzOaD5d_Jw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:44:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:49Z INFO  drogue_cloud_tests::resources::apps] Create application: 4962c6a6-a89c-4d40-9254-5c294288f8bf
[2022-05-06T15:44:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;
[2022-05-06T15:44:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4962c6a6-a89c-4d40-9254-5c294288f8bf created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;
[2022-05-06T15:44:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:49.422912Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d1ed8c24-76d2-4950-9e4f-42bb33f1192b\&quot;,\n    \&quot;uid\&quot;: \&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438236651Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438407121Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438046865Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438048659Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438067223Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438069708Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438070399Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.438162151Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:49.422912Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;), &quot;resourceVersion&quot;: String(&quot;d1ed8c24-76d2-4950-9e4f-42bb33f1192b&quot;), &quot;uid&quot;: String(&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438236651Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438407121Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438046865Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438048659Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438067223Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438069708Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438070399Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.438162151Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:44:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:49.422912Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;399534d1-6b93-4fce-8c56-0889022bc48e\&quot;,\n    \&quot;uid\&quot;: \&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.770032232Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.770140665Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.468443523Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.475923122Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.528848963Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.534217055Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.769937786Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.769987067Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;MWynp9PChZ2Q\&quot;,\n        \&quot;username\&quot;: \&quot;user-4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:49.422912Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;), &quot;resourceVersion&quot;: String(&quot;399534d1-6b93-4fce-8c56-0889022bc48e&quot;), &quot;uid&quot;: String(&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.770032232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.770140665Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.468443523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.475923122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.528848963Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.534217055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.769937786Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.769987067Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;MWynp9PChZ2Q&quot;), &quot;username&quot;: String(&quot;user-4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;)})})})})
[2022-05-06T15:44:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:44:49.422912Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;399534d1-6b93-4fce-8c56-0889022bc48e\&quot;,\n    \&quot;uid\&quot;: \&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.770032232Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.770140665Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.468443523Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.475923122Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.528848963Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.534217055Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.769937786Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:44:49.769987067Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;MWynp9PChZ2Q\&quot;,\n        \&quot;username\&quot;: \&quot;user-4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:44:49.422912Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;), &quot;resourceVersion&quot;: String(&quot;399534d1-6b93-4fce-8c56-0889022bc48e&quot;), &quot;uid&quot;: String(&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.770032232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.770140665Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.468443523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.475923122Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.528848963Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.534217055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.769937786Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:44:49.769987067Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;MWynp9PChZ2Q&quot;), &quot;username&quot;: String(&quot;user-4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;)})})})})
[2022-05-06T15:44:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxODgsImlhdCI6MTY1MTg1MTg4OCwiYXV0aF90aW1lIjoxNjUxODUxODg1LCJqdGkiOiIyYTkzMTYzMC1jZjA4LTQyZjYtYjFiYy0xOTI4Mjg5ODhjYTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtSzNkQWtJcW5GS3NOWG5mUGRRM29BIiwic2Vzc2lvbl9zdGF0ZSI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.c1weD5aUOPMnVmdwLHwPA08cII2uQE7a0KQO4GcqPn2ch3W8pYbvA8I5Drh43ziQ5VdYgJWrvxdA1nG9g4kNJi58eO08Y7NmA0MbNuj4VueRhIDeroOJ6XJhI-wNPB_tH2O4ny6LQpBJZ97yKtdvNaYrCWIQTonRXbGHkXgRNlPzrSlXwN14xAu6oHCYZmbaeddmvPvSaa0ViXN5NU5toIABTHis-HLawtawfTYoUgDYPQvi35Rqa1StxNGHDzt7EgjpSIaSdyrjMcd7-GCyBgDXipb0rQL8xHoSBnuPWQyChFkZHdPfC2j9WVi-nOZKul6kpLNmvU-OxH_uBEYzRA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxODgsImlhdCI6MTY1MTg1MTg4OCwiYXV0aF90aW1lIjoxNjUxODUxODg1LCJqdGkiOiIyYTkzMTYzMC1jZjA4LTQyZjYtYjFiYy0xOTI4Mjg5ODhjYTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtSzNkQWtJcW5GS3NOWG5mUGRRM29BIiwic2Vzc2lvbl9zdGF0ZSI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.c1weD5aUOPMnVmdwLHwPA08cII2uQE7a0KQO4GcqPn2ch3W8pYbvA8I5Drh43ziQ5VdYgJWrvxdA1nG9g4kNJi58eO08Y7NmA0MbNuj4VueRhIDeroOJ6XJhI-wNPB_tH2O4ny6LQpBJZ97yKtdvNaYrCWIQTonRXbGHkXgRNlPzrSlXwN14xAu6oHCYZmbaeddmvPvSaa0ViXN5NU5toIABTHis-HLawtawfTYoUgDYPQvi35Rqa1StxNGHDzt7EgjpSIaSdyrjMcd7-GCyBgDXipb0rQL8xHoSBnuPWQyChFkZHdPfC2j9WVi-nOZKul6kpLNmvU-OxH_uBEYzRA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;e0600aea-a98e-4949-9856-442f0dcb0439&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eeb3500
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eeb3500
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ee501a0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecc4800, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee4fd50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIxODgsImlhdCI6MTY1MTg1MTg4OCwiYXV0aF90aW1lIjoxNjUxODUxODg1LCJqdGkiOiIyYTkzMTYzMC1jZjA4LTQyZjYtYjFiYy0xOTI4Mjg5ODhjYTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtSzNkQWtJcW5GS3NOWG5mUGRRM29BIiwic2Vzc2lvbl9zdGF0ZSI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDZmZDE0LTgxMDAtNDVmYS04OTIzLTRhZDIxZmE0N2RlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.c1weD5aUOPMnVmdwLHwPA08cII2uQE7a0KQO4GcqPn2ch3W8pYbvA8I5Drh43ziQ5VdYgJWrvxdA1nG9g4kNJi58eO08Y7NmA0MbNuj4VueRhIDeroOJ6XJhI-wNPB_tH2O4ny6LQpBJZ97yKtdvNaYrCWIQTonRXbGHkXgRNlPzrSlXwN14xAu6oHCYZmbaeddmvPvSaa0ViXN5NU5toIABTHis-HLawtawfTYoUgDYPQvi35Rqa1StxNGHDzt7EgjpSIaSdyrjMcd7-GCyBgDXipb0rQL8xHoSBnuPWQyChFkZHdPfC2j9WVi-nOZKul6kpLNmvU-OxH_uBEYzRA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:50Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;&#x27; @ QOS 0
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:44:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:44:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:44:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:44:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea080215b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 48, 51, 54, 50, 55, 49, 98, 45, 99, 48, 100, 54, 45, 52, 101, 99, 48, 45, 56, 97, 53, 48, 45, 48, 48, 97, 99, 51, 51, 99, 100, 55, 56, 57, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 57, 54, 50, 99, 54, 97, 54, 37, 50, 68, 97, 56, 57, 99, 37, 50, 68, 52, 100, 52, 48, 37, 50, 68, 57, 50, 53, 52, 37, 50, 68, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 53, 52, 46, 52, 57, 56, 55, 50, 56, 48, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 48, 101, 100, 52, 55, 100, 98, 45, 97, 98, 48, 98, 45, 52, 48, 99, 51, 45, 97, 53, 50, 100, 45, 52, 54, 97, 97, 97, 99, 52, 56, 100, 49, 48, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 57, 54, 50, 99, 54, 97, 54, 37, 50, 68, 97, 56, 57, 99, 37, 50, 68, 52, 100, 52, 48, 37, 50, 68, 57, 50, 53, 52, 37, 50, 68, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 48, 55, 48, 100, 56, 97, 99, 45, 53, 53, 98, 57, 45, 52, 99, 100, 50, 45, 56, 100, 48, 98, 45, 100, 98, 56, 99, 52, 48, 98, 97, 57, 99, 100, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 48, 101, 100, 52, 55, 100, 98, 45, 97, 98, 48, 98, 45, 52, 48, 99, 51, 45, 97, 53, 50, 100, 45, 52, 54, 97, 97, 97, 99, 52, 56, 100, 49, 48, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 57, 54, 50, 99, 54, 97, 54, 45, 97, 56, 57, 99, 45, 52, 100, 52, 48, 45, 57, 50, 53, 52, 45, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:44:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9036271b-c0d6-4ec0-8a50-00ac33cd7892\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4962c6a6%2Da89c%2D4d40%2D9254%2D5c294288f8bf/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:54.498728074Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;50ed47db-ab0b-40c3-a52d-46aaac48d101\&quot;,\&quot;partitionkey\&quot;:\&quot;4962c6a6%2Da89c%2D4d40%2D9254%2D5c294288f8bf/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda\&quot;,\&quot;senderuid\&quot;:\&quot;50ed47db-ab0b-40c3-a52d-46aaac48d101\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;}&quot; }
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:44:55Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;4695bffd-1936-4377-8e44-b33a8ae8e5dc&quot;, persistence: None, user_data: None }
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee9a340
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee9a340
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1b1b80, password: 0x55f42ef932b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ec75710, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efc8db0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0801ff00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 52, 99, 55, 100, 55, 98, 50, 45, 97, 48, 97, 98, 45, 52, 50, 55, 51, 45, 98, 50, 97, 101, 45, 97, 55, 56, 52, 55, 54, 101, 101, 100, 57, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 57, 54, 50, 99, 54, 97, 54, 37, 50, 68, 97, 56, 57, 99, 37, 50, 68, 52, 100, 52, 48, 37, 50, 68, 57, 50, 53, 52, 37, 50, 68, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 52, 58, 53, 53, 46, 54, 49, 54, 57, 48, 54, 53, 48, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 57, 54, 50, 99, 54, 97, 54, 37, 50, 68, 97, 56, 57, 99, 37, 50, 68, 52, 100, 52, 48, 37, 50, 68, 57, 50, 53, 52, 37, 50, 68, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 48, 101, 100, 52, 55, 100, 98, 45, 97, 98, 48, 98, 45, 52, 48, 99, 51, 45, 97, 53, 50, 100, 45, 52, 54, 97, 97, 97, 99, 52, 56, 100, 49, 48, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 57, 54, 50, 99, 54, 97, 54, 45, 97, 56, 57, 99, 45, 52, 100, 52, 48, 45, 57, 50, 53, 52, 45, 53, 99, 50, 57, 52, 50, 56, 56, 102, 56, 98, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 48, 55, 48, 100, 56, 97, 99, 45, 53, 53, 98, 57, 45, 52, 99, 100, 50, 45, 56, 100, 48, 98, 45, 100, 98, 56, 99, 52, 48, 98, 97, 57, 99, 100, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 48, 101, 100, 52, 55, 100, 98, 45, 97, 98, 48, 98, 45, 52, 48, 99, 51, 45, 97, 53, 50, 100, 45, 52, 54, 97, 97, 97, 99, 52, 56, 100, 49, 48, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a4c7d7b2-a0ab-4273-b2ae-a78476eed955\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://4962c6a6%2Da89c%2D4d40%2D9254%2D5c294288f8bf/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:44:55.616906501Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;4962c6a6%2Da89c%2D4d40%2D9254%2D5c294288f8bf/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;50ed47db-ab0b-40c3-a52d-46aaac48d101\&quot;,\&quot;application\&quot;:\&quot;4962c6a6-a89c-4d40-9254-5c294288f8bf\&quot;,\&quot;applicationuid\&quot;:\&quot;5070d8ac-55b9-4cd2-8d0b-db8c40ba9cda\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;50ed47db-ab0b-40c3-a52d-46aaac48d101\&quot;}&quot; }
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed1c8b0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed1c8b0 } } } }
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:44:55Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:44:55Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:44:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot; &quot;device1&quot;
[2022-05-06T15:44:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:44:56Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4962c6a6-a89c-4d40-9254-5c294288f8bf&#x27;
[2022-05-06T15:44:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4962c6a6-a89c-4d40-9254-5c294288f8bf&quot;
[2022-05-06T15:44:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4962c6a6-a89c-4d40-9254-5c294288f8bf deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:44:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:44:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:44:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:44:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:44:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:44:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:45:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:45:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MDIsImlhdCI6MTY1MTg1MTkwMiwianRpIjoiMjA5MjRlYWMtOTEyZC00ODhkLWEyNGUtYzUwYzYyMTYwNDJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJLSU9hcFR3NktnUFlHdm81aU12THciLCJzZXNzaW9uX3N0YXRlIjoiMTE2OWRmMzEtN2FkMS00YWVhLTkxNDAtMTI1Njk5ZmIwMTYzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyJ9.pJFQMt0Up45ASvwcJoQAbSF892pLEqrdBMnRxPa05K8
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MDIsImlhdCI6MTY1MTg1MTkwMiwianRpIjoiMjA5MjRlYWMtOTEyZC00ODhkLWEyNGUtYzUwYzYyMTYwNDJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJLSU9hcFR3NktnUFlHdm81aU12THciLCJzZXNzaW9uX3N0YXRlIjoiMTE2OWRmMzEtN2FkMS00YWVhLTkxNDAtMTI1Njk5ZmIwMTYzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyJ9.pJFQMt0Up45ASvwcJoQAbSF892pLEqrdBMnRxPa05K8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::resources::apps] Create application: a19a196f-f230-4c14-a846-dc24bea6320d
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a19a196f-f230-4c14-a846-dc24bea6320d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;
[2022-05-06T15:45:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:02.958999Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a19a196f-f230-4c14-a846-dc24bea6320d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;05f714a5-d9ef-4513-a4b9-9f111983c63c\&quot;,\n    \&quot;uid\&quot;: \&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974992488Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.975325342Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974881621Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974885268Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974886159Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974887301Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974888033Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:02.974958955Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:02.958999Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;), &quot;resourceVersion&quot;: String(&quot;05f714a5-d9ef-4513-a4b9-9f111983c63c&quot;), &quot;uid&quot;: String(&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974992488Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.975325342Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974881621Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974885268Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974886159Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974887301Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974888033Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:02.974958955Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:45:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:45:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:02.958999Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a19a196f-f230-4c14-a846-dc24bea6320d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c1df182a-176f-4b7d-8439-71438b81a68e\&quot;,\n    \&quot;uid\&quot;: \&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306986682Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.307023010Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.000801118Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.007206913Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.094379319Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.100984679Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306940455Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306958319Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QU7Nq0Sy018i\&quot;,\n        \&quot;username\&quot;: \&quot;user-a19a196f-f230-4c14-a846-dc24bea6320d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:02.958999Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;), &quot;resourceVersion&quot;: String(&quot;c1df182a-176f-4b7d-8439-71438b81a68e&quot;), &quot;uid&quot;: String(&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306986682Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.307023010Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.000801118Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.007206913Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.094379319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.100984679Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306940455Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306958319Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QU7Nq0Sy018i&quot;), &quot;username&quot;: String(&quot;user-a19a196f-f230-4c14-a846-dc24bea6320d&quot;)})})})})
[2022-05-06T15:45:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:02.958999Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a19a196f-f230-4c14-a846-dc24bea6320d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c1df182a-176f-4b7d-8439-71438b81a68e\&quot;,\n    \&quot;uid\&quot;: \&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306986682Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.307023010Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.000801118Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.007206913Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.094379319Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.100984679Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306940455Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:03.306958319Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QU7Nq0Sy018i\&quot;,\n        \&quot;username\&quot;: \&quot;user-a19a196f-f230-4c14-a846-dc24bea6320d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:02.958999Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;), &quot;resourceVersion&quot;: String(&quot;c1df182a-176f-4b7d-8439-71438b81a68e&quot;), &quot;uid&quot;: String(&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306986682Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.307023010Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.000801118Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.007206913Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.094379319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.100984679Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306940455Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:03.306958319Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QU7Nq0Sy018i&quot;), &quot;username&quot;: String(&quot;user-a19a196f-f230-4c14-a846-dc24bea6320d&quot;)})})})})
[2022-05-06T15:45:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMDIsImlhdCI6MTY1MTg1MTkwMiwiYXV0aF90aW1lIjoxNjUxODUxODk5LCJqdGkiOiJkNjc3NWZlOC00NzBhLTQzYzctOGMwMS0xNTkwYmEzYjQ5OGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyS0lPYXBUdzZLZ1BZR3ZvNWlNdkx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iTS90tn1jpp34r_G756mpz9xff71MXL5a1YrnzV5r6fR9ZTcqsWWgSXVWGeqv9UX8dghCglmAHo3br4p1wNcm09R3Cclyd8twZpaEFwOOfORI7g7-3JsfVejakqsqqw4H-fJWwlX--hJMG0GJgU07mznscsgIzNyf8rbZeMZbz5PG46wTyPIMXkkFnyiNAMGBYqGJiWTjTrvm8npxCTzQR80mpIyZlkrUTLOqVUiEMLbGLifasVloZg_B1RokhkaBE_Kh0iJOXhKL294ftqqIu4R0SSh9eFnNqFi4F5x5rohzBilsqQ_1kKb0JxaTrcAlleGbE9421JRgVdJwPpNVg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMDIsImlhdCI6MTY1MTg1MTkwMiwiYXV0aF90aW1lIjoxNjUxODUxODk5LCJqdGkiOiJkNjc3NWZlOC00NzBhLTQzYzctOGMwMS0xNTkwYmEzYjQ5OGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyS0lPYXBUdzZLZ1BZR3ZvNWlNdkx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iTS90tn1jpp34r_G756mpz9xff71MXL5a1YrnzV5r6fR9ZTcqsWWgSXVWGeqv9UX8dghCglmAHo3br4p1wNcm09R3Cclyd8twZpaEFwOOfORI7g7-3JsfVejakqsqqw4H-fJWwlX--hJMG0GJgU07mznscsgIzNyf8rbZeMZbz5PG46wTyPIMXkkFnyiNAMGBYqGJiWTjTrvm8npxCTzQR80mpIyZlkrUTLOqVUiEMLbGLifasVloZg_B1RokhkaBE_Kh0iJOXhKL294ftqqIu4R0SSh9eFnNqFi4F5x5rohzBilsqQ_1kKb0JxaTrcAlleGbE9421JRgVdJwPpNVg\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;4aab9359-1d2f-435b-8d5f-0217c169c93a&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecc8990
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecc8990
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed094d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eef7450, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed0a3c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMDIsImlhdCI6MTY1MTg1MTkwMiwiYXV0aF90aW1lIjoxNjUxODUxODk5LCJqdGkiOiJkNjc3NWZlOC00NzBhLTQzYzctOGMwMS0xNTkwYmEzYjQ5OGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyS0lPYXBUdzZLZ1BZR3ZvNWlNdkx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNjlkZjMxLTdhZDEtNGFlYS05MTQwLTEyNTY5OWZiMDE2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iTS90tn1jpp34r_G756mpz9xff71MXL5a1YrnzV5r6fR9ZTcqsWWgSXVWGeqv9UX8dghCglmAHo3br4p1wNcm09R3Cclyd8twZpaEFwOOfORI7g7-3JsfVejakqsqqw4H-fJWwlX--hJMG0GJgU07mznscsgIzNyf8rbZeMZbz5PG46wTyPIMXkkFnyiNAMGBYqGJiWTjTrvm8npxCTzQR80mpIyZlkrUTLOqVUiEMLbGLifasVloZg_B1RokhkaBE_Kh0iJOXhKL294ftqqIu4R0SSh9eFnNqFi4F5x5rohzBilsqQ_1kKb0JxaTrcAlleGbE9421JRgVdJwPpNVg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:04Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a19a196f-f230-4c14-a846-dc24bea6320d&quot;&#x27; @ QOS 0
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0802df20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a19a196f-f230-4c14-a846-dc24bea6320d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 56, 51, 102, 55, 99, 102, 101, 45, 51, 54, 98, 57, 45, 52, 98, 56, 57, 45, 56, 101, 102, 102, 45, 101, 57, 101, 50, 97, 52, 101, 102, 51, 102, 56, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 49, 57, 97, 49, 57, 54, 102, 37, 50, 68, 102, 50, 51, 48, 37, 50, 68, 52, 99, 49, 52, 37, 50, 68, 97, 56, 52, 54, 37, 50, 68, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 48, 55, 46, 53, 48, 52, 48, 53, 53, 52, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 49, 57, 97, 49, 57, 54, 102, 45, 102, 50, 51, 48, 45, 52, 99, 49, 52, 45, 97, 56, 52, 54, 45, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 49, 57, 97, 49, 57, 54, 102, 37, 50, 68, 102, 50, 51, 48, 37, 50, 68, 52, 99, 49, 52, 37, 50, 68, 97, 56, 52, 54, 37, 50, 68, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 49, 55, 101, 97, 54, 55, 98, 45, 51, 56, 55, 52, 45, 52, 48, 51, 55, 45, 98, 98, 100, 51, 45, 57, 48, 101, 50, 98, 52, 54, 102, 101, 50, 49, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 49, 97, 51, 54, 54, 50, 50, 45, 53, 99, 49, 49, 45, 52, 50, 100, 50, 45, 57, 54, 49, 57, 45, 97, 56, 100, 55, 102, 51, 102, 100, 56, 49, 50, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 49, 55, 101, 97, 54, 55, 98, 45, 51, 56, 55, 52, 45, 52, 48, 51, 55, 45, 98, 98, 100, 51, 45, 57, 48, 101, 50, 98, 52, 54, 102, 101, 50, 49, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:45:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a19a196f-f230-4c14-a846-dc24bea6320d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;183f7cfe-36b9-4b89-8eff-e9e2a4ef3f82\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a19a196f%2Df230%2D4c14%2Da846%2Ddc24bea6320d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:07.504055454Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;a19a196f-f230-4c14-a846-dc24bea6320d\&quot;,\&quot;partitionkey\&quot;:\&quot;a19a196f%2Df230%2D4c14%2Da846%2Ddc24bea6320d/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;117ea67b-3874-4037-bbd3-90e2b46fe219\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129\&quot;,\&quot;senderuid\&quot;:\&quot;117ea67b-3874-4037-bbd3-90e2b46fe219\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:45:08Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;bc8a33f6-deef-42e3-9283-348011955233&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecb4550
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecb4550
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1eaaa0, password: 0x55f42ecc8cd0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee76060, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee4bff0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@a19a196f-f230-4c14-a846-dc24bea6320d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1d6320 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1d6320 } } } }
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0802f350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a19a196f-f230-4c14-a846-dc24bea6320d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 50, 100, 102, 99, 102, 99, 102, 45, 50, 57, 100, 54, 45, 52, 99, 99, 101, 45, 98, 101, 56, 49, 45, 53, 51, 48, 48, 50, 53, 52, 97, 57, 50, 99, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 49, 57, 97, 49, 57, 54, 102, 37, 50, 68, 102, 50, 51, 48, 37, 50, 68, 52, 99, 49, 52, 37, 50, 68, 97, 56, 52, 54, 37, 50, 68, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 48, 56, 46, 54, 50, 52, 49, 51, 52, 52, 49, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 49, 97, 51, 54, 54, 50, 50, 45, 53, 99, 49, 49, 45, 52, 50, 100, 50, 45, 57, 54, 49, 57, 45, 97, 56, 100, 55, 102, 51, 102, 100, 56, 49, 50, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 49, 55, 101, 97, 54, 55, 98, 45, 51, 56, 55, 52, 45, 52, 48, 51, 55, 45, 98, 98, 100, 51, 45, 57, 48, 101, 50, 98, 52, 54, 102, 101, 50, 49, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 49, 55, 101, 97, 54, 55, 98, 45, 51, 56, 55, 52, 45, 52, 48, 51, 55, 45, 98, 98, 100, 51, 45, 57, 48, 101, 50, 98, 52, 54, 102, 101, 50, 49, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 49, 57, 97, 49, 57, 54, 102, 37, 50, 68, 102, 50, 51, 48, 37, 50, 68, 52, 99, 49, 52, 37, 50, 68, 97, 56, 52, 54, 37, 50, 68, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 49, 57, 97, 49, 57, 54, 102, 45, 102, 50, 51, 48, 45, 52, 99, 49, 52, 45, 97, 56, 52, 54, 45, 100, 99, 50, 52, 98, 101, 97, 54, 51, 50, 48, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a19a196f-f230-4c14-a846-dc24bea6320d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;42dfcfcf-29d6-4cce-be81-5300254a92c3\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a19a196f%2Df230%2D4c14%2Da846%2Ddc24bea6320d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:08.624134413Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;61a36622-5c11-42d2-9619-a8d7f3fd8129\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;117ea67b-3874-4037-bbd3-90e2b46fe219\&quot;,\&quot;senderuid\&quot;:\&quot;117ea67b-3874-4037-bbd3-90e2b46fe219\&quot;,\&quot;partitionkey\&quot;:\&quot;a19a196f%2Df230%2D4c14%2Da846%2Ddc24bea6320d/device1\&quot;,\&quot;application\&quot;:\&quot;a19a196f-f230-4c14-a846-dc24bea6320d\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:45:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:45:08Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:45:08Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot; &quot;device1&quot;
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a19a196f-f230-4c14-a846-dc24bea6320d&#x27;
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a19a196f-f230-4c14-a846-dc24bea6320d&quot;
[2022-05-06T15:45:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a19a196f-f230-4c14-a846-dc24bea6320d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:45:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:45:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:45:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:45:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MTUsImlhdCI6MTY1MTg1MTkxNSwianRpIjoiMmVlZDRhNTAtMzYxYS00ZmM3LWE1ZjktNjIxYzBhNmE2OTc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNzeHZqOXJzTDdlRUp2M05pVVJvQ1EiLCJzZXNzaW9uX3N0YXRlIjoiMzllOTkwNzUtYjIzOC00YjhhLWJjYmEtNGRlMzljNDQwNGMyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiJ9.vngjH6-e-E0FV7fjeJT_htcNNfHrne1jlMNsHcW0-8M
[2022-05-06T15:45:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:45:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MTUsImlhdCI6MTY1MTg1MTkxNSwianRpIjoiMmVlZDRhNTAtMzYxYS00ZmM3LWE1ZjktNjIxYzBhNmE2OTc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNzeHZqOXJzTDdlRUp2M05pVVJvQ1EiLCJzZXNzaW9uX3N0YXRlIjoiMzllOTkwNzUtYjIzOC00YjhhLWJjYmEtNGRlMzljNDQwNGMyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiJ9.vngjH6-e-E0FV7fjeJT_htcNNfHrne1jlMNsHcW0-8M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:45:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 76ce7ea4-0b87-49b8-8467-19df1b146e99
[2022-05-06T15:45:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;
[2022-05-06T15:45:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 76ce7ea4-0b87-49b8-8467-19df1b146e99 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;
[2022-05-06T15:45:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:16.085023Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;82643b25-bcce-405a-9127-74f70d6c5e95\&quot;,\n    \&quot;uid\&quot;: \&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.095381182Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:16.085023Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;), &quot;resourceVersion&quot;: String(&quot;82643b25-bcce-405a-9127-74f70d6c5e95&quot;), &quot;uid&quot;: String(&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.095381182Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:45:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:16.085023Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2d45a245-4008-44cc-8123-c756d39f1a27\&quot;,\n    \&quot;uid\&quot;: \&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557992976Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557948863Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.131026138Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.137245103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.216507324Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.224698636Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557842273Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557917274Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;yv84vyBuYlkQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:16.085023Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;), &quot;resourceVersion&quot;: String(&quot;2d45a245-4008-44cc-8123-c756d39f1a27&quot;), &quot;uid&quot;: String(&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557992976Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557948863Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.131026138Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.137245103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.216507324Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.224698636Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557842273Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557917274Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;yv84vyBuYlkQ&quot;), &quot;username&quot;: String(&quot;user-76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;)})})})})
[2022-05-06T15:45:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:16.085023Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2d45a245-4008-44cc-8123-c756d39f1a27\&quot;,\n    \&quot;uid\&quot;: \&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557992976Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557948863Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.131026138Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.137245103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.216507324Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.224698636Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557842273Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:16.557917274Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;yv84vyBuYlkQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:16.085023Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;), &quot;resourceVersion&quot;: String(&quot;2d45a245-4008-44cc-8123-c756d39f1a27&quot;), &quot;uid&quot;: String(&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557992976Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557948863Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.131026138Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.137245103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.216507324Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.224698636Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557842273Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:16.557917274Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;yv84vyBuYlkQ&quot;), &quot;username&quot;: String(&quot;user-76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;)})})})})
[2022-05-06T15:45:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMTUsImlhdCI6MTY1MTg1MTkxNSwiYXV0aF90aW1lIjoxNjUxODUxOTEyLCJqdGkiOiI5MTM2MzJlMy1hZTcwLTRkN2UtOWIwNS0xNWMzYWYzYjM4MjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjc3h2ajlyc0w3ZUVKdjNOaVVSb0NRIiwic2Vzc2lvbl9zdGF0ZSI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NREh0qXGqlGjp5TruBAxHyAFhmAVl-eSIf-xlvHfoaoADXyKjZTbQke_z3Mwb-hIa1hgaGBmxeG4mrusE9Lax6Ugv9pz_VorAkl9LgMFonej0RkmrPDDUL10IVom6eSmkjvBsNuZ7_vDDtmgjrLozyFR13ENU9-8-qhpZit7jGzks2H_1obND1cCXjjF-did4ybtr4ffF2da1xarFI_wqPMTmmBJW8RrTTCj6KHA0QUw_Bu0YwaQ_Iw_zsnp_NH-udyRNW6UHasnGv2TVxPOJlcz2Ub-3hjXs8NVc0DHygAhj1nuMaaZR7RL3RH3ufzCl0TGbMWvxW6QWXGN7K4gIA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMTUsImlhdCI6MTY1MTg1MTkxNSwiYXV0aF90aW1lIjoxNjUxODUxOTEyLCJqdGkiOiI5MTM2MzJlMy1hZTcwLTRkN2UtOWIwNS0xNWMzYWYzYjM4MjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjc3h2ajlyc0w3ZUVKdjNOaVVSb0NRIiwic2Vzc2lvbl9zdGF0ZSI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NREh0qXGqlGjp5TruBAxHyAFhmAVl-eSIf-xlvHfoaoADXyKjZTbQke_z3Mwb-hIa1hgaGBmxeG4mrusE9Lax6Ugv9pz_VorAkl9LgMFonej0RkmrPDDUL10IVom6eSmkjvBsNuZ7_vDDtmgjrLozyFR13ENU9-8-qhpZit7jGzks2H_1obND1cCXjjF-did4ybtr4ffF2da1xarFI_wqPMTmmBJW8RrTTCj6KHA0QUw_Bu0YwaQ_Iw_zsnp_NH-udyRNW6UHasnGv2TVxPOJlcz2Ub-3hjXs8NVc0DHygAhj1nuMaaZR7RL3RH3ufzCl0TGbMWvxW6QWXGN7K4gIA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;456321b9-86a4-430e-a24b-f9599843161e&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f114800
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f114800
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f115cc0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f1e4dc0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eca84d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMTUsImlhdCI6MTY1MTg1MTkxNSwiYXV0aF90aW1lIjoxNjUxODUxOTEyLCJqdGkiOiI5MTM2MzJlMy1hZTcwLTRkN2UtOWIwNS0xNWMzYWYzYjM4MjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjc3h2ajlyc0w3ZUVKdjNOaVVSb0NRIiwic2Vzc2lvbl9zdGF0ZSI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5ZTk5MDc1LWIyMzgtNGI4YS1iY2JhLTRkZTM5YzQ0MDRjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NREh0qXGqlGjp5TruBAxHyAFhmAVl-eSIf-xlvHfoaoADXyKjZTbQke_z3Mwb-hIa1hgaGBmxeG4mrusE9Lax6Ugv9pz_VorAkl9LgMFonej0RkmrPDDUL10IVom6eSmkjvBsNuZ7_vDDtmgjrLozyFR13ENU9-8-qhpZit7jGzks2H_1obND1cCXjjF-did4ybtr4ffF2da1xarFI_wqPMTmmBJW8RrTTCj6KHA0QUw_Bu0YwaQ_Iw_zsnp_NH-udyRNW6UHasnGv2TVxPOJlcz2Ub-3hjXs8NVc0DHygAhj1nuMaaZR7RL3RH3ufzCl0TGbMWvxW6QWXGN7K4gIA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:17Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;&#x27; @ QOS 0
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea0802fa20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802fca0 } }, data: MessageData { topic: &quot;app/76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 99, 48, 52, 56, 101, 97, 57, 45, 100, 99, 56, 101, 45, 52, 56, 97, 102, 45, 57, 55, 99, 100, 45, 51, 98, 50, 53, 99, 51, 50, 48, 57, 52, 102, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 54, 99, 101, 55, 101, 97, 52, 37, 50, 68, 48, 98, 56, 55, 37, 50, 68, 52, 57, 98, 56, 37, 50, 68, 56, 52, 54, 55, 37, 50, 68, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 50, 48, 46, 53, 50, 49, 55, 52, 52, 56, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 52, 49, 48, 101, 101, 51, 45, 52, 100, 101, 57, 45, 52, 99, 99, 53, 45, 98, 102, 52, 101, 45, 48, 48, 101, 52, 100, 56, 102, 97, 50, 57, 49, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 51, 97, 52, 99, 101, 52, 53, 45, 97, 99, 48, 48, 45, 52, 51, 99, 97, 45, 97, 101, 101, 48, 45, 54, 52, 50, 53, 51, 102, 57, 99, 101, 54, 99, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 54, 99, 101, 55, 101, 97, 52, 45, 48, 98, 56, 55, 45, 52, 57, 98, 56, 45, 56, 52, 54, 55, 45, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 54, 99, 101, 55, 101, 97, 52, 37, 50, 68, 48, 98, 56, 55, 37, 50, 68, 52, 57, 98, 56, 37, 50, 68, 56, 52, 54, 55, 37, 50, 68, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 51, 97, 52, 99, 101, 52, 53, 45, 97, 99, 48, 48, 45, 52, 51, 99, 97, 45, 97, 101, 101, 48, 45, 54, 52, 50, 53, 51, 102, 57, 99, 101, 54, 99, 56, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802fca0 } } } }
[2022-05-06T15:45:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ed79800
[2022-05-06T15:45:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8c048ea9-dc8e-48af-97cd-3b25c32094fd\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://76ce7ea4%2D0b87%2D49b8%2D8467%2D19df1b146e99/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:20.521744833Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;a3a4ce45-ac00-43ca-aee0-64253f9ce6c8\&quot;,\&quot;application\&quot;:\&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;,\&quot;partitionkey\&quot;:\&quot;76ce7ea4%2D0b87%2D49b8%2D8467%2D19df1b146e99/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;a3a4ce45-ac00-43ca-aee0-64253f9ce6c8\&quot;}&quot; }
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:45:21Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;7513c32e-87db-4c22-80f7-4d6b7e1c0322&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee5f070
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee5f070
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ecb2850, password: 0x55f42f0f9b30, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eee0c50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f2764d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efa32e0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efa32e0 } } } }
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08016080, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802f880 } }, data: MessageData { topic: &quot;app/76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 50, 49, 56, 50, 57, 102, 54, 45, 54, 100, 53, 48, 45, 52, 55, 55, 48, 45, 57, 48, 102, 102, 45, 56, 57, 56, 102, 50, 99, 97, 101, 48, 50, 51, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 54, 99, 101, 55, 101, 97, 52, 37, 50, 68, 48, 98, 56, 55, 37, 50, 68, 52, 57, 98, 56, 37, 50, 68, 56, 52, 54, 55, 37, 50, 68, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 50, 49, 46, 54, 50, 52, 49, 50, 54, 51, 54, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 51, 97, 52, 99, 101, 52, 53, 45, 97, 99, 48, 48, 45, 52, 51, 99, 97, 45, 97, 101, 101, 48, 45, 54, 52, 50, 53, 51, 102, 57, 99, 101, 54, 99, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 51, 97, 52, 99, 101, 52, 53, 45, 97, 99, 48, 48, 45, 52, 51, 99, 97, 45, 97, 101, 101, 48, 45, 54, 52, 50, 53, 51, 102, 57, 99, 101, 54, 99, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 54, 99, 101, 55, 101, 97, 52, 45, 48, 98, 56, 55, 45, 52, 57, 98, 56, 45, 56, 52, 54, 55, 45, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 54, 99, 101, 55, 101, 97, 52, 37, 50, 68, 48, 98, 56, 55, 37, 50, 68, 52, 57, 98, 56, 37, 50, 68, 56, 52, 54, 55, 37, 50, 68, 49, 57, 100, 102, 49, 98, 49, 52, 54, 101, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 52, 49, 48, 101, 101, 51, 45, 52, 100, 101, 57, 45, 52, 99, 99, 53, 45, 98, 102, 52, 101, 45, 48, 48, 101, 52, 100, 56, 102, 97, 50, 57, 49, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802f880 } } } }
[2022-05-06T15:45:21Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ed79800
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b21829f6-6d50-4770-90ff-898f2cae023d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://76ce7ea4%2D0b87%2D49b8%2D8467%2D19df1b146e99/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:21.624126364Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;a3a4ce45-ac00-43ca-aee0-64253f9ce6c8\&quot;,\&quot;senderuid\&quot;:\&quot;a3a4ce45-ac00-43ca-aee0-64253f9ce6c8\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;76ce7ea4-0b87-49b8-8467-19df1b146e99\&quot;,\&quot;partitionkey\&quot;:\&quot;76ce7ea4%2D0b87%2D49b8%2D8467%2D19df1b146e99/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0d410ee3-4de9-4cc5-bf4e-00e4d8fa2914\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:45:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:45:21Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:45:21Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot; &quot;device1&quot;
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;76ce7ea4-0b87-49b8-8467-19df1b146e99&#x27;
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;76ce7ea4-0b87-49b8-8467-19df1b146e99&quot;
[2022-05-06T15:45:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 76ce7ea4-0b87-49b8-8467-19df1b146e99 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:45:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:45:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:45:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:45:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MjgsImlhdCI6MTY1MTg1MTkyOCwianRpIjoiZjcyMmNlOWQtMmM0ZC00ZTJkLTg3ZTMtZmNjOTVmNjgzZTMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9yWlktWEpWWXFmY3dKV2hEVnNCVUEiLCJzZXNzaW9uX3N0YXRlIjoiZjBkMTQ0MGMtNDc4Yi00NDhhLTlkMjMtZDIyYzQ5YjExODAzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyJ9.7gSz5t6es5CVpVQsfXKv8CqesLD_Jxv3pFWDbb6rW7g
[2022-05-06T15:45:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:45:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3MjgsImlhdCI6MTY1MTg1MTkyOCwianRpIjoiZjcyMmNlOWQtMmM0ZC00ZTJkLTg3ZTMtZmNjOTVmNjgzZTMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9yWlktWEpWWXFmY3dKV2hEVnNCVUEiLCJzZXNzaW9uX3N0YXRlIjoiZjBkMTQ0MGMtNDc4Yi00NDhhLTlkMjMtZDIyYzQ5YjExODAzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyJ9.7gSz5t6es5CVpVQsfXKv8CqesLD_Jxv3pFWDbb6rW7g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:45:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:29Z INFO  drogue_cloud_tests::resources::apps] Create application: 7045000b-c830-4bb0-9e77-408e004955f2
[2022-05-06T15:45:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;
[2022-05-06T15:45:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7045000b-c830-4bb0-9e77-408e004955f2 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;
[2022-05-06T15:45:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:29.532350Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;7045000b-c830-4bb0-9e77-408e004955f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f42d02b5-9f7b-4043-ad94-980a58ad8f1d\&quot;,\n    \&quot;uid\&quot;: \&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.544793745Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:29.532350Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;), &quot;resourceVersion&quot;: String(&quot;f42d02b5-9f7b-4043-ad94-980a58ad8f1d&quot;), &quot;uid&quot;: String(&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.544793745Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:45:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:29.532350Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7045000b-c830-4bb0-9e77-408e004955f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a4e8d497-7c98-474b-a789-f546420799d3\&quot;,\n    \&quot;uid\&quot;: \&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.884135118Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.884016215Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.583402844Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.589247639Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.662349053Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.668845458Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.883950702Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.883968757Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qWGidGR09Ppv\&quot;,\n        \&quot;username\&quot;: \&quot;user-7045000b-c830-4bb0-9e77-408e004955f2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:29.532350Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;), &quot;resourceVersion&quot;: String(&quot;a4e8d497-7c98-474b-a789-f546420799d3&quot;), &quot;uid&quot;: String(&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.884135118Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.884016215Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.583402844Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.589247639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.662349053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.668845458Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.883950702Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.883968757Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qWGidGR09Ppv&quot;), &quot;username&quot;: String(&quot;user-7045000b-c830-4bb0-9e77-408e004955f2&quot;)})})})})
[2022-05-06T15:45:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:29.532350Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7045000b-c830-4bb0-9e77-408e004955f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a4e8d497-7c98-474b-a789-f546420799d3\&quot;,\n    \&quot;uid\&quot;: \&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.884135118Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.884016215Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.583402844Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.589247639Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.662349053Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.668845458Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.883950702Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:29.883968757Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qWGidGR09Ppv\&quot;,\n        \&quot;username\&quot;: \&quot;user-7045000b-c830-4bb0-9e77-408e004955f2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:29.532350Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;), &quot;resourceVersion&quot;: String(&quot;a4e8d497-7c98-474b-a789-f546420799d3&quot;), &quot;uid&quot;: String(&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.884135118Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.884016215Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.583402844Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.589247639Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.662349053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.668845458Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.883950702Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:29.883968757Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qWGidGR09Ppv&quot;), &quot;username&quot;: String(&quot;user-7045000b-c830-4bb0-9e77-408e004955f2&quot;)})})})})
[2022-05-06T15:45:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMjgsImlhdCI6MTY1MTg1MTkyOCwiYXV0aF90aW1lIjoxNjUxODUxOTI1LCJqdGkiOiI2OGVhNGY5Mi1hYmYyLTRkM2YtOTJmMy04ZmNiMWFkYTcxNDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPclpZLVhKVllxZmN3SldoRFZzQlVBIiwic2Vzc2lvbl9zdGF0ZSI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MZjMqC34Y3L9MeNh20yarU1uAeUDoWlE54U8oVdEwbwoErEcp8pp_aeIp1lQiGupOeAr6ZnrOmi7GEvDBm3yHP8l46wcnJJGBoczCWMLzkFkg_uJBUqeDpjDuDMX9uaBjXiw6B2YdjwPp0dqS8tc2GfEnn6oKZ1_DnpYzwnmgY3wR-MjN1dpS56pPOjTK7Qx1R-dnMTpzJ0zT_Ht4f6xP3GBnGDkvwLzbZAJ-2pVJsql_LflsE_Hii5uyPbgVWpHVSKKR5AXAtM_NphpYai-h57eBvqnzCcrV4PfmaHfwhLmK4kFcoB07zYYlp6Zr-SIBS95GYYn4yj-CFU1KI4-1Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMjgsImlhdCI6MTY1MTg1MTkyOCwiYXV0aF90aW1lIjoxNjUxODUxOTI1LCJqdGkiOiI2OGVhNGY5Mi1hYmYyLTRkM2YtOTJmMy04ZmNiMWFkYTcxNDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPclpZLVhKVllxZmN3SldoRFZzQlVBIiwic2Vzc2lvbl9zdGF0ZSI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MZjMqC34Y3L9MeNh20yarU1uAeUDoWlE54U8oVdEwbwoErEcp8pp_aeIp1lQiGupOeAr6ZnrOmi7GEvDBm3yHP8l46wcnJJGBoczCWMLzkFkg_uJBUqeDpjDuDMX9uaBjXiw6B2YdjwPp0dqS8tc2GfEnn6oKZ1_DnpYzwnmgY3wR-MjN1dpS56pPOjTK7Qx1R-dnMTpzJ0zT_Ht4f6xP3GBnGDkvwLzbZAJ-2pVJsql_LflsE_Hii5uyPbgVWpHVSKKR5AXAtM_NphpYai-h57eBvqnzCcrV4PfmaHfwhLmK4kFcoB07zYYlp6Zr-SIBS95GYYn4yj-CFU1KI4-1Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;86dbf5a5-cf23-4c99-badd-8e505957e58d&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecabb30
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecabb30
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42efd2fa0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed10460, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42efc9690, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyMjgsImlhdCI6MTY1MTg1MTkyOCwiYXV0aF90aW1lIjoxNjUxODUxOTI1LCJqdGkiOiI2OGVhNGY5Mi1hYmYyLTRkM2YtOTJmMy04ZmNiMWFkYTcxNDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPclpZLVhKVllxZmN3SldoRFZzQlVBIiwic2Vzc2lvbl9zdGF0ZSI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwZDE0NDBjLTQ3OGItNDQ4YS05ZDIzLWQyMmM0OWIxMTgwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MZjMqC34Y3L9MeNh20yarU1uAeUDoWlE54U8oVdEwbwoErEcp8pp_aeIp1lQiGupOeAr6ZnrOmi7GEvDBm3yHP8l46wcnJJGBoczCWMLzkFkg_uJBUqeDpjDuDMX9uaBjXiw6B2YdjwPp0dqS8tc2GfEnn6oKZ1_DnpYzwnmgY3wR-MjN1dpS56pPOjTK7Qx1R-dnMTpzJ0zT_Ht4f6xP3GBnGDkvwLzbZAJ-2pVJsql_LflsE_Hii5uyPbgVWpHVSKKR5AXAtM_NphpYai-h57eBvqnzCcrV4PfmaHfwhLmK4kFcoB07zYYlp6Zr-SIBS95GYYn4yj-CFU1KI4-1Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:30Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7045000b-c830-4bb0-9e77-408e004955f2&quot;&#x27; @ QOS 0
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:34Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:34Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea08003950, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08003bd0 } }, data: MessageData { topic: &quot;app/7045000b-c830-4bb0-9e77-408e004955f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 50, 54, 98, 57, 49, 56, 102, 45, 100, 48, 101, 98, 45, 52, 54, 98, 100, 45, 57, 98, 49, 52, 45, 52, 56, 98, 52, 52, 97, 55, 101, 50, 55, 101, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 52, 53, 48, 48, 48, 98, 37, 50, 68, 99, 56, 51, 48, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 101, 55, 55, 37, 50, 68, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 51, 52, 46, 53, 53, 52, 48, 49, 48, 56, 53, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 54, 53, 48, 99, 100, 98, 98, 45, 52, 54, 51, 101, 45, 52, 55, 101, 100, 45, 57, 98, 52, 52, 45, 53, 52, 97, 98, 50, 52, 49, 48, 56, 55, 55, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 52, 53, 48, 48, 48, 98, 45, 99, 56, 51, 48, 45, 52, 98, 98, 48, 45, 57, 101, 55, 55, 45, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 52, 53, 48, 48, 48, 98, 37, 50, 68, 99, 56, 51, 48, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 101, 55, 55, 37, 50, 68, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 54, 53, 48, 99, 100, 98, 98, 45, 52, 54, 51, 101, 45, 52, 55, 101, 100, 45, 57, 98, 52, 52, 45, 53, 52, 97, 98, 50, 52, 49, 48, 56, 55, 55, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 53, 51, 54, 101, 99, 50, 57, 45, 99, 97, 53, 52, 45, 52, 54, 50, 49, 45, 98, 101, 56, 97, 45, 99, 48, 57, 102, 55, 56, 48, 99, 99, 100, 51, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08003bd0 } } } }
[2022-05-06T15:45:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee03b00
[2022-05-06T15:45:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7045000b-c830-4bb0-9e77-408e004955f2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;126b918f-d0eb-46bd-9b14-48b44a7e27e0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7045000b%2Dc830%2D4bb0%2D9e77%2D408e004955f2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:34.554010851Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;1650cdbb-463e-47ed-9b44-54ab24108771\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;7045000b-c830-4bb0-9e77-408e004955f2\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;7045000b%2Dc830%2D4bb0%2D9e77%2D408e004955f2/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;1650cdbb-463e-47ed-9b44-54ab24108771\&quot;,\&quot;applicationuid\&quot;:\&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d\&quot;}&quot; }
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:45:35Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;6c91f181-efc5-46ec-bce4-8bf820bbce4e&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ec86bc0
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ec86bc0
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f2333d0, password: 0x55f42eecf9c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eede1d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ee8f4d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@7045000b-c830-4bb0-9e77-408e004955f2&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea08020a30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08020cc0 } }, data: MessageData { topic: &quot;app/7045000b-c830-4bb0-9e77-408e004955f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 51, 50, 55, 55, 51, 98, 48, 45, 50, 50, 57, 57, 45, 52, 57, 102, 52, 45, 97, 98, 102, 49, 45, 54, 56, 54, 55, 97, 57, 57, 57, 49, 54, 99, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 52, 53, 48, 48, 48, 98, 37, 50, 68, 99, 56, 51, 48, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 101, 55, 55, 37, 50, 68, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 53, 58, 51, 53, 46, 54, 55, 52, 54, 57, 51, 48, 52, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 52, 53, 48, 48, 48, 98, 37, 50, 68, 99, 56, 51, 48, 37, 50, 68, 52, 98, 98, 48, 37, 50, 68, 57, 101, 55, 55, 37, 50, 68, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 53, 51, 54, 101, 99, 50, 57, 45, 99, 97, 53, 52, 45, 52, 54, 50, 49, 45, 98, 101, 56, 97, 45, 99, 48, 57, 102, 55, 56, 48, 99, 99, 100, 51, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 52, 53, 48, 48, 48, 98, 45, 99, 56, 51, 48, 45, 52, 98, 98, 48, 45, 57, 101, 55, 55, 45, 52, 48, 56, 101, 48, 48, 52, 57, 53, 53, 102, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 54, 53, 48, 99, 100, 98, 98, 45, 52, 54, 51, 101, 45, 52, 55, 101, 100, 45, 57, 98, 52, 52, 45, 53, 52, 97, 98, 50, 52, 49, 48, 56, 55, 55, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 54, 53, 48, 99, 100, 98, 98, 45, 52, 54, 51, 101, 45, 52, 55, 101, 100, 45, 57, 98, 52, 52, 45, 53, 52, 97, 98, 50, 52, 49, 48, 56, 55, 55, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08020cc0 } } } }
[2022-05-06T15:45:35Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ee03b00
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7045000b-c830-4bb0-9e77-408e004955f2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;732773b0-2299-49f4-abf1-6867a99916c8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7045000b%2Dc830%2D4bb0%2D9e77%2D408e004955f2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:45:35.674693041Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;7045000b%2Dc830%2D4bb0%2D9e77%2D408e004955f2/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;3536ec29-ca54-4621-be8a-c09f780ccd3d\&quot;,\&quot;application\&quot;:\&quot;7045000b-c830-4bb0-9e77-408e004955f2\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;1650cdbb-463e-47ed-9b44-54ab24108771\&quot;,\&quot;senderuid\&quot;:\&quot;1650cdbb-463e-47ed-9b44-54ab24108771\&quot;}&quot; }
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed66300 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed66300 } } } }
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:45:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:45:35Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:45:35Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot; &quot;device1&quot;
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7045000b-c830-4bb0-9e77-408e004955f2&#x27;
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7045000b-c830-4bb0-9e77-408e004955f2&quot;
[2022-05-06T15:45:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7045000b-c830-4bb0-9e77-408e004955f2 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:45:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:45:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:45:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:45:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NDIsImlhdCI6MTY1MTg1MTk0MiwianRpIjoiYTM0ZGViZGItOWYwOS00YmQyLWFlNzEtYjllZWQ0YTQxNGVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilg3eC1ybm5YcVRPeDczVHliZ3hGY0EiLCJzZXNzaW9uX3N0YXRlIjoiYmZiYzFkMTctZjFmNy00ZDJjLTk0YzItMTk3NmU0NjVlYWVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyJ9.McNbayTzZOOsSjYs7TkMpnwe7RLeZXpyGBw0Nd8rFTo
[2022-05-06T15:45:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:45:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NDIsImlhdCI6MTY1MTg1MTk0MiwianRpIjoiYTM0ZGViZGItOWYwOS00YmQyLWFlNzEtYjllZWQ0YTQxNGVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilg3eC1ybm5YcVRPeDczVHliZ3hGY0EiLCJzZXNzaW9uX3N0YXRlIjoiYmZiYzFkMTctZjFmNy00ZDJjLTk0YzItMTk3NmU0NjVlYWVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyJ9.McNbayTzZOOsSjYs7TkMpnwe7RLeZXpyGBw0Nd8rFTo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:45:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 8de27fb9-4578-4816-9483-a9c61cbbb79a
[2022-05-06T15:45:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;
[2022-05-06T15:45:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8de27fb9-4578-4816-9483-a9c61cbbb79a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;
[2022-05-06T15:45:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:43.398633Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3c3aa464-4abb-4ff1-88c8-f390152c1046\&quot;,\n    \&quot;uid\&quot;: \&quot;54972581-2be9-4fec-9431-4016b809052c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.413967009Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:43.398633Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;), &quot;resourceVersion&quot;: String(&quot;3c3aa464-4abb-4ff1-88c8-f390152c1046&quot;), &quot;uid&quot;: String(&quot;54972581-2be9-4fec-9431-4016b809052c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.413967009Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-06T15:45:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:43.398633Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bc5f7dc-6b29-4ac8-95e3-e15f0778dcea\&quot;,\n    \&quot;uid\&quot;: \&quot;54972581-2be9-4fec-9431-4016b809052c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731397337Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731356340Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.454877602Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.464736590Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.529335740Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.536764112Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731236485Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731324661Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TVbgj2NiIRBt\&quot;,\n        \&quot;username\&quot;: \&quot;user-8de27fb9-4578-4816-9483-a9c61cbbb79a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:43.398633Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;), &quot;resourceVersion&quot;: String(&quot;7bc5f7dc-6b29-4ac8-95e3-e15f0778dcea&quot;), &quot;uid&quot;: String(&quot;54972581-2be9-4fec-9431-4016b809052c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731397337Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731356340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.454877602Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.464736590Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.529335740Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.536764112Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731236485Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731324661Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TVbgj2NiIRBt&quot;), &quot;username&quot;: String(&quot;user-8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;)})})})})
[2022-05-06T15:45:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:43.398633Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bc5f7dc-6b29-4ac8-95e3-e15f0778dcea\&quot;,\n    \&quot;uid\&quot;: \&quot;54972581-2be9-4fec-9431-4016b809052c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731397337Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731356340Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.454877602Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.464736590Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.529335740Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.536764112Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731236485Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:43.731324661Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TVbgj2NiIRBt\&quot;,\n        \&quot;username\&quot;: \&quot;user-8de27fb9-4578-4816-9483-a9c61cbbb79a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:43.398633Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;), &quot;resourceVersion&quot;: String(&quot;7bc5f7dc-6b29-4ac8-95e3-e15f0778dcea&quot;), &quot;uid&quot;: String(&quot;54972581-2be9-4fec-9431-4016b809052c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731397337Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731356340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.454877602Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.464736590Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.529335740Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.536764112Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731236485Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:43.731324661Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TVbgj2NiIRBt&quot;), &quot;username&quot;: String(&quot;user-8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;)})})})})
[2022-05-06T15:45:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNDIsImlhdCI6MTY1MTg1MTk0MiwiYXV0aF90aW1lIjoxNjUxODUxOTM5LCJqdGkiOiI0YWJiYTIxNS0wN2VjLTQ3NzEtOWVhYS02MzIxMGFiYmE2YTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYN3gtcm5uWHFUT3g3M1R5Ymd4RmNBIiwic2Vzc2lvbl9zdGF0ZSI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.O41l4VwBLbIupbegCbZqVGJXxK1cVTLQRAF5qQB2b-NCFEcWYKOAAQ5O2lMRpeRV6prcIat92Qzjt0XFOw692eNFaXWWboQU4uHIhc-_k634mumT6Hl1DMcugBiPf4fnl9XJIDuVkI4Uz_vojZXcXbJJxC_QKjayqFJJ9rwsVyAbYQB6yR5hLo_AQwzpQzoY4-B19GWfkx4iU68Wavyx7JBDXrvkXFLroQ_oqEyiMCUW7vepbGkKDGfZ7RF33aFNYNv0AYer2PZWH-_qcbRPVWZvh57k3nw2eCJ909wSbMQr9DiEur3KpHqhT_GyPMCe9hdWGk_44GoS2GAKZ1tZ4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNDIsImlhdCI6MTY1MTg1MTk0MiwiYXV0aF90aW1lIjoxNjUxODUxOTM5LCJqdGkiOiI0YWJiYTIxNS0wN2VjLTQ3NzEtOWVhYS02MzIxMGFiYmE2YTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYN3gtcm5uWHFUT3g3M1R5Ymd4RmNBIiwic2Vzc2lvbl9zdGF0ZSI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.O41l4VwBLbIupbegCbZqVGJXxK1cVTLQRAF5qQB2b-NCFEcWYKOAAQ5O2lMRpeRV6prcIat92Qzjt0XFOw692eNFaXWWboQU4uHIhc-_k634mumT6Hl1DMcugBiPf4fnl9XJIDuVkI4Uz_vojZXcXbJJxC_QKjayqFJJ9rwsVyAbYQB6yR5hLo_AQwzpQzoY4-B19GWfkx4iU68Wavyx7JBDXrvkXFLroQ_oqEyiMCUW7vepbGkKDGfZ7RF33aFNYNv0AYer2PZWH-_qcbRPVWZvh57k3nw2eCJ909wSbMQr9DiEur3KpHqhT_GyPMCe9hdWGk_44GoS2GAKZ1tZ4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;ccdadc1c-c11d-4ba0-b451-6de9bca00d02&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edcaaf0
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edcaaf0
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f187ba0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f233880, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1029c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNDIsImlhdCI6MTY1MTg1MTk0MiwiYXV0aF90aW1lIjoxNjUxODUxOTM5LCJqdGkiOiI0YWJiYTIxNS0wN2VjLTQ3NzEtOWVhYS02MzIxMGFiYmE2YTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYN3gtcm5uWHFUT3g3M1R5Ymd4RmNBIiwic2Vzc2lvbl9zdGF0ZSI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmYmMxZDE3LWYxZjctNGQyYy05NGMyLTE5NzZlNDY1ZWFlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.O41l4VwBLbIupbegCbZqVGJXxK1cVTLQRAF5qQB2b-NCFEcWYKOAAQ5O2lMRpeRV6prcIat92Qzjt0XFOw692eNFaXWWboQU4uHIhc-_k634mumT6Hl1DMcugBiPf4fnl9XJIDuVkI4Uz_vojZXcXbJJxC_QKjayqFJJ9rwsVyAbYQB6yR5hLo_AQwzpQzoY4-B19GWfkx4iU68Wavyx7JBDXrvkXFLroQ_oqEyiMCUW7vepbGkKDGfZ7RF33aFNYNv0AYer2PZWH-_qcbRPVWZvh57k3nw2eCJ909wSbMQr9DiEur3KpHqhT_GyPMCe9hdWGk_44GoS2GAKZ1tZ4Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:44Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;&#x27; @ QOS 0
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:45:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0801c900, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fe9f0025ec0 } }, data: MessageData { topic: &quot;app/8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x7fe9f0025ec0 } } } }
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f186420, 0x7fea0c003550
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003550, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003550, 0x7fea0c004630
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004630, 0x55f42ee05760
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c004630, 0x7fea10001e80
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x55f42ecd6060
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x7fea10004310
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x7fea10001e80
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001e80, 0x7fea10004310
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x55f42ed91e00
[2022-05-06T15:45:48Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10004310
[2022-05-06T15:45:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;36162605-3843-45d7-a2ef-92b2d1e11a66&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;54972581-2be9-4fec-9431-4016b809052c&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-06T15:45:48.543974877+00:00&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;8de27fb9%2D4578%2D4816%2D9483%2Da9c61cbbb79a/device1&quot;, &quot;deviceuid&quot;: &quot;36162605-3843-45d7-a2ef-92b2d1e11a66&quot;, &quot;id&quot;: &quot;707a2b5a-b6bd-4aab-8ebd-94768c0a100c&quot;, &quot;application&quot;: &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;source&quot;: &quot;drogue://8de27fb9%2D4578%2D4816%2D9483%2Da9c61cbbb79a/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:45:49Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;5b012b09-8d69-4432-8c42-75257431ee91&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f05ef80
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f05ef80
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f1a3e80, password: 0x55f42ed06200, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed7d6a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ef17960, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08016770, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fe9f0026850 } }, data: MessageData { topic: &quot;app/8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7fe9f0026850 } } } }
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ed0fe20, 0x7fea10003f10
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003f10, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003f10, 0x7fea100042f0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100042f0, 0x7fea08032e80
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100042f0, 0x7fea10004310
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10004310, 0x7fea100042d0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100042d0, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100042d0, 0x7fea080051b0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100042d0, 0x7fea10003ed0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003ed0, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003ed0, 0x7fea0801cc60
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10003ed0, 0x7fea10003fe0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10003fe0
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed92eb0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed92eb0 } } } }
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:45:49.660071613+00:00&quot;, &quot;source&quot;: &quot;drogue://8de27fb9%2D4578%2D4816%2D9483%2Da9c61cbbb79a/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;senderuid&quot;: &quot;36162605-3843-45d7-a2ef-92b2d1e11a66&quot;, &quot;id&quot;: &quot;cea06cad-cac0-493d-987f-c5ff7712ebcd&quot;, &quot;partitionkey&quot;: &quot;8de27fb9%2D4578%2D4816%2D9483%2Da9c61cbbb79a/device1&quot;, &quot;deviceuid&quot;: &quot;36162605-3843-45d7-a2ef-92b2d1e11a66&quot;, &quot;applicationuid&quot;: &quot;54972581-2be9-4fec-9431-4016b809052c&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:45:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:45:49Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:45:49Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-06T15:45:49Z DEBUG paho_mqtt::token] Token failure! 0x55f42ef4aac0, 0x7ffe819cec70
[2022-05-06T15:45:49Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-06T15:45:49Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-06T15:45:49Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot; &quot;device1&quot;
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8de27fb9-4578-4816-9483-a9c61cbbb79a&#x27;
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8de27fb9-4578-4816-9483-a9c61cbbb79a&quot;
[2022-05-06T15:45:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 8de27fb9-4578-4816-9483-a9c61cbbb79a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:45:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:45:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:45:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:45:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:45:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:45:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NTYsImlhdCI6MTY1MTg1MTk1NiwianRpIjoiZTg5NGY3MDQtZmFmMy00ZGRmLWFmYTQtOWY1ODVhNzM1ZWJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9vT1VTcTRoVzBKdHpwbFdnZTVjQnciLCJzZXNzaW9uX3N0YXRlIjoiN2I4NzkwYjItYWYyMy00NDUzLWE2ZDctYTg5NWI1MWE5OWRmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiJ9.3wNPHiELn3u6h8hzwp81qEnv_gGlrUf0RBYDFzcwm88
[2022-05-06T15:45:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:45:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NTYsImlhdCI6MTY1MTg1MTk1NiwianRpIjoiZTg5NGY3MDQtZmFmMy00ZGRmLWFmYTQtOWY1ODVhNzM1ZWJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9vT1VTcTRoVzBKdHpwbFdnZTVjQnciLCJzZXNzaW9uX3N0YXRlIjoiN2I4NzkwYjItYWYyMy00NDUzLWE2ZDctYTg5NWI1MWE5OWRmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiJ9.3wNPHiELn3u6h8hzwp81qEnv_gGlrUf0RBYDFzcwm88&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:45:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 5b5421ed-4a2b-446b-8241-4027ed52856d
[2022-05-06T15:45:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;
[2022-05-06T15:45:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5b5421ed-4a2b-446b-8241-4027ed52856d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;
[2022-05-06T15:45:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:57.585906Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;5b5421ed-4a2b-446b-8241-4027ed52856d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;51105af8-444c-4c15-aefa-60e06fd3e363\&quot;,\n    \&quot;uid\&quot;: \&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:57.585906Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;), &quot;resourceVersion&quot;: String(&quot;51105af8-444c-4c15-aefa-60e06fd3e363&quot;), &quot;uid&quot;: String(&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f&quot;)})})
[2022-05-06T15:45:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:57.585906Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5b5421ed-4a2b-446b-8241-4027ed52856d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;85b6982f-8188-40eb-82e5-ac3940b0cf85\&quot;,\n    \&quot;uid\&quot;: \&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903971517Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.904007975Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.638354585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.648894359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.701142Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.706678486Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903926262Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903942934Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;lDtRWdMCYEVj\&quot;,\n        \&quot;username\&quot;: \&quot;user-5b5421ed-4a2b-446b-8241-4027ed52856d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:57.585906Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;), &quot;resourceVersion&quot;: String(&quot;85b6982f-8188-40eb-82e5-ac3940b0cf85&quot;), &quot;uid&quot;: String(&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903971517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.904007975Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.638354585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.648894359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.701142Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.706678486Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903926262Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903942934Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;lDtRWdMCYEVj&quot;), &quot;username&quot;: String(&quot;user-5b5421ed-4a2b-446b-8241-4027ed52856d&quot;)})})})})
[2022-05-06T15:45:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:45:57.585906Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5b5421ed-4a2b-446b-8241-4027ed52856d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;85b6982f-8188-40eb-82e5-ac3940b0cf85\&quot;,\n    \&quot;uid\&quot;: \&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903971517Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.904007975Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.638354585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.648894359Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.701142Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.706678486Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903926262Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:45:57.903942934Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;lDtRWdMCYEVj\&quot;,\n        \&quot;username\&quot;: \&quot;user-5b5421ed-4a2b-446b-8241-4027ed52856d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:45:57.585906Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;), &quot;resourceVersion&quot;: String(&quot;85b6982f-8188-40eb-82e5-ac3940b0cf85&quot;), &quot;uid&quot;: String(&quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903971517Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.904007975Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.638354585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.648894359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.701142Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.706678486Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903926262Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:45:57.903942934Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;lDtRWdMCYEVj&quot;), &quot;username&quot;: String(&quot;user-5b5421ed-4a2b-446b-8241-4027ed52856d&quot;)})})})})
[2022-05-06T15:45:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNTYsImlhdCI6MTY1MTg1MTk1NiwiYXV0aF90aW1lIjoxNjUxODUxOTUzLCJqdGkiOiI1NmUxOWExOC1jMGI4LTQ5OTctYjRiYy02Y2QxMTRjYWMyMTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvb09VU3E0aFcwSnR6cGxXZ2U1Y0J3Iiwic2Vzc2lvbl9zdGF0ZSI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gmSgghQNROu1ZgspWvekYIyg-ya4zmL78z_xcazuyma-j8uo69Eqxdbb-Msvf6AohZuuYa5CPz239nqy6a1SqTI96Scqj1wOnhPuNsz2KkdBl971dXLBd-lRXtfyFc8GCpNFr3K6fakmmH7VsyLDA5zquH-hd9Nibe51dKZBKTu2sQ5pFbfDw272J9Cs4NVR8yNDNGGOD9JGT0UmRliWJ22iAL37NA4WoQP8yi6EECLW5L1SA_wi7zyQmqqVfIiyuZMVDDU7kQ3Z6QnnUvD0_vtiLZOJtKEhI4M0_pAHCY7L-BqBekmaxnLq_Epuiw3RNaJGc2F2jS6FR4MHUOYH7w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:45:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNTYsImlhdCI6MTY1MTg1MTk1NiwiYXV0aF90aW1lIjoxNjUxODUxOTUzLCJqdGkiOiI1NmUxOWExOC1jMGI4LTQ5OTctYjRiYy02Y2QxMTRjYWMyMTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvb09VU3E0aFcwSnR6cGxXZ2U1Y0J3Iiwic2Vzc2lvbl9zdGF0ZSI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gmSgghQNROu1ZgspWvekYIyg-ya4zmL78z_xcazuyma-j8uo69Eqxdbb-Msvf6AohZuuYa5CPz239nqy6a1SqTI96Scqj1wOnhPuNsz2KkdBl971dXLBd-lRXtfyFc8GCpNFr3K6fakmmH7VsyLDA5zquH-hd9Nibe51dKZBKTu2sQ5pFbfDw272J9Cs4NVR8yNDNGGOD9JGT0UmRliWJ22iAL37NA4WoQP8yi6EECLW5L1SA_wi7zyQmqqVfIiyuZMVDDU7kQ3Z6QnnUvD0_vtiLZOJtKEhI4M0_pAHCY7L-BqBekmaxnLq_Epuiw3RNaJGc2F2jS6FR4MHUOYH7w\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;ed2c6aa5-3c97-4b8e-a1de-1c21ce257866&quot;, persistence: None, user_data: None }
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ecaff30
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ecaff30
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ed65400, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecaed50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ecaf1d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNTYsImlhdCI6MTY1MTg1MTk1NiwiYXV0aF90aW1lIjoxNjUxODUxOTUzLCJqdGkiOiI1NmUxOWExOC1jMGI4LTQ5OTctYjRiYy02Y2QxMTRjYWMyMTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvb09VU3E0aFcwSnR6cGxXZ2U1Y0J3Iiwic2Vzc2lvbl9zdGF0ZSI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiODc5MGIyLWFmMjMtNDQ1My1hNmQ3LWE4OTViNTFhOTlkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gmSgghQNROu1ZgspWvekYIyg-ya4zmL78z_xcazuyma-j8uo69Eqxdbb-Msvf6AohZuuYa5CPz239nqy6a1SqTI96Scqj1wOnhPuNsz2KkdBl971dXLBd-lRXtfyFc8GCpNFr3K6fakmmH7VsyLDA5zquH-hd9Nibe51dKZBKTu2sQ5pFbfDw272J9Cs4NVR8yNDNGGOD9JGT0UmRliWJ22iAL37NA4WoQP8yi6EECLW5L1SA_wi7zyQmqqVfIiyuZMVDDU7kQ3Z6QnnUvD0_vtiLZOJtKEhI4M0_pAHCY7L-BqBekmaxnLq_Epuiw3RNaJGc2F2jS6FR4MHUOYH7w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:45:58Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5b5421ed-4a2b-446b-8241-4027ed52856d&quot;&#x27; @ QOS 0
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:45:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:45:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:45:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fe9f00119d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ef88330 } }, data: MessageData { topic: &quot;app/5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42ef88330 } } } }
[2022-05-06T15:46:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d4e10, 0x55f42f1d3b00
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d3b00, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f1d3b00, 0x55f42f0f8e80
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0f8e80, 0x7fea0c005870
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f0f8e80, 0x7fea0c003670
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003670, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c003670, 0x7fea0c006970
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x55f42f1d3a20
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x55f42ec45e70
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006970, 0x7fea0c006f60
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c006f60, 0x7fea0c006970
[2022-05-06T15:46:02Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c006970
[2022-05-06T15:46:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;04197834-1b76-4682-b8b6-0c4a046640c7&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, &quot;time&quot;: &quot;2022-05-06T15:46:02.552974641+00:00&quot;, &quot;deviceuid&quot;: &quot;d43260fa-bb60-4c61-a431-d7f52238983c&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;d43260fa-bb60-4c61-a431-d7f52238983c&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;partitionkey&quot;: &quot;5b5421ed%2D4a2b%2D446b%2D8241%2D4027ed52856d/device1&quot;, &quot;source&quot;: &quot;drogue://5b5421ed%2D4a2b%2D446b%2D8241%2D4027ed52856d/device1&quot;, &quot;applicationuid&quot;: &quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:46:03Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;24c9381e-0164-4a29-a9f1-3005fc3af793&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee4ed40
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee4ed40
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f2892f0, password: 0x55f42ed8f1b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee47690, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ef83890, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@5b5421ed-4a2b-446b-8241-4027ed52856d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fe9f0008420, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f18c690 } }, data: MessageData { topic: &quot;app/5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f18c690 } } } }
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eccf4e0, 0x55f42eef2670
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eef2670, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eef2670, 0x55f42eef2690
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eef2690, 0x55f42ec76620
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42eef2690, 0x7fea10001b00
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001b00, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001b00, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001b00, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001b00, 0x7fea10001680
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001680, 0x55f42f0d2510
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001680, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1ce0a0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42f1ce0a0 } } } }
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001680, 0x55f42f05f280
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001680, 0x7fea10001ca0
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ca0, 0x7fea10001680
[2022-05-06T15:46:03Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001680
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;43a919aa-c481-4427-81f3-cb5039b8321c&quot;, &quot;applicationuid&quot;: &quot;67de1bc7-b986-4fdd-8ad1-ab817d19dd1f&quot;, &quot;partitionkey&quot;: &quot;5b5421ed%2D4a2b%2D446b%2D8241%2D4027ed52856d/device1&quot;, &quot;senderuid&quot;: &quot;d43260fa-bb60-4c61-a431-d7f52238983c&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, &quot;time&quot;: &quot;2022-05-06T15:46:03.671889347+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;d43260fa-bb60-4c61-a431-d7f52238983c&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://5b5421ed%2D4a2b%2D446b%2D8241%2D4027ed52856d/device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:46:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:46:03Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:46:03Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot; &quot;device1&quot;
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5b5421ed-4a2b-446b-8241-4027ed52856d&#x27;
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5b5421ed-4a2b-446b-8241-4027ed52856d&quot;
[2022-05-06T15:46:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5b5421ed-4a2b-446b-8241-4027ed52856d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:46:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:46:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:46:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:46:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NzAsImlhdCI6MTY1MTg1MTk3MCwianRpIjoiNTlmZDAyODQtYTdhZS00NTFhLWExMDktNWU1MGJmN2IxNDFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQ4TjNoWnlsWWxZcU52eEFQaTNDQXciLCJzZXNzaW9uX3N0YXRlIjoiYmRjMTZkNGQtODMyNC00MjEyLWFkOWYtYTk0YWY3NzQ1YWFmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiJ9.li912_DKY1scjebEQQkRCMv3hh5i3Fz_NUkO9WcxEEg
[2022-05-06T15:46:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:46:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3NzAsImlhdCI6MTY1MTg1MTk3MCwianRpIjoiNTlmZDAyODQtYTdhZS00NTFhLWExMDktNWU1MGJmN2IxNDFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQ4TjNoWnlsWWxZcU52eEFQaTNDQXciLCJzZXNzaW9uX3N0YXRlIjoiYmRjMTZkNGQtODMyNC00MjEyLWFkOWYtYTk0YWY3NzQ1YWFmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiJ9.li912_DKY1scjebEQQkRCMv3hh5i3Fz_NUkO9WcxEEg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:46:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 68e58420-3639-42de-b527-2aca2ec64c72
[2022-05-06T15:46:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;
[2022-05-06T15:46:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 68e58420-3639-42de-b527-2aca2ec64c72 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;
[2022-05-06T15:46:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:11.293869Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;68e58420-3639-42de-b527-2aca2ec64c72\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ee5f6676-dc1a-4418-988e-b341941f351a\&quot;,\n    \&quot;uid\&quot;: \&quot;08cd7611-97b7-4e2d-b537-2606707c3b37\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311968097Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311944072Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311897916Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311898677Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311899048Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311899628Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311900059Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.311903927Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:11.293869Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;), &quot;resourceVersion&quot;: String(&quot;ee5f6676-dc1a-4418-988e-b341941f351a&quot;), &quot;uid&quot;: String(&quot;08cd7611-97b7-4e2d-b537-2606707c3b37&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311968097Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311944072Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311897916Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311898677Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311899048Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311899628Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311900059Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.311903927Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:46:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:11.293869Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;68e58420-3639-42de-b527-2aca2ec64c72\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d7055951-4117-42e9-9092-aecce8e71307\&quot;,\n    \&quot;uid\&quot;: \&quot;08cd7611-97b7-4e2d-b537-2606707c3b37\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669386110Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669297373Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.334338594Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.341688809Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.426043405Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.433073049Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669249985Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669270894Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DsyGmvW3mEgC\&quot;,\n        \&quot;username\&quot;: \&quot;user-68e58420-3639-42de-b527-2aca2ec64c72\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:11.293869Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;), &quot;resourceVersion&quot;: String(&quot;d7055951-4117-42e9-9092-aecce8e71307&quot;), &quot;uid&quot;: String(&quot;08cd7611-97b7-4e2d-b537-2606707c3b37&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669386110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669297373Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.334338594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.341688809Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.426043405Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.433073049Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669249985Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669270894Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DsyGmvW3mEgC&quot;), &quot;username&quot;: String(&quot;user-68e58420-3639-42de-b527-2aca2ec64c72&quot;)})})})})
[2022-05-06T15:46:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:11.293869Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;68e58420-3639-42de-b527-2aca2ec64c72\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d7055951-4117-42e9-9092-aecce8e71307\&quot;,\n    \&quot;uid\&quot;: \&quot;08cd7611-97b7-4e2d-b537-2606707c3b37\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669386110Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669297373Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.334338594Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.341688809Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.426043405Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.433073049Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669249985Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:11.669270894Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DsyGmvW3mEgC\&quot;,\n        \&quot;username\&quot;: \&quot;user-68e58420-3639-42de-b527-2aca2ec64c72\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:11.293869Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;), &quot;resourceVersion&quot;: String(&quot;d7055951-4117-42e9-9092-aecce8e71307&quot;), &quot;uid&quot;: String(&quot;08cd7611-97b7-4e2d-b537-2606707c3b37&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669386110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669297373Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.334338594Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.341688809Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.426043405Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.433073049Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669249985Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:11.669270894Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DsyGmvW3mEgC&quot;), &quot;username&quot;: String(&quot;user-68e58420-3639-42de-b527-2aca2ec64c72&quot;)})})})})
[2022-05-06T15:46:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNzAsImlhdCI6MTY1MTg1MTk3MCwiYXV0aF90aW1lIjoxNjUxODUxOTY3LCJqdGkiOiJmNTViNmYwYS1kMzc4LTQxZDctYjdhMy04YjhkM2JjMDc3MWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUOE4zaFp5bFlsWXFOdnhBUGkzQ0F3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BQrq4sCdIr2LgT1_CiqeUKuxTb8s949HwJGMHmdOK3wcZrh-qLcHz8q_Xz_QdmJYzHd8kHms-xcSrQddd3lobIQ_fh4a43drWIV-xSB-usFgx_jGTpkUTiR-UGlAXNymFUIEnUbGQiPJy1GmUQj2COWenHu6JbrZ8fzG1YiT7G5a5yEvP8EeKQBGL9PVyBy3KRNSAE_xkZb4vYtNuDjbuMb1sQekpsVepEtuPtdYGCs5w6xFyVzWlcmoxnbdqvVCBkDr1ylYg29KZumSd3w0dZWN5GVbwV_1LZBe17UVKAX2p_0omnaFTykI3szrUdGLhaxGBpoQiUCT04MC-SGMOA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNzAsImlhdCI6MTY1MTg1MTk3MCwiYXV0aF90aW1lIjoxNjUxODUxOTY3LCJqdGkiOiJmNTViNmYwYS1kMzc4LTQxZDctYjdhMy04YjhkM2JjMDc3MWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUOE4zaFp5bFlsWXFOdnhBUGkzQ0F3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BQrq4sCdIr2LgT1_CiqeUKuxTb8s949HwJGMHmdOK3wcZrh-qLcHz8q_Xz_QdmJYzHd8kHms-xcSrQddd3lobIQ_fh4a43drWIV-xSB-usFgx_jGTpkUTiR-UGlAXNymFUIEnUbGQiPJy1GmUQj2COWenHu6JbrZ8fzG1YiT7G5a5yEvP8EeKQBGL9PVyBy3KRNSAE_xkZb4vYtNuDjbuMb1sQekpsVepEtuPtdYGCs5w6xFyVzWlcmoxnbdqvVCBkDr1ylYg29KZumSd3w0dZWN5GVbwV_1LZBe17UVKAX2p_0omnaFTykI3szrUdGLhaxGBpoQiUCT04MC-SGMOA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;58761d5b-dc7e-4ea5-9dbc-762b9babac64&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efd3d70
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efd3d70
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eddfec0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0d6080, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eddf8d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyNzAsImlhdCI6MTY1MTg1MTk3MCwiYXV0aF90aW1lIjoxNjUxODUxOTY3LCJqdGkiOiJmNTViNmYwYS1kMzc4LTQxZDctYjdhMy04YjhkM2JjMDc3MWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUOE4zaFp5bFlsWXFOdnhBUGkzQ0F3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzE2ZDRkLTgzMjQtNDIxMi1hZDlmLWE5NGFmNzc0NWFhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BQrq4sCdIr2LgT1_CiqeUKuxTb8s949HwJGMHmdOK3wcZrh-qLcHz8q_Xz_QdmJYzHd8kHms-xcSrQddd3lobIQ_fh4a43drWIV-xSB-usFgx_jGTpkUTiR-UGlAXNymFUIEnUbGQiPJy1GmUQj2COWenHu6JbrZ8fzG1YiT7G5a5yEvP8EeKQBGL9PVyBy3KRNSAE_xkZb4vYtNuDjbuMb1sQekpsVepEtuPtdYGCs5w6xFyVzWlcmoxnbdqvVCBkDr1ylYg29KZumSd3w0dZWN5GVbwV_1LZBe17UVKAX2p_0omnaFTykI3szrUdGLhaxGBpoQiUCT04MC-SGMOA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:12Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/68e58420-3639-42de-b527-2aca2ec64c72&quot;&#x27; @ QOS 0
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f002c140, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/68e58420-3639-42de-b527-2aca2ec64c72&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 49, 102, 56, 99, 97, 57, 52, 45, 99, 98, 53, 50, 45, 52, 49, 51, 50, 45, 97, 56, 49, 57, 45, 49, 53, 99, 50, 48, 98, 98, 53, 52, 52, 49, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 101, 53, 56, 52, 50, 48, 37, 50, 68, 51, 54, 51, 57, 37, 50, 68, 52, 50, 100, 101, 37, 50, 68, 98, 53, 50, 55, 37, 50, 68, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 49, 54, 46, 53, 54, 52, 56, 49, 54, 50, 53, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 101, 53, 56, 52, 50, 48, 37, 50, 68, 51, 54, 51, 57, 37, 50, 68, 52, 50, 100, 101, 37, 50, 68, 98, 53, 50, 55, 37, 50, 68, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 49, 52, 52, 57, 57, 54, 52, 45, 51, 101, 54, 57, 45, 52, 55, 49, 50, 45, 56, 54, 48, 49, 45, 57, 98, 53, 50, 55, 101, 97, 56, 56, 54, 57, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 56, 99, 100, 55, 54, 49, 49, 45, 57, 55, 98, 55, 45, 52, 101, 50, 100, 45, 98, 53, 51, 55, 45, 50, 54, 48, 54, 55, 48, 55, 99, 51, 98, 51, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 101, 53, 56, 52, 50, 48, 45, 51, 54, 51, 57, 45, 52, 50, 100, 101, 45, 98, 53, 50, 55, 45, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 49, 52, 52, 57, 57, 54, 52, 45, 51, 101, 54, 57, 45, 52, 55, 49, 50, 45, 56, 54, 48, 49, 45, 57, 98, 53, 50, 55, 101, 97, 56, 56, 54, 57, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:46:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/68e58420-3639-42de-b527-2aca2ec64c72&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;01f8ca94-cb52-4132-a819-15c20bb54417\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://68e58420%2D3639%2D42de%2Db527%2D2aca2ec64c72/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:16.564816250Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;68e58420%2D3639%2D42de%2Db527%2D2aca2ec64c72/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;31449964-3e69-4712-8601-9b527ea8869b\&quot;,\&quot;applicationuid\&quot;:\&quot;08cd7611-97b7-4e2d-b537-2606707c3b37\&quot;,\&quot;application\&quot;:\&quot;68e58420-3639-42de-b527-2aca2ec64c72\&quot;,\&quot;senderuid\&quot;:\&quot;31449964-3e69-4712-8601-9b527ea8869b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:46:17Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;4a82d32d-0ecd-4572-9681-dff8fb797c99&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42edeb3c0
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42edeb3c0
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42edcd3e0, password: 0x55f42ee5e6c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed869d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1057a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@68e58420-3639-42de-b527-2aca2ec64c72&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed90aa0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ed90aa0 } } } }
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f000abe0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/68e58420-3639-42de-b527-2aca2ec64c72&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 99, 50, 56, 53, 98, 48, 53, 45, 100, 98, 50, 52, 45, 52, 49, 48, 53, 45, 97, 102, 98, 48, 45, 53, 54, 56, 55, 51, 99, 100, 97, 52, 101, 48, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 101, 53, 56, 52, 50, 48, 37, 50, 68, 51, 54, 51, 57, 37, 50, 68, 52, 50, 100, 101, 37, 50, 68, 98, 53, 50, 55, 37, 50, 68, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 49, 55, 46, 54, 56, 52, 49, 54, 52, 53, 50, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 101, 53, 56, 52, 50, 48, 45, 51, 54, 51, 57, 45, 52, 50, 100, 101, 45, 98, 53, 50, 55, 45, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 101, 53, 56, 52, 50, 48, 37, 50, 68, 51, 54, 51, 57, 37, 50, 68, 52, 50, 100, 101, 37, 50, 68, 98, 53, 50, 55, 37, 50, 68, 50, 97, 99, 97, 50, 101, 99, 54, 52, 99, 55, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 49, 52, 52, 57, 57, 54, 52, 45, 51, 101, 54, 57, 45, 52, 55, 49, 50, 45, 56, 54, 48, 49, 45, 57, 98, 53, 50, 55, 101, 97, 56, 56, 54, 57, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 49, 52, 52, 57, 57, 54, 52, 45, 51, 101, 54, 57, 45, 52, 55, 49, 50, 45, 56, 54, 48, 49, 45, 57, 98, 53, 50, 55, 101, 97, 56, 56, 54, 57, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 56, 99, 100, 55, 54, 49, 49, 45, 57, 55, 98, 55, 45, 52, 101, 50, 100, 45, 98, 53, 51, 55, 45, 50, 54, 48, 54, 55, 48, 55, 99, 51, 98, 51, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/68e58420-3639-42de-b527-2aca2ec64c72&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4c285b05-db24-4105-afb0-56873cda4e0d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://68e58420%2D3639%2D42de%2Db527%2D2aca2ec64c72/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:17.684164520Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;68e58420-3639-42de-b527-2aca2ec64c72\&quot;,\&quot;partitionkey\&quot;:\&quot;68e58420%2D3639%2D42de%2Db527%2D2aca2ec64c72/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;31449964-3e69-4712-8601-9b527ea8869b\&quot;,\&quot;senderuid\&quot;:\&quot;31449964-3e69-4712-8601-9b527ea8869b\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;08cd7611-97b7-4e2d-b537-2606707c3b37\&quot;}&quot; }
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:46:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:46:17Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:46:17Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot; &quot;device1&quot;
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;68e58420-3639-42de-b527-2aca2ec64c72&#x27;
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;68e58420-3639-42de-b527-2aca2ec64c72&quot;
[2022-05-06T15:46:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 68e58420-3639-42de-b527-2aca2ec64c72 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:46:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:46:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:46:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:46:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3ODQsImlhdCI6MTY1MTg1MTk4NCwianRpIjoiODBjNmFlYzMtZmViZS00ZTIyLThiNmQtOTFlNzMzN2ZkYWMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJuVG9KaEM1cFRPX1M2VzZOOUYybUEiLCJzZXNzaW9uX3N0YXRlIjoiMWNkYWY1NWMtOWExOS00YzY2LTlmZDItYTRiZTNmMDliMjdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiJ9.NmwtULowMlGVJObmgzRv18XvCN8NIDUqpW4PDWaXEyQ
[2022-05-06T15:46:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:46:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3ODQsImlhdCI6MTY1MTg1MTk4NCwianRpIjoiODBjNmFlYzMtZmViZS00ZTIyLThiNmQtOTFlNzMzN2ZkYWMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJuVG9KaEM1cFRPX1M2VzZOOUYybUEiLCJzZXNzaW9uX3N0YXRlIjoiMWNkYWY1NWMtOWExOS00YzY2LTlmZDItYTRiZTNmMDliMjdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiJ9.NmwtULowMlGVJObmgzRv18XvCN8NIDUqpW4PDWaXEyQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:46:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:25Z INFO  drogue_cloud_tests::resources::apps] Create application: f935353f-3439-4786-9705-b7e339a6fdc1
[2022-05-06T15:46:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;
[2022-05-06T15:46:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f935353f-3439-4786-9705-b7e339a6fdc1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;
[2022-05-06T15:46:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:25.066101Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;f935353f-3439-4786-9705-b7e339a6fdc1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8622f963-bcc0-41fc-be6e-3ccc1382a606\&quot;,\n    \&quot;uid\&quot;: \&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086972183Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086949641Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086922380Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086923191Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086923572Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086923973Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086924674Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.086928321Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:25.066101Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;), &quot;resourceVersion&quot;: String(&quot;8622f963-bcc0-41fc-be6e-3ccc1382a606&quot;), &quot;uid&quot;: String(&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086972183Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086949641Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086922380Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086923191Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086923572Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086923973Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086924674Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.086928321Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:46:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:25.066101Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;f935353f-3439-4786-9705-b7e339a6fdc1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;08d641aa-04e5-41a4-a1e4-b9be79210f75\&quot;,\n    \&quot;uid\&quot;: \&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399741436Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399695430Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.106347285Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.110808536Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.178049417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.183505843Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399571317Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399594120Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vYKLyseZY70k\&quot;,\n        \&quot;username\&quot;: \&quot;user-f935353f-3439-4786-9705-b7e339a6fdc1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:25.066101Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;), &quot;resourceVersion&quot;: String(&quot;08d641aa-04e5-41a4-a1e4-b9be79210f75&quot;), &quot;uid&quot;: String(&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399741436Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399695430Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.106347285Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.110808536Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.178049417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.183505843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399571317Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399594120Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vYKLyseZY70k&quot;), &quot;username&quot;: String(&quot;user-f935353f-3439-4786-9705-b7e339a6fdc1&quot;)})})})})
[2022-05-06T15:46:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:25.066101Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;f935353f-3439-4786-9705-b7e339a6fdc1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;08d641aa-04e5-41a4-a1e4-b9be79210f75\&quot;,\n    \&quot;uid\&quot;: \&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399741436Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399695430Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.106347285Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.110808536Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.178049417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.183505843Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399571317Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:25.399594120Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;vYKLyseZY70k\&quot;,\n        \&quot;username\&quot;: \&quot;user-f935353f-3439-4786-9705-b7e339a6fdc1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:25.066101Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;), &quot;resourceVersion&quot;: String(&quot;08d641aa-04e5-41a4-a1e4-b9be79210f75&quot;), &quot;uid&quot;: String(&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399741436Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399695430Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.106347285Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.110808536Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.178049417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.183505843Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399571317Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:25.399594120Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;vYKLyseZY70k&quot;), &quot;username&quot;: String(&quot;user-f935353f-3439-4786-9705-b7e339a6fdc1&quot;)})})})})
[2022-05-06T15:46:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyODQsImlhdCI6MTY1MTg1MTk4NCwiYXV0aF90aW1lIjoxNjUxODUxOTgxLCJqdGkiOiIwNjNmZTI0NS03YzFhLTQzZjYtYTc1Ni01M2RlZTA2YzEyNDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSblRvSmhDNXBUT19TNlc2TjlGMm1BIiwic2Vzc2lvbl9zdGF0ZSI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.cCjLRERXxtxznWj8IGJcN6ClJzlwkBtjNqhyOtkThd-7rPLwt6JkoSB1AkCwqD7X3yoPvudgTH9RddR7PPP28zLMvk8RtHijzraH1w7AmE2_uC08zy4BshqVH9d6-Wocg9VWj53z9fWRpwmtmR4mwgh7mqj-LwQEfPMqjk-OEBTmk9of6BRVKdAUTQBEIbkQQtNsxOBzytVl2ci0PlfvxMqjsNGrU5-Qy_3_mJpgP6FHHcdwZk95NOdrFY_wJOVWGNjSIaPmC7oK9kG9FTA-BFE6JlF5eSR5RtJJqfv00lgZZyANIxfXdPzJtoKK-Gsr71fwe_WdPTp31VopY8yCEA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyODQsImlhdCI6MTY1MTg1MTk4NCwiYXV0aF90aW1lIjoxNjUxODUxOTgxLCJqdGkiOiIwNjNmZTI0NS03YzFhLTQzZjYtYTc1Ni01M2RlZTA2YzEyNDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSblRvSmhDNXBUT19TNlc2TjlGMm1BIiwic2Vzc2lvbl9zdGF0ZSI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.cCjLRERXxtxznWj8IGJcN6ClJzlwkBtjNqhyOtkThd-7rPLwt6JkoSB1AkCwqD7X3yoPvudgTH9RddR7PPP28zLMvk8RtHijzraH1w7AmE2_uC08zy4BshqVH9d6-Wocg9VWj53z9fWRpwmtmR4mwgh7mqj-LwQEfPMqjk-OEBTmk9of6BRVKdAUTQBEIbkQQtNsxOBzytVl2ci0PlfvxMqjsNGrU5-Qy_3_mJpgP6FHHcdwZk95NOdrFY_wJOVWGNjSIaPmC7oK9kG9FTA-BFE6JlF5eSR5RtJJqfv00lgZZyANIxfXdPzJtoKK-Gsr71fwe_WdPTp31VopY8yCEA\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;fa01636f-e246-4806-b7d1-3bb1560d8291&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ec7adc0
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ec7adc0
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42eca71e0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f0f8ff0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42eca6e40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyODQsImlhdCI6MTY1MTg1MTk4NCwiYXV0aF90aW1lIjoxNjUxODUxOTgxLCJqdGkiOiIwNjNmZTI0NS03YzFhLTQzZjYtYTc1Ni01M2RlZTA2YzEyNDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSblRvSmhDNXBUT19TNlc2TjlGMm1BIiwic2Vzc2lvbl9zdGF0ZSI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjZGFmNTVjLTlhMTktNGM2Ni05ZmQyLWE0YmUzZjA5YjI3ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.cCjLRERXxtxznWj8IGJcN6ClJzlwkBtjNqhyOtkThd-7rPLwt6JkoSB1AkCwqD7X3yoPvudgTH9RddR7PPP28zLMvk8RtHijzraH1w7AmE2_uC08zy4BshqVH9d6-Wocg9VWj53z9fWRpwmtmR4mwgh7mqj-LwQEfPMqjk-OEBTmk9of6BRVKdAUTQBEIbkQQtNsxOBzytVl2ci0PlfvxMqjsNGrU5-Qy_3_mJpgP6FHHcdwZk95NOdrFY_wJOVWGNjSIaPmC7oK9kG9FTA-BFE6JlF5eSR5RtJJqfv00lgZZyANIxfXdPzJtoKK-Gsr71fwe_WdPTp31VopY8yCEA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:26Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/f935353f-3439-4786-9705-b7e339a6fdc1&quot;&#x27; @ QOS 0
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f000cdb0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/f935353f-3439-4786-9705-b7e339a6fdc1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 49, 57, 102, 55, 56, 51, 98, 45, 97, 57, 49, 100, 45, 52, 48, 54, 54, 45, 97, 49, 56, 57, 45, 53, 97, 97, 56, 99, 53, 48, 101, 52, 52, 51, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 57, 51, 53, 51, 53, 51, 102, 37, 50, 68, 51, 52, 51, 57, 37, 50, 68, 52, 55, 56, 54, 37, 50, 68, 57, 55, 48, 53, 37, 50, 68, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 50, 57, 46, 53, 55, 48, 48, 53, 54, 52, 56, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 49, 53, 97, 51, 53, 98, 48, 45, 101, 50, 55, 57, 45, 52, 50, 99, 51, 45, 57, 101, 53, 55, 45, 99, 57, 54, 55, 53, 101, 55, 102, 55, 98, 56, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 49, 53, 97, 51, 53, 98, 48, 45, 101, 50, 55, 57, 45, 52, 50, 99, 51, 45, 57, 101, 53, 55, 45, 99, 57, 54, 55, 53, 101, 55, 102, 55, 98, 56, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 57, 51, 53, 51, 53, 51, 102, 45, 51, 52, 51, 57, 45, 52, 55, 56, 54, 45, 57, 55, 48, 53, 45, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 57, 51, 53, 51, 53, 51, 102, 37, 50, 68, 51, 52, 51, 57, 37, 50, 68, 52, 55, 56, 54, 37, 50, 68, 57, 55, 48, 53, 37, 50, 68, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 50, 48, 53, 101, 98, 55, 101, 45, 51, 53, 101, 52, 45, 52, 50, 98, 56, 45, 57, 49, 50, 52, 45, 56, 50, 54, 98, 52, 102, 54, 98, 102, 50, 55, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:46:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f935353f-3439-4786-9705-b7e339a6fdc1&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;419f783b-a91d-4066-a189-5aa8c50e4433\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f935353f%2D3439%2D4786%2D9705%2Db7e339a6fdc1/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:29.570056487Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;115a35b0-e279-42c3-9e57-c9675e7f7b88\&quot;,\&quot;deviceuid\&quot;:\&quot;115a35b0-e279-42c3-9e57-c9675e7f7b88\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;f935353f-3439-4786-9705-b7e339a6fdc1\&quot;,\&quot;partitionkey\&quot;:\&quot;f935353f%2D3439%2D4786%2D9705%2Db7e339a6fdc1/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274\&quot;}&quot; }
[2022-05-06T15:46:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:46:30Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a39b3f8a-e799-4e70-9e78-31bb9cf7eb9b&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42eeb54b0
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42eeb54b0
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42efb3350, password: 0x55f42edf5c00, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f279660, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f28b4b0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@f935353f-3439-4786-9705-b7e339a6fdc1&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f0024d00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/f935353f-3439-4786-9705-b7e339a6fdc1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 101, 52, 102, 53, 56, 57, 51, 45, 55, 51, 98, 97, 45, 52, 53, 100, 56, 45, 56, 53, 50, 54, 45, 56, 99, 49, 50, 50, 51, 102, 57, 49, 50, 52, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 57, 51, 53, 51, 53, 51, 102, 37, 50, 68, 51, 52, 51, 57, 37, 50, 68, 52, 55, 56, 54, 37, 50, 68, 57, 55, 48, 53, 37, 50, 68, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 51, 48, 46, 54, 56, 54, 52, 57, 57, 54, 48, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 49, 53, 97, 51, 53, 98, 48, 45, 101, 50, 55, 57, 45, 52, 50, 99, 51, 45, 57, 101, 53, 55, 45, 99, 57, 54, 55, 53, 101, 55, 102, 55, 98, 56, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 49, 53, 97, 51, 53, 98, 48, 45, 101, 50, 55, 57, 45, 52, 50, 99, 51, 45, 57, 101, 53, 55, 45, 99, 57, 54, 55, 53, 101, 55, 102, 55, 98, 56, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 50, 48, 53, 101, 98, 55, 101, 45, 51, 53, 101, 52, 45, 52, 50, 98, 56, 45, 57, 49, 50, 52, 45, 56, 50, 54, 98, 52, 102, 54, 98, 102, 50, 55, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 57, 51, 53, 51, 53, 51, 102, 45, 51, 52, 51, 57, 45, 52, 55, 56, 54, 45, 57, 55, 48, 53, 45, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 57, 51, 53, 51, 53, 51, 102, 37, 50, 68, 51, 52, 51, 57, 37, 50, 68, 52, 55, 56, 54, 37, 50, 68, 57, 55, 48, 53, 37, 50, 68, 98, 55, 101, 51, 51, 57, 97, 54, 102, 100, 99, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/f935353f-3439-4786-9705-b7e339a6fdc1&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5e4f5893-73ba-45d8-8526-8c1223f9124b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://f935353f%2D3439%2D4786%2D9705%2Db7e339a6fdc1/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:30.686499602Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;115a35b0-e279-42c3-9e57-c9675e7f7b88\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;115a35b0-e279-42c3-9e57-c9675e7f7b88\&quot;,\&quot;applicationuid\&quot;:\&quot;6205eb7e-35e4-42b8-9124-826b4f6bf274\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;f935353f-3439-4786-9705-b7e339a6fdc1\&quot;,\&quot;partitionkey\&quot;:\&quot;f935353f%2D3439%2D4786%2D9705%2Db7e339a6fdc1/device1\&quot;}&quot; }
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd8460 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42efd8460 } } } }
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:46:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:46:30Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:46:30Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot; &quot;device1&quot;
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f935353f-3439-4786-9705-b7e339a6fdc1&#x27;
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f935353f-3439-4786-9705-b7e339a6fdc1&quot;
[2022-05-06T15:46:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App f935353f-3439-4786-9705-b7e339a6fdc1 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:46:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:46:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:46:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:46:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3OTcsImlhdCI6MTY1MTg1MTk5NywianRpIjoiYTgxYjc1OTQtZWRmNS00OWU4LWJlNDgtYTBhY2Y2ZDhhOWM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdlSi1vR3E4dFdyYzBjTUw5UGR2bkEiLCJzZXNzaW9uX3N0YXRlIjoiMTUyYTc4Y2YtZjg3NC00ZDgwLThhNWMtYjZhNmE2ZjZhODExIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSJ9.UFZryIlEWihkrHBzrBNxbvIFG3i3Yu-fcQwAmEYdNiI
[2022-05-06T15:46:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:46:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM3OTcsImlhdCI6MTY1MTg1MTk5NywianRpIjoiYTgxYjc1OTQtZWRmNS00OWU4LWJlNDgtYTBhY2Y2ZDhhOWM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdlSi1vR3E4dFdyYzBjTUw5UGR2bkEiLCJzZXNzaW9uX3N0YXRlIjoiMTUyYTc4Y2YtZjg3NC00ZDgwLThhNWMtYjZhNmE2ZjZhODExIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSJ9.UFZryIlEWihkrHBzrBNxbvIFG3i3Yu-fcQwAmEYdNiI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:46:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 13fd65ec-3c21-496e-9102-638e2d6bc131
[2022-05-06T15:46:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;
[2022-05-06T15:46:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 13fd65ec-3c21-496e-9102-638e2d6bc131 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;
[2022-05-06T15:46:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:38.166222Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;242dcb46-a9b4-4856-b24a-2ea71c6cd6ab\&quot;,\n    \&quot;uid\&quot;: \&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180433511Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180525964Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180315500Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180318256Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180319097Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180320139Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180320870Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.180397924Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:38.166222Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;), &quot;resourceVersion&quot;: String(&quot;242dcb46-a9b4-4856-b24a-2ea71c6cd6ab&quot;), &quot;uid&quot;: String(&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180433511Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180525964Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180315500Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180318256Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180319097Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180320139Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180320870Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.180397924Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:46:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:38.166222Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1f76df96-43f4-4843-a9c8-48686b05e353\&quot;,\n    \&quot;uid\&quot;: \&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492416611Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492460604Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.225279320Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.232889974Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.293026511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.299314083Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492227867Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492326552Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YrowMsPnOpYV\&quot;,\n        \&quot;username\&quot;: \&quot;user-13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:38.166222Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;), &quot;resourceVersion&quot;: String(&quot;1f76df96-43f4-4843-a9c8-48686b05e353&quot;), &quot;uid&quot;: String(&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492416611Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492460604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.225279320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.232889974Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.293026511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.299314083Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492227867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492326552Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YrowMsPnOpYV&quot;), &quot;username&quot;: String(&quot;user-13fd65ec-3c21-496e-9102-638e2d6bc131&quot;)})})})})
[2022-05-06T15:46:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:38.166222Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1f76df96-43f4-4843-a9c8-48686b05e353\&quot;,\n    \&quot;uid\&quot;: \&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492416611Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492460604Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.225279320Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.232889974Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.293026511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.299314083Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492227867Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:38.492326552Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YrowMsPnOpYV\&quot;,\n        \&quot;username\&quot;: \&quot;user-13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:38.166222Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;), &quot;resourceVersion&quot;: String(&quot;1f76df96-43f4-4843-a9c8-48686b05e353&quot;), &quot;uid&quot;: String(&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492416611Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492460604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.225279320Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.232889974Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.293026511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.299314083Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492227867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:38.492326552Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YrowMsPnOpYV&quot;), &quot;username&quot;: String(&quot;user-13fd65ec-3c21-496e-9102-638e2d6bc131&quot;)})})})})
[2022-05-06T15:46:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyOTcsImlhdCI6MTY1MTg1MTk5NywiYXV0aF90aW1lIjoxNjUxODUxOTk0LCJqdGkiOiJmYTQwMTQxNi0zYjQ2LTRmNTktODFiMy0zYmExN2YwYmYxZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3ZUotb0dxOHRXcmMwY01MOVBkdm5BIiwic2Vzc2lvbl9zdGF0ZSI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hLG26i4_qyG_7f6uBtR4UL8j299MC7Lh_y4UDn23vSsp_AiRgoglHY5K0OLLnM7PhaC2P0tHMQVLm26-mzgye4fOZ3qD7I7dBTv6mxwH480iqWC0F_mZ_JRmySLlfhCW-7zas-2rqTFu1WoW_JGoN-XQgQNQmAqkOH-mhyXi02n4gJUDOi6iVWgdr7yRLqJCaqYMOgr6NVvIM5p8RqXLv58jABkuxkJwm7pIP8m1QiqH9lFeV-N0dUzv2zZxHq86j1-Fn3ZR-D79-edjtsqihhAlidIGGxKvOoXX0Fdl7H0HkbRMzRDWxzD8XZYJwcC9OPxXb64CSE-MLKf_g3ccbQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyOTcsImlhdCI6MTY1MTg1MTk5NywiYXV0aF90aW1lIjoxNjUxODUxOTk0LCJqdGkiOiJmYTQwMTQxNi0zYjQ2LTRmNTktODFiMy0zYmExN2YwYmYxZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3ZUotb0dxOHRXcmMwY01MOVBkdm5BIiwic2Vzc2lvbl9zdGF0ZSI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hLG26i4_qyG_7f6uBtR4UL8j299MC7Lh_y4UDn23vSsp_AiRgoglHY5K0OLLnM7PhaC2P0tHMQVLm26-mzgye4fOZ3qD7I7dBTv6mxwH480iqWC0F_mZ_JRmySLlfhCW-7zas-2rqTFu1WoW_JGoN-XQgQNQmAqkOH-mhyXi02n4gJUDOi6iVWgdr7yRLqJCaqYMOgr6NVvIM5p8RqXLv58jABkuxkJwm7pIP8m1QiqH9lFeV-N0dUzv2zZxHq86j1-Fn3ZR-D79-edjtsqihhAlidIGGxKvOoXX0Fdl7H0HkbRMzRDWxzD8XZYJwcC9OPxXb64CSE-MLKf_g3ccbQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;9c6db70a-f7f0-4a1d-8aeb-e7a359a99635&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f05fe10
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f05fe10
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f188d50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42efb2630, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed7e850, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIyOTcsImlhdCI6MTY1MTg1MTk5NywiYXV0aF90aW1lIjoxNjUxODUxOTk0LCJqdGkiOiJmYTQwMTQxNi0zYjQ2LTRmNTktODFiMy0zYmExN2YwYmYxZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3ZUotb0dxOHRXcmMwY01MOVBkdm5BIiwic2Vzc2lvbl9zdGF0ZSI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1MmE3OGNmLWY4NzQtNGQ4MC04YTVjLWI2YTZhNmY2YTgxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hLG26i4_qyG_7f6uBtR4UL8j299MC7Lh_y4UDn23vSsp_AiRgoglHY5K0OLLnM7PhaC2P0tHMQVLm26-mzgye4fOZ3qD7I7dBTv6mxwH480iqWC0F_mZ_JRmySLlfhCW-7zas-2rqTFu1WoW_JGoN-XQgQNQmAqkOH-mhyXi02n4gJUDOi6iVWgdr7yRLqJCaqYMOgr6NVvIM5p8RqXLv58jABkuxkJwm7pIP8m1QiqH9lFeV-N0dUzv2zZxHq86j1-Fn3ZR-D79-edjtsqihhAlidIGGxKvOoXX0Fdl7H0HkbRMzRDWxzD8XZYJwcC9OPxXb64CSE-MLKf_g3ccbQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:39Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/13fd65ec-3c21-496e-9102-638e2d6bc131&quot;&#x27; @ QOS 0
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fe9f00095f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0009870 } }, data: MessageData { topic: &quot;app/13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 52, 102, 99, 51, 48, 99, 55, 45, 102, 48, 51, 55, 45, 52, 53, 98, 98, 45, 56, 97, 50, 52, 45, 48, 54, 100, 48, 97, 57, 49, 55, 98, 97, 54, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 51, 102, 100, 54, 53, 101, 99, 37, 50, 68, 51, 99, 50, 49, 37, 50, 68, 52, 57, 54, 101, 37, 50, 68, 57, 49, 48, 50, 37, 50, 68, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 52, 50, 46, 53, 56, 52, 51, 53, 55, 56, 57, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 57, 52, 97, 54, 49, 98, 50, 45, 98, 48, 48, 53, 45, 52, 97, 102, 97, 45, 56, 101, 98, 97, 45, 52, 49, 99, 57, 98, 51, 53, 50, 57, 102, 51, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 51, 53, 53, 54, 56, 57, 57, 45, 57, 99, 100, 52, 45, 52, 56, 102, 52, 45, 57, 100, 98, 48, 45, 55, 57, 53, 53, 49, 100, 97, 54, 49, 99, 48, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 51, 102, 100, 54, 53, 101, 99, 37, 50, 68, 51, 99, 50, 49, 37, 50, 68, 52, 57, 54, 101, 37, 50, 68, 57, 49, 48, 50, 37, 50, 68, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 51, 102, 100, 54, 53, 101, 99, 45, 51, 99, 50, 49, 45, 52, 57, 54, 101, 45, 57, 49, 48, 50, 45, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 51, 53, 53, 54, 56, 57, 57, 45, 57, 99, 100, 52, 45, 52, 56, 102, 52, 45, 57, 100, 98, 48, 45, 55, 57, 53, 53, 49, 100, 97, 54, 49, 99, 48, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0009870 } } } }
[2022-05-06T15:46:43Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecff010
[2022-05-06T15:46:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;84fc30c7-f037-45bb-8a24-06d0a917ba6d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://13fd65ec%2D3c21%2D496e%2D9102%2D638e2d6bc131/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:42.584357896Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30\&quot;,\&quot;deviceuid\&quot;:\&quot;73556899-9cd4-48f4-9db0-79551da61c00\&quot;,\&quot;partitionkey\&quot;:\&quot;13fd65ec%2D3c21%2D496e%2D9102%2D638e2d6bc131/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;,\&quot;senderuid\&quot;:\&quot;73556899-9cd4-48f4-9db0-79551da61c00\&quot;}&quot; }
[2022-05-06T15:46:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:46:43Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:46:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:46:43Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:46:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a0ea2902-5c49-468b-bc3e-c02554244e1b&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee7b8d0
[2022-05-06T15:46:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee7b8d0
[2022-05-06T15:46:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42ec70240, password: 0x55f42f1b5be0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42eca3b80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ec70280, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@13fd65ec-3c21-496e-9102-638e2d6bc131&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eda9810 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42eda9810 } } } }
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fe9f0005790, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0005a20 } }, data: MessageData { topic: &quot;app/13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 49, 55, 97, 99, 102, 101, 52, 45, 97, 52, 49, 56, 45, 52, 50, 99, 54, 45, 56, 102, 57, 50, 45, 57, 54, 56, 102, 54, 98, 52, 48, 51, 99, 97, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 51, 102, 100, 54, 53, 101, 99, 37, 50, 68, 51, 99, 50, 49, 37, 50, 68, 52, 57, 54, 101, 37, 50, 68, 57, 49, 48, 50, 37, 50, 68, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 52, 52, 46, 48, 52, 49, 49, 54, 53, 51, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 51, 53, 53, 54, 56, 57, 57, 45, 57, 99, 100, 52, 45, 52, 56, 102, 52, 45, 57, 100, 98, 48, 45, 55, 57, 53, 53, 49, 100, 97, 54, 49, 99, 48, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 51, 102, 100, 54, 53, 101, 99, 45, 51, 99, 50, 49, 45, 52, 57, 54, 101, 45, 57, 49, 48, 50, 45, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 51, 102, 100, 54, 53, 101, 99, 37, 50, 68, 51, 99, 50, 49, 37, 50, 68, 52, 57, 54, 101, 37, 50, 68, 57, 49, 48, 50, 37, 50, 68, 54, 51, 56, 101, 50, 100, 54, 98, 99, 49, 51, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 57, 52, 97, 54, 49, 98, 50, 45, 98, 48, 48, 53, 45, 52, 97, 102, 97, 45, 56, 101, 98, 97, 45, 52, 49, 99, 57, 98, 51, 53, 50, 57, 102, 51, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 51, 53, 53, 54, 56, 57, 57, 45, 57, 99, 100, 52, 45, 52, 56, 102, 52, 45, 57, 100, 98, 48, 45, 55, 57, 53, 53, 49, 100, 97, 54, 49, 99, 48, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fe9f0005a20 } } } }
[2022-05-06T15:46:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x55f42ecff010
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;917acfe4-a418-42c6-8f92-968f6b403ca5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://13fd65ec%2D3c21%2D496e%2D9102%2D638e2d6bc131/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:44.041165391Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;73556899-9cd4-48f4-9db0-79551da61c00\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;13fd65ec-3c21-496e-9102-638e2d6bc131\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;13fd65ec%2D3c21%2D496e%2D9102%2D638e2d6bc131/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;f94a61b2-b005-4afa-8eba-41c9b3529f30\&quot;,\&quot;senderuid\&quot;:\&quot;73556899-9cd4-48f4-9db0-79551da61c00\&quot;}&quot; }
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:46:45Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:46:45Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot; &quot;device1&quot;
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;13fd65ec-3c21-496e-9102-638e2d6bc131&#x27;
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;13fd65ec-3c21-496e-9102-638e2d6bc131&quot;
[2022-05-06T15:46:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 13fd65ec-3c21-496e-9102-638e2d6bc131 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:46:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:46:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:46:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:46:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:46:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:46:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MTEsImlhdCI6MTY1MTg1MjAxMSwianRpIjoiNzY4ZGQzY2MtYjVlZi00ZmVjLTlkZmQtYjcyZjk1ODA0N2JiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImN1Vm9XckxSdkxiX1ZmUGdnX3F6WkEiLCJzZXNzaW9uX3N0YXRlIjoiOTE2ODY2YzMtMzNhOS00MTkwLWFkOTgtMzQwNTdmN2ZjMGMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyJ9.2pCZsJ7ko3vnA2ppZYm30KzBr5hMNPHjWbSbBBbHLPQ
[2022-05-06T15:46:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:46:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MTEsImlhdCI6MTY1MTg1MjAxMSwianRpIjoiNzY4ZGQzY2MtYjVlZi00ZmVjLTlkZmQtYjcyZjk1ODA0N2JiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImN1Vm9XckxSdkxiX1ZmUGdnX3F6WkEiLCJzZXNzaW9uX3N0YXRlIjoiOTE2ODY2YzMtMzNhOS00MTkwLWFkOTgtMzQwNTdmN2ZjMGMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyJ9.2pCZsJ7ko3vnA2ppZYm30KzBr5hMNPHjWbSbBBbHLPQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:46:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 9b086511-b4ac-4a62-a32f-372c40f875d5
[2022-05-06T15:46:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;
[2022-05-06T15:46:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 9b086511-b4ac-4a62-a32f-372c40f875d5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;
[2022-05-06T15:46:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:52.113640Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5730cbbe-ea4c-4eb4-b0a9-a1f50048afdd\&quot;,\n    \&quot;uid\&quot;: \&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132269500Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132108067Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132078712Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132079834Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132080456Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132081046Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132081647Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.132085975Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:52.113640Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;), &quot;resourceVersion&quot;: String(&quot;5730cbbe-ea4c-4eb4-b0a9-a1f50048afdd&quot;), &quot;uid&quot;: String(&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132269500Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132108067Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132078712Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132079834Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132080456Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132081046Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132081647Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.132085975Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:46:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:52.113640Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c143f993-189a-47a7-83fa-9115c27d1983\&quot;,\n    \&quot;uid\&quot;: \&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434533653Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434421353Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.151225566Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.156861099Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.213686679Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.220728627Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434230285Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434390165Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GDZlyU9QVvQV\&quot;,\n        \&quot;username\&quot;: \&quot;user-9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:52.113640Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;), &quot;resourceVersion&quot;: String(&quot;c143f993-189a-47a7-83fa-9115c27d1983&quot;), &quot;uid&quot;: String(&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434533653Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434421353Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.151225566Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.156861099Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.213686679Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.220728627Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434230285Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434390165Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GDZlyU9QVvQV&quot;), &quot;username&quot;: String(&quot;user-9b086511-b4ac-4a62-a32f-372c40f875d5&quot;)})})})})
[2022-05-06T15:46:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:46:52.113640Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c143f993-189a-47a7-83fa-9115c27d1983\&quot;,\n    \&quot;uid\&quot;: \&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434533653Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434421353Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.151225566Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.156861099Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.213686679Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.220728627Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434230285Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:46:52.434390165Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GDZlyU9QVvQV\&quot;,\n        \&quot;username\&quot;: \&quot;user-9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:46:52.113640Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;), &quot;resourceVersion&quot;: String(&quot;c143f993-189a-47a7-83fa-9115c27d1983&quot;), &quot;uid&quot;: String(&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434533653Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434421353Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.151225566Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.156861099Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.213686679Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.220728627Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434230285Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:46:52.434390165Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GDZlyU9QVvQV&quot;), &quot;username&quot;: String(&quot;user-9b086511-b4ac-4a62-a32f-372c40f875d5&quot;)})})})})
[2022-05-06T15:46:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMTEsImlhdCI6MTY1MTg1MjAxMSwiYXV0aF90aW1lIjoxNjUxODUyMDA4LCJqdGkiOiI3NjJmYjk0YS01OGI4LTQ2OTQtYTQ2ZC0yMzU3Mjc2NTAwZDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjdVZvV3JMUnZMYl9WZlBnZ19xelpBIiwic2Vzc2lvbl9zdGF0ZSI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iqgKzQzW29EapMxW1Yb8SQG--58nwE-vgyC0RFrAjcsLrZ22EE5rwYclIDFwOjAtfCHfVqyfq1zxWNMf2SmhGivti3Ls7ixVyniL7q_6SFlB1O3f83Eq-SQnkdrWO89hcJUxt-s45CvYECZA5SzrjSHu431PNxWERWGaAIxolbHQwvdPDX4VyTZZpxtvWD9SLzQ9r3AmO5W813oUe5mryyyuAoJc1sshe1y31x2gwfYhTB4iRznucKQYNDY8AWIXUj1fDnO9k7ADTdWWzO0hCdUqYgI2H7azXr4KiG5ntLqdetiwDaFQvkDHIj2uaQPAw-nTx50-SHkQY_R3hDJ4HQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:46:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMTEsImlhdCI6MTY1MTg1MjAxMSwiYXV0aF90aW1lIjoxNjUxODUyMDA4LCJqdGkiOiI3NjJmYjk0YS01OGI4LTQ2OTQtYTQ2ZC0yMzU3Mjc2NTAwZDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjdVZvV3JMUnZMYl9WZlBnZ19xelpBIiwic2Vzc2lvbl9zdGF0ZSI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iqgKzQzW29EapMxW1Yb8SQG--58nwE-vgyC0RFrAjcsLrZ22EE5rwYclIDFwOjAtfCHfVqyfq1zxWNMf2SmhGivti3Ls7ixVyniL7q_6SFlB1O3f83Eq-SQnkdrWO89hcJUxt-s45CvYECZA5SzrjSHu431PNxWERWGaAIxolbHQwvdPDX4VyTZZpxtvWD9SLzQ9r3AmO5W813oUe5mryyyuAoJc1sshe1y31x2gwfYhTB4iRznucKQYNDY8AWIXUj1fDnO9k7ADTdWWzO0hCdUqYgI2H7azXr4KiG5ntLqdetiwDaFQvkDHIj2uaQPAw-nTx50-SHkQY_R3hDJ4HQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;2b1ebef0-9250-434c-a192-6560b24d729f&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42efc4f50
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42efc4f50
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f032040, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42f076f80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f0328a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMTEsImlhdCI6MTY1MTg1MjAxMSwiYXV0aF90aW1lIjoxNjUxODUyMDA4LCJqdGkiOiI3NjJmYjk0YS01OGI4LTQ2OTQtYTQ2ZC0yMzU3Mjc2NTAwZDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjdVZvV3JMUnZMYl9WZlBnZ19xelpBIiwic2Vzc2lvbl9zdGF0ZSI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNjg2NmMzLTMzYTktNDE5MC1hZDk4LTM0MDU3ZjdmYzBjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.iqgKzQzW29EapMxW1Yb8SQG--58nwE-vgyC0RFrAjcsLrZ22EE5rwYclIDFwOjAtfCHfVqyfq1zxWNMf2SmhGivti3Ls7ixVyniL7q_6SFlB1O3f83Eq-SQnkdrWO89hcJUxt-s45CvYECZA5SzrjSHu431PNxWERWGaAIxolbHQwvdPDX4VyTZZpxtvWD9SLzQ9r3AmO5W813oUe5mryyyuAoJc1sshe1y31x2gwfYhTB4iRznucKQYNDY8AWIXUj1fDnO9k7ADTdWWzO0hCdUqYgI2H7azXr4KiG5ntLqdetiwDaFQvkDHIj2uaQPAw-nTx50-SHkQY_R3hDJ4HQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:53Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/9b086511-b4ac-4a62-a32f-372c40f875d5&quot;&#x27; @ QOS 0
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:46:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:46:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:46:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:46:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7fea08016cd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016f50 } }, data: MessageData { topic: &quot;app/9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 101, 99, 50, 54, 51, 100, 49, 45, 98, 52, 48, 97, 45, 52, 100, 97, 52, 45, 56, 101, 100, 51, 45, 101, 53, 101, 51, 102, 102, 102, 50, 102, 54, 98, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 98, 48, 56, 54, 53, 49, 49, 37, 50, 68, 98, 52, 97, 99, 37, 50, 68, 52, 97, 54, 50, 37, 50, 68, 97, 51, 50, 102, 37, 50, 68, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 53, 54, 46, 53, 57, 50, 56, 51, 54, 49, 54, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 100, 101, 101, 48, 54, 52, 48, 45, 100, 102, 49, 53, 45, 52, 101, 56, 101, 45, 98, 49, 53, 49, 45, 97, 53, 55, 99, 51, 55, 99, 101, 101, 49, 50, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 52, 100, 101, 102, 52, 53, 45, 55, 98, 54, 97, 45, 52, 100, 53, 52, 45, 56, 53, 56, 53, 45, 98, 56, 52, 50, 100, 52, 102, 101, 101, 50, 100, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 98, 48, 56, 54, 53, 49, 49, 45, 98, 52, 97, 99, 45, 52, 97, 54, 50, 45, 97, 51, 50, 102, 45, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 98, 48, 56, 54, 53, 49, 49, 37, 50, 68, 98, 52, 97, 99, 37, 50, 68, 52, 97, 54, 50, 37, 50, 68, 97, 51, 50, 102, 37, 50, 68, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 100, 101, 101, 48, 54, 52, 48, 45, 100, 102, 49, 53, 45, 52, 101, 56, 101, 45, 98, 49, 53, 49, 45, 97, 53, 55, 99, 51, 55, 99, 101, 101, 49, 50, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea08016f50 } } } }
[2022-05-06T15:46:56Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100097c0
[2022-05-06T15:46:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3ec263d1-b40a-4da4-8ed3-e5e3fff2f6bc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9b086511%2Db4ac%2D4a62%2Da32f%2D372c40f875d5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:56.592836162Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;0dee0640-df15-4e8e-b151-a57c37cee126\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;9b086511%2Db4ac%2D4a62%2Da32f%2D372c40f875d5/device1\&quot;,\&quot;senderuid\&quot;:\&quot;0dee0640-df15-4e8e-b151-a57c37cee126\&quot;}&quot; }
[2022-05-06T15:46:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:46:57Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:46:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:46:57Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:46:57Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;da093dc4-4182-4e89-be8a-d3977f196bb6&quot;, persistence: None, user_data: None }
[2022-05-06T15:46:57Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:46:57Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ee4b7e0
[2022-05-06T15:46:57Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ee4b7e0
[2022-05-06T15:46:57Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42edabb00, password: 0x55f42f050d50, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ef93340, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42edb9660, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@9b086511-b4ac-4a62-a32f-372c40f875d5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7fea0802bb50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802bde0 } }, data: MessageData { topic: &quot;app/9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 48, 54, 55, 48, 50, 100, 55, 45, 50, 50, 57, 101, 45, 52, 97, 56, 48, 45, 98, 51, 100, 98, 45, 51, 100, 99, 51, 48, 101, 51, 53, 55, 54, 55, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 98, 48, 56, 54, 53, 49, 49, 37, 50, 68, 98, 52, 97, 99, 37, 50, 68, 52, 97, 54, 50, 37, 50, 68, 97, 51, 50, 102, 37, 50, 68, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 54, 84, 49, 53, 58, 52, 54, 58, 53, 55, 46, 57, 56, 54, 50, 57, 53, 50, 53, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 56, 52, 100, 101, 102, 52, 53, 45, 55, 98, 54, 97, 45, 52, 100, 53, 52, 45, 56, 53, 56, 53, 45, 98, 56, 52, 50, 100, 52, 102, 101, 101, 50, 100, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 98, 48, 56, 54, 53, 49, 49, 37, 50, 68, 98, 52, 97, 99, 37, 50, 68, 52, 97, 54, 50, 37, 50, 68, 97, 51, 50, 102, 37, 50, 68, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 98, 48, 56, 54, 53, 49, 49, 45, 98, 52, 97, 99, 45, 52, 97, 54, 50, 45, 97, 51, 50, 102, 45, 51, 55, 50, 99, 52, 48, 102, 56, 55, 53, 100, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 100, 101, 101, 48, 54, 52, 48, 45, 100, 102, 49, 53, 45, 52, 101, 56, 101, 45, 98, 49, 53, 49, 45, 97, 53, 55, 99, 51, 55, 99, 101, 101, 49, 50, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 100, 101, 101, 48, 54, 52, 48, 45, 100, 102, 49, 53, 45, 52, 101, 56, 101, 45, 98, 49, 53, 49, 45, 97, 53, 55, 99, 51, 55, 99, 101, 101, 49, 50, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7fea0802bde0 } } } }
[2022-05-06T15:46:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100097c0
[2022-05-06T15:46:58Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edbb050 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42edbb050 } } } }
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;906702d7-229e-4a80-b3db-3dc30e357675\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9b086511%2Db4ac%2D4a62%2Da32f%2D372c40f875d5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-06T15:46:57.986295251Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;a84def45-7b6a-4d54-8585-b842d4fee2dd\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;9b086511%2Db4ac%2D4a62%2Da32f%2D372c40f875d5/device1\&quot;,\&quot;application\&quot;:\&quot;9b086511-b4ac-4a62-a32f-372c40f875d5\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;0dee0640-df15-4e8e-b151-a57c37cee126\&quot;,\&quot;senderuid\&quot;:\&quot;0dee0640-df15-4e8e-b151-a57c37cee126\&quot;}&quot; }
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:46:58Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:46:58Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot; &quot;device1&quot;
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9b086511-b4ac-4a62-a32f-372c40f875d5&#x27;
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9b086511-b4ac-4a62-a32f-372c40f875d5&quot;
[2022-05-06T15:46:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 9b086511-b4ac-4a62-a32f-372c40f875d5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:47:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:47:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:47:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:47:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:47:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:47:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:47:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:47:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:47:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MjQsImlhdCI6MTY1MTg1MjAyNCwianRpIjoiZDlkN2NjNDEtM2MwZS00YTAxLWEwYWEtZjJmMmE1MjllZmZjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikt1d09PM21jSTZjNDVuVlB0N1h0R1EiLCJzZXNzaW9uX3N0YXRlIjoiMGQwYWZjZmMtMzFlNS00MDdkLWE5MzYtYzQwMzlhMzBkY2EzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyJ9.lWuD_lGT_H7xHVFX1-_bQcn5gn6dQhj6WLA16Kgl314
[2022-05-06T15:47:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:47:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MjQsImlhdCI6MTY1MTg1MjAyNCwianRpIjoiZDlkN2NjNDEtM2MwZS00YTAxLWEwYWEtZjJmMmE1MjllZmZjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikt1d09PM21jSTZjNDVuVlB0N1h0R1EiLCJzZXNzaW9uX3N0YXRlIjoiMGQwYWZjZmMtMzFlNS00MDdkLWE5MzYtYzQwMzlhMzBkY2EzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyJ9.lWuD_lGT_H7xHVFX1-_bQcn5gn6dQhj6WLA16Kgl314&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:47:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:05Z INFO  drogue_cloud_tests::resources::apps] Create application: a2dfcd30-608e-4e9e-b76b-39969645c445
[2022-05-06T15:47:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;
[2022-05-06T15:47:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a2dfcd30-608e-4e9e-b76b-39969645c445 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;
[2022-05-06T15:47:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:05.220716Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a2dfcd30-608e-4e9e-b76b-39969645c445\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5ac2d072-799e-4f43-bc58-4b6a162ebdad\&quot;,\n    \&quot;uid\&quot;: \&quot;629f5725-0df0-441f-9e62-4020a90632b6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234787412Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234816376Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234751564Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234752917Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234753558Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234754409Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234755462Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.234761834Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:05.220716Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;), &quot;resourceVersion&quot;: String(&quot;5ac2d072-799e-4f43-bc58-4b6a162ebdad&quot;), &quot;uid&quot;: String(&quot;629f5725-0df0-441f-9e62-4020a90632b6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234787412Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234816376Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234751564Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234752917Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234753558Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234754409Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234755462Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.234761834Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-06T15:47:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:05.220716Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a2dfcd30-608e-4e9e-b76b-39969645c445\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b7a08100-89bb-458e-82b0-1c4df2b27a69\&quot;,\n    \&quot;uid\&quot;: \&quot;629f5725-0df0-441f-9e62-4020a90632b6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534965777Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.535006103Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.272589910Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.277083732Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.333582771Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.339895763Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534865810Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534884184Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;IJ1hKW0oWST1\&quot;,\n        \&quot;username\&quot;: \&quot;user-a2dfcd30-608e-4e9e-b76b-39969645c445\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:05.220716Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;), &quot;resourceVersion&quot;: String(&quot;b7a08100-89bb-458e-82b0-1c4df2b27a69&quot;), &quot;uid&quot;: String(&quot;629f5725-0df0-441f-9e62-4020a90632b6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534965777Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.535006103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.272589910Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.277083732Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.333582771Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.339895763Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534865810Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534884184Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;IJ1hKW0oWST1&quot;), &quot;username&quot;: String(&quot;user-a2dfcd30-608e-4e9e-b76b-39969645c445&quot;)})})})})
[2022-05-06T15:47:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:05.220716Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a2dfcd30-608e-4e9e-b76b-39969645c445\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b7a08100-89bb-458e-82b0-1c4df2b27a69\&quot;,\n    \&quot;uid\&quot;: \&quot;629f5725-0df0-441f-9e62-4020a90632b6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534965777Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.535006103Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.272589910Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.277083732Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.333582771Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.339895763Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534865810Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:05.534884184Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;IJ1hKW0oWST1\&quot;,\n        \&quot;username\&quot;: \&quot;user-a2dfcd30-608e-4e9e-b76b-39969645c445\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:05.220716Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;), &quot;resourceVersion&quot;: String(&quot;b7a08100-89bb-458e-82b0-1c4df2b27a69&quot;), &quot;uid&quot;: String(&quot;629f5725-0df0-441f-9e62-4020a90632b6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534965777Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.535006103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.272589910Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.277083732Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.333582771Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.339895763Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534865810Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:05.534884184Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;IJ1hKW0oWST1&quot;), &quot;username&quot;: String(&quot;user-a2dfcd30-608e-4e9e-b76b-39969645c445&quot;)})})})})
[2022-05-06T15:47:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMjQsImlhdCI6MTY1MTg1MjAyNCwiYXV0aF90aW1lIjoxNjUxODUyMDIxLCJqdGkiOiJiYjRjM2Q2Yi05OGY5LTQyOTQtYTRhMy1hMjc2NTYxNjM4Y2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLdXdPTzNtY0k2YzQ1blZQdDdYdEdRIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P5zJNl3AP8ETuh2vYkkOviajw_lleqiXpbaQJ6afoJJhYgUF9AEEH6HJfm87QQQ687MBvoh34UU9gszjgfWkzGeRRu1O3u408tW9z8owP50mKgUj5r5Gx26_Qtt1zM0Z-1CC-tHX2-UMeO9BRImDNx4CEY2lzNNKiYodSq2gNLorv77LdDtk1aDkSzTLJN9aIAadWZ_sH6sHHjYHa-dTO5rO4AnV3zWL1jzHv96fMBYVgUIj7Bg0LuGQqdRK7MeZmMJZNbPqmkY2ZQszOnkHNoSAtXML5RLKoxg9Ae3w7RtlxbqBzHXrFOhsGVVmXbw8fCQovaleJolZcITC8CCsgQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMjQsImlhdCI6MTY1MTg1MjAyNCwiYXV0aF90aW1lIjoxNjUxODUyMDIxLCJqdGkiOiJiYjRjM2Q2Yi05OGY5LTQyOTQtYTRhMy1hMjc2NTYxNjM4Y2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLdXdPTzNtY0k2YzQ1blZQdDdYdEdRIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P5zJNl3AP8ETuh2vYkkOviajw_lleqiXpbaQJ6afoJJhYgUF9AEEH6HJfm87QQQ687MBvoh34UU9gszjgfWkzGeRRu1O3u408tW9z8owP50mKgUj5r5Gx26_Qtt1zM0Z-1CC-tHX2-UMeO9BRImDNx4CEY2lzNNKiYodSq2gNLorv77LdDtk1aDkSzTLJN9aIAadWZ_sH6sHHjYHa-dTO5rO4AnV3zWL1jzHv96fMBYVgUIj7Bg0LuGQqdRK7MeZmMJZNbPqmkY2ZQszOnkHNoSAtXML5RLKoxg9Ae3w7RtlxbqBzHXrFOhsGVVmXbw8fCQovaleJolZcITC8CCsgQ\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;1e13f5da-c9fb-4e04-bbb9-03e6f6849d4d&quot;, persistence: None, user_data: None }
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f050740
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f050740
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42f18d450, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42edbaee0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f04fbe0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMjQsImlhdCI6MTY1MTg1MjAyNCwiYXV0aF90aW1lIjoxNjUxODUyMDIxLCJqdGkiOiJiYjRjM2Q2Yi05OGY5LTQyOTQtYTRhMy1hMjc2NTYxNjM4Y2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLdXdPTzNtY0k2YzQ1blZQdDdYdEdRIiwic2Vzc2lvbl9zdGF0ZSI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMGFmY2ZjLTMxZTUtNDA3ZC1hOTM2LWM0MDM5YTMwZGNhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P5zJNl3AP8ETuh2vYkkOviajw_lleqiXpbaQJ6afoJJhYgUF9AEEH6HJfm87QQQ687MBvoh34UU9gszjgfWkzGeRRu1O3u408tW9z8owP50mKgUj5r5Gx26_Qtt1zM0Z-1CC-tHX2-UMeO9BRImDNx4CEY2lzNNKiYodSq2gNLorv77LdDtk1aDkSzTLJN9aIAadWZ_sH6sHHjYHa-dTO5rO4AnV3zWL1jzHv96fMBYVgUIj7Bg0LuGQqdRK7MeZmMJZNbPqmkY2ZQszOnkHNoSAtXML5RLKoxg9Ae3w7RtlxbqBzHXrFOhsGVVmXbw8fCQovaleJolZcITC8CCsgQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:47:06Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a2dfcd30-608e-4e9e-b76b-39969645c445&quot;&#x27; @ QOS 0
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:47:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea08018460, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f28cba0 } }, data: MessageData { topic: &quot;app/a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42f28cba0 } } } }
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef86f60, 0x55f42ef85c50
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef85c50, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef85c50, 0x7fea10001930
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001930, 0x55f42f0f9490
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001930, 0x7fea10000d60
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d60, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d60, 0x55f42ef85f40
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d60, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10000d60, 0x7fea10009750
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009750, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009750, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009750, 0x7fea100035a0
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100035a0, 0x55f42f1b1b80
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100035a0, 0x7fea1000a2e0
[2022-05-06T15:47:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea100035a0
[2022-05-06T15:47:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;629f5725-0df0-441f-9e62-4020a90632b6&quot;, &quot;time&quot;: &quot;2022-05-06T15:47:09.614038223+00:00&quot;, &quot;source&quot;: &quot;drogue://a2dfcd30%2D608e%2D4e9e%2Db76b%2D39969645c445/device1&quot;, &quot;senderuid&quot;: &quot;716dabaa-aed3-4790-af40-c9d13fac5e33&quot;, &quot;partitionkey&quot;: &quot;a2dfcd30%2D608e%2D4e9e%2Db76b%2D39969645c445/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;716dabaa-aed3-4790-af40-c9d13fac5e33&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;id&quot;: &quot;a74fc01b-f847-4a67-81f7-990091eb0c80&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:47:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:47:10Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:47:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:47:10Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:47:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c79d44f3-6d10-40fc-8d1c-da438e596cbe&quot;, persistence: None, user_data: None }
[2022-05-06T15:47:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:47:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f0feac0
[2022-05-06T15:47:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f0feac0
[2022-05-06T15:47:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42f104b90, password: 0x55f42ee042f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ecd7a20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1e62c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@a2dfcd30-608e-4e9e-b76b-39969645c445&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08016d20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ee7f120 } }, data: MessageData { topic: &quot;app/a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42ee7f120 } } } }
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ef4b810, 0x7fea0c000bd0
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000bd0, 0x55f42ed94b10
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c000bd0, 0x55f42f288c70
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f288c70, 0x55f42f271830
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42f288c70, 0x7fea0c0078a0
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078a0, 0x55f42ed94b10
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078a0, 0x55f42ed94b10
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078a0, 0x7fea0c001b70
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c0078a0, 0x7fea0c007800
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007800, 0x7fea0c001b70
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007800, 0x55f42eee6640
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007800, 0x7fea0c001b70
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007800, 0x7fea0c001b70
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea0c007800, 0x7fea0c0074a0
[2022-05-06T15:47:11Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea0c0074a0
[2022-05-06T15:47:11Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecae220 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ecae220 } } } }
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;716dabaa-aed3-4790-af40-c9d13fac5e33&quot;, &quot;id&quot;: &quot;1a030810-32a5-4514-a521-a39de61ad059&quot;, &quot;applicationuid&quot;: &quot;629f5725-0df0-441f-9e62-4020a90632b6&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://a2dfcd30%2D608e%2D4e9e%2Db76b%2D39969645c445/device1&quot;, &quot;partitionkey&quot;: &quot;a2dfcd30%2D608e%2D4e9e%2Db76b%2D39969645c445/device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:47:10.729815611+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;716dabaa-aed3-4790-af40-c9d13fac5e33&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:47:11Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:47:11Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot; &quot;device1&quot;
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a2dfcd30-608e-4e9e-b76b-39969645c445&#x27;
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a2dfcd30-608e-4e9e-b76b-39969645c445&quot;
[2022-05-06T15:47:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a2dfcd30-608e-4e9e-b76b-39969645c445 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 12s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-06T15:47:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-06T15:47:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:47:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:47:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:47:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-06T15:47:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-06T15:47:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-06T15:47:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-06T15:47:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MzcsImlhdCI6MTY1MTg1MjAzNywianRpIjoiZmNkNDhmYjUtNTEwYS00Yzg5LTgxMzMtYjhhNDRjNjc3MTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhKWUdwNW5YU2stUG51SHZsa1d0Q2ciLCJzZXNzaW9uX3N0YXRlIjoiZWY2ZWI2ZjAtMTI1MS00ODI5LWJiZjItYmNkZDM4NzZlNjNlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSJ9.5NCmyEBUnm4zAAV7rm6liNhDRysPk0iVKd_o1NfV-Gk
[2022-05-06T15:47:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-06T15:47:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjYzA2MzNmYy01OWQ2LTQyMTItYWFiYi04MzdlZjEzYTIwOGUifQ.eyJleHAiOjE2NTE4NTM4MzcsImlhdCI6MTY1MTg1MjAzNywianRpIjoiZmNkNDhmYjUtNTEwYS00Yzg5LTgxMzMtYjhhNDRjNjc3MTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6ImJmMWJmMjE1LTc1MjQtNDEzYS05ZDA4LTM2NmE0ODE5MDU4NiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhKWUdwNW5YU2stUG51SHZsa1d0Q2ciLCJzZXNzaW9uX3N0YXRlIjoiZWY2ZWI2ZjAtMTI1MS00ODI5LWJiZjItYmNkZDM4NzZlNjNlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSJ9.5NCmyEBUnm4zAAV7rm6liNhDRysPk0iVKd_o1NfV-Gk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-06T15:47:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:18Z INFO  drogue_cloud_tests::resources::apps] Create application: 281ca005-aed8-4d5f-bbda-30c85ee95de5
[2022-05-06T15:47:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;
[2022-05-06T15:47:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 281ca005-aed8-4d5f-bbda-30c85ee95de5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;
[2022-05-06T15:47:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:18.277548Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;91d75032-3df9-4e16-8230-ff15db6c32f6\&quot;,\n    \&quot;uid\&quot;: \&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296453900Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296437389Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296409597Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296410499Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296410940Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296411901Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296412473Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.296417061Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:18.277548Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;), &quot;resourceVersion&quot;: String(&quot;91d75032-3df9-4e16-8230-ff15db6c32f6&quot;), &quot;uid&quot;: String(&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296453900Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296437389Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296409597Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296410499Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296410940Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296411901Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296412473Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.296417061Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-06T15:47:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:18.277548Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e94d9e55-1a48-404e-bf86-7211d3e0a08f\&quot;,\n    \&quot;uid\&quot;: \&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635485302Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635310066Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.314327850Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.319649573Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.383657915Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.392252483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635054215Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635170674Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;csZikt4bXOFs\&quot;,\n        \&quot;username\&quot;: \&quot;user-281ca005-aed8-4d5f-bbda-30c85ee95de5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:18.277548Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;), &quot;resourceVersion&quot;: String(&quot;e94d9e55-1a48-404e-bf86-7211d3e0a08f&quot;), &quot;uid&quot;: String(&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635485302Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635310066Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.314327850Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.319649573Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.383657915Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.392252483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635054215Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635170674Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;csZikt4bXOFs&quot;), &quot;username&quot;: String(&quot;user-281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;)})})})})
[2022-05-06T15:47:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-06T15:47:18.277548Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e94d9e55-1a48-404e-bf86-7211d3e0a08f\&quot;,\n    \&quot;uid\&quot;: \&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635485302Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635310066Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.314327850Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.319649573Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.383657915Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.392252483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635054215Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-06T15:47:18.635170674Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;csZikt4bXOFs\&quot;,\n        \&quot;username\&quot;: \&quot;user-281ca005-aed8-4d5f-bbda-30c85ee95de5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-06T15:47:18.277548Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;), &quot;resourceVersion&quot;: String(&quot;e94d9e55-1a48-404e-bf86-7211d3e0a08f&quot;), &quot;uid&quot;: String(&quot;7faf727b-441b-464a-a8de-a49dcd3cffd7&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635485302Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635310066Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.314327850Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.319649573Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.383657915Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.392252483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635054215Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-06T15:47:18.635170674Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;csZikt4bXOFs&quot;), &quot;username&quot;: String(&quot;user-281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;)})})})})
[2022-05-06T15:47:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMzcsImlhdCI6MTY1MTg1MjAzNywiYXV0aF90aW1lIjoxNjUxODUyMDM0LCJqdGkiOiJmY2I3OTNlMy01YjBiLTQ3NjMtYjgwOC01NWE4NmIzNjc3MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoSllHcDVuWFNrLVBudUh2bGtXdENnIiwic2Vzc2lvbl9zdGF0ZSI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Lb4iWMpV8KB9f4rZwoSl9YD9bXa8TYVuqYtJ4mQmyX8GcAQb4Q2wWzyiQ2aNERdKrm_j69kU01vRPS0hFyt26BWMjbyREIeH01jt8DoZrRJtdtntGmR4oR6-u5ylstKV2ZET_CuhsZ10JpxxuUhkuCVk_j6SFvN0sE4_I0EdxUqctDisoZsLcrp9zLNXMbCxB1T4CdSYL1cdQyb7Fox55ASjWgdeghK2hBA7RkryXpdGpymu_bHnRIC6njctfazUCsMTXPKL6F4xNoBkWtAB9EU-wj4UUWcjUy8xtedDgKBZW-OpydhoA9rGcAZ-z2Sl_C2oh0znUXsy_-9WIIqUpw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-06T15:47:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMzcsImlhdCI6MTY1MTg1MjAzNywiYXV0aF90aW1lIjoxNjUxODUyMDM0LCJqdGkiOiJmY2I3OTNlMy01YjBiLTQ3NjMtYjgwOC01NWE4NmIzNjc3MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoSllHcDVuWFNrLVBudUh2bGtXdENnIiwic2Vzc2lvbl9zdGF0ZSI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Lb4iWMpV8KB9f4rZwoSl9YD9bXa8TYVuqYtJ4mQmyX8GcAQb4Q2wWzyiQ2aNERdKrm_j69kU01vRPS0hFyt26BWMjbyREIeH01jt8DoZrRJtdtntGmR4oR6-u5ylstKV2ZET_CuhsZ10JpxxuUhkuCVk_j6SFvN0sE4_I0EdxUqctDisoZsLcrp9zLNXMbCxB1T4CdSYL1cdQyb7Fox55ASjWgdeghK2hBA7RkryXpdGpymu_bHnRIC6njctfazUCsMTXPKL6F4xNoBkWtAB9EU-wj4UUWcjUy8xtedDgKBZW-OpydhoA9rGcAZ-z2Sl_C2oh0znUXsy_-9WIIqUpw\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;4597f476-ffaa-465c-a35a-8cb32cc24187&quot;, persistence: None, user_data: None }
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42ed28b40
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42ed28b40
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55f42ec6e2b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ed27e70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42ed28f40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2UHRNdU41YVR4MTVLQ2ZiVFN1TzZuOE5XTGt1YU5qdVBjR0tGSjN6MGVrIn0.eyJleHAiOjE2NTE4NTIzMzcsImlhdCI6MTY1MTg1MjAzNywiYXV0aF90aW1lIjoxNjUxODUyMDM0LCJqdGkiOiJmY2I3OTNlMy01YjBiLTQ3NjMtYjgwOC01NWE4NmIzNjc3MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYmYxYmYyMTUtNzUyNC00MTNhLTlkMDgtMzY2YTQ4MTkwNTg2IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoSllHcDVuWFNrLVBudUh2bGtXdENnIiwic2Vzc2lvbl9zdGF0ZSI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVmNmViNmYwLTEyNTEtNDgyOS1iYmYyLWJjZGQzODc2ZTYzZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Lb4iWMpV8KB9f4rZwoSl9YD9bXa8TYVuqYtJ4mQmyX8GcAQb4Q2wWzyiQ2aNERdKrm_j69kU01vRPS0hFyt26BWMjbyREIeH01jt8DoZrRJtdtntGmR4oR6-u5ylstKV2ZET_CuhsZ10JpxxuUhkuCVk_j6SFvN0sE4_I0EdxUqctDisoZsLcrp9zLNXMbCxB1T4CdSYL1cdQyb7Fox55ASjWgdeghK2hBA7RkryXpdGpymu_bHnRIC6njctfazUCsMTXPKL6F4xNoBkWtAB9EU-wj4UUWcjUy8xtedDgKBZW-OpydhoA9rGcAZ-z2Sl_C2oh0znUXsy_-9WIIqUpw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:47:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;&#x27; @ QOS 0
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-06T15:47:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-06T15:47:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-06T15:47:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-06T15:47:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7fea0801bbd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42eee0190 } }, data: MessageData { topic: &quot;app/281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55f42eee0190 } } } }
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee13c10, 0x55f42ee12900
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee12900, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee12900, 0x7fea10001ce0
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x55f42ee36bd0
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea100091f0
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100091f0, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100091f0, 0x7fea1000c7e0
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000c7e0, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea1000c7e0, 0x7fea10009bf0
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009bf0, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009bf0, 0x55f42f0dfa20
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009bf0, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10009bf0, 0x7fea10006400
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006400, 0x7fea10004280
[2022-05-06T15:47:22Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10006400
[2022-05-06T15:47:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-06T15:47:22.640602775+00:00&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://281ca005%2Daed8%2D4d5f%2Dbbda%2D30c85ee95de5/device1&quot;, &quot;senderuid&quot;: &quot;003e6ccc-1ba8-45b8-ab10-bd5cd660f157&quot;, &quot;id&quot;: &quot;41e45319-b40c-49f8-bacb-280c3a3edbb4&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;003e6ccc-1ba8-45b8-ab10-bd5cd660f157&quot;, &quot;partitionkey&quot;: &quot;281ca005%2Daed8%2D4d5f%2Dbbda%2D30c85ee95de5/device1&quot;, &quot;applicationuid&quot;: &quot;7faf727b-441b-464a-a8de-a49dcd3cffd7&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, &quot;subject&quot;: &quot;warmup&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-06T15:47:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-06T15:47:23Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-06T15:47:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-06T15:47:23Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-06T15:47:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;b6c3d83d-32b8-400d-9d09-97a46b07b72e&quot;, persistence: None, user_data: None }
[2022-05-06T15:47:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-06T15:47:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55f42f1b4c10
[2022-05-06T15:47:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55f42f1b4c10
[2022-05-06T15:47:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55f42efc87e0, password: 0x55f42eecd300, connectTimeout: 30, retryInterval: 0, ssl: 0x55f42ee05df0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55f42f1e7cd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7fea08024e20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f1d6c30 } }, data: MessageData { topic: &quot;app/281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55f42f1d6c30 } } } }
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55f42ee13c10, 0x7fea100091f0
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100091f0, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea100091f0, 0x7fea10001ce0
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea0801bd00
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001ce0, 0x7fea10006400
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006400, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006400, 0x7fea10001dd0
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea08008660
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea10006680
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10006680, 0x7fea10001dd0
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7fea10001dd0, 0x7fea0801bf40
[2022-05-06T15:47:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7fea10001dd0
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;7faf727b-441b-464a-a8de-a49dcd3cffd7&quot;, &quot;partitionkey&quot;: &quot;281ca005%2Daed8%2D4d5f%2Dbbda%2D30c85ee95de5/device1&quot;, &quot;senderuid&quot;: &quot;003e6ccc-1ba8-45b8-ab10-bd5cd660f157&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-06T15:47:23.770626824+00:00&quot;, &quot;deviceuid&quot;: &quot;003e6ccc-1ba8-45b8-ab10-bd5cd660f157&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;7b531f2a-a7e1-4545-a598-81f3110b0c49&quot;, &quot;source&quot;: &quot;drogue://281ca005%2Daed8%2D4d5f%2Dbbda%2D30c85ee95de5/device1&quot;, &quot;application&quot;: &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-06T15:47:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec74e30 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55f42ec74e30 } } } }
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-06T15:47:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-06T15:47:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot; &quot;device1&quot;
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;281ca005-aed8-4d5f-bbda-30c85ee95de5&#x27;
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;281ca005-aed8-4d5f-bbda-30c85ee95de5&quot;
[2022-05-06T15:47:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 281ca005-aed8-4d5f-bbda-30c85ee95de5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::registry::api::test_registry_create_app

**Duration**: 16s

## ✅ tests::registry::drg::test_registry_create_and_delete

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 8s

## ✅ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 12s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 12s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 13s
