---
title: "❌ Test Result 2022-05-09 12:39 UTC"
date: 2022-05-09T12:39:53.400890220+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 147 | 102 | 45 | 0 | 0 | 32m 16s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/feature/device_state_1`

    Commit: c195b71513c7ee658e405652db2acc41f271e745
    Author: Jens Reimann <jreimann@redhat.com>
    Date: Fri, 06 May 2022 12:38:48 -0200

        test: fix tests after API changes

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2293854671](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2293854671)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 13s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ✅ | 39s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ✅ | 14s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 14s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ✅ | 14s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ✅ | 13s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 13s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ✅ | 12s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ✅ | 10s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 16s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ✅ | 16s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ✅ | 13s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ✅ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ✅ | 8s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ✅ | 12s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ✅ | 13s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 13s

## ✅ tests::coap::command::test_command::version_1

**Duration**: 39s

## ✅ tests::coap::command::test_command::version_2

**Duration**: 14s

## ✅ tests::coap::command::test_command::version_3

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 14s

## ✅ tests::drg::test_drg_version

**Duration**: 7s

## ✅ tests::http::command::test_command::version_1

**Duration**: 14s

## ✅ tests::http::command::test_command::version_2

**Duration**: 13s

## ✅ tests::http::command::test_command::version_3

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 13s

## ✅ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 12s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 10s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 9s

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:20:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:20:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:20:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:20:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2MjIsImlhdCI6MTY1MjA5ODgyMiwianRpIjoiNDFkMGFhMzAtZDkyNi00ZjIxLWIwYzEtNzEwNDIxOWMxZWE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1Td1dDTjlBMG8tcU01c1dRbmhiNUEiLCJzZXNzaW9uX3N0YXRlIjoiNjcyNWQwMmUtNzhjYy00ZWVlLTkzOTYtYTc3ZjA0MWJkYzBjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyJ9.7hcAF9gfdhgup_0rqzP6G2X8n6ciza-YB4Z8Xu7GkMI
[2022-05-09T12:20:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:20:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2MjIsImlhdCI6MTY1MjA5ODgyMiwianRpIjoiNDFkMGFhMzAtZDkyNi00ZjIxLWIwYzEtNzEwNDIxOWMxZWE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1Td1dDTjlBMG8tcU01c1dRbmhiNUEiLCJzZXNzaW9uX3N0YXRlIjoiNjcyNWQwMmUtNzhjYy00ZWVlLTkzOTYtYTc3ZjA0MWJkYzBjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyJ9.7hcAF9gfdhgup_0rqzP6G2X8n6ciza-YB4Z8Xu7GkMI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:20:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:23Z INFO  drogue_cloud_tests::resources::apps] Create application: be7189ac-9e54-4795-859e-c81f9811e724
[2022-05-09T12:20:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;
[2022-05-09T12:20:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App be7189ac-9e54-4795-859e-c81f9811e724 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;
[2022-05-09T12:20:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:23.445719Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3952134e-2dc8-45bd-87e9-40f7318b7d70\&quot;,\n    \&quot;uid\&quot;: \&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.457636543Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:23.445719Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;), &quot;resourceVersion&quot;: String(&quot;3952134e-2dc8-45bd-87e9-40f7318b7d70&quot;), &quot;uid&quot;: String(&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.457636543Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:20:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:23.445719Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;83523015-0693-4e07-8f2f-8e8c45b934a9\&quot;,\n    \&quot;uid\&quot;: \&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784768513Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784731434Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.498482515Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.504730980Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.621184304Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.627675716Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784683454Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784702990Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;lfA1aj9JeCiw\&quot;,\n        \&quot;username\&quot;: \&quot;user-be7189ac-9e54-4795-859e-c81f9811e724\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:23.445719Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;), &quot;resourceVersion&quot;: String(&quot;83523015-0693-4e07-8f2f-8e8c45b934a9&quot;), &quot;uid&quot;: String(&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784768513Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784731434Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.498482515Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.504730980Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.621184304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.627675716Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784683454Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784702990Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;lfA1aj9JeCiw&quot;), &quot;username&quot;: String(&quot;user-be7189ac-9e54-4795-859e-c81f9811e724&quot;)})})})})
[2022-05-09T12:20:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:23.445719Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;83523015-0693-4e07-8f2f-8e8c45b934a9\&quot;,\n    \&quot;uid\&quot;: \&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784768513Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784731434Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.498482515Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.504730980Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.621184304Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.627675716Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784683454Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:23.784702990Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;lfA1aj9JeCiw\&quot;,\n        \&quot;username\&quot;: \&quot;user-be7189ac-9e54-4795-859e-c81f9811e724\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:23.445719Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;), &quot;resourceVersion&quot;: String(&quot;83523015-0693-4e07-8f2f-8e8c45b934a9&quot;), &quot;uid&quot;: String(&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784768513Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784731434Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.498482515Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.504730980Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.621184304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.627675716Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784683454Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:23.784702990Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;lfA1aj9JeCiw&quot;), &quot;username&quot;: String(&quot;user-be7189ac-9e54-4795-859e-c81f9811e724&quot;)})})})})
[2022-05-09T12:20:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMjIsImlhdCI6MTY1MjA5ODgyMiwiYXV0aF90aW1lIjoxNjUyMDk4ODE5LCJqdGkiOiIzNDc1NzRkMi04NDcyLTRlM2UtODgyNi1mY2UyYTE2NTZiYmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNU3dXQ045QTBvLXFNNXNXUW5oYjVBIiwic2Vzc2lvbl9zdGF0ZSI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dMWz3TZ2CzL3Sfa-CPlWTXQY5oVEsosJAjlC7qhVY7yVwWtvbeqxbQ_kDe8-3TBVkcCIBMf0gAGHnfkH9idpgBL4RbVS0OP7BrXVVVfT2uq4T1DGW1cKgcKC2fzdicGH5sJ2I8OPDTHiT3o4E0KdPwyZIqgPcnTz6i_dC1r6KCdzpXD09m6lMbFQGt7oStua4SQmf2hZYbCoZNvQmzjES70CChyx4MA7AxyUBuRvNWvVtWhR0ok9E0fhfHaoygnjzrvTaZXCAstLj7NHtzHNj1-HTbyY7BIB9K0dd-y94BpUB4Zr6-pp03sw1Yy8YdJq5lLDfqsLtK_5yJ49WWBnJw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMjIsImlhdCI6MTY1MjA5ODgyMiwiYXV0aF90aW1lIjoxNjUyMDk4ODE5LCJqdGkiOiIzNDc1NzRkMi04NDcyLTRlM2UtODgyNi1mY2UyYTE2NTZiYmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNU3dXQ045QTBvLXFNNXNXUW5oYjVBIiwic2Vzc2lvbl9zdGF0ZSI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dMWz3TZ2CzL3Sfa-CPlWTXQY5oVEsosJAjlC7qhVY7yVwWtvbeqxbQ_kDe8-3TBVkcCIBMf0gAGHnfkH9idpgBL4RbVS0OP7BrXVVVfT2uq4T1DGW1cKgcKC2fzdicGH5sJ2I8OPDTHiT3o4E0KdPwyZIqgPcnTz6i_dC1r6KCdzpXD09m6lMbFQGt7oStua4SQmf2hZYbCoZNvQmzjES70CChyx4MA7AxyUBuRvNWvVtWhR0ok9E0fhfHaoygnjzrvTaZXCAstLj7NHtzHNj1-HTbyY7BIB9K0dd-y94BpUB4Zr6-pp03sw1Yy8YdJq5lLDfqsLtK_5yJ49WWBnJw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;0311b37d-fc8d-402c-864a-79a3d338377c&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a559b0
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a559b0
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717b40390, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a560e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b42700, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMjIsImlhdCI6MTY1MjA5ODgyMiwiYXV0aF90aW1lIjoxNjUyMDk4ODE5LCJqdGkiOiIzNDc1NzRkMi04NDcyLTRlM2UtODgyNi1mY2UyYTE2NTZiYmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNU3dXQ045QTBvLXFNNXNXUW5oYjVBIiwic2Vzc2lvbl9zdGF0ZSI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY3MjVkMDJlLTc4Y2MtNGVlZS05Mzk2LWE3N2YwNDFiZGMwYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dMWz3TZ2CzL3Sfa-CPlWTXQY5oVEsosJAjlC7qhVY7yVwWtvbeqxbQ_kDe8-3TBVkcCIBMf0gAGHnfkH9idpgBL4RbVS0OP7BrXVVVfT2uq4T1DGW1cKgcKC2fzdicGH5sJ2I8OPDTHiT3o4E0KdPwyZIqgPcnTz6i_dC1r6KCdzpXD09m6lMbFQGt7oStua4SQmf2hZYbCoZNvQmzjES70CChyx4MA7AxyUBuRvNWvVtWhR0ok9E0fhfHaoygnjzrvTaZXCAstLj7NHtzHNj1-HTbyY7BIB9K0dd-y94BpUB4Zr6-pp03sw1Yy8YdJq5lLDfqsLtK_5yJ49WWBnJw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;&#x27; @ QOS 0
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c01b520, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 99, 55, 54, 51, 56, 99, 53, 45, 51, 53, 99, 101, 45, 52, 49, 51, 51, 45, 57, 52, 51, 99, 45, 101, 52, 50, 99, 55, 56, 101, 98, 102, 54, 50, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 50, 56, 46, 53, 48, 57, 55, 51, 52, 53, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 50, 48, 50, 101, 101, 49, 101, 45, 55, 101, 53, 52, 45, 52, 48, 54, 52, 45, 97, 102, 57, 97, 45, 54, 97, 101, 102, 53, 102, 100, 53, 50, 49, 101, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 45, 57, 101, 53, 52, 45, 52, 55, 57, 53, 45, 56, 53, 57, 101, 45, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 98, 54, 98, 55, 97, 51, 50, 45, 99, 51, 57, 98, 45, 52, 99, 50, 101, 45, 97, 49, 102, 53, 45, 98, 56, 51, 100, 48, 51, 51, 49, 54, 101, 55, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6c7638c5-35ce-4133-943c-e42c78ebf624\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:28.509734579Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;applicationuid\&quot;:\&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;,\&quot;application\&quot;:\&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;eb6b7a32-c39b-4c2e-a1f5-b83d03316e73\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:20:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:20:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:20:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:20:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:20:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;703e18dc-55a8-4fe8-a58d-19bc5cc14f28&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c6bde0
[2022-05-09T12:20:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c6bde0
[2022-05-09T12:20:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717cec0e0, password: 0x56171790e760, connectTimeout: 30, retryInterval: 0, ssl: 0x56171794c850, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cebf50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@be7189ac-9e54-4795-859e-c81f9811e724&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cb8040 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cb8040 } } } }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c003870, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 100, 49, 102, 55, 56, 48, 102, 45, 52, 51, 54, 101, 45, 52, 98, 53, 52, 45, 98, 100, 52, 101, 45, 102, 56, 98, 56, 98, 100, 101, 99, 100, 99, 50, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 50, 57, 46, 54, 50, 56, 52, 55, 56, 54, 49, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 50, 48, 50, 101, 101, 49, 101, 45, 55, 101, 53, 52, 45, 52, 48, 54, 52, 45, 97, 102, 57, 97, 45, 54, 97, 101, 102, 53, 102, 100, 53, 50, 49, 101, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 45, 57, 101, 53, 52, 45, 52, 55, 57, 53, 45, 56, 53, 57, 101, 45, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;0d1f780f-436e-4b54-bd4e-f8b8bdecdc25\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:29.628478612Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;,\&quot;partitionkey\&quot;:\&quot;be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;application\&quot;:\&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;}&quot; }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c0008d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 101, 51, 52, 102, 53, 49, 99, 45, 100, 99, 98, 48, 45, 52, 54, 49, 49, 45, 97, 57, 48, 48, 45, 51, 99, 49, 49, 56, 56, 55, 101, 53, 102, 57, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 51, 48, 46, 49, 51, 51, 52, 57, 55, 50, 49, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 50, 48, 50, 101, 101, 49, 101, 45, 55, 101, 53, 52, 45, 52, 48, 54, 52, 45, 97, 102, 57, 97, 45, 54, 97, 101, 102, 53, 102, 100, 53, 50, 49, 101, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 45, 57, 101, 53, 52, 45, 52, 55, 57, 53, 45, 56, 53, 57, 101, 45, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ae34f51c-dcb0-4611-a900-3c11887e5f9e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:30.133497211Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;partitionkey\&quot;:\&quot;be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;,\&quot;application\&quot;:\&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;}&quot; }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c000b60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 56, 50, 49, 55, 97, 51, 98, 45, 56, 102, 49, 98, 45, 52, 98, 55, 102, 45, 56, 56, 98, 99, 45, 98, 97, 50, 53, 49, 49, 54, 50, 56, 49, 100, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 51, 48, 46, 49, 51, 49, 55, 49, 53, 53, 49, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 45, 57, 101, 53, 52, 45, 52, 55, 57, 53, 45, 56, 53, 57, 101, 45, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 50, 48, 50, 101, 101, 49, 101, 45, 55, 101, 53, 52, 45, 52, 48, 54, 52, 45, 97, 102, 57, 97, 45, 54, 97, 101, 102, 53, 102, 100, 53, 50, 49, 101, 102, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 98, 54, 98, 55, 97, 51, 50, 45, 99, 51, 57, 98, 45, 52, 99, 50, 101, 45, 97, 49, 102, 53, 45, 98, 56, 51, 100, 48, 51, 51, 49, 54, 101, 55, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 97, 50, 57, 54, 102, 57, 52, 45, 98, 50, 101, 51, 45, 52, 57, 49, 102, 45, 56, 97, 57, 97, 45, 100, 52, 98, 50, 57, 98, 99, 97, 56, 55, 98, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 101, 55, 49, 56, 57, 97, 99, 37, 50, 68, 57, 101, 53, 52, 37, 50, 68, 52, 55, 57, 53, 37, 50, 68, 56, 53, 57, 101, 37, 50, 68, 99, 56, 49, 102, 57, 56, 49, 49, 101, 55, 50, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/be7189ac-9e54-4795-859e-c81f9811e724&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e8217a3b-8f1b-4b7f-88bc-ba25116281d6\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:30.131715519Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;be7189ac-9e54-4795-859e-c81f9811e724\&quot;,\&quot;applicationuid\&quot;:\&quot;c202ee1e-7e54-4064-af9a-6aef5fd521ef\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;eb6b7a32-c39b-4c2e-a1f5-b83d03316e73\&quot;,\&quot;senderuid\&quot;:\&quot;ba296f94-b2e3-491f-8a9a-d4b29bca87b6\&quot;,\&quot;partitionkey\&quot;:\&quot;be7189ac%2D9e54%2D4795%2D859e%2Dc81f9811e724/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:20:30Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:20:30Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot; &quot;device1&quot;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot; &quot;gateway1&quot;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;be7189ac-9e54-4795-859e-c81f9811e724&#x27;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;be7189ac-9e54-4795-859e-c81f9811e724&quot;
[2022-05-09T12:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App be7189ac-9e54-4795-859e-c81f9811e724 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:20:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:20:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:20:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:20:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2MzcsImlhdCI6MTY1MjA5ODgzNywianRpIjoiNzAzODA5NmUtOWIwOC00NTBhLWJiZTAtNzYxYTc0ZWE4NGFkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBfdGJJOHBrSGNaUmZYcU5IRmxnZVEiLCJzZXNzaW9uX3N0YXRlIjoiMzJjMmZjNWItMDRlNi00YjFhLThhZjEtZGFiZjhjZGNiNzJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyJ9.3oLaQ_pLjOJiuQTAAu66bJRg8JqC_Z2kYcP2d-CW5hA
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2MzcsImlhdCI6MTY1MjA5ODgzNywianRpIjoiNzAzODA5NmUtOWIwOC00NTBhLWJiZTAtNzYxYTc0ZWE4NGFkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBfdGJJOHBrSGNaUmZYcU5IRmxnZVEiLCJzZXNzaW9uX3N0YXRlIjoiMzJjMmZjNWItMDRlNi00YjFhLThhZjEtZGFiZjhjZGNiNzJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyJ9.3oLaQ_pLjOJiuQTAAu66bJRg8JqC_Z2kYcP2d-CW5hA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::resources::apps] Create application: 3f74ce35-0e64-48ee-a905-4dedf376d3f8
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3f74ce35-0e64-48ee-a905-4dedf376d3f8 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;
[2022-05-09T12:20:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:37.865362Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f70c360b-0db0-461f-b3b8-ba129afcaea7\&quot;,\n    \&quot;uid\&quot;: \&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883971116Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883953352Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883925430Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883926372Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883926763Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883927284Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883927805Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.883931592Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:37.865362Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;), &quot;resourceVersion&quot;: String(&quot;f70c360b-0db0-461f-b3b8-ba129afcaea7&quot;), &quot;uid&quot;: String(&quot;3ed77876-3083-4132-9cd0-bd7c84851eac&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883971116Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883953352Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883925430Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883926372Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883926763Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883927284Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883927805Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.883931592Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:20:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:37.865362Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c8a2d323-04d6-43c0-ab00-be8909e618a6\&quot;,\n    \&quot;uid\&quot;: \&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157152222Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157118198Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.910851389Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.918606701Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.984822073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.991892300Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157071560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157090025Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;JnlflsoWlI0z\&quot;,\n        \&quot;username\&quot;: \&quot;user-3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:37.865362Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;), &quot;resourceVersion&quot;: String(&quot;c8a2d323-04d6-43c0-ab00-be8909e618a6&quot;), &quot;uid&quot;: String(&quot;3ed77876-3083-4132-9cd0-bd7c84851eac&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157152222Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157118198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.910851389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.918606701Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.984822073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.991892300Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157071560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157090025Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;JnlflsoWlI0z&quot;), &quot;username&quot;: String(&quot;user-3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;)})})})})
[2022-05-09T12:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:37.865362Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c8a2d323-04d6-43c0-ab00-be8909e618a6\&quot;,\n    \&quot;uid\&quot;: \&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157152222Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157118198Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.910851389Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.918606701Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.984822073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:37.991892300Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157071560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:38.157090025Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;JnlflsoWlI0z\&quot;,\n        \&quot;username\&quot;: \&quot;user-3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:37.865362Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;), &quot;resourceVersion&quot;: String(&quot;c8a2d323-04d6-43c0-ab00-be8909e618a6&quot;), &quot;uid&quot;: String(&quot;3ed77876-3083-4132-9cd0-bd7c84851eac&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157152222Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157118198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.910851389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.918606701Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.984822073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:37.991892300Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157071560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:38.157090025Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;JnlflsoWlI0z&quot;), &quot;username&quot;: String(&quot;user-3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;)})})})})
[2022-05-09T12:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMzcsImlhdCI6MTY1MjA5ODgzNywiYXV0aF90aW1lIjoxNjUyMDk4ODM0LCJqdGkiOiI3YWFkMGY2My1lZmY0LTQ3ODAtODQyNC1jZmQ3YmU2ZjEyNWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwX3RiSThwa0hjWlJmWHFOSEZsZ2VRIiwic2Vzc2lvbl9zdGF0ZSI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BkNsMK-yeZ3DFfDhzlru7OEmEmSO_lEnpM5BkzaFVWMxvqacV9GK8bhZozAPsllBJjw_Cl-PAylY3_nE5X5xNUkmQU7EI-4Q_63P7f7IES6xtrICAPTQy9JHFlszNxdJZfxFGd5ltvd35nLtWEIj2QmSbYRj84gkB2pe07MIpzLh1dFBfG2NKS9uLqP9vUlKb2cnkp3VAmSe4Zs0aR7hEMDZBaxOm7yTskJ47PUp-UJtx97oL7Xr5SvvNMopVxSa-YaUzN4d_YDKm1eH8i0hYTSRw8kDfOZfwaPITEGZc3y1-PjbXQPiPTleIsxG7SYYLDyq1iaF8hdJEnpZ8TbY4g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMzcsImlhdCI6MTY1MjA5ODgzNywiYXV0aF90aW1lIjoxNjUyMDk4ODM0LCJqdGkiOiI3YWFkMGY2My1lZmY0LTQ3ODAtODQyNC1jZmQ3YmU2ZjEyNWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwX3RiSThwa0hjWlJmWHFOSEZsZ2VRIiwic2Vzc2lvbl9zdGF0ZSI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BkNsMK-yeZ3DFfDhzlru7OEmEmSO_lEnpM5BkzaFVWMxvqacV9GK8bhZozAPsllBJjw_Cl-PAylY3_nE5X5xNUkmQU7EI-4Q_63P7f7IES6xtrICAPTQy9JHFlszNxdJZfxFGd5ltvd35nLtWEIj2QmSbYRj84gkB2pe07MIpzLh1dFBfG2NKS9uLqP9vUlKb2cnkp3VAmSe4Zs0aR7hEMDZBaxOm7yTskJ47PUp-UJtx97oL7Xr5SvvNMopVxSa-YaUzN4d_YDKm1eH8i0hYTSRw8kDfOZfwaPITEGZc3y1-PjbXQPiPTleIsxG7SYYLDyq1iaF8hdJEnpZ8TbY4g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;4e94014e-6dfd-4737-b60e-632191196602&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179f3000
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179f3000
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617179e68a0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a05690, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c83970, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxMzcsImlhdCI6MTY1MjA5ODgzNywiYXV0aF90aW1lIjoxNjUyMDk4ODM0LCJqdGkiOiI3YWFkMGY2My1lZmY0LTQ3ODAtODQyNC1jZmQ3YmU2ZjEyNWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwX3RiSThwa0hjWlJmWHFOSEZsZ2VRIiwic2Vzc2lvbl9zdGF0ZSI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyYzJmYzViLTA0ZTYtNGIxYS04YWYxLWRhYmY4Y2RjYjcyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BkNsMK-yeZ3DFfDhzlru7OEmEmSO_lEnpM5BkzaFVWMxvqacV9GK8bhZozAPsllBJjw_Cl-PAylY3_nE5X5xNUkmQU7EI-4Q_63P7f7IES6xtrICAPTQy9JHFlszNxdJZfxFGd5ltvd35nLtWEIj2QmSbYRj84gkB2pe07MIpzLh1dFBfG2NKS9uLqP9vUlKb2cnkp3VAmSe4Zs0aR7hEMDZBaxOm7yTskJ47PUp-UJtx97oL7Xr5SvvNMopVxSa-YaUzN4d_YDKm1eH8i0hYTSRw8kDfOZfwaPITEGZc3y1-PjbXQPiPTleIsxG7SYYLDyq1iaF8hdJEnpZ8TbY4g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:39Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;&#x27; @ QOS 0
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1801c100, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 55, 54, 53, 102, 57, 55, 52, 45, 56, 57, 99, 53, 45, 52, 57, 48, 101, 45, 56, 50, 56, 49, 45, 98, 53, 56, 102, 101, 98, 101, 48, 101, 97, 97, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 52, 50, 46, 53, 50, 53, 48, 52, 56, 50, 51, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 53, 55, 101, 54, 49, 98, 56, 45, 48, 48, 54, 54, 45, 52, 54, 49, 98, 45, 56, 97, 48, 55, 45, 48, 50, 57, 53, 57, 52, 52, 49, 98, 98, 98, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 45, 48, 101, 54, 52, 45, 52, 56, 101, 101, 45, 97, 57, 48, 53, 45, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 101, 100, 55, 55, 56, 55, 54, 45, 51, 48, 56, 51, 45, 52, 49, 51, 50, 45, 57, 99, 100, 48, 45, 98, 100, 55, 99, 56, 52, 56, 53, 49, 101, 97, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b765f974-89c5-490e-8281-b58febe0eaa9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:42.525048236Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;757e61b8-0066-461b-8a07-02959441bbbb\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\&quot;partitionkey\&quot;:\&quot;3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/device1\&quot;,\&quot;senderuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;,\&quot;applicationuid\&quot;:\&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;}&quot; }
[2022-05-09T12:20:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:20:43Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:20:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:20:43Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:20:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;193e3ee1-e81d-4bd3-9beb-1715454088ba&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717af2380
[2022-05-09T12:20:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717af2380
[2022-05-09T12:20:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717879360, password: 0x561717a59090, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179e22a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178790d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b180101b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 54, 52, 101, 55, 52, 48, 50, 45, 57, 99, 52, 49, 45, 52, 102, 52, 49, 45, 98, 53, 98, 53, 45, 48, 52, 101, 102, 102, 99, 52, 97, 51, 99, 48, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 52, 51, 46, 56, 48, 49, 51, 53, 56, 51, 57, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 101, 100, 55, 55, 56, 55, 54, 45, 51, 48, 56, 51, 45, 52, 49, 51, 50, 45, 57, 99, 100, 48, 45, 98, 100, 55, 99, 56, 52, 56, 53, 49, 101, 97, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 45, 48, 101, 54, 52, 45, 52, 56, 101, 101, 45, 97, 57, 48, 53, 45, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;164e7402-9c41-4f41-b5b5-04effc4a3c04\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:43.801358395Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;,\&quot;partitionkey\&quot;:\&quot;3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/gateway1\&quot;,\&quot;application\&quot;:\&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;,\&quot;deviceuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:20:44Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cb31e0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cb31e0 } } } }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b18010440, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 102, 97, 52, 55, 102, 56, 48, 45, 53, 54, 100, 102, 45, 52, 100, 100, 100, 45, 56, 53, 57, 57, 45, 50, 98, 101, 100, 53, 54, 54, 100, 53, 97, 50, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 52, 52, 46, 49, 51, 53, 49, 54, 48, 51, 55, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 45, 48, 101, 54, 52, 45, 52, 56, 101, 101, 45, 97, 57, 48, 53, 45, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 53, 55, 101, 54, 49, 98, 56, 45, 48, 48, 54, 54, 45, 52, 54, 49, 98, 45, 56, 97, 48, 55, 45, 48, 50, 57, 53, 57, 52, 52, 49, 98, 98, 98, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 101, 100, 55, 55, 56, 55, 54, 45, 51, 48, 56, 51, 45, 52, 49, 51, 50, 45, 57, 99, 100, 48, 45, 98, 100, 55, 99, 56, 52, 56, 53, 49, 101, 97, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;efa47f80-56df-4ddd-8599-2bed566d5a21\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:44.135160373Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/device1\&quot;,\&quot;application\&quot;:\&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\&quot;deviceuid\&quot;:\&quot;757e61b8-0066-461b-8a07-02959441bbbb\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;,\&quot;senderuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;}&quot; }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1800dfa0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 98, 54, 55, 49, 52, 99, 97, 45, 55, 53, 56, 51, 45, 52, 55, 56, 54, 45, 98, 98, 57, 101, 45, 53, 55, 102, 51, 50, 52, 102, 53, 55, 101, 99, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 52, 52, 46, 50, 51, 53, 48, 53, 52, 54, 56, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 101, 100, 55, 55, 56, 55, 54, 45, 51, 48, 56, 51, 45, 52, 49, 51, 50, 45, 57, 99, 100, 48, 45, 98, 100, 55, 99, 56, 52, 56, 53, 49, 101, 97, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 45, 48, 101, 54, 52, 45, 52, 56, 101, 101, 45, 97, 57, 48, 53, 45, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 52, 57, 53, 50, 57, 99, 52, 45, 53, 99, 54, 52, 45, 52, 52, 55, 49, 45, 56, 100, 52, 51, 45, 97, 52, 97, 50, 52, 102, 56, 53, 48, 48, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 102, 55, 52, 99, 101, 51, 53, 37, 50, 68, 48, 101, 54, 52, 37, 50, 68, 52, 56, 101, 101, 37, 50, 68, 97, 57, 48, 53, 37, 50, 68, 52, 100, 101, 100, 102, 51, 55, 54, 100, 51, 102, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;0b6714ca-7583-4786-bb9e-57f324f57ecc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:44.235054686Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;applicationuid\&quot;:\&quot;3ed77876-3083-4132-9cd0-bd7c84851eac\&quot;,\&quot;application\&quot;:\&quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8\&quot;,\&quot;senderuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;249529c4-5c64-4471-8d43-a4a24f850070\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;3f74ce35%2D0e64%2D48ee%2Da905%2D4dedf376d3f8/gateway1\&quot;}&quot; }
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:20:44Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:20:44Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot; &quot;device1&quot;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot; &quot;gateway1&quot;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3f74ce35-0e64-48ee-a905-4dedf376d3f8&#x27;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3f74ce35-0e64-48ee-a905-4dedf376d3f8&quot;
[2022-05-09T12:20:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3f74ce35-0e64-48ee-a905-4dedf376d3f8 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:20:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:20:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:20:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:20:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:20:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NTEsImlhdCI6MTY1MjA5ODg1MSwianRpIjoiZjhkZWQ5MTYtYjIwYy00YTk5LTg2Y2UtNWJjNjFkMWMzYzRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZNS3RCVm1ld0FSVzBPRGR6OTRLSVEiLCJzZXNzaW9uX3N0YXRlIjoiZThjN2JkY2ItN2E0OC00MjJlLWE4Y2MtZmEzMGYxZWYyMTJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyJ9._gtoMALrJ7boVdGOuPR3EfAKg2Vzur94GM5zzBXwpUY
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NTEsImlhdCI6MTY1MjA5ODg1MSwianRpIjoiZjhkZWQ5MTYtYjIwYy00YTk5LTg2Y2UtNWJjNjFkMWMzYzRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZNS3RCVm1ld0FSVzBPRGR6OTRLSVEiLCJzZXNzaW9uX3N0YXRlIjoiZThjN2JkY2ItN2E0OC00MjJlLWE4Y2MtZmEzMGYxZWYyMTJjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyJ9._gtoMALrJ7boVdGOuPR3EfAKg2Vzur94GM5zzBXwpUY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::resources::apps] Create application: c66e0428-cb58-485e-9f98-d706d484f294
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c66e0428-cb58-485e-9f98-d706d484f294 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;
[2022-05-09T12:20:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:51.749209Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0c3ef134-3e99-4903-b386-66ebaeb3dc01\&quot;,\n    \&quot;uid\&quot;: \&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.767596333Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:51.749209Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;), &quot;resourceVersion&quot;: String(&quot;0c3ef134-3e99-4903-b386-66ebaeb3dc01&quot;), &quot;uid&quot;: String(&quot;b268ff83-9db7-480b-a346-1c924842775e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.767596333Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:20:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:51.749209Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8c066004-9822-40ff-8a1b-55b40bee0703\&quot;,\n    \&quot;uid\&quot;: \&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169704945Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169516121Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.801864460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.809005621Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.992774709Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.011572468Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169429859Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169446230Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rhPgpqNHRKdZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-c66e0428-cb58-485e-9f98-d706d484f294\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:51.749209Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;), &quot;resourceVersion&quot;: String(&quot;8c066004-9822-40ff-8a1b-55b40bee0703&quot;), &quot;uid&quot;: String(&quot;b268ff83-9db7-480b-a346-1c924842775e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169704945Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169516121Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.801864460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.809005621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.992774709Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.011572468Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169429859Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169446230Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rhPgpqNHRKdZ&quot;), &quot;username&quot;: String(&quot;user-c66e0428-cb58-485e-9f98-d706d484f294&quot;)})})})})
[2022-05-09T12:20:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:20:51.749209Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8c066004-9822-40ff-8a1b-55b40bee0703\&quot;,\n    \&quot;uid\&quot;: \&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169704945Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169516121Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.801864460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.809005621Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:51.992774709Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.011572468Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169429859Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:20:52.169446230Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rhPgpqNHRKdZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-c66e0428-cb58-485e-9f98-d706d484f294\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:20:51.749209Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;), &quot;resourceVersion&quot;: String(&quot;8c066004-9822-40ff-8a1b-55b40bee0703&quot;), &quot;uid&quot;: String(&quot;b268ff83-9db7-480b-a346-1c924842775e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169704945Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169516121Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.801864460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.809005621Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:51.992774709Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.011572468Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169429859Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:20:52.169446230Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rhPgpqNHRKdZ&quot;), &quot;username&quot;: String(&quot;user-c66e0428-cb58-485e-9f98-d706d484f294&quot;)})})})})
[2022-05-09T12:20:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNTEsImlhdCI6MTY1MjA5ODg1MSwiYXV0aF90aW1lIjoxNjUyMDk4ODQ4LCJqdGkiOiI5YzdkOTQ4YS1hZGFkLTRmMmUtOTZmNy0xZjZiYmNlMmFjMjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2TUt0QlZtZXdBUlcwT0Rkejk0S0lRIiwic2Vzc2lvbl9zdGF0ZSI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hUv6bGBn1siAgb2W1vC-sKig0fLkFILMKfVuN-pFT8leEuhsyc-rx-mCP91aOuX50zgnDQm-mgNhs0z0G9s3KNf10MVQpEVF90MgT_ZIyU81BuG48vjf1EusE6L-x_VtUS09i2h2bJ8szMiSRFrIUHOxZS5XG4vii4KVZ21B3tbuIEij9ZAnr6RsipRV16H2WIKyzniKeyUhVNJIIxjJ2S2-oAjKJ4g4oPyBAxDjiUX_rk9BJZTlhw9ooSRUo3mD1WxC-qjSO6E2PNRN5A9ptNC0pYv-4Krqq-ceq9M67yN6rhRHLuFryYS7kwdLqfOhoiTSIODWdnKRqzLQdQ7FOg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:20:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNTEsImlhdCI6MTY1MjA5ODg1MSwiYXV0aF90aW1lIjoxNjUyMDk4ODQ4LCJqdGkiOiI5YzdkOTQ4YS1hZGFkLTRmMmUtOTZmNy0xZjZiYmNlMmFjMjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2TUt0QlZtZXdBUlcwT0Rkejk0S0lRIiwic2Vzc2lvbl9zdGF0ZSI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hUv6bGBn1siAgb2W1vC-sKig0fLkFILMKfVuN-pFT8leEuhsyc-rx-mCP91aOuX50zgnDQm-mgNhs0z0G9s3KNf10MVQpEVF90MgT_ZIyU81BuG48vjf1EusE6L-x_VtUS09i2h2bJ8szMiSRFrIUHOxZS5XG4vii4KVZ21B3tbuIEij9ZAnr6RsipRV16H2WIKyzniKeyUhVNJIIxjJ2S2-oAjKJ4g4oPyBAxDjiUX_rk9BJZTlhw9ooSRUo3mD1WxC-qjSO6E2PNRN5A9ptNC0pYv-4Krqq-ceq9M67yN6rhRHLuFryYS7kwdLqfOhoiTSIODWdnKRqzLQdQ7FOg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;be9d2d25-7371-4cf8-a266-f808d6f04e89&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b8b0f0
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b8b0f0
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717af1390, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179e22a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717af0710, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNTEsImlhdCI6MTY1MjA5ODg1MSwiYXV0aF90aW1lIjoxNjUyMDk4ODQ4LCJqdGkiOiI5YzdkOTQ4YS1hZGFkLTRmMmUtOTZmNy0xZjZiYmNlMmFjMjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2TUt0QlZtZXdBUlcwT0Rkejk0S0lRIiwic2Vzc2lvbl9zdGF0ZSI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4YzdiZGNiLTdhNDgtNDIyZS1hOGNjLWZhMzBmMWVmMjEyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hUv6bGBn1siAgb2W1vC-sKig0fLkFILMKfVuN-pFT8leEuhsyc-rx-mCP91aOuX50zgnDQm-mgNhs0z0G9s3KNf10MVQpEVF90MgT_ZIyU81BuG48vjf1EusE6L-x_VtUS09i2h2bJ8szMiSRFrIUHOxZS5XG4vii4KVZ21B3tbuIEij9ZAnr6RsipRV16H2WIKyzniKeyUhVNJIIxjJ2S2-oAjKJ4g4oPyBAxDjiUX_rk9BJZTlhw9ooSRUo3mD1WxC-qjSO6E2PNRN5A9ptNC0pYv-4Krqq-ceq9M67yN6rhRHLuFryYS7kwdLqfOhoiTSIODWdnKRqzLQdQ7FOg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:52Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;&#x27; @ QOS 0
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:20:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:20:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:20:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:20:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18012980, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18012c00 } }, data: MessageData { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 102, 99, 53, 55, 101, 102, 52, 45, 54, 54, 48, 99, 45, 52, 54, 54, 50, 45, 97, 48, 56, 54, 45, 50, 101, 57, 49, 100, 51, 98, 98, 57, 56, 97, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 53, 54, 46, 53, 51, 51, 55, 54, 49, 53, 56, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 45, 99, 98, 53, 56, 45, 52, 56, 53, 101, 45, 57, 102, 57, 56, 45, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 100, 52, 56, 55, 97, 97, 54, 45, 98, 101, 99, 57, 45, 52, 48, 50, 48, 45, 97, 57, 100, 48, 45, 51, 100, 100, 50, 99, 98, 51, 56, 57, 54, 48, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 50, 54, 56, 102, 102, 56, 51, 45, 57, 100, 98, 55, 45, 52, 56, 48, 98, 45, 97, 51, 52, 54, 45, 49, 99, 57, 50, 52, 56, 52, 50, 55, 55, 53, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18012c00 } } } }
[2022-05-09T12:20:56Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b3c940
[2022-05-09T12:20:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;efc57ef4-660c-4662-a086-2e91d3bb98a2\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:56.533761584Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;5d487aa6-bec9-4020-a9d0-3dd2cb38960e\&quot;,\&quot;senderuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;}&quot; }
[2022-05-09T12:20:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:20:57Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:20:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:20:57Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:20:57Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;8162f9da-588e-401d-9c8b-95f3e0f88ae9&quot;, persistence: None, user_data: None }
[2022-05-09T12:20:57Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:20:57Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179f2350
[2022-05-09T12:20:57Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179f2350
[2022-05-09T12:20:57Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717bc3a90, password: 0x561717cb9980, connectTimeout: 30, retryInterval: 0, ssl: 0x561717c9fad0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ca2630, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c66e0428-cb58-485e-9f98-d706d484f294&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:20:58Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca0480 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca0480 } } } }
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18019620, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180198b0 } }, data: MessageData { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 55, 55, 100, 100, 55, 52, 97, 45, 54, 57, 51, 99, 45, 52, 51, 52, 54, 45, 98, 51, 97, 102, 45, 48, 56, 54, 101, 48, 51, 49, 98, 52, 53, 53, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 53, 55, 46, 54, 52, 57, 57, 49, 49, 49, 55, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 50, 54, 56, 102, 102, 56, 51, 45, 57, 100, 98, 55, 45, 52, 56, 48, 98, 45, 97, 51, 52, 54, 45, 49, 99, 57, 50, 52, 56, 52, 50, 55, 55, 53, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 45, 99, 98, 53, 56, 45, 52, 56, 53, 101, 45, 57, 102, 57, 56, 45, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180198b0 } } } }
[2022-05-09T12:20:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717cd9be0
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;577dd74a-693c-4346-b3af-086e031b4551\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:57.649911175Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;,\&quot;senderuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;partitionkey\&quot;:\&quot;c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;}&quot; }
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1800a1a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a420 } }, data: MessageData { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 100, 52, 55, 54, 98, 54, 57, 45, 100, 98, 56, 55, 45, 52, 97, 52, 51, 45, 57, 55, 57, 48, 45, 53, 55, 50, 101, 53, 55, 53, 54, 100, 55, 97, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 53, 56, 46, 49, 51, 56, 56, 51, 48, 52, 50, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 50, 54, 56, 102, 102, 56, 51, 45, 57, 100, 98, 55, 45, 52, 56, 48, 98, 45, 97, 51, 52, 54, 45, 49, 99, 57, 50, 52, 56, 52, 50, 55, 55, 53, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 100, 52, 56, 55, 97, 97, 54, 45, 98, 101, 99, 57, 45, 52, 48, 50, 48, 45, 97, 57, 100, 48, 45, 51, 100, 100, 50, 99, 98, 51, 56, 57, 54, 48, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 45, 99, 98, 53, 56, 45, 52, 56, 53, 101, 45, 57, 102, 57, 56, 45, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a420 } } } }
[2022-05-09T12:20:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717cd9be0
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5d476b69-db87-4a43-9790-572e5756d7a4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:58.138830427Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;applicationuid\&quot;:\&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;,\&quot;deviceuid\&quot;:\&quot;5d487aa6-bec9-4020-a9d0-3dd2cb38960e\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/device1\&quot;,\&quot;application\&quot;:\&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\&quot;senderuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b180198b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a420 } }, data: MessageData { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 51, 50, 50, 51, 97, 102, 97, 45, 57, 50, 55, 57, 45, 52, 57, 56, 53, 45, 56, 99, 57, 52, 45, 102, 102, 100, 97, 52, 51, 101, 100, 102, 98, 101, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 48, 58, 53, 56, 46, 50, 52, 50, 49, 53, 49, 53, 48, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 37, 50, 68, 99, 98, 53, 56, 37, 50, 68, 52, 56, 53, 101, 37, 50, 68, 57, 102, 57, 56, 37, 50, 68, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 49, 53, 52, 56, 97, 51, 98, 45, 56, 52, 56, 57, 45, 52, 97, 54, 50, 45, 56, 51, 54, 53, 45, 52, 102, 50, 50, 50, 53, 49, 49, 55, 97, 50, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 54, 54, 101, 48, 52, 50, 56, 45, 99, 98, 53, 56, 45, 52, 56, 53, 101, 45, 57, 102, 57, 56, 45, 100, 55, 48, 54, 100, 52, 56, 52, 102, 50, 57, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 50, 54, 56, 102, 102, 56, 51, 45, 57, 100, 98, 55, 45, 52, 56, 48, 98, 45, 97, 51, 52, 54, 45, 49, 99, 57, 50, 52, 56, 52, 50, 55, 55, 53, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a420 } } } }
[2022-05-09T12:20:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b18011f50
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c66e0428-cb58-485e-9f98-d706d484f294&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a3223afa-9279-4985-8c94-ffda43edfbee\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:20:58.242151506Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;c66e0428%2Dcb58%2D485e%2D9f98%2Dd706d484f294/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;b1548a3b-8489-4a62-8365-4f2225117a23\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;c66e0428-cb58-485e-9f98-d706d484f294\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;b268ff83-9db7-480b-a346-1c924842775e\&quot;}&quot; }
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:20:58Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:20:58Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot; &quot;device1&quot;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot; &quot;gateway1&quot;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c66e0428-cb58-485e-9f98-d706d484f294&#x27;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c66e0428-cb58-485e-9f98-d706d484f294&quot;
[2022-05-09T12:20:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c66e0428-cb58-485e-9f98-d706d484f294 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:21:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:21:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:21:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:21:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NjQsImlhdCI6MTY1MjA5ODg2NCwianRpIjoiZjNkZWNlNTUtOTg5NS00MzljLTg0MTgtZTJhNjdlOTI1NjI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijg3bHlNdVZpeDZZMWEyYW5qOC1zaGciLCJzZXNzaW9uX3N0YXRlIjoiZGNlYmVhNzEtMjc4Yy00NmQ3LTgyNzQtNWMzZjBhZTY5N2ZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSJ9.IY090kMQnV4HJXpVDb-Le-bkCCiGreXbktoBuSz2sA8
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NjQsImlhdCI6MTY1MjA5ODg2NCwianRpIjoiZjNkZWNlNTUtOTg5NS00MzljLTg0MTgtZTJhNjdlOTI1NjI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijg3bHlNdVZpeDZZMWEyYW5qOC1zaGciLCJzZXNzaW9uX3N0YXRlIjoiZGNlYmVhNzEtMjc4Yy00NmQ3LTgyNzQtNWMzZjBhZTY5N2ZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSJ9.IY090kMQnV4HJXpVDb-Le-bkCCiGreXbktoBuSz2sA8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::resources::apps] Create application: 56c67bc5-928d-45ea-99df-3146fcb75253
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 56c67bc5-928d-45ea-99df-3146fcb75253 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;
[2022-05-09T12:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:05.753802Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0dd10dce-b959-4454-a79d-95969079035c\&quot;,\n    \&quot;uid\&quot;: \&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765546472Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765573723Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765506327Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765508120Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765508762Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765509512Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765509934Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.765521565Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:05.753802Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;), &quot;resourceVersion&quot;: String(&quot;0dd10dce-b959-4454-a79d-95969079035c&quot;), &quot;uid&quot;: String(&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765546472Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765573723Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765506327Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765508120Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765508762Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765509512Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765509934Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.765521565Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:21:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:05.753802Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5085f080-a714-4035-bd20-73625e3144d1\&quot;,\n    \&quot;uid\&quot;: \&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032440630Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032532322Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.797204676Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.803320313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.875560822Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.882148965Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032390316Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032412157Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RGvlvsfNONMZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-56c67bc5-928d-45ea-99df-3146fcb75253\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:05.753802Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;), &quot;resourceVersion&quot;: String(&quot;5085f080-a714-4035-bd20-73625e3144d1&quot;), &quot;uid&quot;: String(&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032440630Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032532322Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.797204676Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.803320313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.875560822Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.882148965Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032390316Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032412157Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RGvlvsfNONMZ&quot;), &quot;username&quot;: String(&quot;user-56c67bc5-928d-45ea-99df-3146fcb75253&quot;)})})})})
[2022-05-09T12:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:05.753802Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5085f080-a714-4035-bd20-73625e3144d1\&quot;,\n    \&quot;uid\&quot;: \&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032440630Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032532322Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.797204676Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.803320313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.875560822Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:05.882148965Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032390316Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:06.032412157Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RGvlvsfNONMZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-56c67bc5-928d-45ea-99df-3146fcb75253\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:05.753802Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;), &quot;resourceVersion&quot;: String(&quot;5085f080-a714-4035-bd20-73625e3144d1&quot;), &quot;uid&quot;: String(&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032440630Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032532322Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.797204676Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.803320313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.875560822Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:05.882148965Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032390316Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:06.032412157Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RGvlvsfNONMZ&quot;), &quot;username&quot;: String(&quot;user-56c67bc5-928d-45ea-99df-3146fcb75253&quot;)})})})})
[2022-05-09T12:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNjUsImlhdCI6MTY1MjA5ODg2NSwiYXV0aF90aW1lIjoxNjUyMDk4ODYyLCJqdGkiOiJjMGExODQyOS05OWUwLTQ5ZjktOTJhOS05MjBjYTk4YzI3ZTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4N2x5TXVWaXg2WTFhMmFuajgtc2hnIiwic2Vzc2lvbl9zdGF0ZSI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hM08Teo0vbBCnLo7Llz2kkFNkaz6tQEeg49qpzBJWqAzqBegLpHJ-a6Er9RYqWwT90KEG9VKKkbUo5rpxaMwXKkQqxAinUvZaWRzSBPTw9l9mFsAbm4woNqRAOYDY-Ih0z9UxhtOgAGbSgNZzcmuUp1gLPgwi50Z0nutUa2OJ9r6tjAaaXAJkF3vZ0th0ueAA0tcXCd0FHAG1HDwo2xnFlC51ZcKVlQstUfEsmlWeI9FgCz9vmX62-yfnio8HPdNTcCCriyPyH8P8JCrG_1v1StkHZEZYh-Y8zro8t9nlpccerZMEV1zA1WTu1iTbfw4e4YQKv9EnKyssuFBDIwO9w\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNjUsImlhdCI6MTY1MjA5ODg2NSwiYXV0aF90aW1lIjoxNjUyMDk4ODYyLCJqdGkiOiJjMGExODQyOS05OWUwLTQ5ZjktOTJhOS05MjBjYTk4YzI3ZTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4N2x5TXVWaXg2WTFhMmFuajgtc2hnIiwic2Vzc2lvbl9zdGF0ZSI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hM08Teo0vbBCnLo7Llz2kkFNkaz6tQEeg49qpzBJWqAzqBegLpHJ-a6Er9RYqWwT90KEG9VKKkbUo5rpxaMwXKkQqxAinUvZaWRzSBPTw9l9mFsAbm4woNqRAOYDY-Ih0z9UxhtOgAGbSgNZzcmuUp1gLPgwi50Z0nutUa2OJ9r6tjAaaXAJkF3vZ0th0ueAA0tcXCd0FHAG1HDwo2xnFlC51ZcKVlQstUfEsmlWeI9FgCz9vmX62-yfnio8HPdNTcCCriyPyH8P8JCrG_1v1StkHZEZYh-Y8zro8t9nlpccerZMEV1zA1WTu1iTbfw4e4YQKv9EnKyssuFBDIwO9w\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;38f5ebd9-3d3f-4015-a900-cac015ac3f8d&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179cbae0
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179cbae0
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717aba040, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179e2e90, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617179a6b20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNjUsImlhdCI6MTY1MjA5ODg2NSwiYXV0aF90aW1lIjoxNjUyMDk4ODYyLCJqdGkiOiJjMGExODQyOS05OWUwLTQ5ZjktOTJhOS05MjBjYTk4YzI3ZTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4N2x5TXVWaXg2WTFhMmFuajgtc2hnIiwic2Vzc2lvbl9zdGF0ZSI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZWJlYTcxLTI3OGMtNDZkNy04Mjc0LTVjM2YwYWU2OTdmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hM08Teo0vbBCnLo7Llz2kkFNkaz6tQEeg49qpzBJWqAzqBegLpHJ-a6Er9RYqWwT90KEG9VKKkbUo5rpxaMwXKkQqxAinUvZaWRzSBPTw9l9mFsAbm4woNqRAOYDY-Ih0z9UxhtOgAGbSgNZzcmuUp1gLPgwi50Z0nutUa2OJ9r6tjAaaXAJkF3vZ0th0ueAA0tcXCd0FHAG1HDwo2xnFlC51ZcKVlQstUfEsmlWeI9FgCz9vmX62-yfnio8HPdNTcCCriyPyH8P8JCrG_1v1StkHZEZYh-Y8zro8t9nlpccerZMEV1zA1WTu1iTbfw4e4YQKv9EnKyssuFBDIwO9w&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:06Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;&#x27; @ QOS 0
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:21:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:21:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18015370, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180155f0 } }, data: MessageData { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 48, 99, 50, 98, 55, 55, 101, 45, 99, 54, 56, 101, 45, 52, 50, 98, 48, 45, 56, 54, 97, 52, 45, 56, 48, 57, 101, 100, 100, 100, 57, 49, 53, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 49, 48, 46, 53, 50, 53, 56, 52, 53, 56, 50, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 102, 57, 102, 100, 48, 100, 45, 49, 54, 57, 52, 45, 52, 100, 53, 100, 45, 98, 54, 102, 50, 45, 97, 53, 54, 50, 48, 52, 99, 56, 99, 54, 53, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 45, 57, 50, 56, 100, 45, 52, 53, 101, 97, 45, 57, 57, 100, 102, 45, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 100, 53, 54, 56, 52, 99, 48, 45, 57, 55, 49, 97, 45, 52, 99, 57, 100, 45, 98, 48, 55, 98, 45, 50, 55, 49, 53, 97, 54, 102, 98, 49, 101, 101, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180155f0 } } } }
[2022-05-09T12:21:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717a9a140
[2022-05-09T12:21:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a0c2b77e-c68e-42b0-86a4-809eddd91555\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:10.525845829Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;,\&quot;partitionkey\&quot;:\&quot;56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/device1\&quot;,\&quot;application\&quot;:\&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\&quot;deviceuid\&quot;:\&quot;9d5684c0-971a-4c9d-b07b-2715a6fb1eec\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:21:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:21:11Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:21:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:21:11Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:21:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;77f82913-1ae4-4aad-81c9-37b512d931a8&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c83120
[2022-05-09T12:21:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c83120
[2022-05-09T12:21:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717ccaa90, password: 0x561717a09cc0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cb83b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cc9470, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@56c67bc5-928d-45ea-99df-3146fcb75253&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:12Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bc7570 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bc7570 } } } }
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1802db00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802dd90 } }, data: MessageData { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 56, 97, 99, 52, 48, 55, 99, 45, 97, 102, 97, 53, 45, 52, 49, 48, 51, 45, 57, 97, 52, 57, 45, 99, 53, 101, 50, 51, 54, 48, 52, 53, 102, 98, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 49, 49, 46, 54, 52, 49, 55, 48, 54, 55, 51, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 45, 57, 50, 56, 100, 45, 52, 53, 101, 97, 45, 57, 57, 100, 102, 45, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 102, 57, 102, 100, 48, 100, 45, 49, 54, 57, 52, 45, 52, 100, 53, 100, 45, 98, 54, 102, 50, 45, 97, 53, 54, 50, 48, 52, 99, 56, 99, 54, 53, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802dd90 } } } }
[2022-05-09T12:21:12Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b6a5c0
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e8ac407c-afa5-4103-9a49-c5e236045fb1\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:11.641706731Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\&quot;deviceuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;,\&quot;partitionkey\&quot;:\&quot;56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/gateway1\&quot;}&quot; }
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1802e090, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802e320 } }, data: MessageData { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 53, 102, 102, 51, 99, 97, 101, 45, 48, 99, 48, 101, 45, 52, 101, 54, 100, 45, 98, 99, 97, 50, 45, 98, 100, 57, 57, 53, 48, 98, 98, 53, 49, 50, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 49, 50, 46, 49, 52, 48, 55, 57, 57, 50, 52, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 45, 57, 50, 56, 100, 45, 52, 53, 101, 97, 45, 57, 57, 100, 102, 45, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 102, 57, 102, 100, 48, 100, 45, 49, 54, 57, 52, 45, 52, 100, 53, 100, 45, 98, 54, 102, 50, 45, 97, 53, 54, 50, 48, 52, 99, 56, 99, 54, 53, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802e320 } } } }
[2022-05-09T12:21:12Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717a9a140
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;15ff3cae-0c0e-4e6d-bca2-bd9950bb512c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:12.140799249Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;deviceuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;partitionkey\&quot;:\&quot;56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\&quot;applicationuid\&quot;:\&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1800ad70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800aff0 } }, data: MessageData { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 52, 55, 55, 54, 57, 55, 50, 45, 99, 48, 53, 55, 45, 52, 100, 101, 56, 45, 97, 48, 56, 48, 45, 50, 48, 54, 99, 53, 56, 57, 48, 98, 51, 51, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 49, 50, 46, 49, 52, 48, 48, 50, 50, 55, 52, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 55, 57, 54, 57, 57, 53, 45, 97, 52, 53, 52, 45, 52, 48, 50, 54, 45, 97, 56, 57, 52, 45, 97, 49, 99, 56, 98, 97, 55, 51, 53, 50, 48, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 45, 57, 50, 56, 100, 45, 52, 53, 101, 97, 45, 57, 57, 100, 102, 45, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 100, 102, 57, 102, 100, 48, 100, 45, 49, 54, 57, 52, 45, 52, 100, 53, 100, 45, 98, 54, 102, 50, 45, 97, 53, 54, 50, 48, 52, 99, 56, 99, 54, 53, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 100, 53, 54, 56, 52, 99, 48, 45, 57, 55, 49, 97, 45, 52, 99, 57, 100, 45, 98, 48, 55, 98, 45, 50, 55, 49, 53, 97, 54, 102, 98, 49, 101, 101, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 54, 99, 54, 55, 98, 99, 53, 37, 50, 68, 57, 50, 56, 100, 37, 50, 68, 52, 53, 101, 97, 37, 50, 68, 57, 57, 100, 102, 37, 50, 68, 51, 49, 52, 54, 102, 99, 98, 55, 53, 50, 53, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800aff0 } } } }
[2022-05-09T12:21:12Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717a9a140
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/56c67bc5-928d-45ea-99df-3146fcb75253&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e4776972-c057-4de8-a080-206c5890b330\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:12.140022744Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;a9796995-a454-4026-a894-a1c8ba735200\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;56c67bc5-928d-45ea-99df-3146fcb75253\&quot;,\&quot;applicationuid\&quot;:\&quot;1df9fd0d-1694-4d5d-b6f2-a56204c8c658\&quot;,\&quot;deviceuid\&quot;:\&quot;9d5684c0-971a-4c9d-b07b-2715a6fb1eec\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;56c67bc5%2D928d%2D45ea%2D99df%2D3146fcb75253/device1\&quot;}&quot; }
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:21:12Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:21:12Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot; &quot;device1&quot;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot; &quot;gateway1&quot;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;56c67bc5-928d-45ea-99df-3146fcb75253&#x27;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;56c67bc5-928d-45ea-99df-3146fcb75253&quot;
[2022-05-09T12:21:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 56c67bc5-928d-45ea-99df-3146fcb75253 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:21:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:21:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:21:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:21:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NzgsImlhdCI6MTY1MjA5ODg3OCwianRpIjoiOGM5OTQ3MzQtNjEzNC00NzhlLWFhNGYtZTA5MzhmZThhMjQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhzV09iazVVUTdadDlvSTV0SzlWaUEiLCJzZXNzaW9uX3N0YXRlIjoiZmUxY2Q1MzctODFlYi00NDI2LWIyNWMtM2RiZTg5ODhiM2I0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCJ9.69_O-dxDg8XG8W_BhHHsLe5g54HHoJs59PljjpO2xBY
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2NzgsImlhdCI6MTY1MjA5ODg3OCwianRpIjoiOGM5OTQ3MzQtNjEzNC00NzhlLWFhNGYtZTA5MzhmZThhMjQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhzV09iazVVUTdadDlvSTV0SzlWaUEiLCJzZXNzaW9uX3N0YXRlIjoiZmUxY2Q1MzctODFlYi00NDI2LWIyNWMtM2RiZTg5ODhiM2I0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCJ9.69_O-dxDg8XG8W_BhHHsLe5g54HHoJs59PljjpO2xBY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 3b1442e6-14f0-4b4a-9f37-d923420ba2b1
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3b1442e6-14f0-4b4a-9f37-d923420ba2b1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;
[2022-05-09T12:21:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:19.925940Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f5efa905-0ebc-4cc5-8664-83bfcc526312\&quot;,\n    \&quot;uid\&quot;: \&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942906693Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942862019Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942794492Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942796727Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942797669Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942798761Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942799903Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.942817415Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:19.925940Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;), &quot;resourceVersion&quot;: String(&quot;f5efa905-0ebc-4cc5-8664-83bfcc526312&quot;), &quot;uid&quot;: String(&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942906693Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942862019Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942794492Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942796727Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942797669Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942798761Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942799903Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.942817415Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:21:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:19.925940Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;77379eb6-baf6-4e28-911f-f48a0fe51037\&quot;,\n    \&quot;uid\&quot;: \&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263297684Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263250135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.969006975Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.975131719Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.071765989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.079118797Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263075107Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263096657Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;BuCtWHNNg9Uo\&quot;,\n        \&quot;username\&quot;: \&quot;user-3b1442e6-14f0-4b4a-9f37-d923420ba2b1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:19.925940Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;), &quot;resourceVersion&quot;: String(&quot;77379eb6-baf6-4e28-911f-f48a0fe51037&quot;), &quot;uid&quot;: String(&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263297684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263250135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.969006975Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.975131719Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.071765989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.079118797Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263075107Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263096657Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;BuCtWHNNg9Uo&quot;), &quot;username&quot;: String(&quot;user-3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;)})})})})
[2022-05-09T12:21:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:19.925940Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;77379eb6-baf6-4e28-911f-f48a0fe51037\&quot;,\n    \&quot;uid\&quot;: \&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263297684Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263250135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.969006975Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:19.975131719Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.071765989Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.079118797Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263075107Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:20.263096657Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;BuCtWHNNg9Uo\&quot;,\n        \&quot;username\&quot;: \&quot;user-3b1442e6-14f0-4b4a-9f37-d923420ba2b1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:19.925940Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;), &quot;resourceVersion&quot;: String(&quot;77379eb6-baf6-4e28-911f-f48a0fe51037&quot;), &quot;uid&quot;: String(&quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263297684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263250135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.969006975Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:19.975131719Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.071765989Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.079118797Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263075107Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:20.263096657Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;BuCtWHNNg9Uo&quot;), &quot;username&quot;: String(&quot;user-3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;)})})})})
[2022-05-09T12:21:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:21:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNzksImlhdCI6MTY1MjA5ODg3OSwiYXV0aF90aW1lIjoxNjUyMDk4ODc2LCJqdGkiOiJkYmFmOWFmMC0zZWZhLTQ4MWUtYTU0Ny1iN2U0MzIxY2ZhMGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4c1dPYms1VVE3WnQ5b0k1dEs5VmlBIiwic2Vzc2lvbl9zdGF0ZSI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D6fsrkjfCS3WVfSEl9wQ5WNlQmgdOBeT1TxPDGc-hC7GfJqhcCet32KcJy_ZeoH5t7MyiJb2iOYAuha2TBpJXyS0vkDBjGkN01G4fDFY4hUSSfKLkPHKOg2SFGQl5cxexLTMvAuf6POz0tdRmil_CceMVaj9AGSeGeN133r6tI3FQ-ZJv24Z2qjzZhgeQSbhY1HGF4V9_HY7GN3tQwA27EDHSRcj24q43hSJ7_bXcvQKorAQVn4ydzizNMIkaQFeeCsiWvlu8xDIX5rHtOkr0qjodbpXU2ipP1F-50NGEILejcdLY9BKAyubI-J_9CYptPxutiwX6vl7FIcQ52KpRw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNzksImlhdCI6MTY1MjA5ODg3OSwiYXV0aF90aW1lIjoxNjUyMDk4ODc2LCJqdGkiOiJkYmFmOWFmMC0zZWZhLTQ4MWUtYTU0Ny1iN2U0MzIxY2ZhMGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4c1dPYms1VVE3WnQ5b0k1dEs5VmlBIiwic2Vzc2lvbl9zdGF0ZSI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D6fsrkjfCS3WVfSEl9wQ5WNlQmgdOBeT1TxPDGc-hC7GfJqhcCet32KcJy_ZeoH5t7MyiJb2iOYAuha2TBpJXyS0vkDBjGkN01G4fDFY4hUSSfKLkPHKOg2SFGQl5cxexLTMvAuf6POz0tdRmil_CceMVaj9AGSeGeN133r6tI3FQ-ZJv24Z2qjzZhgeQSbhY1HGF4V9_HY7GN3tQwA27EDHSRcj24q43hSJ7_bXcvQKorAQVn4ydzizNMIkaQFeeCsiWvlu8xDIX5rHtOkr0qjodbpXU2ipP1F-50NGEILejcdLY9BKAyubI-J_9CYptPxutiwX6vl7FIcQ52KpRw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;f0aad176-6ab3-4bb6-b5cf-34330fd6e276&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b8bbc0
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b8bbc0
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178057d0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179ae6b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717806470, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxNzksImlhdCI6MTY1MjA5ODg3OSwiYXV0aF90aW1lIjoxNjUyMDk4ODc2LCJqdGkiOiJkYmFmOWFmMC0zZWZhLTQ4MWUtYTU0Ny1iN2U0MzIxY2ZhMGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4c1dPYms1VVE3WnQ5b0k1dEs5VmlBIiwic2Vzc2lvbl9zdGF0ZSI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMWNkNTM3LTgxZWItNDQyNi1iMjVjLTNkYmU4OTg4YjNiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D6fsrkjfCS3WVfSEl9wQ5WNlQmgdOBeT1TxPDGc-hC7GfJqhcCet32KcJy_ZeoH5t7MyiJb2iOYAuha2TBpJXyS0vkDBjGkN01G4fDFY4hUSSfKLkPHKOg2SFGQl5cxexLTMvAuf6POz0tdRmil_CceMVaj9AGSeGeN133r6tI3FQ-ZJv24Z2qjzZhgeQSbhY1HGF4V9_HY7GN3tQwA27EDHSRcj24q43hSJ7_bXcvQKorAQVn4ydzizNMIkaQFeeCsiWvlu8xDIX5rHtOkr0qjodbpXU2ipP1F-50NGEILejcdLY9BKAyubI-J_9CYptPxutiwX6vl7FIcQ52KpRw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:21Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;&#x27; @ QOS 0
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c016830, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717c1cd50 } }, data: MessageData { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717c1cd50 } } } }
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bbf4e0, 0x561717bfdfd0
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bfdfd0, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bfdfd0, 0x561717caee80
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717caee80, 0x561717a2cc60
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717caee80, 0x7f4b28002b90
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002b90, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002b90, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002b90, 0x7f4b28007210
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007210, 0x561717cc70e0
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007210, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007210, 0x7f4b28004660
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004660, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004660, 0x561717ccb480
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004660, 0x7f4b28004ff0
[2022-05-09T12:21:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004ff0
[2022-05-09T12:21:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, &quot;deviceuid&quot;: &quot;02e5d94e-cad5-4338-984b-60281d4a718b&quot;, &quot;partitionkey&quot;: &quot;3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:24.544741906+00:00&quot;, &quot;source&quot;: &quot;drogue://3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/device1&quot;, &quot;applicationuid&quot;: &quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;f5a82e26-bc69-4239-9b40-21d7fd4c5c90&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:21:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:21:25Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:21:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:21:25Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:21:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;bbdc3cc7-e26f-49a1-a11c-173c411e6a7b&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717bc4950
[2022-05-09T12:21:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717bc4950
[2022-05-09T12:21:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717cc74a0, password: 0x561717a2d9b0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179a0b90, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ccbd70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c00b9a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717ce9750 } }, data: MessageData { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717ce9750 } } } }
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fa0, 0x7f4b28004640
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004640, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004640, 0x7f4b28007210
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007210, 0x7f4b1c01c2b0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007210, 0x7f4b28004ff0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b1c01c5d0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b28004e30
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b28002b90
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002b90, 0x7f4b28004e30
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004e30
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;c8d8a105-21bb-4629-a42b-f24ea52ca166&quot;, &quot;senderuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;, &quot;application&quot;: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, &quot;deviceuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;, &quot;source&quot;: &quot;drogue://3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:25.837770801+00:00&quot;, &quot;partitionkey&quot;: &quot;3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:21:26Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bce760 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bce760 } } } }
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717a6b910 } }, data: MessageData { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717a6b910 } } } }
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004740, 0x7f4b28004b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004b10, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004b10, 0x7f4b28004ff0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b1c02f060
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b28007250
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b1c02f380
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b28004640
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004640, 0x7f4b28007250
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007250, 0x7f4b28004660
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004660, 0x7f4b1c016b50
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003390
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;5f3ec7f0-6dfa-46d8-b5f1-39d8e4f9af50&quot;, &quot;source&quot;: &quot;drogue://3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/device1&quot;, &quot;application&quot;: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;deviceuid&quot;: &quot;02e5d94e-cad5-4338-984b-60281d4a718b&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:26.145982966+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;, &quot;applicationuid&quot;: &quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;}, payload: &quot;&quot; }
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c00b6d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717a393b0 } }, data: MessageData { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717a393b0 } } } }
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b55470, 0x561717a47d40
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a47d40, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a47d40, 0x7f4b30001b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001b10, 0x561717b99040
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001b10, 0x7f4b30000e00
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b30001ce0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001ce0, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001ce0, 0x7f4b30005ad0
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005ad0, 0x561717b55780
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005ad0, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005ad0, 0x7f4b30003990
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30003990, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30003990, 0x561717be9b10
[2022-05-09T12:21:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30003990
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;, &quot;source&quot;: &quot;drogue://3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;e00a0908-abc6-40c7-b7ff-7007abdf4f56&quot;, &quot;application&quot;: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:26.261017239+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;0adc45b0-c0c3-4ac6-8890-1599971bab76&quot;, &quot;partitionkey&quot;: &quot;3b1442e6%2D14f0%2D4b4a%2D9f37%2Dd923420ba2b1/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;deviceuid&quot;: &quot;b2ce92c8-82e4-451b-99b2-40af6f9b4c39&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:21:26Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:21:26Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot; &quot;device1&quot;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot; &quot;gateway1&quot;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&#x27;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3b1442e6-14f0-4b4a-9f37-d923420ba2b1&quot;
[2022-05-09T12:21:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3b1442e6-14f0-4b4a-9f37-d923420ba2b1 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:21:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:21:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:21:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:21:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2OTMsImlhdCI6MTY1MjA5ODg5MywianRpIjoiMzRmMTEyOWYtYmM0NC00MzdhLTlmODYtNWVkOWVjY2U0NGVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVWMFA0a0xkaVdFRnpFQVVPbGtNd3ciLCJzZXNzaW9uX3N0YXRlIjoiMjgzYzJmOWUtMmE5ZC00NjBlLTk1NjQtNmEwNjU1MDFlMWU4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCJ9.ZDn9wcQqjWylkQ0nQ244o8xGy4xatW7t94pP-vytpSE
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA2OTMsImlhdCI6MTY1MjA5ODg5MywianRpIjoiMzRmMTEyOWYtYmM0NC00MzdhLTlmODYtNWVkOWVjY2U0NGVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVWMFA0a0xkaVdFRnpFQVVPbGtNd3ciLCJzZXNzaW9uX3N0YXRlIjoiMjgzYzJmOWUtMmE5ZC00NjBlLTk1NjQtNmEwNjU1MDFlMWU4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCJ9.ZDn9wcQqjWylkQ0nQ244o8xGy4xatW7t94pP-vytpSE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::resources::apps] Create application: 54b89602-be22-4967-b1b7-a2ae1a0c7222
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 54b89602-be22-4967-b1b7-a2ae1a0c7222 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;
[2022-05-09T12:21:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:33.976769Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;cc99b633-ecde-4363-acf8-aa5fb7655f9f\&quot;,\n    \&quot;uid\&quot;: \&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:33.987919673Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:33.976769Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;), &quot;resourceVersion&quot;: String(&quot;cc99b633-ecde-4363-acf8-aa5fb7655f9f&quot;), &quot;uid&quot;: String(&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:33.987919673Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:21:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:33.976769Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9b51aed1-f39f-48e5-915b-3382d5dd2a2f\&quot;,\n    \&quot;uid\&quot;: \&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293309406Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293178981Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.031816085Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.039349Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.111457802Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.120709441Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293010706Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293121183Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;g5Wt7xWCyqMM\&quot;,\n        \&quot;username\&quot;: \&quot;user-54b89602-be22-4967-b1b7-a2ae1a0c7222\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:33.976769Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;), &quot;resourceVersion&quot;: String(&quot;9b51aed1-f39f-48e5-915b-3382d5dd2a2f&quot;), &quot;uid&quot;: String(&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293309406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293178981Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.031816085Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.039349Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.111457802Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.120709441Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293010706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293121183Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;g5Wt7xWCyqMM&quot;), &quot;username&quot;: String(&quot;user-54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;)})})})})
[2022-05-09T12:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:33.976769Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9b51aed1-f39f-48e5-915b-3382d5dd2a2f\&quot;,\n    \&quot;uid\&quot;: \&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293309406Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293178981Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.031816085Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.039349Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.111457802Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.120709441Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293010706Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:34.293121183Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;g5Wt7xWCyqMM\&quot;,\n        \&quot;username\&quot;: \&quot;user-54b89602-be22-4967-b1b7-a2ae1a0c7222\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:33.976769Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;), &quot;resourceVersion&quot;: String(&quot;9b51aed1-f39f-48e5-915b-3382d5dd2a2f&quot;), &quot;uid&quot;: String(&quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293309406Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293178981Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.031816085Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.039349Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.111457802Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.120709441Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293010706Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:34.293121183Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;g5Wt7xWCyqMM&quot;), &quot;username&quot;: String(&quot;user-54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;)})})})})
[2022-05-09T12:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxOTMsImlhdCI6MTY1MjA5ODg5MywiYXV0aF90aW1lIjoxNjUyMDk4ODkwLCJqdGkiOiJiZGI0MmU0Mi02MWY5LTRiNGMtYjJjNC03Yjk4NDE0MWUyNTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1VjBQNGtMZGlXRUZ6RUFVT2xrTXd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EcYa55XpG7hozQ47D50heZyWzSsl7GotBCsPRJFu3ihnnGgS-vitckM9MxHpizzl8INr71i7G6atYX8X7c-T4a_nbZFpttgb5hTrhfyZaqPnvEeZSFhaZqpcUZhpVEBctvh3LWQZ8JGoyFCfsFIDrEyB7mD-Sr0HDCWHOC9MDBMNfkjkyTrqtGjwchlpC8w4_dSvD0MWeA4qsEv6BsBTwiPzox-9gctbyfzwppYR3NoMo29ZmF4kcKAU7SzpZJSD9AyeEyo68dnapQ3TxPJ89zFznlIN5SdLk3eVyfUbYB2cB__AJsgMMR6CzYbuT2gmla4BB5zzfNY-YG-L5IgtsA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxOTMsImlhdCI6MTY1MjA5ODg5MywiYXV0aF90aW1lIjoxNjUyMDk4ODkwLCJqdGkiOiJiZGI0MmU0Mi02MWY5LTRiNGMtYjJjNC03Yjk4NDE0MWUyNTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1VjBQNGtMZGlXRUZ6RUFVT2xrTXd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EcYa55XpG7hozQ47D50heZyWzSsl7GotBCsPRJFu3ihnnGgS-vitckM9MxHpizzl8INr71i7G6atYX8X7c-T4a_nbZFpttgb5hTrhfyZaqPnvEeZSFhaZqpcUZhpVEBctvh3LWQZ8JGoyFCfsFIDrEyB7mD-Sr0HDCWHOC9MDBMNfkjkyTrqtGjwchlpC8w4_dSvD0MWeA4qsEv6BsBTwiPzox-9gctbyfzwppYR3NoMo29ZmF4kcKAU7SzpZJSD9AyeEyo68dnapQ3TxPJ89zFznlIN5SdLk3eVyfUbYB2cB__AJsgMMR6CzYbuT2gmla4BB5zzfNY-YG-L5IgtsA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f1de017e-9c2c-45bf-9efd-e1127c6cdd6e&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717cae820
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717cae820
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178e5f00, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b96410, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178e5770, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkxOTMsImlhdCI6MTY1MjA5ODg5MywiYXV0aF90aW1lIjoxNjUyMDk4ODkwLCJqdGkiOiJiZGI0MmU0Mi02MWY5LTRiNGMtYjJjNC03Yjk4NDE0MWUyNTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1VjBQNGtMZGlXRUZ6RUFVT2xrTXd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4M2MyZjllLTJhOWQtNDYwZS05NTY0LTZhMDY1NTAxZTFlOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EcYa55XpG7hozQ47D50heZyWzSsl7GotBCsPRJFu3ihnnGgS-vitckM9MxHpizzl8INr71i7G6atYX8X7c-T4a_nbZFpttgb5hTrhfyZaqPnvEeZSFhaZqpcUZhpVEBctvh3LWQZ8JGoyFCfsFIDrEyB7mD-Sr0HDCWHOC9MDBMNfkjkyTrqtGjwchlpC8w4_dSvD0MWeA4qsEv6BsBTwiPzox-9gctbyfzwppYR3NoMo29ZmF4kcKAU7SzpZJSD9AyeEyo68dnapQ3TxPJ89zFznlIN5SdLk3eVyfUbYB2cB__AJsgMMR6CzYbuT2gmla4BB5zzfNY-YG-L5IgtsA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:35Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;&#x27; @ QOS 0
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:38Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:38Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b18019840, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717b147d0 } }, data: MessageData { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717b147d0 } } } }
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717cbaa80, 0x561717cb9770
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717cb9770, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717cb9770, 0x7f4b30006170
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30006170, 0x561717a00510
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30006170, 0x7f4b30005910
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005910, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005910, 0x561717cbac90
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005910, 0x7f4b300073b0
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x561717c31720
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x7f4b30000cb0
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000cb0, 0x7f4b300073b0
[2022-05-09T12:21:38Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b300073b0
[2022-05-09T12:21:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/device1&quot;, &quot;application&quot;: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, &quot;senderuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;fee38e6d-99db-4276-9ab4-2a942ec0a337&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;, &quot;source&quot;: &quot;drogue://54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:38.551196690+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;a127aebd-85fa-4a21-9323-70e4390ef0cc&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:21:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:21:39Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:21:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:21:39Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:21:39Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0da42b38-c2f5-408a-b89f-2d4fd26d9dce&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:39Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:39Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717cbf160
[2022-05-09T12:21:39Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717cbf160
[2022-05-09T12:21:39Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717898130, password: 0x561717cbef90, connectTimeout: 30, retryInterval: 0, ssl: 0x56171784aaa0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717898cd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1800a0f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179c91b0 } }, data: MessageData { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179c91b0 } } } }
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004620, 0x56171788a910
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171788a910, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171788a910, 0x7f4b280079d0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280079d0, 0x561717c78110
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280079d0, 0x7f4b28004740
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004740, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004740, 0x7f4b28004f80
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004f80, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004f80, 0x7f4b28002730
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002730, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002730, 0x7f4b28001c70
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c70, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c70, 0x7f4b2800a2d0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aef330 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aef330 } } } }
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c70, 0x7f4b28000bc0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28001c70
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;, &quot;id&quot;: &quot;ea25afe0-257a-4e13-a4ff-4b7c47a92a20&quot;, &quot;application&quot;: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, &quot;source&quot;: &quot;drogue://54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:39.669578292+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717ce8ea0 } }, data: MessageData { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717ce8ea0 } } } }
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002790, 0x7f4b28001c90
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c90, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c90, 0x7f4b28002730
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002730, 0x7f4b1802a780
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002730, 0x7f4b28004740
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004740, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004740, 0x7f4b28002770
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b280023e0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b28004b10
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004b10, 0x7f4b1802b660
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004b10, 0x7f4b1800a7f0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004d30
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;id&quot;: &quot;13270366-05c4-43b1-8cdc-ed411d35f415&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;a127aebd-85fa-4a21-9323-70e4390ef0cc&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;, &quot;source&quot;: &quot;drogue://54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/device1&quot;, &quot;partitionkey&quot;: &quot;54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:40.162356+00:00&quot;, &quot;applicationuid&quot;: &quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;, &quot;application&quot;: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;}, payload: &quot;&quot; }
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b18009ee0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c34d40 } }, data: MessageData { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c34d40 } } } }
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a350, 0x7f4b28004640
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004640, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004640, 0x7f4b28002790
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002790, 0x7f4b18015700
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002790, 0x7f4b280023e0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b280040a0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280040a0, 0x7f4b280023e0
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023e0, 0x7f4b28002770
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b28004d30
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002770, 0x7f4b28009a40
[2022-05-09T12:21:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28002770
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, &quot;partitionkey&quot;: &quot;54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;id&quot;: &quot;a3c51e8e-73eb-41ee-9fa8-6e991de51db2&quot;, &quot;source&quot;: &quot;drogue://54b89602%2Dbe22%2D4967%2Db1b7%2Da2ae1a0c7222/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;68dbe578-c290-4d60-a0a7-b3d51e0a9e4a&quot;, &quot;time&quot;: &quot;2022-05-09T12:21:40.256424339+00:00&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;, &quot;deviceuid&quot;: &quot;2af32ae5-fedb-4da4-a280-5e5ecffb167d&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:21:40Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:21:40Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot; &quot;device1&quot;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot; &quot;gateway1&quot;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;54b89602-be22-4967-b1b7-a2ae1a0c7222&#x27;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;54b89602-be22-4967-b1b7-a2ae1a0c7222&quot;
[2022-05-09T12:21:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 54b89602-be22-4967-b1b7-a2ae1a0c7222 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:21:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:21:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:21:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:21:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MDYsImlhdCI6MTY1MjA5ODkwNiwianRpIjoiNTViODdiNTEtNDhlYi00N2Y1LWI5ZjItZTY1ODY3Y2FkZTRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlN5c3M1ZWFWN2RnOHhlZThOdUlBaHciLCJzZXNzaW9uX3N0YXRlIjoiZjJlNTEwZWMtMjM0Zi00ZTM2LWJiYTctZGVkNWEyMjYyM2M5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSJ9.Mj2M56udW6G2lrjWhBCXOvBcj1wsUGRLk7CUpLfpymM
[2022-05-09T12:21:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:21:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MDYsImlhdCI6MTY1MjA5ODkwNiwianRpIjoiNTViODdiNTEtNDhlYi00N2Y1LWI5ZjItZTY1ODY3Y2FkZTRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlN5c3M1ZWFWN2RnOHhlZThOdUlBaHciLCJzZXNzaW9uX3N0YXRlIjoiZjJlNTEwZWMtMjM0Zi00ZTM2LWJiYTctZGVkNWEyMjYyM2M5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSJ9.Mj2M56udW6G2lrjWhBCXOvBcj1wsUGRLk7CUpLfpymM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:21:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:47Z INFO  drogue_cloud_tests::resources::apps] Create application: e4168757-6312-468b-b63f-7e113676b6e0
[2022-05-09T12:21:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;
[2022-05-09T12:21:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e4168757-6312-468b-b63f-7e113676b6e0 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;
[2022-05-09T12:21:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:47.675409Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;348631c1-c40e-489b-942a-968a11d9ed7c\&quot;,\n    \&quot;uid\&quot;: \&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.689397209Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:47.675409Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;), &quot;resourceVersion&quot;: String(&quot;348631c1-c40e-489b-942a-968a11d9ed7c&quot;), &quot;uid&quot;: String(&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.689397209Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:21:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:47.675409Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;00bfce58-43e7-4dec-8bbe-046494224196\&quot;,\n    \&quot;uid\&quot;: \&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984508979Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984464806Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.726670901Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.731317464Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.796029757Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.802309854Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984351694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984370719Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PbiSyBV65NZy\&quot;,\n        \&quot;username\&quot;: \&quot;user-e4168757-6312-468b-b63f-7e113676b6e0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:47.675409Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;), &quot;resourceVersion&quot;: String(&quot;00bfce58-43e7-4dec-8bbe-046494224196&quot;), &quot;uid&quot;: String(&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984508979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984464806Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.726670901Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.731317464Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.796029757Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.802309854Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984351694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984370719Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PbiSyBV65NZy&quot;), &quot;username&quot;: String(&quot;user-e4168757-6312-468b-b63f-7e113676b6e0&quot;)})})})})
[2022-05-09T12:21:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:21:47.675409Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;00bfce58-43e7-4dec-8bbe-046494224196\&quot;,\n    \&quot;uid\&quot;: \&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984508979Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984464806Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.726670901Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.731317464Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.796029757Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.802309854Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984351694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:21:47.984370719Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PbiSyBV65NZy\&quot;,\n        \&quot;username\&quot;: \&quot;user-e4168757-6312-468b-b63f-7e113676b6e0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:21:47.675409Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;), &quot;resourceVersion&quot;: String(&quot;00bfce58-43e7-4dec-8bbe-046494224196&quot;), &quot;uid&quot;: String(&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984508979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984464806Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.726670901Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.731317464Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.796029757Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.802309854Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984351694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:21:47.984370719Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PbiSyBV65NZy&quot;), &quot;username&quot;: String(&quot;user-e4168757-6312-468b-b63f-7e113676b6e0&quot;)})})})})
[2022-05-09T12:21:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMDYsImlhdCI6MTY1MjA5ODkwNiwiYXV0aF90aW1lIjoxNjUyMDk4OTA0LCJqdGkiOiIzZjBkZTEzZS00ZGUyLTQxMGQtOWUzNy03ZTFiMGI1ZTVkMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTeXNzNWVhVjdkZzh4ZWU4TnVJQWh3Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlDzRTVmXC7L95U4fAYwT2AGzNdB3U8tPMhaTsokTz4dW7UXsh-bEclwy5S4b0H3CJR7NmWjl-0THAM6P5iaIEBlc_otRgpPqJjZUQrUCmZ0hd47YQKw62fX19dGd51X6x1EdqtRJVKc61Z3QDJsUmtGTsCil5VJL3Uc4lEUKyFM4UPge7rP-gUVIEZ3DLEKF_th9_OZ7wbqKeHHIU2OyjNhM5aUSdqwi6-gOHRpiPOldzpOxReZncyYZrv8QRzOF6D1nhwtZNilKj-tgWqNd-iX5laZ5Pm6K9mVWdim_Jwg1cajZkJL7JkuNM03Il4gF8_X_zVdM3YdR49K--C7Fw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMDYsImlhdCI6MTY1MjA5ODkwNiwiYXV0aF90aW1lIjoxNjUyMDk4OTA0LCJqdGkiOiIzZjBkZTEzZS00ZGUyLTQxMGQtOWUzNy03ZTFiMGI1ZTVkMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTeXNzNWVhVjdkZzh4ZWU4TnVJQWh3Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlDzRTVmXC7L95U4fAYwT2AGzNdB3U8tPMhaTsokTz4dW7UXsh-bEclwy5S4b0H3CJR7NmWjl-0THAM6P5iaIEBlc_otRgpPqJjZUQrUCmZ0hd47YQKw62fX19dGd51X6x1EdqtRJVKc61Z3QDJsUmtGTsCil5VJL3Uc4lEUKyFM4UPge7rP-gUVIEZ3DLEKF_th9_OZ7wbqKeHHIU2OyjNhM5aUSdqwi6-gOHRpiPOldzpOxReZncyYZrv8QRzOF6D1nhwtZNilKj-tgWqNd-iX5laZ5Pm6K9mVWdim_Jwg1cajZkJL7JkuNM03Il4gF8_X_zVdM3YdR49K--C7Fw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;30980d87-ac39-45b5-a60b-699d523199ac&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a0b490
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a0b490
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178c4440, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cb9d40, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178c37d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMDYsImlhdCI6MTY1MjA5ODkwNiwiYXV0aF90aW1lIjoxNjUyMDk4OTA0LCJqdGkiOiIzZjBkZTEzZS00ZGUyLTQxMGQtOWUzNy03ZTFiMGI1ZTVkMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTeXNzNWVhVjdkZzh4ZWU4TnVJQWh3Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZTUxMGVjLTIzNGYtNGUzNi1iYmE3LWRlZDVhMjI2MjNjOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PlDzRTVmXC7L95U4fAYwT2AGzNdB3U8tPMhaTsokTz4dW7UXsh-bEclwy5S4b0H3CJR7NmWjl-0THAM6P5iaIEBlc_otRgpPqJjZUQrUCmZ0hd47YQKw62fX19dGd51X6x1EdqtRJVKc61Z3QDJsUmtGTsCil5VJL3Uc4lEUKyFM4UPge7rP-gUVIEZ3DLEKF_th9_OZ7wbqKeHHIU2OyjNhM5aUSdqwi6-gOHRpiPOldzpOxReZncyYZrv8QRzOF6D1nhwtZNilKj-tgWqNd-iX5laZ5Pm6K9mVWdim_Jwg1cajZkJL7JkuNM03Il4gF8_X_zVdM3YdR49K--C7Fw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:48Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;&#x27; @ QOS 0
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:21:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:21:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:21:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:21:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:21:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b180317d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 100, 56, 100, 53, 49, 49, 55, 45, 97, 102, 102, 50, 45, 52, 49, 53, 49, 45, 56, 52, 98, 57, 45, 49, 55, 53, 54, 53, 55, 54, 53, 101, 97, 50, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 53, 50, 46, 53, 53, 50, 56, 53, 49, 49, 48, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 45, 54, 51, 49, 50, 45, 52, 54, 56, 98, 45, 98, 54, 51, 102, 45, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 101, 101, 98, 57, 54, 99, 99, 45, 97, 101, 99, 98, 45, 52, 97, 48, 97, 45, 98, 48, 98, 52, 45, 51, 97, 97, 48, 57, 52, 50, 53, 100, 99, 53, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 53, 55, 53, 49, 97, 49, 101, 45, 51, 57, 101, 57, 45, 52, 101, 51, 55, 45, 98, 102, 98, 102, 45, 99, 56, 101, 55, 99, 99, 57, 97, 52, 57, 54, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:21:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;cd8d5117-aff2-4151-84b9-17565765ea23\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:52.552851109Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\&quot;applicationuid\&quot;:\&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;25751a1e-39e9-4e37-bfbf-c8e7cc9a496b\&quot;}&quot; }
[2022-05-09T12:21:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:21:53Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:21:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:21:53Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:21:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;3e2a770f-6b3c-461c-ae74-44cc0f4fe69b&quot;, persistence: None, user_data: None }
[2022-05-09T12:21:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:21:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ad6c30
[2022-05-09T12:21:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ad6c30
[2022-05-09T12:21:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717ad5a40, password: 0x5617178c5fe0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a06420, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d35720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e4168757-6312-468b-b63f-7e113676b6e0&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:21:54Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717c2e910 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717c2e910 } } } }
[2022-05-09T12:21:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18010ca0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 102, 101, 101, 56, 101, 48, 56, 45, 57, 99, 97, 53, 45, 52, 52, 97, 102, 45, 98, 99, 97, 53, 45, 50, 102, 100, 100, 100, 49, 101, 101, 54, 48, 56, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 53, 51, 46, 54, 55, 57, 49, 49, 50, 56, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 45, 54, 51, 49, 50, 45, 52, 54, 56, 98, 45, 98, 54, 51, 102, 45, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 101, 101, 98, 57, 54, 99, 99, 45, 97, 101, 99, 98, 45, 52, 97, 48, 97, 45, 98, 48, 98, 52, 45, 51, 97, 97, 48, 57, 52, 50, 53, 100, 99, 53, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:21:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;dfee8e08-9ca5-44af-bca5-2fddd1ee6083\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:53.679112879Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\&quot;senderuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;partitionkey\&quot;:\&quot;e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:21:54Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:21:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b18011320, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 49, 49, 102, 98, 51, 101, 97, 45, 48, 51, 57, 97, 45, 52, 102, 52, 53, 45, 56, 49, 100, 57, 45, 101, 52, 57, 98, 48, 48, 101, 57, 99, 54, 50, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 53, 52, 46, 50, 49, 55, 57, 55, 56, 56, 50, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 45, 54, 51, 49, 50, 45, 52, 54, 56, 98, 45, 98, 54, 51, 102, 45, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 101, 101, 98, 57, 54, 99, 99, 45, 97, 101, 99, 98, 45, 52, 97, 48, 97, 45, 98, 48, 98, 52, 45, 51, 97, 97, 48, 57, 52, 50, 53, 100, 99, 53, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:21:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;511fb3ea-039a-4f45-81d9-e49b00e9c623\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:54.217978828Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\&quot;senderuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;deviceuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;}&quot; }
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b18010ca0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 49, 101, 100, 52, 51, 51, 97, 45, 56, 50, 98, 99, 45, 52, 98, 100, 55, 45, 57, 51, 101, 48, 45, 100, 102, 51, 99, 101, 48, 49, 98, 53, 51, 51, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 49, 58, 53, 52, 46, 50, 49, 55, 56, 50, 52, 56, 56, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 54, 99, 101, 53, 56, 54, 53, 45, 102, 55, 51, 48, 45, 52, 50, 100, 53, 45, 98, 102, 100, 53, 45, 101, 56, 55, 50, 55, 102, 51, 100, 99, 54, 100, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 37, 50, 68, 54, 51, 49, 50, 37, 50, 68, 52, 54, 56, 98, 37, 50, 68, 98, 54, 51, 102, 37, 50, 68, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 53, 55, 53, 49, 97, 49, 101, 45, 51, 57, 101, 57, 45, 52, 101, 51, 55, 45, 98, 102, 98, 102, 45, 99, 56, 101, 55, 99, 99, 57, 97, 52, 57, 54, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 101, 101, 98, 57, 54, 99, 99, 45, 97, 101, 99, 98, 45, 52, 97, 48, 97, 45, 98, 48, 98, 52, 45, 51, 97, 97, 48, 57, 52, 50, 53, 100, 99, 53, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 52, 49, 54, 56, 55, 53, 55, 45, 54, 51, 49, 50, 45, 52, 54, 56, 98, 45, 98, 54, 51, 102, 45, 55, 101, 49, 49, 51, 54, 55, 54, 98, 54, 101, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e4168757-6312-468b-b63f-7e113676b6e0&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;91ed433a-82bc-4bd7-93e0-df3ce01b533c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:21:54.217824889Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;96ce5865-f730-42d5-bfd5-e8727f3dc6df\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;e4168757%2D6312%2D468b%2Db63f%2D7e113676b6e0/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;25751a1e-39e9-4e37-bfbf-c8e7cc9a496b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;0eeb96cc-aecb-4a0a-b0b4-3aa09425dc5c\&quot;,\&quot;application\&quot;:\&quot;e4168757-6312-468b-b63f-7e113676b6e0\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:21:55Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:21:55Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-09T12:21:55Z DEBUG paho_mqtt::token] Token failure! 0x7f4b18012990, 0x7fffdf819270
[2022-05-09T12:21:55Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-09T12:21:55Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-09T12:21:55Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot; &quot;device1&quot;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot; &quot;gateway1&quot;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e4168757-6312-468b-b63f-7e113676b6e0&#x27;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e4168757-6312-468b-b63f-7e113676b6e0&quot;
[2022-05-09T12:21:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e4168757-6312-468b-b63f-7e113676b6e0 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:21:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:21:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:21:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:21:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:21:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:21:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:21:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:21:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MjEsImlhdCI6MTY1MjA5ODkyMSwianRpIjoiMDJhYWM5OWQtMzljMC00YjMxLTgxNDAtZDRmOTkxNGM1MTgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlkwbjNINDJUczBwMHZEZGt5NVJ3NEEiLCJzZXNzaW9uX3N0YXRlIjoiMjFhYjE5MmItMWI2ZC00OTIxLTk0MGItMDc1N2QxOTBhZDI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiJ9.ERLEyWmPhHk7I3D0RcYtHv4WHNSPuU5CigZdJn4I8ok
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MjEsImlhdCI6MTY1MjA5ODkyMSwianRpIjoiMDJhYWM5OWQtMzljMC00YjMxLTgxNDAtZDRmOTkxNGM1MTgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlkwbjNINDJUczBwMHZEZGt5NVJ3NEEiLCJzZXNzaW9uX3N0YXRlIjoiMjFhYjE5MmItMWI2ZC00OTIxLTk0MGItMDc1N2QxOTBhZDI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiJ9.ERLEyWmPhHk7I3D0RcYtHv4WHNSPuU5CigZdJn4I8ok&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::resources::apps] Create application: 1d0c08e1-6a77-438c-96bc-e9513b72e96c
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1d0c08e1-6a77-438c-96bc-e9513b72e96c created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;
[2022-05-09T12:22:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:02.796531Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e3c502e3-ea2c-4fd0-b554-2ad2d6fd8bf9\&quot;,\n    \&quot;uid\&quot;: \&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815444723Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815242645Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815207238Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815208080Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815208541Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815208992Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815209633Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.815219231Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:02.796531Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;), &quot;resourceVersion&quot;: String(&quot;e3c502e3-ea2c-4fd0-b554-2ad2d6fd8bf9&quot;), &quot;uid&quot;: String(&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815444723Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815242645Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815207238Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815208080Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815208541Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815208992Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815209633Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.815219231Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:22:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:02.796531Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a35b78d-5c83-4054-8640-89eed2ceb387\&quot;,\n    \&quot;uid\&quot;: \&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158830734Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158779208Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.844833501Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.878190890Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.952801965Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.959936503Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158721029Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158748641Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;woIT3U9mAxu1\&quot;,\n        \&quot;username\&quot;: \&quot;user-1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:02.796531Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;), &quot;resourceVersion&quot;: String(&quot;3a35b78d-5c83-4054-8640-89eed2ceb387&quot;), &quot;uid&quot;: String(&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158830734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158779208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.844833501Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.878190890Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.952801965Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.959936503Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158721029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158748641Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;woIT3U9mAxu1&quot;), &quot;username&quot;: String(&quot;user-1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;)})})})})
[2022-05-09T12:22:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:02.796531Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a35b78d-5c83-4054-8640-89eed2ceb387\&quot;,\n    \&quot;uid\&quot;: \&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158830734Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158779208Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.844833501Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.878190890Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.952801965Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:02.959936503Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158721029Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:03.158748641Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;woIT3U9mAxu1\&quot;,\n        \&quot;username\&quot;: \&quot;user-1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:02.796531Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;), &quot;resourceVersion&quot;: String(&quot;3a35b78d-5c83-4054-8640-89eed2ceb387&quot;), &quot;uid&quot;: String(&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158830734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158779208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.844833501Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.878190890Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.952801965Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:02.959936503Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158721029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:03.158748641Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;woIT3U9mAxu1&quot;), &quot;username&quot;: String(&quot;user-1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;)})})})})
[2022-05-09T12:22:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMjIsImlhdCI6MTY1MjA5ODkyMiwiYXV0aF90aW1lIjoxNjUyMDk4OTE5LCJqdGkiOiJhZGU3YTFjNC00M2VmLTQ5ZTYtOWQ5Zi1hNzg1Njc3MTViNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMG4zSDQyVHMwcDB2RGRreTVSdzRBIiwic2Vzc2lvbl9zdGF0ZSI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GTpGf7nPRbzWNgJxFY3aPYxUyK6lYDHO2UdkxPN_41E6j3u6dEi93N6bhOqINWLgk_8Ez4rTKrtbOfrZQfjaweCh5UeiyjENcIt2jaCXV05qlHQHSZ9EorxDXUIZT0rfsIpM7dyGSFOs93cIPJLCpK2eKCmm2HftK43zDsT3yanO4T6qqHWRAcVxG1UsAjbkmzhk0bFe8smirD9w_2OFO2RIS6r2Muuy97aiqftkcNc_9pyVcz7OGNoF3hPRKVBmAdi0CpBP-rnQVcun46S7cqSk6TuN6JFraoSPNM0ewk7cN8oKw4EZ1cphsdjv1nQ3pp5gSEtZL9sL_ZrzoGAO8Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMjIsImlhdCI6MTY1MjA5ODkyMiwiYXV0aF90aW1lIjoxNjUyMDk4OTE5LCJqdGkiOiJhZGU3YTFjNC00M2VmLTQ5ZTYtOWQ5Zi1hNzg1Njc3MTViNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMG4zSDQyVHMwcDB2RGRreTVSdzRBIiwic2Vzc2lvbl9zdGF0ZSI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GTpGf7nPRbzWNgJxFY3aPYxUyK6lYDHO2UdkxPN_41E6j3u6dEi93N6bhOqINWLgk_8Ez4rTKrtbOfrZQfjaweCh5UeiyjENcIt2jaCXV05qlHQHSZ9EorxDXUIZT0rfsIpM7dyGSFOs93cIPJLCpK2eKCmm2HftK43zDsT3yanO4T6qqHWRAcVxG1UsAjbkmzhk0bFe8smirD9w_2OFO2RIS6r2Muuy97aiqftkcNc_9pyVcz7OGNoF3hPRKVBmAdi0CpBP-rnQVcun46S7cqSk6TuN6JFraoSPNM0ewk7cN8oKw4EZ1cphsdjv1nQ3pp5gSEtZL9sL_ZrzoGAO8Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;3ba02797-e421-41e4-bd4c-e4048a0dff19&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717aa8880
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717aa8880
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717d060b0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ad4d50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d06a40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMjIsImlhdCI6MTY1MjA5ODkyMiwiYXV0aF90aW1lIjoxNjUyMDk4OTE5LCJqdGkiOiJhZGU3YTFjNC00M2VmLTQ5ZTYtOWQ5Zi1hNzg1Njc3MTViNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMG4zSDQyVHMwcDB2RGRreTVSdzRBIiwic2Vzc2lvbl9zdGF0ZSI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxYWIxOTJiLTFiNmQtNDkyMS05NDBiLTA3NTdkMTkwYWQyNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GTpGf7nPRbzWNgJxFY3aPYxUyK6lYDHO2UdkxPN_41E6j3u6dEi93N6bhOqINWLgk_8Ez4rTKrtbOfrZQfjaweCh5UeiyjENcIt2jaCXV05qlHQHSZ9EorxDXUIZT0rfsIpM7dyGSFOs93cIPJLCpK2eKCmm2HftK43zDsT3yanO4T6qqHWRAcVxG1UsAjbkmzhk0bFe8smirD9w_2OFO2RIS6r2Muuy97aiqftkcNc_9pyVcz7OGNoF3hPRKVBmAdi0CpBP-rnQVcun46S7cqSk6TuN6JFraoSPNM0ewk7cN8oKw4EZ1cphsdjv1nQ3pp5gSEtZL9sL_ZrzoGAO8Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:03Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;&#x27; @ QOS 0
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c015dc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 100, 51, 50, 97, 98, 56, 48, 45, 100, 53, 102, 50, 45, 52, 51, 50, 52, 45, 97, 102, 101, 54, 45, 52, 56, 101, 97, 56, 48, 55, 53, 48, 98, 102, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 48, 55, 46, 53, 55, 57, 49, 51, 53, 51, 56, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 45, 54, 97, 55, 55, 45, 52, 51, 56, 99, 45, 57, 54, 98, 99, 45, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 53, 56, 52, 57, 55, 55, 45, 99, 100, 99, 50, 45, 52, 102, 53, 52, 45, 56, 49, 49, 100, 45, 49, 57, 52, 97, 53, 49, 100, 48, 97, 50, 101, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 102, 49, 102, 51, 98, 53, 45, 49, 97, 98, 49, 45, 52, 101, 54, 102, 45, 56, 97, 102, 51, 45, 48, 55, 50, 55, 49, 99, 54, 56, 102, 99, 51, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:22:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9d32ab80-d5f2-4324-afe6-48ea80750bf0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:07.579135382Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\&quot;deviceuid\&quot;:\&quot;f2584977-cdc2-4f54-811d-194a51d0a2ec\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;,\&quot;senderuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;}&quot; }
[2022-05-09T12:22:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:22:08Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:22:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:22:08Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:22:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d340c161-d74f-4394-b9dd-81b9235d8334&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ae2db0
[2022-05-09T12:22:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ae2db0
[2022-05-09T12:22:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717d21250, password: 0x5617179e1d40, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cced00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d21290, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:09Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717881fe0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717881fe0 } } } }
[2022-05-09T12:22:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c02b0f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 100, 56, 101, 102, 56, 55, 102, 45, 54, 56, 48, 57, 45, 52, 49, 55, 54, 45, 98, 102, 99, 53, 45, 53, 100, 99, 54, 54, 52, 56, 101, 97, 55, 98, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 48, 56, 46, 54, 57, 53, 51, 54, 52, 48, 56, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 45, 54, 97, 55, 55, 45, 52, 51, 56, 99, 45, 57, 54, 98, 99, 45, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 102, 49, 102, 51, 98, 53, 45, 49, 97, 98, 49, 45, 52, 101, 54, 102, 45, 56, 97, 102, 51, 45, 48, 55, 50, 55, 49, 99, 54, 56, 102, 99, 51, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:22:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2d8ef87f-6809-4176-bfc5-5dc6648ea7b8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:08.695364089Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;,\&quot;senderuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;}&quot; }
[2022-05-09T12:22:09Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c02b380, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 55, 101, 56, 102, 101, 57, 101, 45, 99, 52, 101, 53, 45, 52, 52, 54, 99, 45, 98, 56, 101, 100, 45, 98, 50, 56, 50, 50, 49, 55, 99, 51, 97, 51, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 48, 57, 46, 50, 50, 52, 50, 53, 57, 49, 53, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 53, 56, 52, 57, 55, 55, 45, 99, 100, 99, 50, 45, 52, 102, 53, 52, 45, 56, 49, 49, 100, 45, 49, 57, 52, 97, 53, 49, 100, 48, 97, 50, 101, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 45, 54, 97, 55, 55, 45, 52, 51, 56, 99, 45, 57, 54, 98, 99, 45, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 102, 49, 102, 51, 98, 53, 45, 49, 97, 98, 49, 45, 52, 101, 54, 102, 45, 56, 97, 102, 51, 45, 48, 55, 50, 55, 49, 99, 54, 56, 102, 99, 51, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;97e8fe9e-c4e5-446c-b8ed-b282217c3a30\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:09.224259152Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;,\&quot;deviceuid\&quot;:\&quot;f2584977-cdc2-4f54-811d-194a51d0a2ec\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\&quot;partitionkey\&quot;:\&quot;1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c02b8c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 97, 55, 98, 52, 101, 48, 100, 45, 56, 52, 52, 56, 45, 52, 48, 52, 56, 45, 98, 100, 54, 52, 45, 48, 99, 54, 102, 48, 49, 48, 54, 56, 52, 100, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 49, 48, 46, 49, 50, 49, 56, 51, 48, 48, 50, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 55, 56, 49, 55, 53, 99, 56, 45, 53, 56, 101, 101, 45, 52, 51, 101, 100, 45, 57, 49, 100, 102, 45, 102, 57, 51, 48, 57, 56, 49, 50, 53, 54, 49, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 102, 49, 102, 51, 98, 53, 45, 49, 97, 98, 49, 45, 52, 101, 54, 102, 45, 56, 97, 102, 51, 45, 48, 55, 50, 55, 49, 99, 54, 56, 102, 99, 51, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 37, 50, 68, 54, 97, 55, 55, 37, 50, 68, 52, 51, 56, 99, 37, 50, 68, 57, 54, 98, 99, 37, 50, 68, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 49, 100, 48, 99, 48, 56, 101, 49, 45, 54, 97, 55, 55, 45, 52, 51, 56, 99, 45, 57, 54, 98, 99, 45, 101, 57, 53, 49, 51, 98, 55, 50, 101, 57, 54, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1a7b4e0d-8448-4048-bd64-0c6f010684de\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:10.121830028Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;,\&quot;senderuid\&quot;:\&quot;378175c8-58ee-43ed-91df-f93098125617\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;0cf1f3b5-1ab1-4e6f-8af3-07271c68fc3d\&quot;,\&quot;partitionkey\&quot;:\&quot;1d0c08e1%2D6a77%2D438c%2D96bc%2De9513b72e96c/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:22:10Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:22:10Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot; &quot;device1&quot;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot; &quot;gateway1&quot;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1d0c08e1-6a77-438c-96bc-e9513b72e96c&#x27;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1d0c08e1-6a77-438c-96bc-e9513b72e96c&quot;
[2022-05-09T12:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 1d0c08e1-6a77-438c-96bc-e9513b72e96c deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:22:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:22:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:22:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:22:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MzYsImlhdCI6MTY1MjA5ODkzNiwianRpIjoiMzI3ZGEwYjgtYjI2My00ZmQ2LWIwMzMtNDc5Nzc2ZWJlYzg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik5zS1lsSk9lcWxJZF82ZTdfejFGRUEiLCJzZXNzaW9uX3N0YXRlIjoiMjAzNDIzY2QtZmJiZi00YjY5LTkwNGItOGJhMjQ2YzkxZmVlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSJ9.LskNxHOJcHpuF-MpAyjAZleMtDhQXtq-lbPXVA9g5Xk
[2022-05-09T12:22:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:22:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3MzYsImlhdCI6MTY1MjA5ODkzNiwianRpIjoiMzI3ZGEwYjgtYjI2My00ZmQ2LWIwMzMtNDc5Nzc2ZWJlYzg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik5zS1lsSk9lcWxJZF82ZTdfejFGRUEiLCJzZXNzaW9uX3N0YXRlIjoiMjAzNDIzY2QtZmJiZi00YjY5LTkwNGItOGJhMjQ2YzkxZmVlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSJ9.LskNxHOJcHpuF-MpAyjAZleMtDhQXtq-lbPXVA9g5Xk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:22:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 9548950b-d2ad-46e7-9c6e-87c5cab09efb
[2022-05-09T12:22:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;
[2022-05-09T12:22:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 9548950b-d2ad-46e7-9c6e-87c5cab09efb created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;
[2022-05-09T12:22:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:17.617172Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;23a246b8-4eb5-4227-913c-505d5dd9b2ca\&quot;,\n    \&quot;uid\&quot;: \&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635387271Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635364118Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635310066Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635310767Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635311219Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635311629Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635312210Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.635342377Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:17.617172Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;), &quot;resourceVersion&quot;: String(&quot;23a246b8-4eb5-4227-913c-505d5dd9b2ca&quot;), &quot;uid&quot;: String(&quot;19081979-c3d7-45e9-a5a2-d41bd3790926&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635387271Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635364118Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635310066Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635310767Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635311219Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635311629Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635312210Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.635342377Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:22:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:17.617172Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c323e459-aece-4344-835c-d6be3cb411b8\&quot;,\n    \&quot;uid\&quot;: \&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957828388Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957675060Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.652636546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.659358540Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.812177685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.822313941Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957580583Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957630256Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WPkktffprHcE\&quot;,\n        \&quot;username\&quot;: \&quot;user-9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:17.617172Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;), &quot;resourceVersion&quot;: String(&quot;c323e459-aece-4344-835c-d6be3cb411b8&quot;), &quot;uid&quot;: String(&quot;19081979-c3d7-45e9-a5a2-d41bd3790926&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957828388Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957675060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.652636546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.659358540Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.812177685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.822313941Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957580583Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957630256Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WPkktffprHcE&quot;), &quot;username&quot;: String(&quot;user-9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;)})})})})
[2022-05-09T12:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:17.617172Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c323e459-aece-4344-835c-d6be3cb411b8\&quot;,\n    \&quot;uid\&quot;: \&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957828388Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957675060Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.652636546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.659358540Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.812177685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.822313941Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957580583Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:17.957630256Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WPkktffprHcE\&quot;,\n        \&quot;username\&quot;: \&quot;user-9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:17.617172Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;), &quot;resourceVersion&quot;: String(&quot;c323e459-aece-4344-835c-d6be3cb411b8&quot;), &quot;uid&quot;: String(&quot;19081979-c3d7-45e9-a5a2-d41bd3790926&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957828388Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957675060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.652636546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.659358540Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.812177685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.822313941Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957580583Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:17.957630256Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WPkktffprHcE&quot;), &quot;username&quot;: String(&quot;user-9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;)})})})})
[2022-05-09T12:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMzYsImlhdCI6MTY1MjA5ODkzNiwiYXV0aF90aW1lIjoxNjUyMDk4OTMzLCJqdGkiOiIxYzUzZWUyYy1jZTQ2LTQwMTUtOTVkNS1kYjQxMzBmOTdiNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOc0tZbEpPZXFsSWRfNmU3X3oxRkVBIiwic2Vzc2lvbl9zdGF0ZSI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EY3vl_1llDclntPVgOPIpqS-DJQHUJA1o37FNcGZEicJBUnER3BrOXA17qiwGtSm1cGQm-CV8X1wsxr177d0ItR5Q5PZWdz23rH0F9B-LGaluEvzw0Ef5nKjjEWh6fz58Z9BWY0MimP3bAD8SMrO7sGNAIJvoFHBCU6UaXWUwh14LEg7u38c408WxnvTtOTqLSsLOfL-fUi8QMab7vYdur-96JQb7t9iygdx_xP3T8gpqp6vRgWOiwVJMowMr8g5eL3p7qXhLfZ9dE2bBUipHztio1G-EBopZhlz9BjBi0GmM5PmjX4ihE_RaGsbWcrjvDp0QY64GyypwdeBPHwK3Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMzYsImlhdCI6MTY1MjA5ODkzNiwiYXV0aF90aW1lIjoxNjUyMDk4OTMzLCJqdGkiOiIxYzUzZWUyYy1jZTQ2LTQwMTUtOTVkNS1kYjQxMzBmOTdiNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOc0tZbEpPZXFsSWRfNmU3X3oxRkVBIiwic2Vzc2lvbl9zdGF0ZSI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EY3vl_1llDclntPVgOPIpqS-DJQHUJA1o37FNcGZEicJBUnER3BrOXA17qiwGtSm1cGQm-CV8X1wsxr177d0ItR5Q5PZWdz23rH0F9B-LGaluEvzw0Ef5nKjjEWh6fz58Z9BWY0MimP3bAD8SMrO7sGNAIJvoFHBCU6UaXWUwh14LEg7u38c408WxnvTtOTqLSsLOfL-fUi8QMab7vYdur-96JQb7t9iygdx_xP3T8gpqp6vRgWOiwVJMowMr8g5eL3p7qXhLfZ9dE2bBUipHztio1G-EBopZhlz9BjBi0GmM5PmjX4ihE_RaGsbWcrjvDp0QY64GyypwdeBPHwK3Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;03a8a7a6-0e3c-4324-bb61-f3b7fbdd0700&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717d05a60
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717d05a60
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717d05da0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a70260, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ba5f20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyMzYsImlhdCI6MTY1MjA5ODkzNiwiYXV0aF90aW1lIjoxNjUyMDk4OTMzLCJqdGkiOiIxYzUzZWUyYy1jZTQ2LTQwMTUtOTVkNS1kYjQxMzBmOTdiNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOc0tZbEpPZXFsSWRfNmU3X3oxRkVBIiwic2Vzc2lvbl9zdGF0ZSI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMzQyM2NkLWZiYmYtNGI2OS05MDRiLThiYTI0NmM5MWZlZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EY3vl_1llDclntPVgOPIpqS-DJQHUJA1o37FNcGZEicJBUnER3BrOXA17qiwGtSm1cGQm-CV8X1wsxr177d0ItR5Q5PZWdz23rH0F9B-LGaluEvzw0Ef5nKjjEWh6fz58Z9BWY0MimP3bAD8SMrO7sGNAIJvoFHBCU6UaXWUwh14LEg7u38c408WxnvTtOTqLSsLOfL-fUi8QMab7vYdur-96JQb7t9iygdx_xP3T8gpqp6vRgWOiwVJMowMr8g5eL3p7qXhLfZ9dE2bBUipHztio1G-EBopZhlz9BjBi0GmM5PmjX4ihE_RaGsbWcrjvDp0QY64GyypwdeBPHwK3Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:18Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;&#x27; @ QOS 0
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c003500, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c003780 } }, data: MessageData { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 97, 51, 54, 50, 50, 52, 56, 45, 51, 48, 100, 100, 45, 52, 97, 101, 49, 45, 56, 56, 99, 49, 45, 50, 51, 51, 98, 98, 55, 50, 56, 54, 101, 56, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 50, 50, 46, 53, 54, 49, 53, 49, 48, 51, 52, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 51, 101, 99, 98, 100, 102, 101, 45, 53, 48, 53, 51, 45, 52, 99, 102, 49, 45, 56, 56, 55, 98, 45, 57, 97, 100, 53, 57, 55, 97, 53, 57, 48, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 45, 100, 50, 97, 100, 45, 52, 54, 101, 55, 45, 57, 99, 54, 101, 45, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 57, 48, 56, 49, 57, 55, 57, 45, 99, 51, 100, 55, 45, 52, 53, 101, 57, 45, 97, 53, 97, 50, 45, 100, 52, 49, 98, 100, 51, 55, 57, 48, 57, 50, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c003780 } } } }
[2022-05-09T12:22:22Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30003850
[2022-05-09T12:22:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;da362248-30dd-4ae1-88c1-233bb7286e83\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:22.561510346Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;33ecbdfe-5053-4cf1-887b-9ad597a590df\&quot;,\&quot;senderuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;}&quot; }
[2022-05-09T12:22:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:22:23Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:22:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:22:23Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:22:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;5b3350aa-4478-4905-aa53-1ac2a6af597a&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179e3540
[2022-05-09T12:22:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179e3540
[2022-05-09T12:22:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717cc7990, password: 0x5617178d5f50, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b55a60, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cc6490, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717be7ac0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717be7ac0 } } } }
[2022-05-09T12:22:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c01a800, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01aa90 } }, data: MessageData { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 50, 97, 56, 55, 97, 100, 56, 45, 57, 48, 56, 50, 45, 52, 49, 53, 48, 45, 57, 55, 100, 51, 45, 98, 98, 98, 102, 97, 50, 57, 53, 102, 55, 99, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 50, 51, 46, 54, 55, 54, 49, 52, 57, 54, 51, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 45, 100, 50, 97, 100, 45, 52, 54, 101, 55, 45, 57, 99, 54, 101, 45, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 57, 48, 56, 49, 57, 55, 57, 45, 99, 51, 100, 55, 45, 52, 53, 101, 57, 45, 97, 53, 97, 50, 45, 100, 52, 49, 98, 100, 51, 55, 57, 48, 57, 50, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01aa90 } } } }
[2022-05-09T12:22:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717831680
[2022-05-09T12:22:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;82a87ad8-9082-4150-97d3-bbbfa295f7c4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:23.676149634Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;,\&quot;application\&quot;:\&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\&quot;applicationuid\&quot;:\&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;,\&quot;partitionkey\&quot;:\&quot;9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/gateway1\&quot;}&quot; }
[2022-05-09T12:22:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c01b020, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c004320 } }, data: MessageData { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 97, 53, 57, 50, 52, 54, 101, 45, 51, 102, 54, 100, 45, 52, 53, 50, 100, 45, 57, 101, 53, 56, 45, 100, 57, 52, 49, 97, 52, 48, 54, 101, 99, 101, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 50, 52, 46, 50, 51, 48, 56, 50, 51, 49, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 51, 101, 99, 98, 100, 102, 101, 45, 53, 48, 53, 51, 45, 52, 99, 102, 49, 45, 56, 56, 55, 98, 45, 57, 97, 100, 53, 57, 55, 97, 53, 57, 48, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 57, 48, 56, 49, 57, 55, 57, 45, 99, 51, 100, 55, 45, 52, 53, 101, 57, 45, 97, 53, 97, 50, 45, 100, 52, 49, 98, 100, 51, 55, 57, 48, 57, 50, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 45, 100, 50, 97, 100, 45, 52, 54, 101, 55, 45, 57, 99, 54, 101, 45, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c004320 } } } }
[2022-05-09T12:22:25Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717831680
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;aa59246e-3f6d-452d-9e58-d941a406ecef\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:24.230823117Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;33ecbdfe-5053-4cf1-887b-9ad597a590df\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\&quot;senderuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;}&quot; }
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c018a00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c018c90 } }, data: MessageData { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 51, 101, 102, 53, 54, 50, 56, 45, 54, 99, 100, 101, 45, 52, 48, 99, 99, 45, 57, 98, 48, 50, 45, 53, 100, 54, 48, 57, 49, 99, 56, 54, 55, 97, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 50, 53, 46, 49, 50, 50, 51, 48, 49, 53, 50, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 45, 100, 50, 97, 100, 45, 52, 54, 101, 55, 45, 57, 99, 54, 101, 45, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 57, 48, 56, 49, 57, 55, 57, 45, 99, 51, 100, 55, 45, 52, 53, 101, 57, 45, 97, 53, 97, 50, 45, 100, 52, 49, 98, 100, 51, 55, 57, 48, 57, 50, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 52, 55, 99, 54, 100, 53, 53, 45, 53, 99, 52, 50, 45, 52, 102, 50, 55, 45, 97, 55, 52, 57, 45, 55, 52, 51, 49, 56, 56, 50, 100, 102, 51, 48, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 52, 56, 57, 53, 48, 98, 37, 50, 68, 100, 50, 97, 100, 37, 50, 68, 52, 54, 101, 55, 37, 50, 68, 57, 99, 54, 101, 37, 50, 68, 56, 55, 99, 53, 99, 97, 98, 48, 57, 101, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c018c90 } } } }
[2022-05-09T12:22:25Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b1c005ca0
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;73ef5628-6cde-40cc-9b02-5d6091c867a2\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:25.122301529Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;19081979-c3d7-45e9-a5a2-d41bd3790926\&quot;,\&quot;senderuid\&quot;:\&quot;047c6d55-5c42-4f27-a749-7431882df30d\&quot;,\&quot;partitionkey\&quot;:\&quot;9548950b%2Dd2ad%2D46e7%2D9c6e%2D87c5cab09efb/gateway1\&quot;}&quot; }
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:22:25Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:22:25Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot; &quot;device1&quot;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot; &quot;gateway1&quot;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9548950b-d2ad-46e7-9c6e-87c5cab09efb&#x27;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9548950b-d2ad-46e7-9c6e-87c5cab09efb&quot;
[2022-05-09T12:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 9548950b-d2ad-46e7-9c6e-87c5cab09efb deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:22:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:22:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:22:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:22:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3NTEsImlhdCI6MTY1MjA5ODk1MSwianRpIjoiNjc3NTYwN2MtYjk5ZS00ZTA0LTlmNTUtYjY5NTkwNmVmNzc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inl2MkZFVDdNNHc0Y3VNeWVvNWxRX1EiLCJzZXNzaW9uX3N0YXRlIjoiZDJmMDAyNWUtYTgxYy00NGZmLWE0NTctNWFiNDExZmM3ZjZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyJ9.Z68Cw57iyKQd69SRBqYg2DmO9gw4-kFJ-Ae3Hkc_9dg
[2022-05-09T12:22:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:22:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3NTEsImlhdCI6MTY1MjA5ODk1MSwianRpIjoiNjc3NTYwN2MtYjk5ZS00ZTA0LTlmNTUtYjY5NTkwNmVmNzc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inl2MkZFVDdNNHc0Y3VNeWVvNWxRX1EiLCJzZXNzaW9uX3N0YXRlIjoiZDJmMDAyNWUtYTgxYy00NGZmLWE0NTctNWFiNDExZmM3ZjZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyJ9.Z68Cw57iyKQd69SRBqYg2DmO9gw4-kFJ-Ae3Hkc_9dg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:22:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 0f0bff57-5351-40e8-b226-7343cefcbe5a
[2022-05-09T12:22:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;
[2022-05-09T12:22:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0f0bff57-5351-40e8-b226-7343cefcbe5a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;
[2022-05-09T12:22:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:32.408655Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;451a0aaa-0977-4ad7-9d16-f7351d119e30\&quot;,\n    \&quot;uid\&quot;: \&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432209763Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432180458Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432038402Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432039474Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432040125Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432040726Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432041338Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.432092133Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:32.408655Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;), &quot;resourceVersion&quot;: String(&quot;451a0aaa-0977-4ad7-9d16-f7351d119e30&quot;), &quot;uid&quot;: String(&quot;fa10b804-e2af-429b-b982-1df4a7864f04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432209763Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432180458Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432038402Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432039474Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432040125Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432040726Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432041338Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.432092133Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:22:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:32.408655Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f7c296bb-2d46-4b9a-9020-faa67ea81d9d\&quot;,\n    \&quot;uid\&quot;: \&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720544307Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720436504Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.454718249Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.460738047Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.554959986Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.564659884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720278398Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720402431Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kbIGP2aT81ei\&quot;,\n        \&quot;username\&quot;: \&quot;user-0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:32.408655Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;), &quot;resourceVersion&quot;: String(&quot;f7c296bb-2d46-4b9a-9020-faa67ea81d9d&quot;), &quot;uid&quot;: String(&quot;fa10b804-e2af-429b-b982-1df4a7864f04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720544307Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720436504Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.454718249Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.460738047Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.554959986Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.564659884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720278398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720402431Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kbIGP2aT81ei&quot;), &quot;username&quot;: String(&quot;user-0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;)})})})})
[2022-05-09T12:22:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:32.408655Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f7c296bb-2d46-4b9a-9020-faa67ea81d9d\&quot;,\n    \&quot;uid\&quot;: \&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720544307Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720436504Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.454718249Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.460738047Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.554959986Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.564659884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720278398Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:32.720402431Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kbIGP2aT81ei\&quot;,\n        \&quot;username\&quot;: \&quot;user-0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:32.408655Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;), &quot;resourceVersion&quot;: String(&quot;f7c296bb-2d46-4b9a-9020-faa67ea81d9d&quot;), &quot;uid&quot;: String(&quot;fa10b804-e2af-429b-b982-1df4a7864f04&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720544307Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720436504Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.454718249Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.460738047Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.554959986Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.564659884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720278398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:32.720402431Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kbIGP2aT81ei&quot;), &quot;username&quot;: String(&quot;user-0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;)})})})})
[2022-05-09T12:22:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNTEsImlhdCI6MTY1MjA5ODk1MSwiYXV0aF90aW1lIjoxNjUyMDk4OTQ4LCJqdGkiOiIxNmY4ZTE4OC1kN2Y1LTQ4NWYtODQ0MS1iYjkwZWZiOWQ4OGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5djJGRVQ3TTR3NGN1TXllbzVsUV9RIiwic2Vzc2lvbl9zdGF0ZSI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CZjEAwQhv6m_DBsEezrkiq3eTzRdHelRlEdWJwklrGukBT3fgRHyb3vADBlc4td51oEaswTUg2QY3DiMX3bUc6zTCUR5qKjMqqYli-yuv8qYn2dff5_wV-LDEjoBbgvGPXz4B1TOOOjpVAofAQtr1Afptqoe8wq0bQc050ITF8m6SADLOt6xdr3bLOJnJO8EAaOATzPh23RdbjGVpW46O5VDxVFzh-nmvoFDDMN6NRZFWjG77CbYnsahJSAzqWtkHHsSGR7AgP3NE5FlZqP4_tYOIXppIIh7_19SaZ5mwg7YFWMY_powPMTSBDARBTDcKR7yKrgKKfn-ZEd_UJeP5Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNTEsImlhdCI6MTY1MjA5ODk1MSwiYXV0aF90aW1lIjoxNjUyMDk4OTQ4LCJqdGkiOiIxNmY4ZTE4OC1kN2Y1LTQ4NWYtODQ0MS1iYjkwZWZiOWQ4OGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5djJGRVQ3TTR3NGN1TXllbzVsUV9RIiwic2Vzc2lvbl9zdGF0ZSI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CZjEAwQhv6m_DBsEezrkiq3eTzRdHelRlEdWJwklrGukBT3fgRHyb3vADBlc4td51oEaswTUg2QY3DiMX3bUc6zTCUR5qKjMqqYli-yuv8qYn2dff5_wV-LDEjoBbgvGPXz4B1TOOOjpVAofAQtr1Afptqoe8wq0bQc050ITF8m6SADLOt6xdr3bLOJnJO8EAaOATzPh23RdbjGVpW46O5VDxVFzh-nmvoFDDMN6NRZFWjG77CbYnsahJSAzqWtkHHsSGR7AgP3NE5FlZqP4_tYOIXppIIh7_19SaZ5mwg7YFWMY_powPMTSBDARBTDcKR7yKrgKKfn-ZEd_UJeP5Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;1472984b-6f02-4b72-850d-0b642a536ea4&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b64580
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b64580
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717b628c0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a08600, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b64850, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNTEsImlhdCI6MTY1MjA5ODk1MSwiYXV0aF90aW1lIjoxNjUyMDk4OTQ4LCJqdGkiOiIxNmY4ZTE4OC1kN2Y1LTQ4NWYtODQ0MS1iYjkwZWZiOWQ4OGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5djJGRVQ3TTR3NGN1TXllbzVsUV9RIiwic2Vzc2lvbl9zdGF0ZSI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyZjAwMjVlLWE4MWMtNDRmZi1hNDU3LTVhYjQxMWZjN2Y2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CZjEAwQhv6m_DBsEezrkiq3eTzRdHelRlEdWJwklrGukBT3fgRHyb3vADBlc4td51oEaswTUg2QY3DiMX3bUc6zTCUR5qKjMqqYli-yuv8qYn2dff5_wV-LDEjoBbgvGPXz4B1TOOOjpVAofAQtr1Afptqoe8wq0bQc050ITF8m6SADLOt6xdr3bLOJnJO8EAaOATzPh23RdbjGVpW46O5VDxVFzh-nmvoFDDMN6NRZFWjG77CbYnsahJSAzqWtkHHsSGR7AgP3NE5FlZqP4_tYOIXppIIh7_19SaZ5mwg7YFWMY_powPMTSBDARBTDcKR7yKrgKKfn-ZEd_UJeP5Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;&#x27; @ QOS 0
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18004b40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18004dc0 } }, data: MessageData { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 50, 53, 98, 52, 102, 51, 52, 45, 99, 98, 102, 57, 45, 52, 50, 49, 53, 45, 56, 102, 53, 98, 45, 57, 56, 56, 55, 49, 102, 101, 54, 49, 51, 99, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 51, 55, 46, 53, 56, 52, 54, 51, 57, 49, 55, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 97, 97, 52, 102, 49, 55, 101, 45, 49, 102, 48, 100, 45, 52, 48, 54, 100, 45, 56, 97, 100, 101, 45, 102, 100, 49, 100, 51, 53, 53, 97, 56, 99, 52, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 45, 53, 51, 53, 49, 45, 52, 48, 101, 56, 45, 98, 50, 50, 54, 45, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 97, 49, 48, 98, 56, 48, 52, 45, 101, 50, 97, 102, 45, 52, 50, 57, 98, 45, 98, 57, 56, 50, 45, 49, 100, 102, 52, 97, 55, 56, 54, 52, 102, 48, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18004dc0 } } } }
[2022-05-09T12:22:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdb860
[2022-05-09T12:22:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;625b4f34-cbf9-4215-8f5b-98871fe613c0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:37.584639176Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;2aa4f17e-1f0d-406d-8ade-fd1d355a8c4d\&quot;,\&quot;application\&quot;:\&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\&quot;applicationuid\&quot;:\&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;,\&quot;senderuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;}&quot; }
[2022-05-09T12:22:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:22:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:22:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:22:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:22:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c408325b-b8e9-4bd2-8c8b-145c63d69ded&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b36db0
[2022-05-09T12:22:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b36db0
[2022-05-09T12:22:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717cb5410, password: 0x5617179004b0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179420a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ceaec0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1802b770, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802ba00 } }, data: MessageData { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 102, 52, 101, 50, 51, 55, 102, 45, 99, 51, 53, 55, 45, 52, 100, 101, 102, 45, 57, 102, 52, 53, 45, 102, 97, 56, 54, 55, 56, 102, 100, 52, 57, 56, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 51, 56, 46, 55, 48, 48, 55, 53, 49, 48, 55, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 45, 53, 51, 53, 49, 45, 52, 48, 101, 56, 45, 98, 50, 50, 54, 45, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 97, 49, 48, 98, 56, 48, 52, 45, 101, 50, 97, 102, 45, 52, 50, 57, 98, 45, 98, 57, 56, 50, 45, 49, 100, 102, 52, 97, 55, 56, 54, 52, 102, 48, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802ba00 } } } }
[2022-05-09T12:22:39Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdb860
[2022-05-09T12:22:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8f4e237f-c357-4def-9f45-fa8678fd498b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:38.700751077Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\&quot;deviceuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;,\&quot;applicationuid\&quot;:\&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:22:39Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171787d1f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171787d1f0 } } } }
[2022-05-09T12:22:39Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1802bba0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802be20 } }, data: MessageData { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 100, 48, 99, 49, 56, 50, 55, 45, 97, 51, 99, 98, 45, 52, 55, 54, 57, 45, 97, 54, 48, 98, 45, 49, 99, 49, 100, 49, 50, 101, 99, 50, 51, 97, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 51, 57, 46, 50, 51, 54, 56, 57, 48, 49, 52, 53, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 97, 49, 48, 98, 56, 48, 52, 45, 101, 50, 97, 102, 45, 52, 50, 57, 98, 45, 98, 57, 56, 50, 45, 49, 100, 102, 52, 97, 55, 56, 54, 52, 102, 48, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 97, 97, 52, 102, 49, 55, 101, 45, 49, 102, 48, 100, 45, 52, 48, 54, 100, 45, 56, 97, 100, 101, 45, 102, 100, 49, 100, 51, 53, 53, 97, 56, 99, 52, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 45, 53, 51, 53, 49, 45, 52, 48, 101, 56, 45, 98, 50, 50, 54, 45, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802be20 } } } }
[2022-05-09T12:22:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdb860
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8d0c1827-a3cb-4769-a60b-1c1d12ec23af\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:39.236890145Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;,\&quot;deviceuid\&quot;:\&quot;2aa4f17e-1f0d-406d-8ade-fd1d355a8c4d\&quot;,\&quot;partitionkey\&quot;:\&quot;0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/device1\&quot;,\&quot;senderuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;,\&quot;application\&quot;:\&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1802c2b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802c540 } }, data: MessageData { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 101, 98, 52, 54, 56, 102, 55, 45, 52, 98, 100, 57, 45, 52, 53, 51, 55, 45, 98, 56, 99, 55, 45, 97, 57, 100, 57, 51, 100, 52, 100, 100, 99, 52, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 50, 58, 52, 48, 46, 49, 51, 51, 48, 48, 56, 49, 51, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 45, 53, 51, 53, 49, 45, 52, 48, 101, 56, 45, 98, 50, 50, 54, 45, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 102, 48, 98, 102, 102, 53, 55, 37, 50, 68, 53, 51, 53, 49, 37, 50, 68, 52, 48, 101, 56, 37, 50, 68, 98, 50, 50, 54, 37, 50, 68, 55, 51, 52, 51, 99, 101, 102, 99, 98, 101, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 51, 57, 54, 49, 54, 97, 102, 45, 98, 97, 100, 56, 45, 52, 51, 97, 97, 45, 57, 55, 49, 48, 45, 52, 56, 49, 97, 49, 50, 99, 50, 102, 98, 57, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 97, 49, 48, 98, 56, 48, 52, 45, 101, 50, 97, 102, 45, 52, 50, 57, 98, 45, 98, 57, 56, 50, 45, 49, 100, 102, 52, 97, 55, 56, 54, 52, 102, 48, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802c540 } } } }
[2022-05-09T12:22:40Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b1802e530
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;feb468f7-4bd9-4537-b8c7-a9d93d4ddc44\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:22:40.133008139Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;0f0bff57-5351-40e8-b226-7343cefcbe5a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;0f0bff57%2D5351%2D40e8%2Db226%2D7343cefcbe5a/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;f39616af-bad8-43aa-9710-481a12c2fb99\&quot;,\&quot;applicationuid\&quot;:\&quot;fa10b804-e2af-429b-b982-1df4a7864f04\&quot;}&quot; }
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:22:40Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:22:40Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot; &quot;device1&quot;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot; &quot;gateway1&quot;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0f0bff57-5351-40e8-b226-7343cefcbe5a&#x27;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0f0bff57-5351-40e8-b226-7343cefcbe5a&quot;
[2022-05-09T12:22:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0f0bff57-5351-40e8-b226-7343cefcbe5a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:22:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:22:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:22:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:22:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3NjYsImlhdCI6MTY1MjA5ODk2NiwianRpIjoiN2I0ZDRhNmUtODFlNi00YjFmLThmNDItZjg3NTk4ZmZkZTViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFza0VqQnRqRGVBX20tb1kyazdYdGciLCJzZXNzaW9uX3N0YXRlIjoiMTM4ZTcwYjItNzhmYy00ZjA4LTllN2MtMTNlMWE5NmM2OWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSJ9.rjBT0LorNJgsix24sbnKXcwrAMm0BN73JqTyi56-eEs
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3NjYsImlhdCI6MTY1MjA5ODk2NiwianRpIjoiN2I0ZDRhNmUtODFlNi00YjFmLThmNDItZjg3NTk4ZmZkZTViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFza0VqQnRqRGVBX20tb1kyazdYdGciLCJzZXNzaW9uX3N0YXRlIjoiMTM4ZTcwYjItNzhmYy00ZjA4LTllN2MtMTNlMWE5NmM2OWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSJ9.rjBT0LorNJgsix24sbnKXcwrAMm0BN73JqTyi56-eEs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::resources::apps] Create application: abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;
[2022-05-09T12:22:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:47.761626Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;acc8d9a6-31bf-4ebb-bdda-ed14724e1db7\&quot;,\n    \&quot;uid\&quot;: \&quot;21fd2829-d1d8-4135-8254-a446a350a409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782637931Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782620117Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782590161Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782591314Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782591684Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782592285Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782592846Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.782597575Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:47.761626Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;), &quot;resourceVersion&quot;: String(&quot;acc8d9a6-31bf-4ebb-bdda-ed14724e1db7&quot;), &quot;uid&quot;: String(&quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782637931Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782620117Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782590161Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782591314Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782591684Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782592285Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782592846Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.782597575Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:22:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:47.761626Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;410594c6-046e-4e1e-921f-cd6332ec923e\&quot;,\n    \&quot;uid\&quot;: \&quot;21fd2829-d1d8-4135-8254-a446a350a409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053843135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053682614Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.800790289Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.805943211Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.864678096Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.870491848Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053560484Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053644582Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XgbWRQSgm0gz\&quot;,\n        \&quot;username\&quot;: \&quot;user-abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:47.761626Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;), &quot;resourceVersion&quot;: String(&quot;410594c6-046e-4e1e-921f-cd6332ec923e&quot;), &quot;uid&quot;: String(&quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053843135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053682614Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.800790289Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.805943211Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.864678096Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.870491848Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053560484Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053644582Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XgbWRQSgm0gz&quot;), &quot;username&quot;: String(&quot;user-abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;)})})})})
[2022-05-09T12:22:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:22:47.761626Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;410594c6-046e-4e1e-921f-cd6332ec923e\&quot;,\n    \&quot;uid\&quot;: \&quot;21fd2829-d1d8-4135-8254-a446a350a409\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053843135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053682614Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.800790289Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.805943211Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.864678096Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:47.870491848Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053560484Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:22:48.053644582Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XgbWRQSgm0gz\&quot;,\n        \&quot;username\&quot;: \&quot;user-abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:22:47.761626Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;), &quot;resourceVersion&quot;: String(&quot;410594c6-046e-4e1e-921f-cd6332ec923e&quot;), &quot;uid&quot;: String(&quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053843135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053682614Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.800790289Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.805943211Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.864678096Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:47.870491848Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053560484Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:22:48.053644582Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XgbWRQSgm0gz&quot;), &quot;username&quot;: String(&quot;user-abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;)})})})})
[2022-05-09T12:22:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNjcsImlhdCI6MTY1MjA5ODk2NywiYXV0aF90aW1lIjoxNjUyMDk4OTY0LCJqdGkiOiI4YzkzYzRiZS0zZDYzLTQ2ZTUtOTc4My0yZWVmMjNjNzRhOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxc2tFakJ0akRlQV9tLW9ZMms3WHRnIiwic2Vzc2lvbl9zdGF0ZSI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XXSqJV7YS2hoBx48L9BXbgJtf7TN0VRrhEaeQTzIenmMv-Z2b2kf28ue50fo5ivpfyxg1X5OXpJgOKMx-zjjqNUjKigK_gQHHvmgSwjLyq0bgTXb3WpsOPx1it_rIM-Il9yGKU2WPQn5hT9Q13fbJ0M1yIzWt-5QU3jAdps4LhHgb0AE0cO5x92-ItX5AAKOqXqtZLSiYZluWvNRlN5oNsfJZfMWj1qf0xtS6AtbSP1eWIGAVPCRBMbDVeLeeURaOFX9eoAjKonZbNYskDRTK6ub6_4Pu4Zjzv1T6D0_Oy5sVqEVU-JY7mHO9_PYx-tFlYgDOwHDwBrUQbtBEZb_TA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:22:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNjcsImlhdCI6MTY1MjA5ODk2NywiYXV0aF90aW1lIjoxNjUyMDk4OTY0LCJqdGkiOiI4YzkzYzRiZS0zZDYzLTQ2ZTUtOTc4My0yZWVmMjNjNzRhOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxc2tFakJ0akRlQV9tLW9ZMms3WHRnIiwic2Vzc2lvbl9zdGF0ZSI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XXSqJV7YS2hoBx48L9BXbgJtf7TN0VRrhEaeQTzIenmMv-Z2b2kf28ue50fo5ivpfyxg1X5OXpJgOKMx-zjjqNUjKigK_gQHHvmgSwjLyq0bgTXb3WpsOPx1it_rIM-Il9yGKU2WPQn5hT9Q13fbJ0M1yIzWt-5QU3jAdps4LhHgb0AE0cO5x92-ItX5AAKOqXqtZLSiYZluWvNRlN5oNsfJZfMWj1qf0xtS6AtbSP1eWIGAVPCRBMbDVeLeeURaOFX9eoAjKonZbNYskDRTK6ub6_4Pu4Zjzv1T6D0_Oy5sVqEVU-JY7mHO9_PYx-tFlYgDOwHDwBrUQbtBEZb_TA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;282359f7-aa2a-4726-9ef9-6f0d683c5a1d&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717bcfc20
[2022-05-09T12:22:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717bcfc20
[2022-05-09T12:22:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717d04cf0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cb46f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171783b090, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyNjcsImlhdCI6MTY1MjA5ODk2NywiYXV0aF90aW1lIjoxNjUyMDk4OTY0LCJqdGkiOiI4YzkzYzRiZS0zZDYzLTQ2ZTUtOTc4My0yZWVmMjNjNzRhOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxc2tFakJ0akRlQV9tLW9ZMms3WHRnIiwic2Vzc2lvbl9zdGF0ZSI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzOGU3MGIyLTc4ZmMtNGYwOC05ZTdjLTEzZTFhOTZjNjlkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XXSqJV7YS2hoBx48L9BXbgJtf7TN0VRrhEaeQTzIenmMv-Z2b2kf28ue50fo5ivpfyxg1X5OXpJgOKMx-zjjqNUjKigK_gQHHvmgSwjLyq0bgTXb3WpsOPx1it_rIM-Il9yGKU2WPQn5hT9Q13fbJ0M1yIzWt-5QU3jAdps4LhHgb0AE0cO5x92-ItX5AAKOqXqtZLSiYZluWvNRlN5oNsfJZfMWj1qf0xtS6AtbSP1eWIGAVPCRBMbDVeLeeURaOFX9eoAjKonZbNYskDRTK6ub6_4Pu4Zjzv1T6D0_Oy5sVqEVU-JY7mHO9_PYx-tFlYgDOwHDwBrUQbtBEZb_TA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:49Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;&#x27; @ QOS 0
[2022-05-09T12:22:49Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:22:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:22:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:22:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:22:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:22:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:22:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b18001040, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717857c80 } }, data: MessageData { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717857c80 } } } }
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bc8380, 0x7f4b280085f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280085f0, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280085f0, 0x561717bc0bc0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bc0bc0, 0x7f4b30007880
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bc0bc0, 0x7f4b28004070
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x7f4b28003d20
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x5617178aa9a0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28000a80
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000a80, 0x5617179c56f0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000a80, 0x7f4b28008ae0
[2022-05-09T12:22:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28008ae0
[2022-05-09T12:22:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;deviceuid&quot;: &quot;49fee8d0-689b-4291-883a-58217f063b6c&quot;, &quot;source&quot;: &quot;drogue://abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/device1&quot;, &quot;id&quot;: &quot;06ff8435-75c2-4a61-bfa1-856c4b315400&quot;, &quot;application&quot;: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:22:52.589503225+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;partitionkey&quot;: &quot;abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:22:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:22:53Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:22:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:22:53Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:22:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;bd0ecf57-7783-4fc3-a9a2-8dfe63e98558&quot;, persistence: None, user_data: None }
[2022-05-09T12:22:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:22:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a0de90
[2022-05-09T12:22:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a0de90
[2022-05-09T12:22:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717a00510, password: 0x561717c204e0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179441e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b37540, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:22:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1802a7a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c7c960 } }, data: MessageData { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c7c960 } } } }
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b280010e0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010e0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010e0, 0x7f4b28004070
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x7f4b18001470
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x7f4b28008ae0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b280010c0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178a4ff0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178a4ff0 } } } }
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010c0, 0x7f4b1801d900
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010c0, 0x7f4b28000aa0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b280010c0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010c0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280010c0
[2022-05-09T12:22:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;a7ab9a44-ab1b-489d-8159-e0a8e1fab72c&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;, &quot;source&quot;: &quot;drogue://abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, &quot;partitionkey&quot;: &quot;abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/gateway1&quot;, &quot;deviceuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;senderuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:22:53.670247377+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:22:54Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:22:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1801b8c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c33b00 } }, data: MessageData { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c33b00 } } } }
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bc8380, 0x7f4b280010e0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010e0, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280010e0, 0x7f4b28004670
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b18031c60
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b28003d00
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d00, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d00, 0x7f4b28004290
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b28004a50
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a50, 0x7f4b28004290
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b180314f0
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004290, 0x7f4b18001370
[2022-05-09T12:22:54Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004290
[2022-05-09T12:22:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, &quot;applicationuid&quot;: &quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;b1e2f349-c80d-4c1e-95d0-6a49cf6ecf61&quot;, &quot;deviceuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;partitionkey&quot;: &quot;abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;time&quot;: &quot;2022-05-09T12:22:54.249969910+00:00&quot;, &quot;source&quot;: &quot;drogue://abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x5617178fdb60 } }, data: MessageData { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x5617178fdb60 } } } }
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d00, 0x7f4b28004a50
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a50, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a50, 0x7f4b28004070
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x7f4b18009520
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004070, 0x7f4b280012c0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280012c0, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280012c0, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280012c0, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280012c0, 0x7f4b28004670
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b1801d260
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004670, 0x7f4b28000aa0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b1801b6b0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b280012a0
[2022-05-09T12:22:55Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004750
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;deviceuid&quot;: &quot;49fee8d0-689b-4291-883a-58217f063b6c&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;40a6af8a-2a21-409b-a0f5-8c386dadccb8&quot;, &quot;applicationuid&quot;: &quot;21fd2829-d1d8-4135-8254-a446a350a409&quot;, &quot;source&quot;: &quot;drogue://abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T12:22:54.248171148+00:00&quot;, &quot;id&quot;: &quot;7695428d-83cf-431c-92ba-601073d2e72a&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;application&quot;: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;abfbfeb0%2D3ebe%2D4d44%2Da068%2D9ac2ca926c4b/device1&quot;}, payload: &quot;&quot; }
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:22:55Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:22:55Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot; &quot;device1&quot;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot; &quot;gateway1&quot;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&#x27;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b&quot;
[2022-05-09T12:22:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App abfbfeb0-3ebe-4d44-a068-9ac2ca926c4b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:22:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:22:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:22:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:22:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:22:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:22:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:23:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:23:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3ODEsImlhdCI6MTY1MjA5ODk4MSwianRpIjoiMDU5YjY4MDktZDllYy00NGNhLWI1YjItMGZlNDhmOTAxNjMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhzSjZrSnV5RnhxZG12dG5OS0gwemciLCJzZXNzaW9uX3N0YXRlIjoiNmY2ODM2YTktZDZkMS00YjFiLWFkMjQtM2YxZjkxODRiZmI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiJ9.HHIX6DoSh5QgTzz7e1n8qcXoHWc2uU1pnJ0gl2G8Nm8
[2022-05-09T12:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3ODEsImlhdCI6MTY1MjA5ODk4MSwianRpIjoiMDU5YjY4MDktZDllYy00NGNhLWI1YjItMGZlNDhmOTAxNjMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhzSjZrSnV5RnhxZG12dG5OS0gwemciLCJzZXNzaW9uX3N0YXRlIjoiNmY2ODM2YTktZDZkMS00YjFiLWFkMjQtM2YxZjkxODRiZmI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiJ9.HHIX6DoSh5QgTzz7e1n8qcXoHWc2uU1pnJ0gl2G8Nm8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:02Z INFO  drogue_cloud_tests::resources::apps] Create application: 5129aa68-8035-41e6-99b3-1dbfcce039c6
[2022-05-09T12:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;
[2022-05-09T12:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5129aa68-8035-41e6-99b3-1dbfcce039c6 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;
[2022-05-09T12:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:02.618994Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e3b97e94-7950-4bdc-93a7-75b6eb3ea18b\&quot;,\n    \&quot;uid\&quot;: \&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641960411Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641938340Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641910217Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641911128Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641911630Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641912271Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641912842Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.641917430Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:02.618994Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;), &quot;resourceVersion&quot;: String(&quot;e3b97e94-7950-4bdc-93a7-75b6eb3ea18b&quot;), &quot;uid&quot;: String(&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641960411Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641938340Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641910217Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641911128Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641911630Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641912271Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641912842Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.641917430Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:02.618994Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;be04e421-8c37-4f6e-99c3-9e6545b8a2a7\&quot;,\n    \&quot;uid\&quot;: \&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.894080698Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.894023982Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.663088589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.670733595Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.729383972Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.734409014Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.893977995Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.893996781Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;b4q9LKX2z4QD\&quot;,\n        \&quot;username\&quot;: \&quot;user-5129aa68-8035-41e6-99b3-1dbfcce039c6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:02.618994Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;), &quot;resourceVersion&quot;: String(&quot;be04e421-8c37-4f6e-99c3-9e6545b8a2a7&quot;), &quot;uid&quot;: String(&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.894080698Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.894023982Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.663088589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.670733595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.729383972Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.734409014Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.893977995Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.893996781Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;b4q9LKX2z4QD&quot;), &quot;username&quot;: String(&quot;user-5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;)})})})})
[2022-05-09T12:23:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:02.618994Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;be04e421-8c37-4f6e-99c3-9e6545b8a2a7\&quot;,\n    \&quot;uid\&quot;: \&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.894080698Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.894023982Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.663088589Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.670733595Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.729383972Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.734409014Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.893977995Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:02.893996781Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;b4q9LKX2z4QD\&quot;,\n        \&quot;username\&quot;: \&quot;user-5129aa68-8035-41e6-99b3-1dbfcce039c6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:02.618994Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;), &quot;resourceVersion&quot;: String(&quot;be04e421-8c37-4f6e-99c3-9e6545b8a2a7&quot;), &quot;uid&quot;: String(&quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.894080698Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.894023982Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.663088589Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.670733595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.729383972Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.734409014Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.893977995Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:02.893996781Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;b4q9LKX2z4QD&quot;), &quot;username&quot;: String(&quot;user-5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;)})})})})
[2022-05-09T12:23:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyODEsImlhdCI6MTY1MjA5ODk4MSwiYXV0aF90aW1lIjoxNjUyMDk4OTc5LCJqdGkiOiIxZGE2ZGEyYS0wMmJjLTRjM2EtYmI4MC1hOTJmM2NjMGMyYjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYc0o2a0p1eUZ4cWRtdnRuTktIMHpnIiwic2Vzc2lvbl9zdGF0ZSI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EWEZg5Hqzaq99nI9PwK8pIG8vSRZdEoPP3eJfVvsnpWW7FowNDeXkEf0lhvHiuKV90ioST9atORy5OCr0bfSmdL-GwXSt0plpRV_hzkq0131ftLl6671tiBxQRlukSPxLH2xtQtdnhs4qSQpycplxFW_3_sCnV1wix2gDlTTRNKP-_pQE-qq5cwVtcGlXlfES6IfjGw-n_qHUsgZvEjg6heC06tDqrpwbM4JYIiOZgN7ijS3aGlMETYKVtqpnRSZ7OZ3gUtCsVwJ3wFtnlHfpqoKc30Cl4tGomBVFFU3JUvuFi1iCjI3MRCJh6NgXl9cw39MShO64kFuRfZ0EkHmSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyODEsImlhdCI6MTY1MjA5ODk4MSwiYXV0aF90aW1lIjoxNjUyMDk4OTc5LCJqdGkiOiIxZGE2ZGEyYS0wMmJjLTRjM2EtYmI4MC1hOTJmM2NjMGMyYjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYc0o2a0p1eUZ4cWRtdnRuTktIMHpnIiwic2Vzc2lvbl9zdGF0ZSI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EWEZg5Hqzaq99nI9PwK8pIG8vSRZdEoPP3eJfVvsnpWW7FowNDeXkEf0lhvHiuKV90ioST9atORy5OCr0bfSmdL-GwXSt0plpRV_hzkq0131ftLl6671tiBxQRlukSPxLH2xtQtdnhs4qSQpycplxFW_3_sCnV1wix2gDlTTRNKP-_pQE-qq5cwVtcGlXlfES6IfjGw-n_qHUsgZvEjg6heC06tDqrpwbM4JYIiOZgN7ijS3aGlMETYKVtqpnRSZ7OZ3gUtCsVwJ3wFtnlHfpqoKc30Cl4tGomBVFFU3JUvuFi1iCjI3MRCJh6NgXl9cw39MShO64kFuRfZ0EkHmSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;27d00181-fdab-4b99-b318-f646d18e3b20&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717bf6160
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717bf6160
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717c7f910, connectTimeout: 30, retryInterval: 0, ssl: 0x561717874fb0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c7e770, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyODEsImlhdCI6MTY1MjA5ODk4MSwiYXV0aF90aW1lIjoxNjUyMDk4OTc5LCJqdGkiOiIxZGE2ZGEyYS0wMmJjLTRjM2EtYmI4MC1hOTJmM2NjMGMyYjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYc0o2a0p1eUZ4cWRtdnRuTktIMHpnIiwic2Vzc2lvbl9zdGF0ZSI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmNjgzNmE5LWQ2ZDEtNGIxYi1hZDI0LTNmMWY5MTg0YmZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EWEZg5Hqzaq99nI9PwK8pIG8vSRZdEoPP3eJfVvsnpWW7FowNDeXkEf0lhvHiuKV90ioST9atORy5OCr0bfSmdL-GwXSt0plpRV_hzkq0131ftLl6671tiBxQRlukSPxLH2xtQtdnhs4qSQpycplxFW_3_sCnV1wix2gDlTTRNKP-_pQE-qq5cwVtcGlXlfES6IfjGw-n_qHUsgZvEjg6heC06tDqrpwbM4JYIiOZgN7ijS3aGlMETYKVtqpnRSZ7OZ3gUtCsVwJ3wFtnlHfpqoKc30Cl4tGomBVFFU3JUvuFi1iCjI3MRCJh6NgXl9cw39MShO64kFuRfZ0EkHmSQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:03Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;&#x27; @ QOS 0
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b18019250, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717896ad0 } }, data: MessageData { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717896ad0 } } } }
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717837120, 0x561717a10180
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a10180, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a10180, 0x7f4b300074e0
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074e0, 0x56171793f780
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074e0, 0x7f4b30007c20
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30007c20, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30007c20, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30007c20, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30007c20, 0x7f4b30008020
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30008020, 0x7f4b30007c20
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30007c20, 0x7f4b30008020
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30008020, 0x7f4b300037f0
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30008020, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30008020, 0x5617179e1500
[2022-05-09T12:23:07Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30008020
[2022-05-09T12:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;id&quot;: &quot;55fb6ea9-be35-4a15-b939-8300398e117c&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;9b8b0c7e-3b9d-4e14-815b-0ef4aa30e254&quot;, &quot;application&quot;: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, &quot;partitionkey&quot;: &quot;5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/device1&quot;, &quot;applicationuid&quot;: &quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-09T12:23:07.611788906+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:23:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:23:08Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:23:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:23:08Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:23:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;899fa15a-9f83-490e-b07a-57050b61210a&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c6ace0
[2022-05-09T12:23:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c6ace0
[2022-05-09T12:23:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717833f60, password: 0x561717c828e0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617178371b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ab92f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b18015750, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717940c60 } }, data: MessageData { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717940c60 } } } }
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b28008ae0
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x561717a6f6c0
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x7f4b28003d20
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x561717a1cdb0
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28004a80
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a80, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a80, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a80, 0x7f4b28008160
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a80, 0x7f4b28001240
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001240, 0x561717948490
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001240, 0x7f4b28004590
[2022-05-09T12:23:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004590
[2022-05-09T12:23:09Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca63f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca63f0 } } } }
[2022-05-09T12:23:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:23:08.729152996+00:00&quot;, &quot;applicationuid&quot;: &quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;, &quot;application&quot;: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, &quot;senderuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;760deff2-5d03-43a8-a53e-165966fd6070&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:23:09Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717b6b200 } }, data: MessageData { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717b6b200 } } } }
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008ae0, 0x561717a0fee0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a0fee0, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a0fee0, 0x7f4b28000aa0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b18015b30
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b28004e30
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004e30, 0x7f4b280045d0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b1802eb40
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b18015a10
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b28004a60
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004a60, 0x7f4b280045d0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28008190
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;9b8b0c7e-3b9d-4e14-815b-0ef4aa30e254&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;source&quot;: &quot;drogue://5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:23:09.251957501+00:00&quot;, &quot;senderuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;id&quot;: &quot;58752589-6950-4e7a-a478-2001ec1b4c74&quot;, &quot;applicationuid&quot;: &quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;, &quot;application&quot;: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;}, payload: &quot;&quot; }
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b18019410, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717987f40 } }, data: MessageData { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717987f40 } } } }
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045f0, 0x7f4b28005000
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005000, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005000, 0x7f4b28008010
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008010, 0x7f4b1801a460
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008010, 0x7f4b28003d20
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003d20, 0x7f4b28000aa0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b280045b0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045b0, 0x7f4b28000aa0
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b18032d30
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000aa0, 0x7f4b28005020
[2022-05-09T12:23:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28000aa0
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:23:10.143334507+00:00&quot;, &quot;id&quot;: &quot;c7df3edd-fb60-4042-8ca2-6975b3fa943a&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, &quot;source&quot;: &quot;drogue://5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/gateway1&quot;, &quot;partitionkey&quot;: &quot;5129aa68%2D8035%2D41e6%2D99b3%2D1dbfcce039c6/gateway1&quot;, &quot;deviceuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;senderuid&quot;: &quot;a4aeac37-53a3-4301-baef-7d4779228ecf&quot;, &quot;applicationuid&quot;: &quot;8d2e0db7-44f2-44be-815d-b81044e1c5ea&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:23:10Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:23:10Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot; &quot;device1&quot;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot; &quot;gateway1&quot;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5129aa68-8035-41e6-99b3-1dbfcce039c6&#x27;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5129aa68-8035-41e6-99b3-1dbfcce039c6&quot;
[2022-05-09T12:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5129aa68-8035-41e6-99b3-1dbfcce039c6 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:23:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:23:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:23:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:23:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3OTcsImlhdCI6MTY1MjA5ODk5NywianRpIjoiMTUxOTQ1YzctYmIzNC00ZjZjLWI2YzktMjA4MzkyZWMwMGQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlrQ1RNQ0QwY2NaX0lKR1lxTVl6NmciLCJzZXNzaW9uX3N0YXRlIjoiZDIwOGQ4MGQtZGM2Yi00ZmIxLTliZjQtNTY0YWYzMGNlZWFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyJ9.spaRRyJnLXgIPPR8GUrVrt0u9UkCohPPYsqDrZuhiYI
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA3OTcsImlhdCI6MTY1MjA5ODk5NywianRpIjoiMTUxOTQ1YzctYmIzNC00ZjZjLWI2YzktMjA4MzkyZWMwMGQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlrQ1RNQ0QwY2NaX0lKR1lxTVl6NmciLCJzZXNzaW9uX3N0YXRlIjoiZDIwOGQ4MGQtZGM2Yi00ZmIxLTliZjQtNTY0YWYzMGNlZWFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyJ9.spaRRyJnLXgIPPR8GUrVrt0u9UkCohPPYsqDrZuhiYI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;
[2022-05-09T12:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:17.848863Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dfda4041-8f47-4e40-9bd6-14273cc404e6\&quot;,\n    \&quot;uid\&quot;: \&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.863459474Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:17.848863Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;), &quot;resourceVersion&quot;: String(&quot;dfda4041-8f47-4e40-9bd6-14273cc404e6&quot;), &quot;uid&quot;: String(&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.863459474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:23:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:17.848863Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4682db67-c604-4092-9358-c89235cff14e\&quot;,\n    \&quot;uid\&quot;: \&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154851712Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154769268Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.929735590Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.937088307Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.991567493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.001800722Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154695198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154715126Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WRGk03fleqA0\&quot;,\n        \&quot;username\&quot;: \&quot;user-6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:17.848863Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;), &quot;resourceVersion&quot;: String(&quot;4682db67-c604-4092-9358-c89235cff14e&quot;), &quot;uid&quot;: String(&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154851712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154769268Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.929735590Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.937088307Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.991567493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.001800722Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154695198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154715126Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WRGk03fleqA0&quot;), &quot;username&quot;: String(&quot;user-6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;)})})})})
[2022-05-09T12:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:17.848863Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4682db67-c604-4092-9358-c89235cff14e\&quot;,\n    \&quot;uid\&quot;: \&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154851712Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154769268Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.929735590Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.937088307Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:17.991567493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.001800722Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154695198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:18.154715126Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WRGk03fleqA0\&quot;,\n        \&quot;username\&quot;: \&quot;user-6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:17.848863Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;), &quot;resourceVersion&quot;: String(&quot;4682db67-c604-4092-9358-c89235cff14e&quot;), &quot;uid&quot;: String(&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154851712Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154769268Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.929735590Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.937088307Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:17.991567493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.001800722Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154695198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:18.154715126Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WRGk03fleqA0&quot;), &quot;username&quot;: String(&quot;user-6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;)})})})})
[2022-05-09T12:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyOTcsImlhdCI6MTY1MjA5ODk5NywiYXV0aF90aW1lIjoxNjUyMDk4OTk0LCJqdGkiOiJiNTViODgxMy0xMGU0LTQ0OTEtYWU1Yy1jYjE4NjAzNTQxOTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5a0NUTUNEMGNjWl9JSkdZcU1ZejZnIiwic2Vzc2lvbl9zdGF0ZSI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CFwudUDPDwBRDC6DPPq_ClE4YFMahswaNjLYrPC0hjxeB54nMzuQnOXdp_vCRN0j0VcG_OVLiOrmNU1wNjLPH3Ioi03931AcAS-ZYntHQu-2xGWd1BrABc084oYxpLdU75ukiNzs16Knjumo42gN_-WyyefcYJTMgQ5IkI0mHKo4UwZY2ieJtj6BcvBwCoiC5wyLZmH2z6X3xGGb7CpEq_L5D5ieSw7jEyb-B1t3HqK2GhO2qjJ5SFautSC5bO2zmtl747-4HIbjvOXpl6y8OiLCPO-fbAtE8vonbfhNwNxJR3R2LU2RCxNszxDSofu4HT8afd_vcWHkn75bSyQKmw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyOTcsImlhdCI6MTY1MjA5ODk5NywiYXV0aF90aW1lIjoxNjUyMDk4OTk0LCJqdGkiOiJiNTViODgxMy0xMGU0LTQ0OTEtYWU1Yy1jYjE4NjAzNTQxOTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5a0NUTUNEMGNjWl9JSkdZcU1ZejZnIiwic2Vzc2lvbl9zdGF0ZSI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CFwudUDPDwBRDC6DPPq_ClE4YFMahswaNjLYrPC0hjxeB54nMzuQnOXdp_vCRN0j0VcG_OVLiOrmNU1wNjLPH3Ioi03931AcAS-ZYntHQu-2xGWd1BrABc084oYxpLdU75ukiNzs16Knjumo42gN_-WyyefcYJTMgQ5IkI0mHKo4UwZY2ieJtj6BcvBwCoiC5wyLZmH2z6X3xGGb7CpEq_L5D5ieSw7jEyb-B1t3HqK2GhO2qjJ5SFautSC5bO2zmtl747-4HIbjvOXpl6y8OiLCPO-fbAtE8vonbfhNwNxJR3R2LU2RCxNszxDSofu4HT8afd_vcWHkn75bSyQKmw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;8079cc0a-9324-4eb1-931b-9a627c26ddaa&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b40cd0
[2022-05-09T12:23:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b40cd0
[2022-05-09T12:23:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x56171799eeb0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717987cf0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717befe90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkyOTcsImlhdCI6MTY1MjA5ODk5NywiYXV0aF90aW1lIjoxNjUyMDk4OTk0LCJqdGkiOiJiNTViODgxMy0xMGU0LTQ0OTEtYWU1Yy1jYjE4NjAzNTQxOTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5a0NUTUNEMGNjWl9JSkdZcU1ZejZnIiwic2Vzc2lvbl9zdGF0ZSI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMDhkODBkLWRjNmItNGZiMS05YmY0LTU2NGFmMzBjZWVhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CFwudUDPDwBRDC6DPPq_ClE4YFMahswaNjLYrPC0hjxeB54nMzuQnOXdp_vCRN0j0VcG_OVLiOrmNU1wNjLPH3Ioi03931AcAS-ZYntHQu-2xGWd1BrABc084oYxpLdU75ukiNzs16Knjumo42gN_-WyyefcYJTMgQ5IkI0mHKo4UwZY2ieJtj6BcvBwCoiC5wyLZmH2z6X3xGGb7CpEq_L5D5ieSw7jEyb-B1t3HqK2GhO2qjJ5SFautSC5bO2zmtl747-4HIbjvOXpl6y8OiLCPO-fbAtE8vonbfhNwNxJR3R2LU2RCxNszxDSofu4HT8afd_vcWHkn75bSyQKmw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;&#x27; @ QOS 0
[2022-05-09T12:23:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:23:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:23:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c016350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 57, 49, 55, 55, 57, 100, 97, 45, 98, 54, 97, 50, 45, 52, 50, 53, 49, 45, 57, 53, 54, 99, 45, 99, 57, 99, 99, 55, 98, 99, 48, 97, 56, 50, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 50, 50, 46, 54, 49, 48, 55, 57, 52, 51, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 48, 50, 50, 48, 48, 54, 99, 45, 55, 98, 57, 55, 45, 52, 49, 53, 54, 45, 57, 53, 51, 97, 45, 97, 53, 99, 53, 52, 52, 102, 55, 51, 99, 98, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 45, 48, 99, 56, 101, 45, 52, 100, 53, 53, 45, 98, 55, 97, 49, 45, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 97, 97, 49, 100, 99, 97, 45, 97, 50, 56, 102, 45, 52, 51, 51, 97, 45, 97, 52, 101, 99, 45, 98, 53, 53, 101, 101, 48, 52, 55, 52, 48, 52, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;791779da-b6a2-4251-956c-c9cc7bc0a825\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:22.610794317Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;c022006c-7b97-4156-953a-a5c544f73cb4\&quot;,\&quot;application\&quot;:\&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;,\&quot;applicationuid\&quot;:\&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;,\&quot;partitionkey\&quot;:\&quot;6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:23:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:23:23Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:23:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:23:23Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:23:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;b6de3190-b689-4249-a38b-41c19d639b8f&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a9aef0
[2022-05-09T12:23:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a9aef0
[2022-05-09T12:23:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717d51e10, password: 0x5617179b1670, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179a0270, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d506b0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171787ba30 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171787ba30 } } } }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c00b750, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 51, 102, 57, 56, 57, 97, 48, 45, 51, 97, 97, 48, 45, 52, 52, 98, 56, 45, 98, 49, 101, 57, 45, 98, 100, 52, 56, 99, 51, 98, 56, 50, 56, 49, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 50, 51, 46, 55, 50, 55, 49, 57, 50, 48, 53, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 45, 48, 99, 56, 101, 45, 52, 100, 53, 53, 45, 98, 55, 97, 49, 45, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 97, 97, 49, 100, 99, 97, 45, 97, 50, 56, 102, 45, 52, 51, 51, 97, 45, 97, 52, 101, 99, 45, 98, 53, 53, 101, 101, 48, 52, 55, 52, 48, 52, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;03f989a0-3aa0-44b8-b1e9-bd48c3b8281e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:23.727192057Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\&quot;deviceuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;,\&quot;senderuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c016ca0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 55, 102, 54, 56, 51, 55, 101, 45, 48, 57, 102, 56, 45, 52, 99, 56, 99, 45, 57, 49, 97, 48, 45, 56, 99, 57, 48, 54, 101, 55, 51, 56, 100, 52, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 50, 52, 46, 50, 53, 56, 50, 49, 49, 55, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 48, 50, 50, 48, 48, 54, 99, 45, 55, 98, 57, 55, 45, 52, 49, 53, 54, 45, 57, 53, 51, 97, 45, 97, 53, 99, 53, 52, 52, 102, 55, 51, 99, 98, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 45, 48, 99, 56, 101, 45, 52, 100, 53, 53, 45, 98, 55, 97, 49, 45, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 97, 97, 49, 100, 99, 97, 45, 97, 50, 56, 102, 45, 52, 51, 51, 97, 45, 97, 52, 101, 99, 45, 98, 53, 53, 101, 101, 48, 52, 55, 52, 48, 52, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c7f6837e-09f8-4c8c-91a0-8c906e738d44\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:24.258211717Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;,\&quot;partitionkey\&quot;:\&quot;6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;c022006c-7b97-4156-953a-a5c544f73cb4\&quot;,\&quot;application\&quot;:\&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\&quot;applicationuid\&quot;:\&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;}&quot; }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c008380, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 49, 57, 55, 97, 51, 56, 55, 45, 100, 56, 100, 99, 45, 52, 55, 52, 102, 45, 98, 53, 99, 101, 45, 100, 57, 51, 52, 52, 50, 55, 100, 49, 53, 48, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 50, 52, 46, 51, 48, 48, 50, 53, 48, 55, 48, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 45, 48, 99, 56, 101, 45, 52, 100, 53, 53, 45, 98, 55, 97, 49, 45, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 100, 98, 100, 102, 101, 101, 49, 37, 50, 68, 48, 99, 56, 101, 37, 50, 68, 52, 100, 53, 53, 37, 50, 68, 98, 55, 97, 49, 37, 50, 68, 100, 101, 99, 51, 102, 100, 97, 99, 53, 102, 54, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 97, 97, 49, 100, 99, 97, 45, 97, 50, 56, 102, 45, 52, 51, 51, 97, 45, 97, 52, 101, 99, 45, 98, 53, 53, 101, 101, 48, 52, 55, 52, 48, 52, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 49, 56, 57, 98, 53, 54, 98, 45, 102, 54, 57, 99, 45, 52, 100, 54, 101, 45, 98, 49, 102, 49, 45, 102, 57, 51, 99, 50, 51, 102, 99, 48, 54, 56, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9197a387-d8dc-474f-b5ce-d934427d1500\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:24.300250706Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;6dbdfee1%2D0c8e%2D4d55%2Db7a1%2Ddec3fdac5f6e/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;2caa1dca-a28f-433a-a4ec-b55ee0474046\&quot;,\&quot;deviceuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;,\&quot;senderuid\&quot;:\&quot;e189b56b-f69c-4d6e-b1f1-f93c23fc0687\&quot;}&quot; }
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:23:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:23:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot; &quot;device1&quot;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot; &quot;gateway1&quot;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&#x27;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e&quot;
[2022-05-09T12:23:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6dbdfee1-0c8e-4d55-b7a1-dec3fdac5f6e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:23:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:23:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:23:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:23:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MTAsImlhdCI6MTY1MjA5OTAxMCwianRpIjoiZDg0YTE0YWMtMTZiNi00MTIwLTlhYmUtOTc0NTU0MTVmZDYwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtFMnNOUWpMeFI1eDVrMk9GUFJBbnciLCJzZXNzaW9uX3N0YXRlIjoiMTZlNWQyMGYtOGI4MS00M2I2LThkOTAtZWExNDYzYTY0YjBmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiJ9.KY03GOEXgwXzesr4x-_0zSVaBmxl9YGEz7u09hMynBc
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MTAsImlhdCI6MTY1MjA5OTAxMCwianRpIjoiZDg0YTE0YWMtMTZiNi00MTIwLTlhYmUtOTc0NTU0MTVmZDYwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtFMnNOUWpMeFI1eDVrMk9GUFJBbnciLCJzZXNzaW9uX3N0YXRlIjoiMTZlNWQyMGYtOGI4MS00M2I2LThkOTAtZWExNDYzYTY0YjBmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiJ9.KY03GOEXgwXzesr4x-_0zSVaBmxl9YGEz7u09hMynBc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 7bb7dd1c-c894-4e69-bfc0-111f12faf65b
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7bb7dd1c-c894-4e69-bfc0-111f12faf65b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;
[2022-05-09T12:23:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:31.796367Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fd9a79a1-2211-4497-bba2-568b190f5ce1\&quot;,\n    \&quot;uid\&quot;: \&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.814037268Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.813909038Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.812903622Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.812905255Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.812906017Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.812907620Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.812908161Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.813673606Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:31.796367Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;), &quot;resourceVersion&quot;: String(&quot;fd9a79a1-2211-4497-bba2-568b190f5ce1&quot;), &quot;uid&quot;: String(&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.814037268Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.813909038Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.812903622Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.812905255Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.812906017Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.812907620Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.812908161Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.813673606Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:23:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:31.796367Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;518d92db-5d49-484e-96bf-04b8e14cdb3c\&quot;,\n    \&quot;uid\&quot;: \&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110999029Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110869095Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.840692019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.846407185Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.922248136Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.929115534Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110733972Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110836955Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;tICRqNTMZvqo\&quot;,\n        \&quot;username\&quot;: \&quot;user-7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:31.796367Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;), &quot;resourceVersion&quot;: String(&quot;518d92db-5d49-484e-96bf-04b8e14cdb3c&quot;), &quot;uid&quot;: String(&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110999029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110869095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.840692019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.846407185Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.922248136Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.929115534Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110733972Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110836955Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;tICRqNTMZvqo&quot;), &quot;username&quot;: String(&quot;user-7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;)})})})})
[2022-05-09T12:23:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:31.796367Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;518d92db-5d49-484e-96bf-04b8e14cdb3c\&quot;,\n    \&quot;uid\&quot;: \&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110999029Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110869095Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.840692019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.846407185Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.922248136Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:31.929115534Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110733972Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:32.110836955Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;tICRqNTMZvqo\&quot;,\n        \&quot;username\&quot;: \&quot;user-7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:31.796367Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;), &quot;resourceVersion&quot;: String(&quot;518d92db-5d49-484e-96bf-04b8e14cdb3c&quot;), &quot;uid&quot;: String(&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110999029Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110869095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.840692019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.846407185Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.922248136Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:31.929115534Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110733972Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:32.110836955Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;tICRqNTMZvqo&quot;), &quot;username&quot;: String(&quot;user-7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;)})})})})
[2022-05-09T12:23:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMTEsImlhdCI6MTY1MjA5OTAxMSwiYXV0aF90aW1lIjoxNjUyMDk5MDA4LCJqdGkiOiJiY2MxN2IzNy1jMDlmLTQ1NjYtYTg5OC0xZDk0N2ZhZDhjMDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrRTJzTlFqTHhSNXg1azJPRlBSQW53Iiwic2Vzc2lvbl9zdGF0ZSI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEcWK5e9nDHM80o3mhwzm8mhkzzUvEw3yux-aIoxpfpKF-NdoHHjcY4Q4jZHA_xRsOS6AymxSVdNwA2_HC13NX-m5EcPAydVFTgNDd6dnb0GCrJzeb4QDCogGItOqAD-xVEQf4xQalwas3C-ycR8yBg7K8iEUEAo6zOu82ehR4LC3LxsB50G7N6u1o_bP9l6u41AMI83-Ox0ULlJnc0KzEeZ7KKkWx8zuUiksa3zokONtSlnaGJcPHra_na4IRzxn8IMqXWx-grK1NFFi0ZaIuesMgTgasWg9gBVeP6dmRNnFWSoc0D0tUwNnIuQjrfxztpBfNj9nurSlMAklvqWEQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMTEsImlhdCI6MTY1MjA5OTAxMSwiYXV0aF90aW1lIjoxNjUyMDk5MDA4LCJqdGkiOiJiY2MxN2IzNy1jMDlmLTQ1NjYtYTg5OC0xZDk0N2ZhZDhjMDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrRTJzTlFqTHhSNXg1azJPRlBSQW53Iiwic2Vzc2lvbl9zdGF0ZSI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEcWK5e9nDHM80o3mhwzm8mhkzzUvEw3yux-aIoxpfpKF-NdoHHjcY4Q4jZHA_xRsOS6AymxSVdNwA2_HC13NX-m5EcPAydVFTgNDd6dnb0GCrJzeb4QDCogGItOqAD-xVEQf4xQalwas3C-ycR8yBg7K8iEUEAo6zOu82ehR4LC3LxsB50G7N6u1o_bP9l6u41AMI83-Ox0ULlJnc0KzEeZ7KKkWx8zuUiksa3zokONtSlnaGJcPHra_na4IRzxn8IMqXWx-grK1NFFi0ZaIuesMgTgasWg9gBVeP6dmRNnFWSoc0D0tUwNnIuQjrfxztpBfNj9nurSlMAklvqWEQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:32Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;7f6a0d5a-7b03-4512-8ef3-4406ca8067df&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:32Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:32Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178ad110
[2022-05-09T12:23:32Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178ad110
[2022-05-09T12:23:32Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717b632d0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a9b650, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b62940, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMTEsImlhdCI6MTY1MjA5OTAxMSwiYXV0aF90aW1lIjoxNjUyMDk5MDA4LCJqdGkiOiJiY2MxN2IzNy1jMDlmLTQ1NjYtYTg5OC0xZDk0N2ZhZDhjMDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrRTJzTlFqTHhSNXg1azJPRlBSQW53Iiwic2Vzc2lvbl9zdGF0ZSI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2ZTVkMjBmLThiODEtNDNiNi04ZDkwLWVhMTQ2M2E2NGIwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEcWK5e9nDHM80o3mhwzm8mhkzzUvEw3yux-aIoxpfpKF-NdoHHjcY4Q4jZHA_xRsOS6AymxSVdNwA2_HC13NX-m5EcPAydVFTgNDd6dnb0GCrJzeb4QDCogGItOqAD-xVEQf4xQalwas3C-ycR8yBg7K8iEUEAo6zOu82ehR4LC3LxsB50G7N6u1o_bP9l6u41AMI83-Ox0ULlJnc0KzEeZ7KKkWx8zuUiksa3zokONtSlnaGJcPHra_na4IRzxn8IMqXWx-grK1NFFi0ZaIuesMgTgasWg9gBVeP6dmRNnFWSoc0D0tUwNnIuQjrfxztpBfNj9nurSlMAklvqWEQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;&#x27; @ QOS 0
[2022-05-09T12:23:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:23:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:23:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:34Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:34Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c004850, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 53, 54, 50, 57, 97, 51, 50, 45, 98, 99, 98, 55, 45, 52, 97, 55, 50, 45, 57, 98, 55, 57, 45, 53, 49, 57, 101, 55, 102, 100, 50, 55, 49, 53, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 51, 54, 46, 54, 50, 53, 50, 50, 56, 52, 52, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 52, 54, 56, 56, 102, 98, 101, 45, 48, 48, 53, 98, 45, 52, 57, 56, 53, 45, 56, 98, 99, 101, 45, 101, 101, 54, 50, 51, 102, 51, 52, 48, 54, 50, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 100, 97, 52, 98, 57, 99, 45, 50, 52, 51, 101, 45, 52, 52, 56, 55, 45, 57, 56, 57, 49, 45, 53, 56, 102, 49, 101, 56, 101, 55, 101, 50, 50, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 45, 99, 56, 57, 52, 45, 52, 101, 54, 57, 45, 98, 102, 99, 48, 45, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;35629a32-bcb7-4a72-9b79-519e7fd2715e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:36.625228445Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;deviceuid\&quot;:\&quot;b4688fbe-005b-4985-8bce-ee623f34062e\&quot;,\&quot;applicationuid\&quot;:\&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\&quot;partitionkey\&quot;:\&quot;7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/device1\&quot;}&quot; }
[2022-05-09T12:23:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:23:37Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:23:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:23:37Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:23:37Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;3dd481ff-1250-4bf9-bd90-c88779f8edc7&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:37Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:37Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717870060
[2022-05-09T12:23:37Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717870060
[2022-05-09T12:23:37Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717870340, password: 0x5617178dc330, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a46340, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b182c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c02a600, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 53, 51, 97, 99, 53, 101, 50, 45, 51, 102, 55, 50, 45, 52, 54, 48, 48, 45, 98, 53, 48, 100, 45, 54, 98, 49, 50, 50, 55, 100, 100, 98, 56, 97, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 51, 55, 46, 55, 52, 49, 48, 51, 57, 52, 54, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 45, 99, 56, 57, 52, 45, 52, 101, 54, 57, 45, 98, 102, 99, 48, 45, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 100, 97, 52, 98, 57, 99, 45, 50, 52, 51, 101, 45, 52, 52, 56, 55, 45, 57, 56, 57, 49, 45, 53, 56, 102, 49, 101, 56, 101, 55, 101, 50, 50, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;353ac5e2-3f72-4600-b50d-6b1227ddb8ac\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:37.741039466Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;application\&quot;:\&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\&quot;partitionkey\&quot;:\&quot;7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;applicationuid\&quot;:\&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:23:38Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179434b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179434b0 } } } }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c02a890, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 54, 100, 102, 52, 54, 53, 50, 45, 102, 101, 48, 53, 45, 52, 98, 52, 49, 45, 97, 57, 101, 49, 45, 50, 100, 54, 56, 48, 55, 56, 53, 51, 102, 50, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 51, 56, 46, 50, 54, 48, 57, 51, 53, 56, 51, 56, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 45, 99, 56, 57, 52, 45, 52, 101, 54, 57, 45, 98, 102, 99, 48, 45, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 52, 54, 56, 56, 102, 98, 101, 45, 48, 48, 53, 98, 45, 52, 57, 56, 53, 45, 56, 98, 99, 101, 45, 101, 101, 54, 50, 51, 102, 51, 52, 48, 54, 50, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 100, 97, 52, 98, 57, 99, 45, 50, 52, 51, 101, 45, 52, 52, 56, 55, 45, 57, 56, 57, 49, 45, 53, 56, 102, 49, 101, 56, 101, 55, 101, 50, 50, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;26df4652-fe05-4b41-a9e1-2d6807853f20\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:38.260935838Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;application\&quot;:\&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;b4688fbe-005b-4985-8bce-ee623f34062e\&quot;,\&quot;partitionkey\&quot;:\&quot;7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c018910, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 102, 48, 50, 49, 56, 56, 50, 45, 101, 53, 100, 49, 45, 52, 97, 101, 55, 45, 57, 55, 97, 49, 45, 97, 56, 52, 97, 100, 57, 49, 97, 48, 49, 99, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 51, 56, 46, 51, 52, 48, 57, 53, 57, 56, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 45, 99, 56, 57, 52, 45, 52, 101, 54, 57, 45, 98, 102, 99, 48, 45, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 101, 52, 50, 98, 100, 50, 52, 45, 99, 98, 57, 54, 45, 52, 97, 101, 55, 45, 97, 55, 53, 53, 45, 56, 51, 49, 97, 53, 97, 49, 51, 54, 98, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 98, 98, 55, 100, 100, 49, 99, 37, 50, 68, 99, 56, 57, 52, 37, 50, 68, 52, 101, 54, 57, 37, 50, 68, 98, 102, 99, 48, 37, 50, 68, 49, 49, 49, 102, 49, 50, 102, 97, 102, 54, 53, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 100, 97, 52, 98, 57, 99, 45, 50, 52, 51, 101, 45, 52, 52, 56, 55, 45, 57, 56, 57, 49, 45, 53, 56, 102, 49, 101, 56, 101, 55, 101, 50, 50, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3f021882-e5d1-4ae7-97a1-a84ad91a01c8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:38.340959814Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;application\&quot;:\&quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b\&quot;,\&quot;deviceuid\&quot;:\&quot;7e42bd24-cb96-4ae7-a755-831a5a136b59\&quot;,\&quot;partitionkey\&quot;:\&quot;7bb7dd1c%2Dc894%2D4e69%2Dbfc0%2D111f12faf65b/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;fbda4b9c-243e-4487-9891-58f1e8e7e229\&quot;}&quot; }
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:23:38Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:23:38Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot; &quot;device1&quot;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot; &quot;gateway1&quot;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&#x27;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7bb7dd1c-c894-4e69-bfc0-111f12faf65b&quot;
[2022-05-09T12:23:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7bb7dd1c-c894-4e69-bfc0-111f12faf65b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:23:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:23:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:23:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:23:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MjQsImlhdCI6MTY1MjA5OTAyNCwianRpIjoiNDJjYTZiNjEtY2RlMC00MDNhLTk4YjMtY2E0NDNmNmU1YjdjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpFV05GRF9Ma19RQ1dTQm54TW5YZGciLCJzZXNzaW9uX3N0YXRlIjoiNDY0ZTllNjctNGMyOS00ZDViLTgyN2UtN2FhODQ5MmQ3Y2UxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSJ9.v6zN0BWOp8lM8qozOhmWnuC4fE-Np4i8bQ-zsAp2H_U
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MjQsImlhdCI6MTY1MjA5OTAyNCwianRpIjoiNDJjYTZiNjEtY2RlMC00MDNhLTk4YjMtY2E0NDNmNmU1YjdjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpFV05GRF9Ma19RQ1dTQm54TW5YZGciLCJzZXNzaW9uX3N0YXRlIjoiNDY0ZTllNjctNGMyOS00ZDViLTgyN2UtN2FhODQ5MmQ3Y2UxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSJ9.v6zN0BWOp8lM8qozOhmWnuC4fE-Np4i8bQ-zsAp2H_U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::resources::apps] Create application: fd4463a3-057c-4082-89cf-2004a5783232
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fd4463a3-057c-4082-89cf-2004a5783232 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;
[2022-05-09T12:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:45.777890Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1e44c6fa-cec3-4b5e-8af7-8b5a8bfade3f\&quot;,\n    \&quot;uid\&quot;: \&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.795047029Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.795019968Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794989582Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794990583Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794991044Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794991665Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794992036Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.794996504Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:45.777890Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;), &quot;resourceVersion&quot;: String(&quot;1e44c6fa-cec3-4b5e-8af7-8b5a8bfade3f&quot;), &quot;uid&quot;: String(&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.795047029Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.795019968Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794989582Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794990583Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794991044Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794991665Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794992036Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.794996504Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:23:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:45.777890Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;64143073-eeeb-4d15-803f-07bed3b59fc3\&quot;,\n    \&quot;uid\&quot;: \&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104279319Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104165626Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.815479772Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.820635530Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.902606537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.908707658Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104028408Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104082189Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rjOcmyJKOjQq\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd4463a3-057c-4082-89cf-2004a5783232\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:45.777890Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;), &quot;resourceVersion&quot;: String(&quot;64143073-eeeb-4d15-803f-07bed3b59fc3&quot;), &quot;uid&quot;: String(&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104279319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104165626Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.815479772Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.820635530Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.902606537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.908707658Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104028408Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104082189Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rjOcmyJKOjQq&quot;), &quot;username&quot;: String(&quot;user-fd4463a3-057c-4082-89cf-2004a5783232&quot;)})})})})
[2022-05-09T12:23:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:45.777890Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;64143073-eeeb-4d15-803f-07bed3b59fc3\&quot;,\n    \&quot;uid\&quot;: \&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104279319Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104165626Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.815479772Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.820635530Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.902606537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:45.908707658Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104028408Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:46.104082189Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rjOcmyJKOjQq\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd4463a3-057c-4082-89cf-2004a5783232\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:45.777890Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;), &quot;resourceVersion&quot;: String(&quot;64143073-eeeb-4d15-803f-07bed3b59fc3&quot;), &quot;uid&quot;: String(&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104279319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104165626Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.815479772Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.820635530Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.902606537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:45.908707658Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104028408Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:46.104082189Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rjOcmyJKOjQq&quot;), &quot;username&quot;: String(&quot;user-fd4463a3-057c-4082-89cf-2004a5783232&quot;)})})})})
[2022-05-09T12:23:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMjUsImlhdCI6MTY1MjA5OTAyNSwiYXV0aF90aW1lIjoxNjUyMDk5MDIyLCJqdGkiOiIxZjY3Njk5My03ZDYxLTQ3NDEtODYzMC1jMmFjM2NkOTRiNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqRVdORkRfTGtfUUNXU0JueE1uWGRnIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B_c91jplOQDUFAZlm1qP-FY4H2iGs2mN1oSr7LDBGgbKJCmspRGOt2qmEdgouhdwt-052iusQ6I2aPvkSgERrn4UEQsJfA-ju1QjlVq44WhZBdKb_a7dDDARLZdQgjmE9xO3QumZ9G4kP5qJDbfjCdvTDfxlvvSg7IOShxycBoKR42_FdVjEZK3qiDeNw9cEpvI6MX8i2xWJQkjSH58TqR78BsvoF7BHt8TCO_Kf7MYVyTUSb5ayurDeey7YSEfG0jxYSRmSHXfb9PG0UTnU1e-w1f98Q3wvrTbXZJ0u1TW9lL3ZCymPWH369-TmGIRJbLj8GqRcI452smPGWeLUmg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:23:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMjUsImlhdCI6MTY1MjA5OTAyNSwiYXV0aF90aW1lIjoxNjUyMDk5MDIyLCJqdGkiOiIxZjY3Njk5My03ZDYxLTQ3NDEtODYzMC1jMmFjM2NkOTRiNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqRVdORkRfTGtfUUNXU0JueE1uWGRnIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B_c91jplOQDUFAZlm1qP-FY4H2iGs2mN1oSr7LDBGgbKJCmspRGOt2qmEdgouhdwt-052iusQ6I2aPvkSgERrn4UEQsJfA-ju1QjlVq44WhZBdKb_a7dDDARLZdQgjmE9xO3QumZ9G4kP5qJDbfjCdvTDfxlvvSg7IOShxycBoKR42_FdVjEZK3qiDeNw9cEpvI6MX8i2xWJQkjSH58TqR78BsvoF7BHt8TCO_Kf7MYVyTUSb5ayurDeey7YSEfG0jxYSRmSHXfb9PG0UTnU1e-w1f98Q3wvrTbXZJ0u1TW9lL3ZCymPWH369-TmGIRJbLj8GqRcI452smPGWeLUmg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;5d1ca088-dada-47a4-996d-35f1d1472769&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ce9710
[2022-05-09T12:23:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ce9710
[2022-05-09T12:23:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717cea470, connectTimeout: 30, retryInterval: 0, ssl: 0x56171793e950, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ce9f90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMjUsImlhdCI6MTY1MjA5OTAyNSwiYXV0aF90aW1lIjoxNjUyMDk5MDIyLCJqdGkiOiIxZjY3Njk5My03ZDYxLTQ3NDEtODYzMC1jMmFjM2NkOTRiNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqRVdORkRfTGtfUUNXU0JueE1uWGRnIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2NGU5ZTY3LTRjMjktNGQ1Yi04MjdlLTdhYTg0OTJkN2NlMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B_c91jplOQDUFAZlm1qP-FY4H2iGs2mN1oSr7LDBGgbKJCmspRGOt2qmEdgouhdwt-052iusQ6I2aPvkSgERrn4UEQsJfA-ju1QjlVq44WhZBdKb_a7dDDARLZdQgjmE9xO3QumZ9G4kP5qJDbfjCdvTDfxlvvSg7IOShxycBoKR42_FdVjEZK3qiDeNw9cEpvI6MX8i2xWJQkjSH58TqR78BsvoF7BHt8TCO_Kf7MYVyTUSb5ayurDeey7YSEfG0jxYSRmSHXfb9PG0UTnU1e-w1f98Q3wvrTbXZJ0u1TW9lL3ZCymPWH369-TmGIRJbLj8GqRcI452smPGWeLUmg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:47Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;&#x27; @ QOS 0
[2022-05-09T12:23:47Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:23:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:23:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:23:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:23:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:23:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:23:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18001390, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18001610 } }, data: MessageData { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 98, 53, 97, 101, 101, 102, 50, 45, 55, 49, 56, 53, 45, 52, 54, 53, 101, 45, 56, 51, 55, 48, 45, 51, 98, 51, 102, 102, 102, 97, 97, 57, 99, 51, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 53, 48, 46, 54, 49, 50, 57, 51, 57, 57, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 102, 56, 99, 48, 98, 102, 45, 97, 49, 48, 55, 45, 52, 56, 50, 57, 45, 97, 54, 52, 55, 45, 52, 54, 97, 51, 99, 99, 52, 102, 99, 55, 101, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 45, 48, 53, 55, 99, 45, 52, 48, 56, 50, 45, 56, 57, 99, 102, 45, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 99, 52, 99, 53, 101, 54, 54, 45, 54, 57, 98, 101, 45, 52, 57, 50, 48, 45, 97, 98, 99, 52, 45, 48, 54, 49, 98, 102, 48, 53, 52, 50, 101, 53, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18001610 } } } }
[2022-05-09T12:23:50Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ce6640
[2022-05-09T12:23:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fb5aeef2-7185-465e-8370-3b3fffaa9c3b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:50.612939997Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;,\&quot;application\&quot;:\&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\&quot;partitionkey\&quot;:\&quot;fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;6c4c5e66-69be-4920-abc4-061bf0542e5a\&quot;,\&quot;senderuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:23:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:23:51Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:23:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:23:51Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:23:51Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0ec50090-a495-45b9-b1cb-5d209284f756&quot;, persistence: None, user_data: None }
[2022-05-09T12:23:51Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:23:51Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b8ed50
[2022-05-09T12:23:51Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b8ed50
[2022-05-09T12:23:51Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717d022b0, password: 0x561717872f80, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ccf9d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cff9e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@fd4463a3-057c-4082-89cf-2004a5783232&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18023b50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18023de0 } }, data: MessageData { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 50, 99, 50, 50, 54, 56, 101, 45, 51, 102, 51, 57, 45, 52, 100, 98, 101, 45, 97, 99, 100, 100, 45, 57, 99, 56, 49, 50, 98, 51, 101, 51, 51, 97, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 53, 49, 46, 54, 55, 51, 51, 54, 53, 57, 48, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 45, 48, 53, 55, 99, 45, 52, 48, 56, 50, 45, 56, 57, 99, 102, 45, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 102, 56, 99, 48, 98, 102, 45, 97, 49, 48, 55, 45, 52, 56, 50, 57, 45, 97, 54, 52, 55, 45, 52, 54, 97, 51, 99, 99, 52, 102, 99, 55, 101, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18023de0 } } } }
[2022-05-09T12:23:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ce6640
[2022-05-09T12:23:52Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717be9d90 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717be9d90 } } } }
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d2c2268e-3f39-4dbe-acdd-9c812b3e33a9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:51.673365906Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/gateway1\&quot;,\&quot;application\&quot;:\&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;,\&quot;applicationuid\&quot;:\&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;}&quot; }
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b18020990, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18001de0 } }, data: MessageData { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 54, 54, 102, 102, 51, 102, 54, 45, 52, 51, 54, 53, 45, 52, 55, 49, 54, 45, 97, 52, 101, 99, 45, 48, 97, 50, 53, 57, 100, 99, 49, 51, 101, 50, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 53, 50, 46, 50, 54, 54, 51, 55, 57, 51, 57, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 102, 56, 99, 48, 98, 102, 45, 97, 49, 48, 55, 45, 52, 56, 50, 57, 45, 97, 54, 52, 55, 45, 52, 54, 97, 51, 99, 99, 52, 102, 99, 55, 101, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 45, 48, 53, 55, 99, 45, 52, 48, 56, 50, 45, 56, 57, 99, 102, 45, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18001de0 } } } }
[2022-05-09T12:23:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ce6640
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d66ff3f6-4365-4716-a4ec-0a259dc13e27\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:52.266379394Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;,\&quot;applicationuid\&quot;:\&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;,\&quot;application\&quot;:\&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;}&quot; }
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b180222c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18022540 } }, data: MessageData { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 99, 55, 56, 57, 56, 98, 55, 45, 51, 51, 99, 54, 45, 52, 54, 97, 97, 45, 56, 100, 102, 48, 45, 102, 48, 57, 97, 97, 102, 101, 100, 56, 52, 98, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 51, 58, 53, 50, 46, 50, 54, 52, 53, 50, 53, 56, 55, 56, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 102, 97, 51, 101, 51, 51, 99, 45, 48, 50, 54, 53, 45, 52, 51, 53, 51, 45, 97, 98, 101, 48, 45, 100, 98, 100, 50, 50, 99, 49, 49, 102, 102, 99, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 37, 50, 68, 48, 53, 55, 99, 37, 50, 68, 52, 48, 56, 50, 37, 50, 68, 56, 57, 99, 102, 37, 50, 68, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 99, 52, 99, 53, 101, 54, 54, 45, 54, 57, 98, 101, 45, 52, 57, 50, 48, 45, 97, 98, 99, 52, 45, 48, 54, 49, 98, 102, 48, 53, 52, 50, 101, 53, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 52, 102, 56, 99, 48, 98, 102, 45, 97, 49, 48, 55, 45, 52, 56, 50, 57, 45, 97, 54, 52, 55, 45, 52, 54, 97, 51, 99, 99, 52, 102, 99, 55, 101, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 52, 52, 54, 51, 97, 51, 45, 48, 53, 55, 99, 45, 52, 48, 56, 50, 45, 56, 57, 99, 102, 45, 50, 48, 48, 52, 97, 53, 55, 56, 51, 50, 51, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18022540 } } } }
[2022-05-09T12:23:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ce6640
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd4463a3-057c-4082-89cf-2004a5783232&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8c7898b7-33c6-46aa-8df0-f09aafed84b6\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:23:52.264525878Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;9fa3e33c-0265-4353-abe0-dbd22c11ffc0\&quot;,\&quot;partitionkey\&quot;:\&quot;fd4463a3%2D057c%2D4082%2D89cf%2D2004a5783232/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;6c4c5e66-69be-4920-abc4-061bf0542e5a\&quot;,\&quot;applicationuid\&quot;:\&quot;b4f8c0bf-a107-4829-a647-46a3cc4fc7e2\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;fd4463a3-057c-4082-89cf-2004a5783232\&quot;}&quot; }
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:23:52Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:23:52Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot; &quot;device1&quot;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot; &quot;gateway1&quot;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fd4463a3-057c-4082-89cf-2004a5783232&#x27;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fd4463a3-057c-4082-89cf-2004a5783232&quot;
[2022-05-09T12:23:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fd4463a3-057c-4082-89cf-2004a5783232 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:23:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:23:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:23:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:23:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:23:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:23:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:23:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MzksImlhdCI6MTY1MjA5OTAzOSwianRpIjoiZDA0OGQ2OTgtODVjNi00MjFmLWEzNWQtN2U3MDVlOWZmMmE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtqZmVSalI4NHBEM0R1NUJrMm1NYnciLCJzZXNzaW9uX3N0YXRlIjoiMDUxZTdiNTItMmM1MC00YTM4LTk3MzItODFjMGM2YjFjZWE4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCJ9.uOhf_rrMDk4rRKAcbrfPHiH-Clj7v5uR5c_Nx88TvsY
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4MzksImlhdCI6MTY1MjA5OTAzOSwianRpIjoiZDA0OGQ2OTgtODVjNi00MjFmLWEzNWQtN2U3MDVlOWZmMmE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtqZmVSalI4NHBEM0R1NUJrMm1NYnciLCJzZXNzaW9uX3N0YXRlIjoiMDUxZTdiNTItMmM1MC00YTM4LTk3MzItODFjMGM2YjFjZWE4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCJ9.uOhf_rrMDk4rRKAcbrfPHiH-Clj7v5uR5c_Nx88TvsY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::resources::apps] Create application: cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:23:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;
[2022-05-09T12:24:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:59.980586Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;82bf070b-2b7b-4599-8cde-9f89f8a7cca5\&quot;,\n    \&quot;uid\&quot;: \&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:23:59.991179717Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:59.980586Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;), &quot;resourceVersion&quot;: String(&quot;82bf070b-2b7b-4599-8cde-9f89f8a7cca5&quot;), &quot;uid&quot;: String(&quot;29ad9702-5183-4886-be44-43ac46d7ab61&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:23:59.991179717Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:24:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:59.980586Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0e465d74-1b1c-4fc8-a299-5e57c24d2af8\&quot;,\n    \&quot;uid\&quot;: \&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351667410Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351623929Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.037314127Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.044803760Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.173299496Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.180299253Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351520685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351542146Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kKgC0gzkPhpf\&quot;,\n        \&quot;username\&quot;: \&quot;user-cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:59.980586Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;), &quot;resourceVersion&quot;: String(&quot;0e465d74-1b1c-4fc8-a299-5e57c24d2af8&quot;), &quot;uid&quot;: String(&quot;29ad9702-5183-4886-be44-43ac46d7ab61&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351667410Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351623929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.037314127Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.044803760Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.173299496Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.180299253Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351520685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351542146Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kKgC0gzkPhpf&quot;), &quot;username&quot;: String(&quot;user-cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;)})})})})
[2022-05-09T12:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:23:59.980586Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0e465d74-1b1c-4fc8-a299-5e57c24d2af8\&quot;,\n    \&quot;uid\&quot;: \&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351667410Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351623929Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.037314127Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.044803760Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.173299496Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.180299253Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351520685Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:00.351542146Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kKgC0gzkPhpf\&quot;,\n        \&quot;username\&quot;: \&quot;user-cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:23:59.980586Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;), &quot;resourceVersion&quot;: String(&quot;0e465d74-1b1c-4fc8-a299-5e57c24d2af8&quot;), &quot;uid&quot;: String(&quot;29ad9702-5183-4886-be44-43ac46d7ab61&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351667410Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351623929Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.037314127Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.044803760Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.173299496Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.180299253Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351520685Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:00.351542146Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kKgC0gzkPhpf&quot;), &quot;username&quot;: String(&quot;user-cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;)})})})})
[2022-05-09T12:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMzksImlhdCI6MTY1MjA5OTAzOSwiYXV0aF90aW1lIjoxNjUyMDk5MDM2LCJqdGkiOiIyZDllN2NjOC00ZDY0LTQ3NWQtOWVhZS1hMjUzZTYyMzMwMGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJramZlUmpSODRwRDNEdTVCazJtTWJ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XgOaAPxEldm3ngNseF23Ji3ntxf1L5pGb0xlql-4S5kLBUm7Sj1cyiPSY1c4RS10qHN5HiI2REibRORWR-gdOySWsQrOqJY_BntE2-acyodk9BC33lECcVukEmTflTemsSn74hjDddrVEVrxoBs8jTA4T2jNDYz59mmeINq1wHaoOGo3GLd2Q36yETwgjyM9nErNBo8NxMvM4dDbB__ybnrpfX9RbOBo98db8aO9avJf70Q6oWGfj5xiVcOJwL7fXlInh71jvA6IWH1-WlqpW0ygEgX8WMer2k5ywyxqMgguFGrA8xQ2Wj7qC7stCe4CFFiakhFQjKwJR0frJ2VwkA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMzksImlhdCI6MTY1MjA5OTAzOSwiYXV0aF90aW1lIjoxNjUyMDk5MDM2LCJqdGkiOiIyZDllN2NjOC00ZDY0LTQ3NWQtOWVhZS1hMjUzZTYyMzMwMGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJramZlUmpSODRwRDNEdTVCazJtTWJ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XgOaAPxEldm3ngNseF23Ji3ntxf1L5pGb0xlql-4S5kLBUm7Sj1cyiPSY1c4RS10qHN5HiI2REibRORWR-gdOySWsQrOqJY_BntE2-acyodk9BC33lECcVukEmTflTemsSn74hjDddrVEVrxoBs8jTA4T2jNDYz59mmeINq1wHaoOGo3GLd2Q36yETwgjyM9nErNBo8NxMvM4dDbB__ybnrpfX9RbOBo98db8aO9avJf70Q6oWGfj5xiVcOJwL7fXlInh71jvA6IWH1-WlqpW0ygEgX8WMer2k5ywyxqMgguFGrA8xQ2Wj7qC7stCe4CFFiakhFQjKwJR0frJ2VwkA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;d2b7ac76-44ac-4849-a978-db3144fc7889&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171784eac0
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171784eac0
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717a43af0, connectTimeout: 30, retryInterval: 0, ssl: 0x56171784dca0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171784db20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzMzksImlhdCI6MTY1MjA5OTAzOSwiYXV0aF90aW1lIjoxNjUyMDk5MDM2LCJqdGkiOiIyZDllN2NjOC00ZDY0LTQ3NWQtOWVhZS1hMjUzZTYyMzMwMGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJramZlUmpSODRwRDNEdTVCazJtTWJ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MWU3YjUyLTJjNTAtNGEzOC05NzMyLTgxYzBjNmIxY2VhOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XgOaAPxEldm3ngNseF23Ji3ntxf1L5pGb0xlql-4S5kLBUm7Sj1cyiPSY1c4RS10qHN5HiI2REibRORWR-gdOySWsQrOqJY_BntE2-acyodk9BC33lECcVukEmTflTemsSn74hjDddrVEVrxoBs8jTA4T2jNDYz59mmeINq1wHaoOGo3GLd2Q36yETwgjyM9nErNBo8NxMvM4dDbB__ybnrpfX9RbOBo98db8aO9avJf70Q6oWGfj5xiVcOJwL7fXlInh71jvA6IWH1-WlqpW0ygEgX8WMer2k5ywyxqMgguFGrA8xQ2Wj7qC7stCe4CFFiakhFQjKwJR0frJ2VwkA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:01Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;&#x27; @ QOS 0
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c003f80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c004200 } }, data: MessageData { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 54, 99, 99, 100, 98, 48, 54, 45, 98, 98, 53, 56, 45, 52, 51, 56, 55, 45, 97, 99, 53, 99, 45, 97, 102, 53, 101, 102, 56, 100, 100, 101, 98, 48, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 48, 52, 46, 54, 49, 55, 51, 53, 49, 50, 52, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 97, 100, 57, 55, 48, 50, 45, 53, 49, 56, 51, 45, 52, 56, 56, 54, 45, 98, 101, 52, 52, 45, 52, 51, 97, 99, 52, 54, 100, 55, 97, 98, 54, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 99, 50, 102, 55, 98, 100, 54, 45, 97, 51, 54, 99, 45, 52, 101, 101, 48, 45, 57, 100, 50, 99, 45, 52, 50, 48, 102, 102, 101, 97, 100, 52, 57, 57, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 45, 57, 48, 48, 99, 45, 52, 101, 49, 48, 45, 56, 101, 48, 101, 45, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c004200 } } } }
[2022-05-09T12:24:04Z DEBUG paho_mqtt::properties] Dropping string property: 0x5617179ef350
[2022-05-09T12:24:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;86ccdb06-bb58-4387-ac5c-af5ef8ddeb04\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:04.617351248Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;,\&quot;partitionkey\&quot;:\&quot;cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/device1\&quot;,\&quot;senderuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;9c2f7bd6-a36c-4ee0-9d2c-420ffead4997\&quot;,\&quot;application\&quot;:\&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:24:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:24:05Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:24:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:24:05Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:24:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;89be890f-6ec7-4cc0-bd71-9b230f06ebb5&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b40240
[2022-05-09T12:24:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b40240
[2022-05-09T12:24:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717833f40, password: 0x56171784c320, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cae0b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178355d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:06Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179f24e0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179f24e0 } } } }
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c030270, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c030500 } }, data: MessageData { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 48, 55, 98, 101, 55, 51, 99, 45, 52, 101, 53, 51, 45, 52, 49, 52, 49, 45, 56, 49, 100, 99, 45, 97, 53, 54, 57, 51, 56, 101, 57, 54, 51, 101, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 48, 53, 46, 56, 56, 51, 55, 56, 54, 57, 54, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 97, 100, 57, 55, 48, 50, 45, 53, 49, 56, 51, 45, 52, 56, 56, 54, 45, 98, 101, 52, 52, 45, 52, 51, 97, 99, 52, 54, 100, 55, 97, 98, 54, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 45, 57, 48, 48, 99, 45, 52, 101, 49, 48, 45, 56, 101, 48, 101, 45, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c030500 } } } }
[2022-05-09T12:24:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x5617179ef350
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;607be73c-4e53-4141-81dc-a56938e963e5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:05.883786961Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;applicationuid\&quot;:\&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;,\&quot;deviceuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;application\&quot;:\&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c02bd50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02bfd0 } }, data: MessageData { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 51, 100, 56, 101, 55, 101, 101, 45, 53, 101, 56, 51, 45, 52, 53, 48, 55, 45, 56, 101, 55, 50, 45, 50, 53, 50, 100, 53, 52, 50, 100, 51, 57, 57, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 48, 54, 46, 50, 54, 54, 54, 57, 52, 55, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 45, 57, 48, 48, 99, 45, 52, 101, 49, 48, 45, 56, 101, 48, 101, 45, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 97, 100, 57, 55, 48, 50, 45, 53, 49, 56, 51, 45, 52, 56, 56, 54, 45, 98, 101, 52, 52, 45, 52, 51, 97, 99, 52, 54, 100, 55, 97, 98, 54, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 99, 50, 102, 55, 98, 100, 54, 45, 97, 51, 54, 99, 45, 52, 101, 101, 48, 45, 57, 100, 50, 99, 45, 52, 50, 48, 102, 102, 101, 97, 100, 52, 57, 57, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02bfd0 } } } }
[2022-05-09T12:24:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x5617179ef350
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;13d8e7ee-5e83-4507-8e72-252d542d3992\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:06.266694733Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;application\&quot;:\&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\&quot;partitionkey\&quot;:\&quot;cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;9c2f7bd6-a36c-4ee0-9d2c-420ffead4997\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c02e2f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02e580 } }, data: MessageData { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 101, 51, 99, 51, 55, 49, 99, 45, 102, 54, 102, 52, 45, 52, 55, 52, 100, 45, 97, 100, 52, 53, 45, 101, 99, 101, 56, 53, 97, 49, 56, 97, 100, 99, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 48, 54, 46, 51, 52, 52, 57, 57, 48, 54, 53, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 37, 50, 68, 57, 48, 48, 99, 37, 50, 68, 52, 101, 49, 48, 37, 50, 68, 56, 101, 48, 101, 37, 50, 68, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 53, 52, 98, 57, 101, 101, 45, 57, 48, 48, 99, 45, 52, 101, 49, 48, 45, 56, 101, 48, 101, 45, 49, 100, 55, 101, 99, 56, 100, 57, 97, 97, 56, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 57, 97, 100, 57, 55, 48, 50, 45, 53, 49, 56, 51, 45, 52, 56, 56, 54, 45, 98, 101, 52, 52, 45, 52, 51, 97, 99, 52, 54, 100, 55, 97, 98, 54, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 48, 55, 99, 52, 56, 54, 51, 45, 102, 102, 99, 49, 45, 52, 54, 53, 98, 45, 57, 100, 48, 97, 45, 50, 48, 57, 50, 50, 57, 100, 54, 48, 55, 55, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02e580 } } } }
[2022-05-09T12:24:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b1c02dba0
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2e3c371c-f6f4-474d-ad45-ece85a18adcf\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:06.344990659Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;cb54b9ee%2D900c%2D4e10%2D8e0e%2D1d7ec8d9aa86/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;application\&quot;:\&quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;29ad9702-5183-4886-be44-43ac46d7ab61\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;007c4863-ffc1-465b-9d0a-209229d60777\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:24:06Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:24:06Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot; &quot;device1&quot;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot; &quot;gateway1&quot;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&#x27;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86&quot;
[2022-05-09T12:24:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cb54b9ee-900c-4e10-8e0e-1d7ec8d9aa86 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:24:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:24:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:24:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:24:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4NTMsImlhdCI6MTY1MjA5OTA1MywianRpIjoiYTBlZTE2NTQtMDQ5Yy00ZjZmLWI0NTItMTk2MTVhYmMyMmQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlkweWsxQ2FSYXVpY0JaVjA0S3liVnciLCJzZXNzaW9uX3N0YXRlIjoiZjUyYzI2MjYtZDlkNC00YWYwLThhMzktY2Y0ODhmNmQyYjI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSJ9.ECNcwQZ8D1-5qblxTGI7IHACyE_mg2fPjVPVFdmEVK8
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4NTMsImlhdCI6MTY1MjA5OTA1MywianRpIjoiYTBlZTE2NTQtMDQ5Yy00ZjZmLWI0NTItMTk2MTVhYmMyMmQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlkweWsxQ2FSYXVpY0JaVjA0S3liVnciLCJzZXNzaW9uX3N0YXRlIjoiZjUyYzI2MjYtZDlkNC00YWYwLThhMzktY2Y0ODhmNmQyYjI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSJ9.ECNcwQZ8D1-5qblxTGI7IHACyE_mg2fPjVPVFdmEVK8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 710ddd61-fc0d-4bb0-a0bc-44faa9a2827d
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 710ddd61-fc0d-4bb0-a0bc-44faa9a2827d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;
[2022-05-09T12:24:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:13.741259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2566cea0-f31c-4086-8294-790e80387bc9\&quot;,\n    \&quot;uid\&quot;: \&quot;2c394047-9a33-402b-b240-7b1adbdae03c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763213005Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763187988Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763118067Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763119279Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763119870Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763120401Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763120811Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.763164193Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:13.741259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;), &quot;resourceVersion&quot;: String(&quot;2566cea0-f31c-4086-8294-790e80387bc9&quot;), &quot;uid&quot;: String(&quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763213005Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763187988Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763118067Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763119279Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763119870Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763120401Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763120811Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.763164193Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:24:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:13.741259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;274eef98-74f5-4b65-94e9-af9d2fd41ea6\&quot;,\n    \&quot;uid\&quot;: \&quot;2c394047-9a33-402b-b240-7b1adbdae03c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013351608Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013246490Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.778601560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.785557474Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.843227994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.849103131Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.012948522Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013061313Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;K6gK7Np0romn\&quot;,\n        \&quot;username\&quot;: \&quot;user-710ddd61-fc0d-4bb0-a0bc-44faa9a2827d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:13.741259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;), &quot;resourceVersion&quot;: String(&quot;274eef98-74f5-4b65-94e9-af9d2fd41ea6&quot;), &quot;uid&quot;: String(&quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013351608Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013246490Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.778601560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.785557474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.843227994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.849103131Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.012948522Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013061313Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;K6gK7Np0romn&quot;), &quot;username&quot;: String(&quot;user-710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;)})})})})
[2022-05-09T12:24:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:13.741259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;274eef98-74f5-4b65-94e9-af9d2fd41ea6\&quot;,\n    \&quot;uid\&quot;: \&quot;2c394047-9a33-402b-b240-7b1adbdae03c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013351608Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013246490Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.778601560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.785557474Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.843227994Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:13.849103131Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.012948522Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:14.013061313Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;K6gK7Np0romn\&quot;,\n        \&quot;username\&quot;: \&quot;user-710ddd61-fc0d-4bb0-a0bc-44faa9a2827d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:13.741259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;), &quot;resourceVersion&quot;: String(&quot;274eef98-74f5-4b65-94e9-af9d2fd41ea6&quot;), &quot;uid&quot;: String(&quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013351608Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013246490Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.778601560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.785557474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.843227994Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:13.849103131Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.012948522Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:14.013061313Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;K6gK7Np0romn&quot;), &quot;username&quot;: String(&quot;user-710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;)})})})})
[2022-05-09T12:24:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNTMsImlhdCI6MTY1MjA5OTA1MywiYXV0aF90aW1lIjoxNjUyMDk5MDUwLCJqdGkiOiIwMzFhNjk2NS1jMzljLTRiMGMtOGE3YS01ZjMwZTc0YzI0ZDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMHlrMUNhUmF1aWNCWlYwNEt5YlZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.id4GXSVcCA2wEyTKSz-jDvNplSYtXuFO8ynq17PxoQ6fgdIWg1Z4LcZiw5VgPBYOrakE-bGqjHBziJUGZ6l9qdXkUkdIMIOXrrYmsaWH8YYLk3Md3f_v4btmIqj3LqZBT2GMClUABxprRgMzk3nLsLuQrmdrww4NotxZNDrHoIn1KxfFq3Tl_6m0Tdj48DQHqqZD4Q3wfrYMDeBtviDZ-nwTpS38eEnUS0wb-JIRNrswO5tT9IfxwS-DaHhBX7HMkLzJv1WHyF2UsZ0aRgL86A8z9ry5Hg-ocXj2hKRXS9e3EJx28xzGvH6zgIFBVHE4keBILtmErYID60MQT--gJQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNTMsImlhdCI6MTY1MjA5OTA1MywiYXV0aF90aW1lIjoxNjUyMDk5MDUwLCJqdGkiOiIwMzFhNjk2NS1jMzljLTRiMGMtOGE3YS01ZjMwZTc0YzI0ZDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMHlrMUNhUmF1aWNCWlYwNEt5YlZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.id4GXSVcCA2wEyTKSz-jDvNplSYtXuFO8ynq17PxoQ6fgdIWg1Z4LcZiw5VgPBYOrakE-bGqjHBziJUGZ6l9qdXkUkdIMIOXrrYmsaWH8YYLk3Md3f_v4btmIqj3LqZBT2GMClUABxprRgMzk3nLsLuQrmdrww4NotxZNDrHoIn1KxfFq3Tl_6m0Tdj48DQHqqZD4Q3wfrYMDeBtviDZ-nwTpS38eEnUS0wb-JIRNrswO5tT9IfxwS-DaHhBX7HMkLzJv1WHyF2UsZ0aRgL86A8z9ry5Hg-ocXj2hKRXS9e3EJx28xzGvH6zgIFBVHE4keBILtmErYID60MQT--gJQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;9bab6152-660c-4a89-a498-f69098787e54&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171783fec0
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171783fec0
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178377e0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717af0c80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c6fe50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNTMsImlhdCI6MTY1MjA5OTA1MywiYXV0aF90aW1lIjoxNjUyMDk5MDUwLCJqdGkiOiIwMzFhNjk2NS1jMzljLTRiMGMtOGE3YS01ZjMwZTc0YzI0ZDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZMHlrMUNhUmF1aWNCWlYwNEt5YlZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1MmMyNjI2LWQ5ZDQtNGFmMC04YTM5LWNmNDg4ZjZkMmIyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.id4GXSVcCA2wEyTKSz-jDvNplSYtXuFO8ynq17PxoQ6fgdIWg1Z4LcZiw5VgPBYOrakE-bGqjHBziJUGZ6l9qdXkUkdIMIOXrrYmsaWH8YYLk3Md3f_v4btmIqj3LqZBT2GMClUABxprRgMzk3nLsLuQrmdrww4NotxZNDrHoIn1KxfFq3Tl_6m0Tdj48DQHqqZD4Q3wfrYMDeBtviDZ-nwTpS38eEnUS0wb-JIRNrswO5tT9IfxwS-DaHhBX7HMkLzJv1WHyF2UsZ0aRgL86A8z9ry5Hg-ocXj2hKRXS9e3EJx28xzGvH6zgIFBVHE4keBILtmErYID60MQT--gJQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:14Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;&#x27; @ QOS 0
[2022-05-09T12:24:15Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:24:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:24:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c004a30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717d82980 } }, data: MessageData { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717d82980 } } } }
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b8b8d0, 0x56171784b080
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171784b080, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171784b080, 0x7f4b28000c70
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x561717b8cf10
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b28000c20
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b280017f0
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280017f0, 0x7f4b28000c20
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b280017f0
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280017f0, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280017f0, 0x561717874f50
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280017f0, 0x7f4b28000b90
[2022-05-09T12:24:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280017f0
[2022-05-09T12:24:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;warmup&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;id&quot;: &quot;2b3e4be4-99ef-422f-b887-1d61fdb72a9a&quot;, &quot;application&quot;: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;, &quot;senderuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;source&quot;: &quot;drogue://710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:18.647276520+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/device1&quot;, &quot;deviceuid&quot;: &quot;51394e0d-75ef-469b-9421-59839211a0d0&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:24:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:24:19Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:24:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:24:19Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:24:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ed9772f8-1cf0-4a57-b609-dd6072d5d08e&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178c52f0
[2022-05-09T12:24:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178c52f0
[2022-05-09T12:24:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717bee370, password: 0x561717bce910, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179ce390, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717bee0e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:20Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cbcd30 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cbcd30 } } } }
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c001ed0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717bc1d10 } }, data: MessageData { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717bc1d10 } } } }
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a3fbe0, 0x561717a3e8d0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a3e8d0, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a3e8d0, 0x7f4b28002410
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x561717d033d0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x7f4b30000e00
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b300040d0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300040d0, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300040d0, 0x7f4b300074c0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074c0, 0x5617179a68a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074c0, 0x561717a3ee10
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074c0, 0x7f4b3000a770
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b3000a770
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:19.764523075+00:00&quot;, &quot;source&quot;: &quot;drogue://710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/gateway1&quot;, &quot;senderuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;partitionkey&quot;: &quot;710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/gateway1&quot;, &quot;id&quot;: &quot;cc5408b6-d48d-4983-8ffe-05575361a290&quot;, &quot;application&quot;: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c0064c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x56171787c920 } }, data: MessageData { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x56171787c920 } } } }
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a3e8d0, 0x7f4b28002410
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x7f4b300074e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074e0, 0x7f4b1c029690
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074e0, 0x7f4b300074a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074a0, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074a0, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074a0, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074a0, 0x7f4b30001eb0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b1c0063e0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b3000a7d0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a7d0, 0x7f4b30001eb0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b1c0312a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30001eb0
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:20.279238274+00:00&quot;, &quot;deviceuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;source&quot;: &quot;drogue://710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/gateway1&quot;, &quot;application&quot;: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;, &quot;id&quot;: &quot;a00e8c91-09a0-4b82-9da9-8a0e5e85b1db&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;partitionkey&quot;: &quot;710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x56171790fc50 } }, data: MessageData { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x56171790fc50 } } } }
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300074a0, 0x7f4b28002410
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002410, 0x7f4b3000a7b0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a7b0, 0x7f4b1c0068a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a7b0, 0x7f4b30001e20
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e20, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e20, 0x7f4b1c025af0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e20, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e20, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e20, 0x7f4b3000a810
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a810, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a810, 0x7f4b3000a830
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a830, 0x7f4b3000a810
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a810, 0x7f4b1c0306a0
[2022-05-09T12:24:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b3000a8d0
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;51394e0d-75ef-469b-9421-59839211a0d0&quot;, &quot;id&quot;: &quot;172b9d01-a588-4879-915a-d0269ba26f20&quot;, &quot;applicationuid&quot;: &quot;2c394047-9a33-402b-b240-7b1adbdae03c&quot;, &quot;application&quot;: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;source&quot;: &quot;drogue://710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/device1&quot;, &quot;senderuid&quot;: &quot;9d25acbc-e2bc-4b21-afdb-5a1796bbe386&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:20.278250622+00:00&quot;, &quot;partitionkey&quot;: &quot;710ddd61%2Dfc0d%2D4bb0%2Da0bc%2D44faa9a2827d/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;&quot; }
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:24:20Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:24:20Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot; &quot;device1&quot;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot; &quot;gateway1&quot;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&#x27;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;710ddd61-fc0d-4bb0-a0bc-44faa9a2827d&quot;
[2022-05-09T12:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 710ddd61-fc0d-4bb0-a0bc-44faa9a2827d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:24:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:24:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:24:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:24:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4NjYsImlhdCI6MTY1MjA5OTA2NiwianRpIjoiNjEwMDQwOGMtZTQ5ZC00ZDJmLTkzYTItZjZkYTU5YWFmMDQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJaZHV4NDdiYThRdDhMbzhEV3JLV2ciLCJzZXNzaW9uX3N0YXRlIjoiZWFlM2MyZDMtYTkyZC00ZDhjLThjOTgtZjBhYWEwNzU1ZTBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiJ9.spCR9GGwvHSQkTfauUxWnZatqXBxGIdLOz59W7ueQTk
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4NjYsImlhdCI6MTY1MjA5OTA2NiwianRpIjoiNjEwMDQwOGMtZTQ5ZC00ZDJmLTkzYTItZjZkYTU5YWFmMDQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJaZHV4NDdiYThRdDhMbzhEV3JLV2ciLCJzZXNzaW9uX3N0YXRlIjoiZWFlM2MyZDMtYTkyZC00ZDhjLThjOTgtZjBhYWEwNzU1ZTBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiJ9.spCR9GGwvHSQkTfauUxWnZatqXBxGIdLOz59W7ueQTk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::resources::apps] Create application: a7d3e9dd-347f-401e-8edc-5871eb1769eb
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a7d3e9dd-347f-401e-8edc-5871eb1769eb created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;
[2022-05-09T12:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:27.769992Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a4050b71-ffcc-4b0a-9d66-bcb6e2633bd5\&quot;,\n    \&quot;uid\&quot;: \&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788939862Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.789094652Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788781736Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788783289Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788783960Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788785613Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788786004Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.788914645Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:27.769992Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;), &quot;resourceVersion&quot;: String(&quot;a4050b71-ffcc-4b0a-9d66-bcb6e2633bd5&quot;), &quot;uid&quot;: String(&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788939862Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.789094652Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788781736Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788783289Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788783960Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788785613Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788786004Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.788914645Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:24:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:27.769992Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;23b41b3f-2b39-41e8-a9c8-1f4503fb3359\&quot;,\n    \&quot;uid\&quot;: \&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082665327Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082709339Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.821325661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.826728753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.894539736Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.902897789Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082609552Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082634259Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rJIKo4aBHpI8\&quot;,\n        \&quot;username\&quot;: \&quot;user-a7d3e9dd-347f-401e-8edc-5871eb1769eb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:27.769992Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;), &quot;resourceVersion&quot;: String(&quot;23b41b3f-2b39-41e8-a9c8-1f4503fb3359&quot;), &quot;uid&quot;: String(&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082665327Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082709339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.821325661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.826728753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.894539736Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.902897789Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082609552Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082634259Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rJIKo4aBHpI8&quot;), &quot;username&quot;: String(&quot;user-a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;)})})})})
[2022-05-09T12:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:27.769992Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;23b41b3f-2b39-41e8-a9c8-1f4503fb3359\&quot;,\n    \&quot;uid\&quot;: \&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082665327Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082709339Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.821325661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.826728753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.894539736Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:27.902897789Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082609552Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:28.082634259Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rJIKo4aBHpI8\&quot;,\n        \&quot;username\&quot;: \&quot;user-a7d3e9dd-347f-401e-8edc-5871eb1769eb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:27.769992Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;), &quot;resourceVersion&quot;: String(&quot;23b41b3f-2b39-41e8-a9c8-1f4503fb3359&quot;), &quot;uid&quot;: String(&quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082665327Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082709339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.821325661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.826728753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.894539736Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:27.902897789Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082609552Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:28.082634259Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rJIKo4aBHpI8&quot;), &quot;username&quot;: String(&quot;user-a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;)})})})})
[2022-05-09T12:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNjcsImlhdCI6MTY1MjA5OTA2NywiYXV0aF90aW1lIjoxNjUyMDk5MDY0LCJqdGkiOiJkYmY5MjJmYy05NzEyLTQ0MjYtOWFmYS1jMWIzODRmNDU5MzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyWmR1eDQ3YmE4UXQ4TG84RFdyS1dnIiwic2Vzc2lvbl9zdGF0ZSI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MvK3LOr0ABFwl8d9liATMUqnjA7VRoKa2jKvJHzfHgDTfp5k3t4gMl_pGUICx4FdhKA08ADTDft2L-VsCu707BXWKgTAVoLF4D5RMj1kJdfzP0uYhUb9JweFAIIbyv_8XEygdopwYFRmnMtbk8EBw8mo63x3m5r8gVwa2zoZTP4RAO6URoourhhgO9eYjdjR9zHDdXUoqNEf9CdWL_hMZyvT0QWn6gtrQZ2TH9ye7zPyyhvw63m8XZWJVXq6xO-486pz6s71osdXWtLYfFpIVkwC5a5y_iGYJ-gHARkSGl53I9rNMwI2_r3hWcRp6IsIH-wLtSeG5Tte2veiX2X1dw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNjcsImlhdCI6MTY1MjA5OTA2NywiYXV0aF90aW1lIjoxNjUyMDk5MDY0LCJqdGkiOiJkYmY5MjJmYy05NzEyLTQ0MjYtOWFmYS1jMWIzODRmNDU5MzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyWmR1eDQ3YmE4UXQ4TG84RFdyS1dnIiwic2Vzc2lvbl9zdGF0ZSI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MvK3LOr0ABFwl8d9liATMUqnjA7VRoKa2jKvJHzfHgDTfp5k3t4gMl_pGUICx4FdhKA08ADTDft2L-VsCu707BXWKgTAVoLF4D5RMj1kJdfzP0uYhUb9JweFAIIbyv_8XEygdopwYFRmnMtbk8EBw8mo63x3m5r8gVwa2zoZTP4RAO6URoourhhgO9eYjdjR9zHDdXUoqNEf9CdWL_hMZyvT0QWn6gtrQZ2TH9ye7zPyyhvw63m8XZWJVXq6xO-486pz6s71osdXWtLYfFpIVkwC5a5y_iGYJ-gHARkSGl53I9rNMwI2_r3hWcRp6IsIH-wLtSeG5Tte2veiX2X1dw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f96c88df-4958-4db4-a7d3-cd7e1494574a&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179ecdf0
[2022-05-09T12:24:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179ecdf0
[2022-05-09T12:24:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717a3be50, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ccd310, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717bdca10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzNjcsImlhdCI6MTY1MjA5OTA2NywiYXV0aF90aW1lIjoxNjUyMDk5MDY0LCJqdGkiOiJkYmY5MjJmYy05NzEyLTQ0MjYtOWFmYS1jMWIzODRmNDU5MzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyWmR1eDQ3YmE4UXQ4TG84RFdyS1dnIiwic2Vzc2lvbl9zdGF0ZSI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVhZTNjMmQzLWE5MmQtNGQ4Yy04Yzk4LWYwYWFhMDc1NWUwYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MvK3LOr0ABFwl8d9liATMUqnjA7VRoKa2jKvJHzfHgDTfp5k3t4gMl_pGUICx4FdhKA08ADTDft2L-VsCu707BXWKgTAVoLF4D5RMj1kJdfzP0uYhUb9JweFAIIbyv_8XEygdopwYFRmnMtbk8EBw8mo63x3m5r8gVwa2zoZTP4RAO6URoourhhgO9eYjdjR9zHDdXUoqNEf9CdWL_hMZyvT0QWn6gtrQZ2TH9ye7zPyyhvw63m8XZWJVXq6xO-486pz6s71osdXWtLYfFpIVkwC5a5y_iGYJ-gHARkSGl53I9rNMwI2_r3hWcRp6IsIH-wLtSeG5Tte2veiX2X1dw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;&#x27; @ QOS 0
[2022-05-09T12:24:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:24:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:24:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c023e70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717cc5820 } }, data: MessageData { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717cc5820 } } } }
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717ae7e30, 0x561717885860
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717885860, 0x7f4b28002330
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717885860, 0x7f4b28002070
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002070, 0x56171786b8d0
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002070, 0x7f4b28001890
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b28002330
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x561717ae9200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b28004200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b28004200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b28004200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b28004200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001890, 0x7f4b280022d0
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022d0, 0x7f4b28004200
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022d0, 0x7f4b28001500
[2022-05-09T12:24:32Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28001500
[2022-05-09T12:24:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;warmup&quot;, &quot;senderuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;, &quot;applicationuid&quot;: &quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:32.655113728+00:00&quot;, &quot;id&quot;: &quot;0884d01f-c909-448e-8815-d626a2c1f365&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;deviceuid&quot;: &quot;1b82bdf3-4c3e-41cc-ae7a-219344b09a62&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, &quot;source&quot;: &quot;drogue://a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:24:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:24:33Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:24:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:24:33Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:24:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;5277ca67-94a0-4f04-9974-ed74798c16bf&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ca3750
[2022-05-09T12:24:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ca3750
[2022-05-09T12:24:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b93be0, password: 0x561717bc5bc0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b6cab0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b92970, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c021c40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717d41930 } }, data: MessageData { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717d41930 } } } }
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178a5e90, 0x56171794c790
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171794c790, 0x561717b98810
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171794c790, 0x7f4b30001eb0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b30004250
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b30004cf0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x5617178a6180
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b300073b0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300073b0, 0x7f4b30004cf0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b3000a5e0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30004cf0
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T12:24:33.681284797+00:00&quot;, &quot;id&quot;: &quot;be75a25a-1149-4eb2-9597-19bbbad0b586&quot;, &quot;applicationuid&quot;: &quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, &quot;deviceuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;, &quot;senderuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:24:34Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178054b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178054b0 } } } }
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717d00260 } }, data: MessageData { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717d00260 } } } }
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280077d0, 0x7f4b280022b0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022b0, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022b0, 0x7f4b28001830
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001830, 0x7f4b1c0049d0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001830, 0x7f4b280023f0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b1c027750
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b280022d0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022d0, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280022d0, 0x7f4b28003760
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003760, 0x7f4b1c024150
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003760, 0x7f4b280077f0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280099a0
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;applicationuid&quot;: &quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;, &quot;deviceuid&quot;: &quot;1b82bdf3-4c3e-41cc-ae7a-219344b09a62&quot;, &quot;id&quot;: &quot;8e912fb5-663f-40c7-a709-e8ede63d4d26&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:34.275945124+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;}, payload: &quot;&quot; }
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c024e00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617178437b0 } }, data: MessageData { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617178437b0 } } } }
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004f80, 0x7f4b28002290
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002290, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002290, 0x7f4b28001500
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001500, 0x7f4b1c004800
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001500, 0x7f4b280023f0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280023f0, 0x7f4b28004fa0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fa0, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fa0, 0x7f4b1c02a000
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fa0, 0x7f4b28009980
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009980, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009980, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009980, 0x7f4b280099a0
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009980, 0x7f4b28001830
[2022-05-09T12:24:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28001830
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;, &quot;applicationuid&quot;: &quot;1c1c9ba4-b180-4980-b8d8-9f85ce86cab3&quot;, &quot;partitionkey&quot;: &quot;a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/gateway1&quot;, &quot;id&quot;: &quot;f3a2fc52-7f52-4a33-af26-f4c2a028eb5e&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://a7d3e9dd%2D347f%2D401e%2D8edc%2D5871eb1769eb/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:24:34.372679805+00:00&quot;, &quot;deviceuid&quot;: &quot;d4398a97-9761-4dbc-8e18-865d54f10509&quot;, &quot;device&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:24:34Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:24:34Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot; &quot;device1&quot;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot; &quot;gateway1&quot;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a7d3e9dd-347f-401e-8edc-5871eb1769eb&#x27;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a7d3e9dd-347f-401e-8edc-5871eb1769eb&quot;
[2022-05-09T12:24:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a7d3e9dd-347f-401e-8edc-5871eb1769eb deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:24:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:24:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:24:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:24:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4ODEsImlhdCI6MTY1MjA5OTA4MSwianRpIjoiYjM0M2ZkNzYtNGNiOS00NWIyLTg2Y2ItYjlkODhjNWVhMzU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9UT2FNN0RLMFJGUXNpUEdJa0kzeHciLCJzZXNzaW9uX3N0YXRlIjoiOTdhOWQ0NmQtOGY1Zi00ZTNmLTkwMzAtYWI2MTdhYzdiMTc1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSJ9.X_SsFc4BH-k8GHueK04i3mC5lB2Ha0-8D6b2E6M0wYg
[2022-05-09T12:24:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:24:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4ODEsImlhdCI6MTY1MjA5OTA4MSwianRpIjoiYjM0M2ZkNzYtNGNiOS00NWIyLTg2Y2ItYjlkODhjNWVhMzU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9UT2FNN0RLMFJGUXNpUEdJa0kzeHciLCJzZXNzaW9uX3N0YXRlIjoiOTdhOWQ0NmQtOGY1Zi00ZTNmLTkwMzAtYWI2MTdhYzdiMTc1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSJ9.X_SsFc4BH-k8GHueK04i3mC5lB2Ha0-8D6b2E6M0wYg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:24:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 6e96490f-2369-4f9d-b45d-1add97849699
[2022-05-09T12:24:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;
[2022-05-09T12:24:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6e96490f-2369-4f9d-b45d-1add97849699 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;
[2022-05-09T12:24:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:42.093676Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;61579b04-c9f8-4d23-94cd-eaa320fc23a1\&quot;,\n    \&quot;uid\&quot;: \&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118295770Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118267186Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118197285Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118198948Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118199810Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118200812Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118201383Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.118236519Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:42.093676Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;), &quot;resourceVersion&quot;: String(&quot;61579b04-c9f8-4d23-94cd-eaa320fc23a1&quot;), &quot;uid&quot;: String(&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118295770Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118267186Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118197285Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118198948Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118199810Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118200812Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118201383Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.118236519Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:24:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:42.093676Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e1ddd8e8-3d2c-4177-bfa4-e6e33b0e09b0\&quot;,\n    \&quot;uid\&quot;: \&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408682574Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408637139Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.143188257Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.150418214Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.213327858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.220223779Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408589530Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408610128Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AIC4Gvulx9M9\&quot;,\n        \&quot;username\&quot;: \&quot;user-6e96490f-2369-4f9d-b45d-1add97849699\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:42.093676Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;), &quot;resourceVersion&quot;: String(&quot;e1ddd8e8-3d2c-4177-bfa4-e6e33b0e09b0&quot;), &quot;uid&quot;: String(&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408682574Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408637139Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.143188257Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.150418214Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.213327858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.220223779Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408589530Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408610128Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AIC4Gvulx9M9&quot;), &quot;username&quot;: String(&quot;user-6e96490f-2369-4f9d-b45d-1add97849699&quot;)})})})})
[2022-05-09T12:24:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:42.093676Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e1ddd8e8-3d2c-4177-bfa4-e6e33b0e09b0\&quot;,\n    \&quot;uid\&quot;: \&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408682574Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408637139Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.143188257Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.150418214Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.213327858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.220223779Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408589530Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:42.408610128Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AIC4Gvulx9M9\&quot;,\n        \&quot;username\&quot;: \&quot;user-6e96490f-2369-4f9d-b45d-1add97849699\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:42.093676Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;), &quot;resourceVersion&quot;: String(&quot;e1ddd8e8-3d2c-4177-bfa4-e6e33b0e09b0&quot;), &quot;uid&quot;: String(&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408682574Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408637139Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.143188257Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.150418214Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.213327858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.220223779Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408589530Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:42.408610128Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AIC4Gvulx9M9&quot;), &quot;username&quot;: String(&quot;user-6e96490f-2369-4f9d-b45d-1add97849699&quot;)})})})})
[2022-05-09T12:24:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzODEsImlhdCI6MTY1MjA5OTA4MSwiYXV0aF90aW1lIjoxNjUyMDk5MDc4LCJqdGkiOiJmODA3ZTk3Yi0wM2EwLTQxNjktOGIyYS1jMDJhMmJlZDQwOTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvVE9hTTdESzBSRlFzaVBHSWtJM3h3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PKEvI6K1D-M9GWmTGNVxI-Bqv4XvmmeWn2up3bK9Og1nuuRUz63o13ANBNhQbYlQqh6s7LS1k9Ey9Es2Fw1-TQK6bUz38GXODHuBA9yOwaaLxjaogSCu8upTNqkdWs5LnZ47uKhVVU7jS0OtnuntvBMVPV_x7F5FWNUPNjxyySkK3d02ibCdVjk4q9TRTJmEe-Nx7X_ANBnpmcBf1o4kYDxIOZY51gQ6OGBSjlM66OxHyoYfQQoFXD8r7ABKa2TrDsu4R5wnJB9WX2V_zeBApyi5NfP0glCUR1xCW4HnXNpyFdCNe4AALvLmcLMU4NTIJJR9WACXB1bCGJ9GD-j2pA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzODEsImlhdCI6MTY1MjA5OTA4MSwiYXV0aF90aW1lIjoxNjUyMDk5MDc4LCJqdGkiOiJmODA3ZTk3Yi0wM2EwLTQxNjktOGIyYS1jMDJhMmJlZDQwOTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvVE9hTTdESzBSRlFzaVBHSWtJM3h3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PKEvI6K1D-M9GWmTGNVxI-Bqv4XvmmeWn2up3bK9Og1nuuRUz63o13ANBNhQbYlQqh6s7LS1k9Ey9Es2Fw1-TQK6bUz38GXODHuBA9yOwaaLxjaogSCu8upTNqkdWs5LnZ47uKhVVU7jS0OtnuntvBMVPV_x7F5FWNUPNjxyySkK3d02ibCdVjk4q9TRTJmEe-Nx7X_ANBnpmcBf1o4kYDxIOZY51gQ6OGBSjlM66OxHyoYfQQoFXD8r7ABKa2TrDsu4R5wnJB9WX2V_zeBApyi5NfP0glCUR1xCW4HnXNpyFdCNe4AALvLmcLMU4NTIJJR9WACXB1bCGJ9GD-j2pA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;5b2c8913-9f06-415b-84ea-63cde330b0fe&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179ecfa0
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179ecfa0
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717acebe0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ace4d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717acea90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzODEsImlhdCI6MTY1MjA5OTA4MSwiYXV0aF90aW1lIjoxNjUyMDk5MDc4LCJqdGkiOiJmODA3ZTk3Yi0wM2EwLTQxNjktOGIyYS1jMDJhMmJlZDQwOTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvVE9hTTdESzBSRlFzaVBHSWtJM3h3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YTlkNDZkLThmNWYtNGUzZi05MDMwLWFiNjE3YWM3YjE3NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PKEvI6K1D-M9GWmTGNVxI-Bqv4XvmmeWn2up3bK9Og1nuuRUz63o13ANBNhQbYlQqh6s7LS1k9Ey9Es2Fw1-TQK6bUz38GXODHuBA9yOwaaLxjaogSCu8upTNqkdWs5LnZ47uKhVVU7jS0OtnuntvBMVPV_x7F5FWNUPNjxyySkK3d02ibCdVjk4q9TRTJmEe-Nx7X_ANBnpmcBf1o4kYDxIOZY51gQ6OGBSjlM66OxHyoYfQQoFXD8r7ABKa2TrDsu4R5wnJB9WX2V_zeBApyi5NfP0glCUR1xCW4HnXNpyFdCNe4AALvLmcLMU4NTIJJR9WACXB1bCGJ9GD-j2pA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:43Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;&#x27; @ QOS 0
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c001350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 57, 98, 57, 51, 101, 49, 50, 45, 56, 102, 98, 56, 45, 52, 100, 101, 100, 45, 56, 98, 101, 55, 45, 49, 54, 54, 56, 52, 53, 99, 48, 53, 102, 97, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 52, 54, 46, 54, 52, 54, 53, 48, 55, 48, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 99, 50, 100, 49, 52, 57, 48, 45, 51, 53, 50, 52, 45, 52, 102, 49, 53, 45, 97, 54, 102, 56, 45, 49, 99, 52, 100, 57, 54, 98, 50, 53, 57, 101, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 49, 57, 55, 51, 55, 101, 50, 45, 53, 101, 49, 49, 45, 52, 52, 53, 54, 45, 57, 54, 100, 100, 45, 97, 52, 101, 56, 57, 50, 52, 50, 50, 53, 54, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 45, 50, 51, 54, 57, 45, 52, 102, 57, 100, 45, 98, 52, 53, 100, 45, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:24:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;49b93e12-8fb8-4ded-8be7-166845c05fac\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:46.646507074Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;719737e2-5e11-4456-96dd-a4e892422569\&quot;,\&quot;partitionkey\&quot;:\&quot;6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/device1\&quot;,\&quot;application\&quot;:\&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;}&quot; }
[2022-05-09T12:24:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:24:47Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:24:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:24:47Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:24:47Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;04ee8a4b-6c05-4e5e-9c66-3e3991c177c4&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:47Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:47Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717bc1880
[2022-05-09T12:24:47Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717bc1880
[2022-05-09T12:24:47Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717bc8920, password: 0x5617179ed310, connectTimeout: 30, retryInterval: 0, ssl: 0x561717867e40, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171793df40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@6e96490f-2369-4f9d-b45d-1add97849699&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c0044a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 49, 54, 101, 101, 51, 55, 54, 45, 100, 48, 56, 99, 45, 52, 98, 52, 98, 45, 97, 50, 99, 52, 45, 48, 97, 54, 50, 50, 53, 102, 102, 54, 53, 51, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 52, 55, 46, 55, 54, 52, 54, 56, 53, 49, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 45, 50, 51, 54, 57, 45, 52, 102, 57, 100, 45, 98, 52, 53, 100, 45, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 99, 50, 100, 49, 52, 57, 48, 45, 51, 53, 50, 52, 45, 52, 102, 49, 53, 45, 97, 54, 102, 56, 45, 49, 99, 52, 100, 57, 54, 98, 50, 53, 57, 101, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:24:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;716ee376-d08c-4b4b-a2c4-0a6225ff653f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:47.764685117Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;}&quot; }
[2022-05-09T12:24:48Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ccc5a0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ccc5a0 } } } }
[2022-05-09T12:24:48Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:24:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c017dd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 99, 99, 99, 49, 49, 101, 49, 45, 54, 51, 98, 55, 45, 52, 57, 48, 50, 45, 98, 102, 101, 48, 45, 55, 51, 55, 56, 50, 102, 101, 99, 52, 97, 57, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 52, 56, 46, 51, 50, 52, 51, 49, 53, 49, 52, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 99, 50, 100, 49, 52, 57, 48, 45, 51, 53, 50, 52, 45, 52, 102, 49, 53, 45, 97, 54, 102, 56, 45, 49, 99, 52, 100, 57, 54, 98, 50, 53, 57, 101, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 45, 50, 51, 54, 57, 45, 52, 102, 57, 100, 45, 98, 52, 53, 100, 45, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:24:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7ccc11e1-63b7-4902-bfe0-73782fec4a9d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:48.324315149Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\&quot;senderuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;,\&quot;partitionkey\&quot;:\&quot;6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;}&quot; }
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c010350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 102, 99, 102, 98, 97, 100, 99, 45, 55, 54, 54, 51, 45, 52, 57, 97, 101, 45, 57, 102, 97, 99, 45, 50, 49, 102, 52, 55, 100, 51, 50, 101, 99, 49, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 52, 58, 52, 56, 46, 51, 50, 52, 52, 56, 50, 51, 56, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 37, 50, 68, 50, 51, 54, 57, 37, 50, 68, 52, 102, 57, 100, 37, 50, 68, 98, 52, 53, 100, 37, 50, 68, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 99, 50, 100, 49, 52, 57, 48, 45, 51, 53, 50, 52, 45, 52, 102, 49, 53, 45, 97, 54, 102, 56, 45, 49, 99, 52, 100, 57, 54, 98, 50, 53, 57, 101, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 57, 54, 52, 57, 48, 102, 45, 50, 51, 54, 57, 45, 52, 102, 57, 100, 45, 98, 52, 53, 100, 45, 49, 97, 100, 100, 57, 55, 56, 52, 57, 54, 57, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 49, 57, 55, 51, 55, 101, 50, 45, 53, 101, 49, 49, 45, 52, 52, 53, 54, 45, 57, 54, 100, 100, 45, 97, 52, 101, 56, 57, 50, 52, 50, 50, 53, 54, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 55, 56, 49, 97, 53, 101, 53, 45, 54, 56, 50, 48, 45, 52, 97, 100, 54, 45, 97, 101, 97, 97, 45, 100, 100, 101, 56, 50, 98, 55, 102, 51, 55, 100, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e96490f-2369-4f9d-b45d-1add97849699&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9fcfbadc-7663-49ae-9fac-21f47d32ec17\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:24:48.324482383Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;6e96490f%2D2369%2D4f9d%2Db45d%2D1add97849699/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;8c2d1490-3524-4f15-a6f8-1c4d96b259e4\&quot;,\&quot;application\&quot;:\&quot;6e96490f-2369-4f9d-b45d-1add97849699\&quot;,\&quot;deviceuid\&quot;:\&quot;719737e2-5e11-4456-96dd-a4e892422569\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;6781a5e5-6820-4ad6-aeaa-dde82b7f37d2\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:24:49Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:24:49Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot; &quot;device1&quot;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot; &quot;gateway1&quot;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6e96490f-2369-4f9d-b45d-1add97849699&#x27;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6e96490f-2369-4f9d-b45d-1add97849699&quot;
[2022-05-09T12:24:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6e96490f-2369-4f9d-b45d-1add97849699 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:24:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:24:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:24:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:24:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:24:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:24:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4OTYsImlhdCI6MTY1MjA5OTA5NiwianRpIjoiNTZjYjY1M2MtMmFhOC00OTQ4LTk0NjItM2Q2ZWVmZTk4YTQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpyWW1tOXBzOG1CSVBsZlA0b2lUMHciLCJzZXNzaW9uX3N0YXRlIjoiYjYxNWFkMzgtOTFhOS00MWQxLWFlZGYtYmY5OGM4ZDI1OWI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiJ9.eXnygWm18OV_2Re46zfLKJUsVKvKWCmosEsRMThY81Q
[2022-05-09T12:24:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:24:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA4OTYsImlhdCI6MTY1MjA5OTA5NiwianRpIjoiNTZjYjY1M2MtMmFhOC00OTQ4LTk0NjItM2Q2ZWVmZTk4YTQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpyWW1tOXBzOG1CSVBsZlA0b2lUMHciLCJzZXNzaW9uX3N0YXRlIjoiYjYxNWFkMzgtOTFhOS00MWQxLWFlZGYtYmY5OGM4ZDI1OWI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiJ9.eXnygWm18OV_2Re46zfLKJUsVKvKWCmosEsRMThY81Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:24:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 5998d988-8ba3-4107-be72-c1595cc675da
[2022-05-09T12:24:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;
[2022-05-09T12:24:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5998d988-8ba3-4107-be72-c1595cc675da created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;
[2022-05-09T12:24:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:57.269929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;71b62529-d38f-4759-96ce-a9d0772fba53\&quot;,\n    \&quot;uid\&quot;: \&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288855900Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288830172Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288736908Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288792703Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288793384Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288794186Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288794677Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.288805557Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:57.269929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;), &quot;resourceVersion&quot;: String(&quot;71b62529-d38f-4759-96ce-a9d0772fba53&quot;), &quot;uid&quot;: String(&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288855900Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288830172Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288736908Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288792703Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288793384Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288794186Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288794677Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.288805557Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:24:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:57.269929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e2b7824a-62d6-466d-a8a8-994083ccab80\&quot;,\n    \&quot;uid\&quot;: \&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.632186602Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.632142400Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.316702037Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.322862147Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.466299442Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.479818893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.628223281Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.628239571Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PYEj9BYFgjp4\&quot;,\n        \&quot;username\&quot;: \&quot;user-5998d988-8ba3-4107-be72-c1595cc675da\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:57.269929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;), &quot;resourceVersion&quot;: String(&quot;e2b7824a-62d6-466d-a8a8-994083ccab80&quot;), &quot;uid&quot;: String(&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.632186602Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.632142400Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.316702037Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.322862147Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.466299442Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.479818893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.628223281Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.628239571Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PYEj9BYFgjp4&quot;), &quot;username&quot;: String(&quot;user-5998d988-8ba3-4107-be72-c1595cc675da&quot;)})})})})
[2022-05-09T12:24:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:24:57.269929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e2b7824a-62d6-466d-a8a8-994083ccab80\&quot;,\n    \&quot;uid\&quot;: \&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.632186602Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.632142400Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.316702037Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.322862147Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.466299442Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.479818893Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.628223281Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:24:57.628239571Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;PYEj9BYFgjp4\&quot;,\n        \&quot;username\&quot;: \&quot;user-5998d988-8ba3-4107-be72-c1595cc675da\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:24:57.269929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;), &quot;resourceVersion&quot;: String(&quot;e2b7824a-62d6-466d-a8a8-994083ccab80&quot;), &quot;uid&quot;: String(&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.632186602Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.632142400Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.316702037Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.322862147Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.466299442Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.479818893Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.628223281Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:24:57.628239571Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;PYEj9BYFgjp4&quot;), &quot;username&quot;: String(&quot;user-5998d988-8ba3-4107-be72-c1595cc675da&quot;)})})})})
[2022-05-09T12:24:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzOTYsImlhdCI6MTY1MjA5OTA5NiwiYXV0aF90aW1lIjoxNjUyMDk5MDkzLCJqdGkiOiJkZmI2YTdlNy1lYTk3LTQ4ODYtYjU2Yy05NTdmMTllMDgwNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaclltbTlwczhtQklQbGZQNG9pVDB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NGNi0tmJtOXPLEFF5ANVPVL57M6t3wfZdUKleedAmjHfhhojiCliDEUhJuRj5nxQsSMMsbyvP0Og5b_OIh9Wa0jzIWiQsDb0oSpYrblIfWpldjrEEk6WR9hFQy8R-qOl0EQUwyuBGnteUPvWJIZ3JnWzHf-nQrKsAZkKntgAwp5zEa6y5QwiGJNyWHD_Vm7YMoPXoiCJO2XqbmV6uOGB8Lp0L6F8JLuI79Gvtff9YOMEgcRNlcSXvBe1ql92ka63_mBzsxn6c_P7UxRD1cwLfDj8YVpqXhWbCpOmw2wPsnEa2x8isTz1T4w6ct11qf1qKOi595o8iGUOqDK1RjWZZA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:24:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzOTYsImlhdCI6MTY1MjA5OTA5NiwiYXV0aF90aW1lIjoxNjUyMDk5MDkzLCJqdGkiOiJkZmI2YTdlNy1lYTk3LTQ4ODYtYjU2Yy05NTdmMTllMDgwNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaclltbTlwczhtQklQbGZQNG9pVDB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NGNi0tmJtOXPLEFF5ANVPVL57M6t3wfZdUKleedAmjHfhhojiCliDEUhJuRj5nxQsSMMsbyvP0Og5b_OIh9Wa0jzIWiQsDb0oSpYrblIfWpldjrEEk6WR9hFQy8R-qOl0EQUwyuBGnteUPvWJIZ3JnWzHf-nQrKsAZkKntgAwp5zEa6y5QwiGJNyWHD_Vm7YMoPXoiCJO2XqbmV6uOGB8Lp0L6F8JLuI79Gvtff9YOMEgcRNlcSXvBe1ql92ka63_mBzsxn6c_P7UxRD1cwLfDj8YVpqXhWbCpOmw2wPsnEa2x8isTz1T4w6ct11qf1qKOi595o8iGUOqDK1RjWZZA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;6b299151-df75-4a0d-a120-7981875e7542&quot;, persistence: None, user_data: None }
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178e21f0
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178e21f0
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178e2530, connectTimeout: 30, retryInterval: 0, ssl: 0x561717bc7c00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717bbe690, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTkzOTYsImlhdCI6MTY1MjA5OTA5NiwiYXV0aF90aW1lIjoxNjUyMDk5MDkzLCJqdGkiOiJkZmI2YTdlNy1lYTk3LTQ4ODYtYjU2Yy05NTdmMTllMDgwNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaclltbTlwczhtQklQbGZQNG9pVDB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI2MTVhZDM4LTkxYTktNDFkMS1hZWRmLWJmOThjOGQyNTliNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NGNi0tmJtOXPLEFF5ANVPVL57M6t3wfZdUKleedAmjHfhhojiCliDEUhJuRj5nxQsSMMsbyvP0Og5b_OIh9Wa0jzIWiQsDb0oSpYrblIfWpldjrEEk6WR9hFQy8R-qOl0EQUwyuBGnteUPvWJIZ3JnWzHf-nQrKsAZkKntgAwp5zEa6y5QwiGJNyWHD_Vm7YMoPXoiCJO2XqbmV6uOGB8Lp0L6F8JLuI79Gvtff9YOMEgcRNlcSXvBe1ql92ka63_mBzsxn6c_P7UxRD1cwLfDj8YVpqXhWbCpOmw2wPsnEa2x8isTz1T4w6ct11qf1qKOi595o8iGUOqDK1RjWZZA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:24:58Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;&#x27; @ QOS 0
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:24:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:24:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:24:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:24:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c026cc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 99, 55, 56, 51, 54, 101, 101, 45, 48, 55, 99, 101, 45, 52, 98, 53, 51, 45, 57, 49, 98, 97, 45, 98, 52, 57, 53, 51, 49, 97, 55, 48, 57, 56, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 48, 50, 46, 54, 55, 49, 57, 56, 57, 48, 48, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 102, 49, 97, 98, 100, 99, 49, 45, 53, 53, 99, 55, 45, 52, 100, 98, 48, 45, 97, 49, 49, 52, 45, 54, 49, 97, 48, 57, 98, 100, 49, 99, 100, 98, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 45, 56, 98, 97, 51, 45, 52, 49, 48, 55, 45, 98, 101, 55, 50, 45, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 100, 54, 56, 97, 57, 101, 97, 45, 48, 54, 52, 50, 45, 52, 100, 55, 54, 45, 97, 55, 49, 50, 45, 98, 99, 56, 50, 101, 55, 57, 52, 56, 55, 99, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:25:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4c7836ee-07ce-4b53-91ba-b49531a70987\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:02.671989002Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;senderuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\&quot;deviceuid\&quot;:\&quot;ad68a9ea-0642-4d76-a712-bc82e79487c7\&quot;}&quot; }
[2022-05-09T12:25:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-09T12:25:03Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-09T12:25:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:25:03Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:25:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d7910346-f501-4378-ba66-04eb20fae8d9&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b38740
[2022-05-09T12:25:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b38740
[2022-05-09T12:25:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717c6ab30, password: 0x561717b40c00, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179cc260, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b3e920, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5998d988-8ba3-4107-be72-c1595cc675da&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c007c30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 49, 98, 50, 49, 54, 55, 50, 45, 100, 99, 101, 52, 45, 52, 50, 55, 100, 45, 97, 53, 98, 101, 45, 100, 51, 102, 56, 53, 53, 54, 54, 101, 57, 48, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 48, 51, 46, 55, 57, 53, 49, 48, 57, 52, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 102, 49, 97, 98, 100, 99, 49, 45, 53, 53, 99, 55, 45, 52, 100, 98, 48, 45, 97, 49, 49, 52, 45, 54, 49, 97, 48, 57, 98, 100, 49, 99, 100, 98, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 45, 56, 98, 97, 51, 45, 52, 49, 48, 55, 45, 98, 101, 55, 50, 45, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d1b21672-dce4-427d-a5be-d3f85566e90a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:03.795109474Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;,\&quot;senderuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;partitionkey\&quot;:\&quot;5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:25:04Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a3e690 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a3e690 } } } }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c021c50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 100, 56, 97, 54, 54, 48, 55, 45, 54, 49, 51, 57, 45, 52, 48, 56, 56, 45, 98, 55, 48, 102, 45, 48, 50, 57, 98, 49, 57, 57, 100, 101, 48, 56, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 48, 52, 46, 51, 49, 48, 50, 48, 52, 51, 51, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 102, 49, 97, 98, 100, 99, 49, 45, 53, 53, 99, 55, 45, 52, 100, 98, 48, 45, 97, 49, 49, 52, 45, 54, 49, 97, 48, 57, 98, 100, 49, 99, 100, 98, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 45, 56, 98, 97, 51, 45, 52, 49, 48, 55, 45, 98, 101, 55, 50, 45, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fd8a6607-6139-4088-b70f-029b199de087\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:04.310204336Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;,\&quot;partitionkey\&quot;:\&quot;5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/gateway1\&quot;,\&quot;application\&quot;:\&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;}&quot; }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c0057d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 51, 56, 52, 99, 101, 48, 55, 45, 48, 49, 100, 100, 45, 52, 48, 48, 54, 45, 98, 54, 99, 97, 45, 57, 56, 48, 99, 99, 98, 102, 53, 55, 51, 55, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 48, 52, 46, 51, 48, 57, 56, 56, 54, 52, 49, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 102, 49, 97, 98, 100, 99, 49, 45, 53, 53, 99, 55, 45, 52, 100, 98, 48, 45, 97, 49, 49, 52, 45, 54, 49, 97, 48, 57, 98, 100, 49, 99, 100, 98, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 45, 56, 98, 97, 51, 45, 52, 49, 48, 55, 45, 98, 101, 55, 50, 45, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 55, 100, 56, 48, 51, 49, 52, 45, 101, 102, 57, 98, 45, 52, 100, 99, 98, 45, 56, 101, 97, 52, 45, 101, 52, 49, 57, 54, 102, 50, 49, 53, 55, 99, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 100, 54, 56, 97, 57, 101, 97, 45, 48, 54, 52, 50, 45, 52, 100, 55, 54, 45, 97, 55, 49, 50, 45, 98, 99, 56, 50, 101, 55, 57, 52, 56, 55, 99, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 57, 57, 56, 100, 57, 56, 56, 37, 50, 68, 56, 98, 97, 51, 37, 50, 68, 52, 49, 48, 55, 37, 50, 68, 98, 101, 55, 50, 37, 50, 68, 99, 49, 53, 57, 53, 99, 99, 54, 55, 53, 100, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5998d988-8ba3-4107-be72-c1595cc675da&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6384ce07-01dd-4006-b6ca-980ccbf5737a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:04.309886410Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;7f1abdc1-55c7-4db0-a114-61a09bd1cdbc\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;5998d988-8ba3-4107-be72-c1595cc675da\&quot;,\&quot;senderuid\&quot;:\&quot;77d80314-ef9b-4dcb-8ea4-e4196f2157c9\&quot;,\&quot;deviceuid\&quot;:\&quot;ad68a9ea-0642-4d76-a712-bc82e79487c7\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;5998d988%2D8ba3%2D4107%2Dbe72%2Dc1595cc675da/device1\&quot;}&quot; }
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:25:04Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:25:04Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot; &quot;device1&quot;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot; &quot;gateway1&quot;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5998d988-8ba3-4107-be72-c1595cc675da&#x27;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5998d988-8ba3-4107-be72-c1595cc675da&quot;
[2022-05-09T12:25:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5998d988-8ba3-4107-be72-c1595cc675da deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:25:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:25:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:25:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:25:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5MTEsImlhdCI6MTY1MjA5OTExMSwianRpIjoiZDJhNjU5NTYtOGI1NC00NTA4LTllZTYtYmE2ZThiZTFkMzZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpRYlRfSGhOTy0xdFlvZzZjZlBic2ciLCJzZXNzaW9uX3N0YXRlIjoiZmQ3MmJiZGItOWE1Ni00YTMwLWFiNWMtN2RiMjI1NTY0ZjZmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiJ9.uR6IczUxKhCWKnvP-Has0Y36b1VyncLISOXk6nKqHls
[2022-05-09T12:25:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:25:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5MTEsImlhdCI6MTY1MjA5OTExMSwianRpIjoiZDJhNjU5NTYtOGI1NC00NTA4LTllZTYtYmE2ZThiZTFkMzZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpRYlRfSGhOTy0xdFlvZzZjZlBic2ciLCJzZXNzaW9uX3N0YXRlIjoiZmQ3MmJiZGItOWE1Ni00YTMwLWFiNWMtN2RiMjI1NTY0ZjZmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiJ9.uR6IczUxKhCWKnvP-Has0Y36b1VyncLISOXk6nKqHls&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:25:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:12Z INFO  drogue_cloud_tests::resources::apps] Create application: 3774a11e-5751-4f85-bebe-1e297c3350fb
[2022-05-09T12:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;
[2022-05-09T12:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3774a11e-5751-4f85-bebe-1e297c3350fb created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;
[2022-05-09T12:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:12.527012Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b8a1c8ee-b266-4da7-a627-2191a24912d7\&quot;,\n    \&quot;uid\&quot;: \&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541166045Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541284586Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541130488Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541131911Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541132582Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541133364Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541134225Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.541141740Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:12.527012Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;), &quot;resourceVersion&quot;: String(&quot;b8a1c8ee-b266-4da7-a627-2191a24912d7&quot;), &quot;uid&quot;: String(&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541166045Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541284586Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541130488Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541131911Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541132582Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541133364Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541134225Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.541141740Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:12.527012Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;09bca49d-be08-4ba7-a677-75a1b1e87af9\&quot;,\n    \&quot;uid\&quot;: \&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834324356Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834371515Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.572347063Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.580654141Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.671173146Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.676483734Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834154918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834288189Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qpg40oQrdreb\&quot;,\n        \&quot;username\&quot;: \&quot;user-3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:12.527012Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;), &quot;resourceVersion&quot;: String(&quot;09bca49d-be08-4ba7-a677-75a1b1e87af9&quot;), &quot;uid&quot;: String(&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834324356Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834371515Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.572347063Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.580654141Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.671173146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.676483734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834154918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834288189Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qpg40oQrdreb&quot;), &quot;username&quot;: String(&quot;user-3774a11e-5751-4f85-bebe-1e297c3350fb&quot;)})})})})
[2022-05-09T12:25:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:12.527012Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;09bca49d-be08-4ba7-a677-75a1b1e87af9\&quot;,\n    \&quot;uid\&quot;: \&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834324356Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834371515Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.572347063Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.580654141Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.671173146Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.676483734Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834154918Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:12.834288189Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qpg40oQrdreb\&quot;,\n        \&quot;username\&quot;: \&quot;user-3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:12.527012Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;), &quot;resourceVersion&quot;: String(&quot;09bca49d-be08-4ba7-a677-75a1b1e87af9&quot;), &quot;uid&quot;: String(&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834324356Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834371515Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.572347063Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.580654141Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.671173146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.676483734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834154918Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:12.834288189Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qpg40oQrdreb&quot;), &quot;username&quot;: String(&quot;user-3774a11e-5751-4f85-bebe-1e297c3350fb&quot;)})})})})
[2022-05-09T12:25:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MTEsImlhdCI6MTY1MjA5OTExMSwiYXV0aF90aW1lIjoxNjUyMDk5MTA4LCJqdGkiOiI3NmM1MDgzZi02MzFiLTRhZDEtYmE3MS0yMDYxZjgzOWMwNzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqUWJUX0hoTk8tMXRZb2c2Y2ZQYnNnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P4fQ4NJMTuXJwhUX2uiQhJt0o4ohGDp-ySLNrBzkbANK5ebgwpuWf9YkryHaXXyeZ1d-GOIwvjUm6gUy4L2St7pKN-pAQzN-sNMuDyObkZgvG_gHtYbxMdE2oG4mRSIX-Ekxqr8EPRJlVA9YilZZpbpsPJhP8T4hcH_bJmkFe_q74GNFozLaWLwscCdxAOzzZF5Dgy-75hajXsUHNPpZkEwxrfRkKCgEUS5F0VOPEqiwNm1z9cP2MehnPerdl9scAjxkuDCe4yhGDkmpj8vRehEC_1q0nxT4Tz3hglMPo7hTpvODhmmT1bCValkQhjiOEBg3vZ1FbHfe9EAEUsXpgg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MTEsImlhdCI6MTY1MjA5OTExMSwiYXV0aF90aW1lIjoxNjUyMDk5MTA4LCJqdGkiOiI3NmM1MDgzZi02MzFiLTRhZDEtYmE3MS0yMDYxZjgzOWMwNzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqUWJUX0hoTk8tMXRZb2c2Y2ZQYnNnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P4fQ4NJMTuXJwhUX2uiQhJt0o4ohGDp-ySLNrBzkbANK5ebgwpuWf9YkryHaXXyeZ1d-GOIwvjUm6gUy4L2St7pKN-pAQzN-sNMuDyObkZgvG_gHtYbxMdE2oG4mRSIX-Ekxqr8EPRJlVA9YilZZpbpsPJhP8T4hcH_bJmkFe_q74GNFozLaWLwscCdxAOzzZF5Dgy-75hajXsUHNPpZkEwxrfRkKCgEUS5F0VOPEqiwNm1z9cP2MehnPerdl9scAjxkuDCe4yhGDkmpj8vRehEC_1q0nxT4Tz3hglMPo7hTpvODhmmT1bCValkQhjiOEBg3vZ1FbHfe9EAEUsXpgg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;e9bf4a0d-44b0-4078-8b59-2051042255cf&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178e6ed0
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178e6ed0
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178e54f0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a3f2e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b17820, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MTEsImlhdCI6MTY1MjA5OTExMSwiYXV0aF90aW1lIjoxNjUyMDk5MTA4LCJqdGkiOiI3NmM1MDgzZi02MzFiLTRhZDEtYmE3MS0yMDYxZjgzOWMwNzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqUWJUX0hoTk8tMXRZb2c2Y2ZQYnNnIiwic2Vzc2lvbl9zdGF0ZSI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZkNzJiYmRiLTlhNTYtNGEzMC1hYjVjLTdkYjIyNTU2NGY2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P4fQ4NJMTuXJwhUX2uiQhJt0o4ohGDp-ySLNrBzkbANK5ebgwpuWf9YkryHaXXyeZ1d-GOIwvjUm6gUy4L2St7pKN-pAQzN-sNMuDyObkZgvG_gHtYbxMdE2oG4mRSIX-Ekxqr8EPRJlVA9YilZZpbpsPJhP8T4hcH_bJmkFe_q74GNFozLaWLwscCdxAOzzZF5Dgy-75hajXsUHNPpZkEwxrfRkKCgEUS5F0VOPEqiwNm1z9cP2MehnPerdl9scAjxkuDCe4yhGDkmpj8vRehEC_1q0nxT4Tz3hglMPo7hTpvODhmmT1bCValkQhjiOEBg3vZ1FbHfe9EAEUsXpgg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:13Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;&#x27; @ QOS 0
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18015820, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18015aa0 } }, data: MessageData { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 54, 100, 55, 48, 48, 53, 54, 45, 55, 97, 50, 55, 45, 52, 48, 48, 53, 45, 97, 49, 50, 101, 45, 98, 57, 100, 55, 50, 52, 54, 52, 55, 51, 50, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 49, 55, 46, 54, 55, 48, 56, 55, 54, 49, 55, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 45, 53, 55, 53, 49, 45, 52, 102, 56, 53, 45, 98, 101, 98, 101, 45, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 51, 55, 56, 51, 54, 101, 49, 45, 50, 55, 52, 54, 45, 52, 102, 51, 51, 45, 97, 52, 54, 97, 45, 54, 55, 98, 51, 52, 49, 49, 55, 102, 102, 52, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 99, 54, 55, 100, 50, 55, 98, 45, 52, 102, 55, 97, 45, 52, 52, 48, 51, 45, 98, 52, 50, 97, 45, 56, 49, 53, 99, 57, 99, 55, 50, 102, 54, 56, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18015aa0 } } } }
[2022-05-09T12:25:17Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717c32cb0
[2022-05-09T12:25:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b6d70056-7a27-4005-a12e-b9d724647328\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:17.670876178Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;737836e1-2746-4f33-a46a-67b34117ff4e\&quot;,\&quot;senderuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;applicationuid\&quot;:\&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/device1\&quot;}&quot; }
[2022-05-09T12:25:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:25:18Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:25:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:25:18Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:25:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;9f0f2c65-2380-4ee1-84fe-9f452f4cd117&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ae8960
[2022-05-09T12:25:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ae8960
[2022-05-09T12:25:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717c83650, password: 0x5617179c6b00, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ca4ef0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c83570, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3774a11e-5751-4f85-bebe-1e297c3350fb&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:19Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717c6f6e0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717c6f6e0 } } } }
[2022-05-09T12:25:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1800c430, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800c6c0 } }, data: MessageData { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 53, 50, 102, 55, 50, 50, 98, 45, 48, 53, 97, 56, 45, 52, 51, 48, 99, 45, 98, 51, 48, 50, 45, 97, 50, 55, 54, 52, 100, 99, 99, 49, 51, 54, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 49, 56, 46, 55, 56, 57, 51, 54, 54, 49, 57, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 45, 53, 55, 53, 49, 45, 52, 102, 56, 53, 45, 98, 101, 98, 101, 45, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 99, 54, 55, 100, 50, 55, 98, 45, 52, 102, 55, 97, 45, 52, 52, 48, 51, 45, 98, 52, 50, 97, 45, 56, 49, 53, 99, 57, 99, 55, 50, 102, 54, 56, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800c6c0 } } } }
[2022-05-09T12:25:19Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004e10
[2022-05-09T12:25:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;052f722b-05a8-430c-b302-a2764dcc136e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:18.789366198Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\&quot;partitionkey\&quot;:\&quot;3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;senderuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;}&quot; }
[2022-05-09T12:25:19Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:25:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1800c860, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18016170 } }, data: MessageData { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 50, 56, 100, 99, 101, 101, 102, 45, 56, 98, 49, 98, 45, 52, 51, 54, 100, 45, 56, 48, 50, 53, 45, 101, 56, 56, 52, 51, 52, 51, 54, 53, 53, 51, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 49, 57, 46, 51, 52, 48, 50, 53, 53, 50, 53, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 99, 54, 55, 100, 50, 55, 98, 45, 52, 102, 55, 97, 45, 52, 52, 48, 51, 45, 98, 52, 50, 97, 45, 56, 49, 53, 99, 57, 99, 55, 50, 102, 54, 56, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 45, 53, 55, 53, 49, 45, 52, 102, 56, 53, 45, 98, 101, 98, 101, 45, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18016170 } } } }
[2022-05-09T12:25:19Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004e10
[2022-05-09T12:25:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;228dceef-8b1b-436d-8025-e8843436553c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:19.340255259Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;,\&quot;application\&quot;:\&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;}&quot; }
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1800c430, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18016310 } }, data: MessageData { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 98, 100, 99, 56, 57, 48, 97, 45, 48, 55, 54, 49, 45, 52, 50, 55, 48, 45, 56, 51, 57, 57, 45, 97, 101, 98, 53, 56, 53, 99, 98, 101, 53, 56, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 49, 57, 46, 51, 51, 57, 49, 51, 57, 51, 50, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 54, 51, 56, 51, 97, 55, 97, 45, 97, 50, 99, 56, 45, 52, 101, 97, 57, 45, 98, 50, 100, 53, 45, 101, 51, 54, 99, 50, 102, 99, 50, 51, 50, 48, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 37, 50, 68, 53, 55, 53, 49, 37, 50, 68, 52, 102, 56, 53, 37, 50, 68, 98, 101, 98, 101, 37, 50, 68, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 99, 54, 55, 100, 50, 55, 98, 45, 52, 102, 55, 97, 45, 52, 52, 48, 51, 45, 98, 52, 50, 97, 45, 56, 49, 53, 99, 57, 99, 55, 50, 102, 54, 56, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 51, 55, 56, 51, 54, 101, 49, 45, 50, 55, 52, 54, 45, 52, 102, 51, 51, 45, 97, 52, 54, 97, 45, 54, 55, 98, 51, 52, 49, 49, 55, 102, 102, 52, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 55, 55, 52, 97, 49, 49, 101, 45, 53, 55, 53, 49, 45, 52, 102, 56, 53, 45, 98, 101, 98, 101, 45, 49, 101, 50, 57, 55, 99, 51, 51, 53, 48, 102, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18016310 } } } }
[2022-05-09T12:25:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004e10
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bbdc890a-0761-4270-8399-aeb585cbe58b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:19.339139327Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;26383a7a-a2c8-4ea9-b2d5-e36c2fc2320c\&quot;,\&quot;partitionkey\&quot;:\&quot;3774a11e%2D5751%2D4f85%2Dbebe%2D1e297c3350fb/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;6c67d27b-4f7a-4403-b42a-815c9c72f689\&quot;,\&quot;deviceuid\&quot;:\&quot;737836e1-2746-4f33-a46a-67b34117ff4e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;3774a11e-5751-4f85-bebe-1e297c3350fb\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:25:20Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:25:20Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot; &quot;device1&quot;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot; &quot;gateway1&quot;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3774a11e-5751-4f85-bebe-1e297c3350fb&#x27;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3774a11e-5751-4f85-bebe-1e297c3350fb&quot;
[2022-05-09T12:25:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3774a11e-5751-4f85-bebe-1e297c3350fb deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:25:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:25:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:25:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:25:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5MjcsImlhdCI6MTY1MjA5OTEyNywianRpIjoiOGUxZDJhZDktZGVjZC00OGQ0LTk4M2EtODA2YmNjZTg2ZTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii00SG1JSDFjSW9yME9lZFg5VnUzVlEiLCJzZXNzaW9uX3N0YXRlIjoiM2E0NGVhZjktYjI2OC00YzcxLWEyMjktNTc0OWU1MjlkNzE3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyJ9.jYfWgEIBh2_jG7Y_1y7dL9dkiGl3rGJ0cGFPFtxuL5M
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5MjcsImlhdCI6MTY1MjA5OTEyNywianRpIjoiOGUxZDJhZDktZGVjZC00OGQ0LTk4M2EtODA2YmNjZTg2ZTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii00SG1JSDFjSW9yME9lZFg5VnUzVlEiLCJzZXNzaW9uX3N0YXRlIjoiM2E0NGVhZjktYjI2OC00YzcxLWEyMjktNTc0OWU1MjlkNzE3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyJ9.jYfWgEIBh2_jG7Y_1y7dL9dkiGl3rGJ0cGFPFtxuL5M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::resources::apps] Create application: d75a1862-4f59-4817-ac8b-df0233c9de98
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d75a1862-4f59-4817-ac8b-df0233c9de98 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;
[2022-05-09T12:25:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:27.837291Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e0e91fbf-a0a3-4cc9-a94e-669758056203\&quot;,\n    \&quot;uid\&quot;: \&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849984299Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.850023092Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849937842Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849939786Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849940877Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849942381Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849942902Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.849950917Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:27.837291Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;), &quot;resourceVersion&quot;: String(&quot;e0e91fbf-a0a3-4cc9-a94e-669758056203&quot;), &quot;uid&quot;: String(&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849984299Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.850023092Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849937842Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849939786Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849940877Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849942381Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849942902Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.849950917Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:25:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:27.837291Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;eb83adf3-05d8-4e6c-8c01-237cfe0aede1\&quot;,\n    \&quot;uid\&quot;: \&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180980563Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.181014867Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.876877979Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.884203314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.983691117Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.996344856Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180930368Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180952320Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zPy9DZOF2SuO\&quot;,\n        \&quot;username\&quot;: \&quot;user-d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:27.837291Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;), &quot;resourceVersion&quot;: String(&quot;eb83adf3-05d8-4e6c-8c01-237cfe0aede1&quot;), &quot;uid&quot;: String(&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180980563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.181014867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.876877979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.884203314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.983691117Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.996344856Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180930368Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180952320Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zPy9DZOF2SuO&quot;), &quot;username&quot;: String(&quot;user-d75a1862-4f59-4817-ac8b-df0233c9de98&quot;)})})})})
[2022-05-09T12:25:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:27.837291Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;eb83adf3-05d8-4e6c-8c01-237cfe0aede1\&quot;,\n    \&quot;uid\&quot;: \&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180980563Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.181014867Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.876877979Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.884203314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.983691117Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:27.996344856Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180930368Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:28.180952320Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zPy9DZOF2SuO\&quot;,\n        \&quot;username\&quot;: \&quot;user-d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:27.837291Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;), &quot;resourceVersion&quot;: String(&quot;eb83adf3-05d8-4e6c-8c01-237cfe0aede1&quot;), &quot;uid&quot;: String(&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180980563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.181014867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.876877979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.884203314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.983691117Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:27.996344856Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180930368Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:28.180952320Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zPy9DZOF2SuO&quot;), &quot;username&quot;: String(&quot;user-d75a1862-4f59-4817-ac8b-df0233c9de98&quot;)})})})})
[2022-05-09T12:25:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MjcsImlhdCI6MTY1MjA5OTEyNywiYXV0aF90aW1lIjoxNjUyMDk5MTI0LCJqdGkiOiI1Yzk2NDVkNC0zZDBjLTQxMTItOGVlNi1jMWQ3MGY1NzI1NTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItNEhtSUgxY0lvcjBPZWRYOVZ1M1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QTzjx7iJuahQ9Fjuchx3k_duLQzT2o7_iZcdJtVStfC7v7cA59W92C5KE2wM5C6SgzaW4ZdPyJ31CXPEGE0e8fBZQUgxx70gFNMFHMNV9QQBolsYAL4T8TtOVzMDozP-KXj1LzB_TveAYUV7xfWetiLSp6RcTHgzaR54HtitU5b3rcbr47yn0zWxLj6MwVfGt3Q9RkyZlgHsjjw-Zg4O4hd0Nn9oHlE2Y__JNd1b7C5peOJiowdsyi5nKA_76zCVy4Agq7n02JHyzwu7k8s7ymisti3juzhl6UOy-2JG-jp7B37lusJ-G3n3jD-XrmDyP5JmQ2OO2QFml9JGag_5vQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MjcsImlhdCI6MTY1MjA5OTEyNywiYXV0aF90aW1lIjoxNjUyMDk5MTI0LCJqdGkiOiI1Yzk2NDVkNC0zZDBjLTQxMTItOGVlNi1jMWQ3MGY1NzI1NTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItNEhtSUgxY0lvcjBPZWRYOVZ1M1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QTzjx7iJuahQ9Fjuchx3k_duLQzT2o7_iZcdJtVStfC7v7cA59W92C5KE2wM5C6SgzaW4ZdPyJ31CXPEGE0e8fBZQUgxx70gFNMFHMNV9QQBolsYAL4T8TtOVzMDozP-KXj1LzB_TveAYUV7xfWetiLSp6RcTHgzaR54HtitU5b3rcbr47yn0zWxLj6MwVfGt3Q9RkyZlgHsjjw-Zg4O4hd0Nn9oHlE2Y__JNd1b7C5peOJiowdsyi5nKA_76zCVy4Agq7n02JHyzwu7k8s7ymisti3juzhl6UOy-2JG-jp7B37lusJ-G3n3jD-XrmDyP5JmQ2OO2QFml9JGag_5vQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;52e51601-7a41-4b62-ba02-aa4234bfaad0&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717aa5290
[2022-05-09T12:25:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717aa5290
[2022-05-09T12:25:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717aa55d0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ccf280, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b19260, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0MjcsImlhdCI6MTY1MjA5OTEyNywiYXV0aF90aW1lIjoxNjUyMDk5MTI0LCJqdGkiOiI1Yzk2NDVkNC0zZDBjLTQxMTItOGVlNi1jMWQ3MGY1NzI1NTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItNEhtSUgxY0lvcjBPZWRYOVZ1M1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNDRlYWY5LWIyNjgtNGM3MS1hMjI5LTU3NDllNTI5ZDcxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QTzjx7iJuahQ9Fjuchx3k_duLQzT2o7_iZcdJtVStfC7v7cA59W92C5KE2wM5C6SgzaW4ZdPyJ31CXPEGE0e8fBZQUgxx70gFNMFHMNV9QQBolsYAL4T8TtOVzMDozP-KXj1LzB_TveAYUV7xfWetiLSp6RcTHgzaR54HtitU5b3rcbr47yn0zWxLj6MwVfGt3Q9RkyZlgHsjjw-Zg4O4hd0Nn9oHlE2Y__JNd1b7C5peOJiowdsyi5nKA_76zCVy4Agq7n02JHyzwu7k8s7ymisti3juzhl6UOy-2JG-jp7B37lusJ-G3n3jD-XrmDyP5JmQ2OO2QFml9JGag_5vQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:29Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;&#x27; @ QOS 0
[2022-05-09T12:25:29Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:25:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:25:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1800b030, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800b2b0 } }, data: MessageData { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 56, 102, 53, 98, 102, 53, 49, 45, 49, 97, 98, 49, 45, 52, 52, 49, 57, 45, 98, 97, 53, 48, 45, 53, 102, 48, 97, 97, 53, 51, 54, 48, 49, 100, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 51, 50, 46, 54, 55, 52, 50, 54, 56, 57, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 102, 54, 56, 54, 98, 98, 48, 45, 102, 55, 56, 102, 45, 52, 101, 51, 55, 45, 97, 55, 52, 101, 45, 51, 99, 102, 100, 52, 48, 99, 50, 98, 100, 102, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 98, 50, 99, 56, 51, 57, 98, 45, 102, 102, 49, 97, 45, 52, 55, 100, 100, 45, 56, 48, 101, 48, 45, 55, 99, 50, 50, 52, 97, 48, 48, 50, 57, 56, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 45, 52, 102, 53, 57, 45, 52, 56, 49, 55, 45, 97, 99, 56, 98, 45, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800b2b0 } } } }
[2022-05-09T12:25:32Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdcce0
[2022-05-09T12:25:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;18f5bf51-1ab1-4419-ba50-5f0aa53601da\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:32.674268991Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;,\&quot;deviceuid\&quot;:\&quot;bf686bb0-f78f-4e37-a74e-3cfd40c2bdf9\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;,\&quot;application\&quot;:\&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:25:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:25:33Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:25:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:25:33Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:25:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d9797043-64f1-4f43-aa59-3e441f832185&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717d019c0
[2022-05-09T12:25:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717d019c0
[2022-05-09T12:25:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717bf2720, password: 0x561717a3fca0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b51a00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cc1790, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@d75a1862-4f59-4817-ac8b-df0233c9de98&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:34Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717b66e10 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717b66e10 } } } }
[2022-05-09T12:25:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18029fe0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a270 } }, data: MessageData { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 49, 99, 102, 100, 100, 57, 57, 45, 52, 48, 50, 53, 45, 52, 52, 50, 101, 45, 57, 48, 49, 49, 45, 100, 49, 51, 98, 102, 55, 101, 49, 101, 101, 52, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 51, 51, 46, 55, 54, 54, 51, 49, 52, 57, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 45, 52, 102, 53, 57, 45, 52, 56, 49, 55, 45, 97, 99, 56, 98, 45, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 98, 50, 99, 56, 51, 57, 98, 45, 102, 102, 49, 97, 45, 52, 55, 100, 100, 45, 56, 48, 101, 48, 45, 55, 99, 50, 50, 52, 97, 48, 48, 50, 57, 56, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a270 } } } }
[2022-05-09T12:25:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdcce0
[2022-05-09T12:25:34Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:25:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;71cfdd99-4025-442e-9011-d13bf7e1ee46\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:33.766314917Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;,\&quot;applicationuid\&quot;:\&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;,\&quot;deviceuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;}&quot; }
[2022-05-09T12:25:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1802a270, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a500 } }, data: MessageData { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 101, 100, 54, 52, 53, 53, 49, 45, 52, 54, 48, 54, 45, 52, 49, 55, 102, 45, 97, 98, 98, 56, 45, 49, 102, 98, 57, 53, 102, 48, 50, 50, 52, 97, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 51, 52, 46, 51, 54, 56, 56, 52, 57, 53, 52, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 98, 50, 99, 56, 51, 57, 98, 45, 102, 102, 49, 97, 45, 52, 55, 100, 100, 45, 56, 48, 101, 48, 45, 55, 99, 50, 50, 52, 97, 48, 48, 50, 57, 56, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 45, 52, 102, 53, 57, 45, 52, 56, 49, 55, 45, 97, 99, 56, 98, 45, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a500 } } } }
[2022-05-09T12:25:34Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdcce0
[2022-05-09T12:25:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2ed64551-4606-417f-abb8-1fb95f0224aa\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:34.368849542Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;,\&quot;deviceuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;,\&quot;application\&quot;:\&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b180074b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a7e0 } }, data: MessageData { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 57, 56, 54, 52, 99, 55, 54, 45, 97, 97, 55, 55, 45, 52, 101, 100, 53, 45, 97, 54, 49, 101, 45, 53, 56, 99, 57, 56, 98, 55, 57, 57, 53, 50, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 53, 58, 51, 52, 46, 51, 54, 55, 57, 48, 55, 52, 48, 53, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 45, 52, 102, 53, 57, 45, 52, 56, 49, 55, 45, 97, 99, 56, 98, 45, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 55, 53, 97, 49, 56, 54, 50, 37, 50, 68, 52, 102, 53, 57, 37, 50, 68, 52, 56, 49, 55, 37, 50, 68, 97, 99, 56, 98, 37, 50, 68, 100, 102, 48, 50, 51, 51, 99, 57, 100, 101, 57, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 98, 50, 99, 56, 51, 57, 98, 45, 102, 102, 49, 97, 45, 52, 55, 100, 100, 45, 56, 48, 101, 48, 45, 55, 99, 50, 50, 52, 97, 48, 48, 50, 57, 56, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 102, 54, 56, 54, 98, 98, 48, 45, 102, 55, 56, 102, 45, 52, 101, 51, 55, 45, 97, 55, 52, 101, 45, 51, 99, 102, 100, 52, 48, 99, 50, 98, 100, 102, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 100, 48, 50, 50, 50, 97, 48, 45, 52, 51, 49, 101, 45, 52, 55, 102, 55, 45, 97, 48, 55, 49, 45, 99, 55, 101, 54, 102, 99, 56, 52, 49, 57, 52, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802a7e0 } } } }
[2022-05-09T12:25:35Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717bdcce0
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;39864c76-aa77-4ed5-a61e-58c98b799529\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:25:34.367907405Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;d75a1862-4f59-4817-ac8b-df0233c9de98\&quot;,\&quot;partitionkey\&quot;:\&quot;d75a1862%2D4f59%2D4817%2Dac8b%2Ddf0233c9de98/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0b2c839b-ff1a-47dd-80e0-7c224a002984\&quot;,\&quot;deviceuid\&quot;:\&quot;bf686bb0-f78f-4e37-a74e-3cfd40c2bdf9\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;fd0222a0-431e-47f7-a071-c7e6fc84194d\&quot;}&quot; }
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:25:35Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:25:35Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot; &quot;device1&quot;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot; &quot;gateway1&quot;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d75a1862-4f59-4817-ac8b-df0233c9de98&#x27;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d75a1862-4f59-4817-ac8b-df0233c9de98&quot;
[2022-05-09T12:25:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d75a1862-4f59-4817-ac8b-df0233c9de98 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:25:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:25:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:25:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:25:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NDEsImlhdCI6MTY1MjA5OTE0MSwianRpIjoiZDRhMmJhMmMtM2U5OC00ZTM2LWFhMGEtNTIwYTc1OTQ4YTNlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1aN05YQ0pOeGdkNW1EUnA5cVNvWHciLCJzZXNzaW9uX3N0YXRlIjoiMGJlMzU2NGUtMTQ4Ni00MGY5LTlhMTgtOTdmMTM0NGY5ZGQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiJ9.U26qUImbJb62VFk-43vWTZnWBF0yDlyDApM30bFu5WY
[2022-05-09T12:25:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:25:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NDEsImlhdCI6MTY1MjA5OTE0MSwianRpIjoiZDRhMmJhMmMtM2U5OC00ZTM2LWFhMGEtNTIwYTc1OTQ4YTNlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1aN05YQ0pOeGdkNW1EUnA5cVNvWHciLCJzZXNzaW9uX3N0YXRlIjoiMGJlMzU2NGUtMTQ4Ni00MGY5LTlhMTgtOTdmMTM0NGY5ZGQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiJ9.U26qUImbJb62VFk-43vWTZnWBF0yDlyDApM30bFu5WY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::resources::apps] Create application: d1a9248b-3102-4d84-9b49-9f97cdcf4bc4
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d1a9248b-3102-4d84-9b49-9f97cdcf4bc4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;
[2022-05-09T12:25:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:42.717200Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;90921637-54ea-4a6b-81b3-56eb545fe33a\&quot;,\n    \&quot;uid\&quot;: \&quot;5fbdff73-912c-4e11-8029-890b2ee64d38\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.729820987Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:42.717200Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;), &quot;resourceVersion&quot;: String(&quot;90921637-54ea-4a6b-81b3-56eb545fe33a&quot;), &quot;uid&quot;: String(&quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.729820987Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:25:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:42.717200Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;eedc3d8d-96da-4809-959d-3efd03d2f4fb\&quot;,\n    \&quot;uid\&quot;: \&quot;5fbdff73-912c-4e11-8029-890b2ee64d38\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096173398Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096059134Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.766357197Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.773373485Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.879103192Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.894122695Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096000804Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096027585Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XvAYl2tOcljT\&quot;,\n        \&quot;username\&quot;: \&quot;user-d1a9248b-3102-4d84-9b49-9f97cdcf4bc4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:42.717200Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;), &quot;resourceVersion&quot;: String(&quot;eedc3d8d-96da-4809-959d-3efd03d2f4fb&quot;), &quot;uid&quot;: String(&quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096173398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096059134Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.766357197Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.773373485Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.879103192Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.894122695Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096000804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096027585Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XvAYl2tOcljT&quot;), &quot;username&quot;: String(&quot;user-d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;)})})})})
[2022-05-09T12:25:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:42.717200Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;eedc3d8d-96da-4809-959d-3efd03d2f4fb\&quot;,\n    \&quot;uid\&quot;: \&quot;5fbdff73-912c-4e11-8029-890b2ee64d38\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096173398Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096059134Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.766357197Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.773373485Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.879103192Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:42.894122695Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096000804Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:43.096027585Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XvAYl2tOcljT\&quot;,\n        \&quot;username\&quot;: \&quot;user-d1a9248b-3102-4d84-9b49-9f97cdcf4bc4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:42.717200Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;), &quot;resourceVersion&quot;: String(&quot;eedc3d8d-96da-4809-959d-3efd03d2f4fb&quot;), &quot;uid&quot;: String(&quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096173398Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096059134Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.766357197Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.773373485Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.879103192Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:42.894122695Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096000804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:43.096027585Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XvAYl2tOcljT&quot;), &quot;username&quot;: String(&quot;user-d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;)})})})})
[2022-05-09T12:25:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NDIsImlhdCI6MTY1MjA5OTE0MiwiYXV0aF90aW1lIjoxNjUyMDk5MTM5LCJqdGkiOiI2YjczNDE0YS03MThlLTRmZTAtYTZiYS04YjAyOTM0MWQ5OWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNWjdOWENKTnhnZDVtRFJwOXFTb1h3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwzqNy-S_ZjusgvVPWYvU9VG7Sj48RSe3wkA8XXfFwrQdXMRCXIjdk3pgrgODiR9lFOjbgsQIPEzFBuDNYWteD_XYd0xgaHoqLZsSWcP-RfNiS7IIJJeakXDAIZXueqzDX7Cr-mCeoGLcQGL32jfYEYSGL4mtmNzpa7DBKftXwMRjxc0s62AIZAF1__QdYxgvAEhX-fFyXOITAxJBQl5c21dnx_osLUr2ESvR06dpNouYrstRuJcWtswQj44eWZC5PxeoFBNRnbDeP5O7wuuiUhrCLotyXXtUo7TTgB6FzswcIs-BVkrDPsYV9rzOdB2Pta5h9Ngkjzu_2MdsszBEw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NDIsImlhdCI6MTY1MjA5OTE0MiwiYXV0aF90aW1lIjoxNjUyMDk5MTM5LCJqdGkiOiI2YjczNDE0YS03MThlLTRmZTAtYTZiYS04YjAyOTM0MWQ5OWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNWjdOWENKTnhnZDVtRFJwOXFTb1h3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwzqNy-S_ZjusgvVPWYvU9VG7Sj48RSe3wkA8XXfFwrQdXMRCXIjdk3pgrgODiR9lFOjbgsQIPEzFBuDNYWteD_XYd0xgaHoqLZsSWcP-RfNiS7IIJJeakXDAIZXueqzDX7Cr-mCeoGLcQGL32jfYEYSGL4mtmNzpa7DBKftXwMRjxc0s62AIZAF1__QdYxgvAEhX-fFyXOITAxJBQl5c21dnx_osLUr2ESvR06dpNouYrstRuJcWtswQj44eWZC5PxeoFBNRnbDeP5O7wuuiUhrCLotyXXtUo7TTgB6FzswcIs-BVkrDPsYV9rzOdB2Pta5h9Ngkjzu_2MdsszBEw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3e0adde7-4fda-479e-8848-ed3fa58c07e3&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b65880
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b65880
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617178e2610, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b3fd70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178e3830, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NDIsImlhdCI6MTY1MjA5OTE0MiwiYXV0aF90aW1lIjoxNjUyMDk5MTM5LCJqdGkiOiI2YjczNDE0YS03MThlLTRmZTAtYTZiYS04YjAyOTM0MWQ5OWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNWjdOWENKTnhnZDVtRFJwOXFTb1h3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBiZTM1NjRlLTE0ODYtNDBmOS05YTE4LTk3ZjEzNDRmOWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hwzqNy-S_ZjusgvVPWYvU9VG7Sj48RSe3wkA8XXfFwrQdXMRCXIjdk3pgrgODiR9lFOjbgsQIPEzFBuDNYWteD_XYd0xgaHoqLZsSWcP-RfNiS7IIJJeakXDAIZXueqzDX7Cr-mCeoGLcQGL32jfYEYSGL4mtmNzpa7DBKftXwMRjxc0s62AIZAF1__QdYxgvAEhX-fFyXOITAxJBQl5c21dnx_osLUr2ESvR06dpNouYrstRuJcWtswQj44eWZC5PxeoFBNRnbDeP5O7wuuiUhrCLotyXXtUo7TTgB6FzswcIs-BVkrDPsYV9rzOdB2Pta5h9Ngkjzu_2MdsszBEw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:43Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;&#x27; @ QOS 0
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b18008db0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b1802c820 } }, data: MessageData { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b1802c820 } } } }
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c0c060, 0x561717b6cbd0
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b6cbd0, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b6cbd0, 0x56171799d7a0
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171799d7a0, 0x561717c30de0
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171799d7a0, 0x7f4b3000c210
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000c210, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000c210, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000c210, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000c210, 0x7f4b30004820
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004820, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004820, 0x7f4b300038c0
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300038c0, 0x7f4b30004820
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004820, 0x561717981120
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004820, 0x561717b6cec0
[2022-05-09T12:25:47Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30004820
[2022-05-09T12:25:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/device1&quot;, &quot;application&quot;: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;applicationuid&quot;: &quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;95f09e0a-5625-42e7-a709-1b1176635f76&quot;, &quot;senderuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;partitionkey&quot;: &quot;d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;5413835f-294c-4c37-a398-b7b124818d72&quot;, &quot;time&quot;: &quot;2022-05-09T12:25:47.716816678+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:25:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:25:48Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:25:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:25:48Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:25:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c2f4153c-ad92-4a90-929a-e1c3b96b0ae8&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717bfd6b0
[2022-05-09T12:25:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717bfd6b0
[2022-05-09T12:25:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x5617179cb0a0, password: 0x561717ccbd20, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b3b680, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717bc7200, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b180034d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800c340 } }, data: MessageData { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800c340 } } } }
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717ac1ea0, 0x56171799d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171799d780, 0x561717c79c40
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171799d780, 0x7f4b280019f0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b28001bb0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x561717aea290
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b28001c00
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c00, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c00, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c00, 0x7f4b28002430
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c00, 0x7f4b280098e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280098e0, 0x7f4b28001c00
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28001c00
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, &quot;applicationuid&quot;: &quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;3b87b6a5-6405-4e7c-bb2d-d07820ae3841&quot;, &quot;senderuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:25:48.831257526+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:25:49Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aa8720 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aa8720 } } } }
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b180183d0 } }, data: MessageData { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b180183d0 } } } }
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001b90, 0x7f4b280096c0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280096c0, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280096c0, 0x7f4b28002340
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002340, 0x7f4b1800c7e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002340, 0x7f4b28007850
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007850, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007850, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007850, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007850, 0x7f4b28009900
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009900, 0x7f4b180332b0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009900, 0x7f4b28001c20
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001c20, 0x7f4b28009900
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009900, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28009900, 0x7f4b1800c6e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28007640
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T12:25:49.083387525+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/device1&quot;, &quot;deviceuid&quot;: &quot;95f09e0a-5625-42e7-a709-1b1176635f76&quot;, &quot;partitionkey&quot;: &quot;d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;application&quot;: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, &quot;id&quot;: &quot;8edec835-8213-459b-b2c4-205206340bb7&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;applicationuid&quot;: &quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;}, payload: &quot;&quot; }
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b18002ef0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b18018a30 } }, data: MessageData { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b18018a30 } } } }
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280019f0, 0x7f4b280096c0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280096c0, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280096c0, 0x7f4b28002340
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002340, 0x7f4b18001010
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002340, 0x7f4b28008330
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b28001b90
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001b90, 0x7f4b28008330
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b180062e0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008330, 0x7f4b280095c0
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280095c0, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280095c0, 0x7f4b1801d780
[2022-05-09T12:25:49Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280095c0
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;5fbdff73-912c-4e11-8029-890b2ee64d38&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:25:49.371076692+00:00&quot;, &quot;partitionkey&quot;: &quot;d1a9248b%2D3102%2D4d84%2D9b49%2D9f97cdcf4bc4/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;deviceuid&quot;: &quot;6a8577ba-fc29-4403-bb5c-3ce47a85b62e&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;id&quot;: &quot;97c5c40d-55f2-41a8-9719-0ace96e6e735&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:25:49Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:25:49Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot; &quot;device1&quot;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot; &quot;gateway1&quot;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&#x27;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d1a9248b-3102-4d84-9b49-9f97cdcf4bc4&quot;
[2022-05-09T12:25:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d1a9248b-3102-4d84-9b49-9f97cdcf4bc4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:25:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:25:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:25:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:25:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:25:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:25:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NTYsImlhdCI6MTY1MjA5OTE1NiwianRpIjoiOTllYjM4OGMtOGM5NS00MmZiLWJlNmMtMTQ1ZDc4YjBmZTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjlzUTBJR3NmN1M1Z1I4RXh0WHJiSUEiLCJzZXNzaW9uX3N0YXRlIjoiNjY5ZGZkZjctZGNmZS00YjQ3LWEyNDUtZmEzYjFkOWJhOGVmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiJ9.XglLpiR1D9f0S2toq4XC9quua8xjm0Or3rpZIrlSgWs
[2022-05-09T12:25:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:25:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NTYsImlhdCI6MTY1MjA5OTE1NiwianRpIjoiOTllYjM4OGMtOGM5NS00MmZiLWJlNmMtMTQ1ZDc4YjBmZTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjlzUTBJR3NmN1M1Z1I4RXh0WHJiSUEiLCJzZXNzaW9uX3N0YXRlIjoiNjY5ZGZkZjctZGNmZS00YjQ3LWEyNDUtZmEzYjFkOWJhOGVmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiJ9.XglLpiR1D9f0S2toq4XC9quua8xjm0Or3rpZIrlSgWs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:25:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 4781f9e6-8235-4440-9f31-45f6736bef21
[2022-05-09T12:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;
[2022-05-09T12:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4781f9e6-8235-4440-9f31-45f6736bef21 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;
[2022-05-09T12:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:57.019793Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;4781f9e6-8235-4440-9f31-45f6736bef21\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4ec76084-78cb-4113-9ab9-70fede729e4a\&quot;,\n    \&quot;uid\&quot;: \&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034360513Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034241991Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034082953Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034084656Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034085617Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034086870Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034087390Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.034150309Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:57.019793Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;), &quot;resourceVersion&quot;: String(&quot;4ec76084-78cb-4113-9ab9-70fede729e4a&quot;), &quot;uid&quot;: String(&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034360513Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034241991Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034082953Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034084656Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034085617Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034086870Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034087390Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.034150309Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:25:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:57.019793Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4781f9e6-8235-4440-9f31-45f6736bef21\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f23d5520-3945-42e0-9339-2ae2e663aa27\&quot;,\n    \&quot;uid\&quot;: \&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271772875Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271737568Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.058026661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.062608372Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.113781979Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.119156347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271692144Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271709666Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;HhmaGfv2EoNs\&quot;,\n        \&quot;username\&quot;: \&quot;user-4781f9e6-8235-4440-9f31-45f6736bef21\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:57.019793Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;), &quot;resourceVersion&quot;: String(&quot;f23d5520-3945-42e0-9339-2ae2e663aa27&quot;), &quot;uid&quot;: String(&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271772875Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271737568Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.058026661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.062608372Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.113781979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.119156347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271692144Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271709666Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;HhmaGfv2EoNs&quot;), &quot;username&quot;: String(&quot;user-4781f9e6-8235-4440-9f31-45f6736bef21&quot;)})})})})
[2022-05-09T12:25:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:25:57.019793Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;4781f9e6-8235-4440-9f31-45f6736bef21\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f23d5520-3945-42e0-9339-2ae2e663aa27\&quot;,\n    \&quot;uid\&quot;: \&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271772875Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271737568Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.058026661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.062608372Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.113781979Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.119156347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271692144Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:25:57.271709666Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;HhmaGfv2EoNs\&quot;,\n        \&quot;username\&quot;: \&quot;user-4781f9e6-8235-4440-9f31-45f6736bef21\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:25:57.019793Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;), &quot;resourceVersion&quot;: String(&quot;f23d5520-3945-42e0-9339-2ae2e663aa27&quot;), &quot;uid&quot;: String(&quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271772875Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271737568Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.058026661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.062608372Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.113781979Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.119156347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271692144Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:25:57.271709666Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;HhmaGfv2EoNs&quot;), &quot;username&quot;: String(&quot;user-4781f9e6-8235-4440-9f31-45f6736bef21&quot;)})})})})
[2022-05-09T12:25:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NTYsImlhdCI6MTY1MjA5OTE1NiwiYXV0aF90aW1lIjoxNjUyMDk5MTUzLCJqdGkiOiI2Mzg3Zjg2Zi01NTExLTQ3NTYtOThiZS1lODFlMmNjYmJkMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5c1EwSUdzZjdTNWdSOEV4dFhyYklBIiwic2Vzc2lvbl9zdGF0ZSI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXxEDAOu9YXrSWI1aA8a8R7r4XcEAgY7zsG7MR7MEPiKS1H9I_AiK693xNGWeul6jZEKMH4AWxCitJaZQ_Z3lzmEVwGyFzEIWRPjzLylhwCUKg5X99PhU6cZ4IzSDL4SjPDJSWokb2EoLKYzhRSTQEIMHrW8Fi_CDhDR0c0zvZU1ynLG9nlboZXk_Rp5hMvBbV_Alg0zo61Qg2fRkMRkSNuk2ZrJP1TfVfWwPxBJIFuFwExdtxi_HyZQCl083C_T4jCWWjnhSChZQuUAFeVdzD2h4rA-bM5vTY8Yyp-NbirYozkH2f9yGuyLBybjqBRhB3MsraYb129h13qNfrl4fg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:25:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NTYsImlhdCI6MTY1MjA5OTE1NiwiYXV0aF90aW1lIjoxNjUyMDk5MTUzLCJqdGkiOiI2Mzg3Zjg2Zi01NTExLTQ3NTYtOThiZS1lODFlMmNjYmJkMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5c1EwSUdzZjdTNWdSOEV4dFhyYklBIiwic2Vzc2lvbl9zdGF0ZSI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXxEDAOu9YXrSWI1aA8a8R7r4XcEAgY7zsG7MR7MEPiKS1H9I_AiK693xNGWeul6jZEKMH4AWxCitJaZQ_Z3lzmEVwGyFzEIWRPjzLylhwCUKg5X99PhU6cZ4IzSDL4SjPDJSWokb2EoLKYzhRSTQEIMHrW8Fi_CDhDR0c0zvZU1ynLG9nlboZXk_Rp5hMvBbV_Alg0zo61Qg2fRkMRkSNuk2ZrJP1TfVfWwPxBJIFuFwExdtxi_HyZQCl083C_T4jCWWjnhSChZQuUAFeVdzD2h4rA-bM5vTY8Yyp-NbirYozkH2f9yGuyLBybjqBRhB3MsraYb129h13qNfrl4fg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;2d5e9f9a-2ded-43da-8d65-995bd5c233f7&quot;, persistence: None, user_data: None }
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717880d50
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717880d50
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717880000, connectTimeout: 30, retryInterval: 0, ssl: 0x561717881140, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717a0b1f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NTYsImlhdCI6MTY1MjA5OTE1NiwiYXV0aF90aW1lIjoxNjUyMDk5MTUzLCJqdGkiOiI2Mzg3Zjg2Zi01NTExLTQ3NTYtOThiZS1lODFlMmNjYmJkMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5c1EwSUdzZjdTNWdSOEV4dFhyYklBIiwic2Vzc2lvbl9zdGF0ZSI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2OWRmZGY3LWRjZmUtNGI0Ny1hMjQ1LWZhM2IxZDliYThlZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PXxEDAOu9YXrSWI1aA8a8R7r4XcEAgY7zsG7MR7MEPiKS1H9I_AiK693xNGWeul6jZEKMH4AWxCitJaZQ_Z3lzmEVwGyFzEIWRPjzLylhwCUKg5X99PhU6cZ4IzSDL4SjPDJSWokb2EoLKYzhRSTQEIMHrW8Fi_CDhDR0c0zvZU1ynLG9nlboZXk_Rp5hMvBbV_Alg0zo61Qg2fRkMRkSNuk2ZrJP1TfVfWwPxBJIFuFwExdtxi_HyZQCl083C_T4jCWWjnhSChZQuUAFeVdzD2h4rA-bM5vTY8Yyp-NbirYozkH2f9yGuyLBybjqBRhB3MsraYb129h13qNfrl4fg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:25:58Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;&#x27; @ QOS 0
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:25:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:25:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:25:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:25:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c016410, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717c6eb50 } }, data: MessageData { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717c6eb50 } } } }
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b427a0, 0x561717c6e6b0
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c6e6b0, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c6e6b0, 0x561717ab8960
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717ab8960, 0x561717b6ca80
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717ab8960, 0x7f4b28001cd0
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x561717b629f0
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x7f4b28005a70
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b280059c0
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28005a70
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x561717848600
[2022-05-09T12:26:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28005a70
[2022-05-09T12:26:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/device1&quot;, &quot;source&quot;: &quot;drogue://4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/device1&quot;, &quot;application&quot;: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;829bbb52-226b-47f1-91ce-45b710e52d23&quot;, &quot;senderuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;, &quot;applicationuid&quot;: &quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;, &quot;id&quot;: &quot;769bd310-3a43-4a8d-9a58-7e746acd5473&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-09T12:26:01.724949505+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:26:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:26:02Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:26:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:26:02Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:26:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;80407f1c-f8d4-420a-b7fc-6467b6b598a0&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a3a150
[2022-05-09T12:26:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a3a150
[2022-05-09T12:26:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717cfc600, password: 0x56171787fc10, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b64900, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cfb850, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@4781f9e6-8235-4440-9f31-45f6736bef21&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:03Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc53f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc53f0 } } } }
[2022-05-09T12:26:03Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:26:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c00a5f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717d04220 } }, data: MessageData { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717d04220 } } } }
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059a0, 0x561717844ca0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717844ca0, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717844ca0, 0x7f4b28004420
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004420, 0x7f4b1c016840
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004420, 0x7f4b28005a70
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b1c01c270
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b28001cf0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cf0, 0x7f4b28005a70
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x7f4b28002580
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002580, 0x7f4b1c0167c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28002580
[2022-05-09T12:26:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, &quot;partitionkey&quot;: &quot;4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;fd82ea8e-4acc-4f9b-8304-38fa0559d3a8&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:26:02.930014850+00:00&quot;, &quot;applicationuid&quot;: &quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;, &quot;subject&quot;: &quot;connection&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:26:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c00a580, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717897890 } }, data: MessageData { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717897890 } } } }
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005a70, 0x561717c6e6b0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c6e6b0, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c6e6b0, 0x7f4b28000ff0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000ff0, 0x7f4b1c02f220
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000ff0, 0x7f4b280059c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28002560
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002560, 0x7f4b280059c0
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059c0, 0x7f4b28005f80
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005f80, 0x7f4b28004440
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005f80, 0x7f4b1c02fc40
[2022-05-09T12:26:03Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28005f80
[2022-05-09T12:26:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T12:26:03.380795205+00:00&quot;, &quot;application&quot;: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;, &quot;partitionkey&quot;: &quot;4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/gateway1&quot;, &quot;id&quot;: &quot;6e3b8a06-70be-48b1-be3c-637e716177b8&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/gateway1&quot;, &quot;senderuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cfb260 } }, data: MessageData { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cfb260 } } } }
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002560, 0x7f4b28001cd0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cd0, 0x7f4b28000ff0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000ff0, 0x7f4b1c009eb0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000ff0, 0x7f4b280059e0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b28001cf0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001cf0, 0x7f4b280059e0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059e0, 0x7f4b28001510
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001510, 0x7f4b1c0052c0
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001510, 0x7f4b1c01c930
[2022-05-09T12:26:04Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003140
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/4781f9e6-8235-4440-9f31-45f6736bef21&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;partitionkey&quot;: &quot;4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/device1&quot;, &quot;applicationuid&quot;: &quot;47bb7d9f-dc8e-420f-b3b2-1dc8b1a30089&quot;, &quot;time&quot;: &quot;2022-05-09T12:26:03.379923170+00:00&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://4781f9e6%2D8235%2D4440%2D9f31%2D45f6736bef21/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;application&quot;: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, &quot;id&quot;: &quot;897922d6-f6f1-415d-b0aa-dcc627e2682c&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;829bbb52-226b-47f1-91ce-45b710e52d23&quot;, &quot;senderuid&quot;: &quot;3a37e9bd-d214-4218-a3bb-e62e9a8daa6b&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;&quot; }
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:26:04Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:26:04Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot; &quot;device1&quot;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot; &quot;gateway1&quot;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4781f9e6-8235-4440-9f31-45f6736bef21&#x27;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4781f9e6-8235-4440-9f31-45f6736bef21&quot;
[2022-05-09T12:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 4781f9e6-8235-4440-9f31-45f6736bef21 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:26:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:26:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:26:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:26:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NzEsImlhdCI6MTY1MjA5OTE3MSwianRpIjoiOWRhMTRlYzMtMWJkMS00MzJlLTkzYzQtNjVjMzdhNjYyOWNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhwQjF2dW1IZkt4YjctTHQ1VWVzZGciLCJzZXNzaW9uX3N0YXRlIjoiYWFmODhhNjUtZjU4Ni00N2RiLWIxZDMtNjc5NjNkYzYwOGM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCJ9.5QenaTu3USpXmhAiqoLdPKWDjvN7CzA6Y9GpTPOb9sc
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5NzEsImlhdCI6MTY1MjA5OTE3MSwianRpIjoiOWRhMTRlYzMtMWJkMS00MzJlLTkzYzQtNjVjMzdhNjYyOWNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhwQjF2dW1IZkt4YjctTHQ1VWVzZGciLCJzZXNzaW9uX3N0YXRlIjoiYWFmODhhNjUtZjU4Ni00N2RiLWIxZDMtNjc5NjNkYzYwOGM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCJ9.5QenaTu3USpXmhAiqoLdPKWDjvN7CzA6Y9GpTPOb9sc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::resources::apps] Create application: c5c99e00-99c2-440b-b366-f96052c2b064
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c5c99e00-99c2-440b-b366-f96052c2b064 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;
[2022-05-09T12:26:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:11.828208Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ebecfca4-c489-4a56-bf8f-ff0addd78905\&quot;,\n    \&quot;uid\&quot;: \&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849670879Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849650080Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849618911Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849620014Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849620564Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849621356Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849621847Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.849627317Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:11.828208Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;), &quot;resourceVersion&quot;: String(&quot;ebecfca4-c489-4a56-bf8f-ff0addd78905&quot;), &quot;uid&quot;: String(&quot;1ed8521f-1e86-4df5-9302-6965a4500169&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849670879Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849650080Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849618911Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849620014Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849620564Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849621356Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849621847Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.849627317Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:26:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:11.828208Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8c4a29f7-d247-4c3b-957c-20f8470972ac\&quot;,\n    \&quot;uid\&quot;: \&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127796944Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127758652Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.873939376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.880985217Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.950580318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.957184692Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127655198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127673783Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qBDCbiBC5O2Y\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5c99e00-99c2-440b-b366-f96052c2b064\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:11.828208Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;), &quot;resourceVersion&quot;: String(&quot;8c4a29f7-d247-4c3b-957c-20f8470972ac&quot;), &quot;uid&quot;: String(&quot;1ed8521f-1e86-4df5-9302-6965a4500169&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127796944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127758652Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.873939376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.880985217Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.950580318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.957184692Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127655198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127673783Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qBDCbiBC5O2Y&quot;), &quot;username&quot;: String(&quot;user-c5c99e00-99c2-440b-b366-f96052c2b064&quot;)})})})})
[2022-05-09T12:26:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:11.828208Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8c4a29f7-d247-4c3b-957c-20f8470972ac\&quot;,\n    \&quot;uid\&quot;: \&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127796944Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127758652Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.873939376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.880985217Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.950580318Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:11.957184692Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127655198Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:12.127673783Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qBDCbiBC5O2Y\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5c99e00-99c2-440b-b366-f96052c2b064\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:11.828208Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;), &quot;resourceVersion&quot;: String(&quot;8c4a29f7-d247-4c3b-957c-20f8470972ac&quot;), &quot;uid&quot;: String(&quot;1ed8521f-1e86-4df5-9302-6965a4500169&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127796944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127758652Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.873939376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.880985217Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.950580318Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:11.957184692Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127655198Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:12.127673783Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qBDCbiBC5O2Y&quot;), &quot;username&quot;: String(&quot;user-c5c99e00-99c2-440b-b366-f96052c2b064&quot;)})})})})
[2022-05-09T12:26:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NzEsImlhdCI6MTY1MjA5OTE3MSwiYXV0aF90aW1lIjoxNjUyMDk5MTY4LCJqdGkiOiI0ZDY4ZTRiZC1mMGNjLTQxNWQtODdhMC0yNzJiNmRmYTYyN2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4cEIxdnVtSGZLeGI3LUx0NVVlc2RnIiwic2Vzc2lvbl9zdGF0ZSI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JgPTEeA5sbeGBk-Rl1ET-ohfnftnZXLIUq4iFA-XIUxD59zszH5H2rXfGispznfrZbYUC4JJnTsNTgBnRct9SSPxsxt8ZUcLYmgFA1gQvm26tV-nezL7kAENTbBnVEUjBRmdYsKrtBfRSqWsPglTui9jvPZLblfWMSi1QDJomZ0z10EiH8BMEwLD7kL1Lq5K-ociTm0rckPWosAGPiUsBu47BB_ozjVUA4Ct8Hv1PLcdlz521nuvzM5Y0w-1BNkhjsxw65GikC2wXgtWAWoZjaH8trXuY3v0-x67jo1FMKHL7hbWZL_eGrJ2o6sklugK5RTIeTASl9uQ4bUv2uCQEg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NzEsImlhdCI6MTY1MjA5OTE3MSwiYXV0aF90aW1lIjoxNjUyMDk5MTY4LCJqdGkiOiI0ZDY4ZTRiZC1mMGNjLTQxNWQtODdhMC0yNzJiNmRmYTYyN2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4cEIxdnVtSGZLeGI3LUx0NVVlc2RnIiwic2Vzc2lvbl9zdGF0ZSI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JgPTEeA5sbeGBk-Rl1ET-ohfnftnZXLIUq4iFA-XIUxD59zszH5H2rXfGispznfrZbYUC4JJnTsNTgBnRct9SSPxsxt8ZUcLYmgFA1gQvm26tV-nezL7kAENTbBnVEUjBRmdYsKrtBfRSqWsPglTui9jvPZLblfWMSi1QDJomZ0z10EiH8BMEwLD7kL1Lq5K-ociTm0rckPWosAGPiUsBu47BB_ozjVUA4Ct8Hv1PLcdlz521nuvzM5Y0w-1BNkhjsxw65GikC2wXgtWAWoZjaH8trXuY3v0-x67jo1FMKHL7hbWZL_eGrJ2o6sklugK5RTIeTASl9uQ4bUv2uCQEg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:12Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;849df8ae-e0ad-42ee-babc-9fcfcb6ee17b&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:12Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:12Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179eea50
[2022-05-09T12:26:12Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179eea50
[2022-05-09T12:26:12Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617179eed90, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179ce4e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617179ee920, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0NzEsImlhdCI6MTY1MjA5OTE3MSwiYXV0aF90aW1lIjoxNjUyMDk5MTY4LCJqdGkiOiI0ZDY4ZTRiZC1mMGNjLTQxNWQtODdhMC0yNzJiNmRmYTYyN2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4cEIxdnVtSGZLeGI3LUx0NVVlc2RnIiwic2Vzc2lvbl9zdGF0ZSI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFhZjg4YTY1LWY1ODYtNDdkYi1iMWQzLTY3OTYzZGM2MDhjOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JgPTEeA5sbeGBk-Rl1ET-ohfnftnZXLIUq4iFA-XIUxD59zszH5H2rXfGispznfrZbYUC4JJnTsNTgBnRct9SSPxsxt8ZUcLYmgFA1gQvm26tV-nezL7kAENTbBnVEUjBRmdYsKrtBfRSqWsPglTui9jvPZLblfWMSi1QDJomZ0z10EiH8BMEwLD7kL1Lq5K-ociTm0rckPWosAGPiUsBu47BB_ozjVUA4Ct8Hv1PLcdlz521nuvzM5Y0w-1BNkhjsxw65GikC2wXgtWAWoZjaH8trXuY3v0-x67jo1FMKHL7hbWZL_eGrJ2o6sklugK5RTIeTASl9uQ4bUv2uCQEg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:13Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;&#x27; @ QOS 0
[2022-05-09T12:26:13Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:26:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:26:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c0046b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 102, 48, 55, 56, 51, 99, 102, 45, 101, 102, 51, 57, 45, 52, 54, 99, 57, 45, 57, 54, 98, 98, 45, 100, 101, 100, 48, 101, 56, 49, 53, 99, 56, 50, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 49, 54, 46, 55, 53, 50, 52, 53, 49, 51, 54, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 45, 57, 57, 99, 50, 45, 52, 52, 48, 98, 45, 98, 51, 54, 54, 45, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 100, 56, 53, 50, 49, 102, 45, 49, 101, 56, 54, 45, 52, 100, 102, 53, 45, 57, 51, 48, 50, 45, 54, 57, 54, 53, 97, 52, 53, 48, 48, 49, 54, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 50, 102, 98, 97, 101, 55, 50, 45, 54, 100, 54, 100, 45, 52, 52, 50, 53, 45, 97, 49, 48, 52, 45, 56, 50, 51, 98, 54, 49, 99, 52, 54, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7f0783cf-ef39-46c9-96bb-ded0e815c829\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:16.752451361Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;,\&quot;application\&quot;:\&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\&quot;applicationuid\&quot;:\&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;e2fbae72-6d6d-4425-a104-823b61c46ce1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:26:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:26:17Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:26:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:26:17Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:26:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;9c05ac65-82fa-4f87-b11f-2c568ccb6de3&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171793f8d0
[2022-05-09T12:26:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171793f8d0
[2022-05-09T12:26:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717c6be10, password: 0x5617179a2c60, connectTimeout: 30, retryInterval: 0, ssl: 0x561717940660, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c6bb00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c5c99e00-99c2-440b-b366-f96052c2b064&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:18Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171798b060 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x56171798b060 } } } }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c02a860, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 51, 55, 49, 97, 48, 57, 53, 45, 97, 98, 50, 51, 45, 52, 99, 97, 51, 45, 57, 53, 49, 97, 45, 52, 51, 56, 50, 56, 53, 50, 57, 100, 55, 53, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 49, 55, 46, 56, 56, 49, 49, 49, 55, 49, 51, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 100, 56, 53, 50, 49, 102, 45, 49, 101, 56, 54, 45, 52, 100, 102, 53, 45, 57, 51, 48, 50, 45, 54, 57, 54, 53, 97, 52, 53, 48, 48, 49, 54, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 45, 57, 57, 99, 50, 45, 52, 52, 48, 98, 45, 98, 51, 54, 54, 45, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6371a095-ab23-4ca3-951a-43828529d751\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:17.881117136Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;,\&quot;deviceuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;}&quot; }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c01b850, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 97, 98, 49, 100, 54, 54, 57, 45, 52, 56, 54, 100, 45, 52, 101, 57, 56, 45, 57, 49, 102, 55, 45, 49, 54, 56, 57, 57, 55, 51, 52, 48, 49, 55, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 49, 56, 46, 51, 57, 55, 50, 49, 51, 51, 48, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 100, 56, 53, 50, 49, 102, 45, 49, 101, 56, 54, 45, 52, 100, 102, 53, 45, 57, 51, 48, 50, 45, 54, 57, 54, 53, 97, 52, 53, 48, 48, 49, 54, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 45, 57, 57, 99, 50, 45, 52, 52, 48, 98, 45, 98, 51, 54, 54, 45, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;aab1d669-486d-4e98-91f7-168997340172\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:18.397213309Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;applicationuid\&quot;:\&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;,\&quot;deviceuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;,\&quot;application\&quot;:\&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c01bae0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 51, 101, 48, 55, 49, 101, 53, 45, 102, 53, 101, 50, 45, 52, 52, 55, 51, 45, 57, 101, 101, 52, 45, 57, 56, 51, 51, 97, 56, 53, 50, 50, 51, 55, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 49, 56, 46, 51, 57, 55, 50, 48, 49, 55, 52, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 45, 57, 57, 99, 50, 45, 52, 52, 48, 98, 45, 98, 51, 54, 54, 45, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 50, 102, 98, 97, 101, 55, 50, 45, 54, 100, 54, 100, 45, 52, 52, 50, 53, 45, 97, 49, 48, 52, 45, 56, 50, 51, 98, 54, 49, 99, 52, 54, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 49, 101, 100, 56, 53, 50, 49, 102, 45, 49, 101, 56, 54, 45, 52, 100, 102, 53, 45, 57, 51, 48, 50, 45, 54, 57, 54, 53, 97, 52, 53, 48, 48, 49, 54, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 99, 57, 57, 101, 48, 48, 37, 50, 68, 57, 57, 99, 50, 37, 50, 68, 52, 52, 48, 98, 37, 50, 68, 98, 51, 54, 54, 37, 50, 68, 102, 57, 54, 48, 53, 50, 99, 50, 98, 48, 54, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 101, 51, 99, 54, 53, 98, 52, 45, 99, 102, 53, 51, 45, 52, 98, 56, 101, 45, 57, 101, 99, 52, 45, 56, 57, 98, 98, 102, 54, 100, 50, 99, 49, 102, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5c99e00-99c2-440b-b366-f96052c2b064&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c3e071e5-f5e2-4473-9ee4-9833a852237d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:18.397201747Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;c5c99e00-99c2-440b-b366-f96052c2b064\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;e2fbae72-6d6d-4425-a104-823b61c46ce1\&quot;,\&quot;applicationuid\&quot;:\&quot;1ed8521f-1e86-4df5-9302-6965a4500169\&quot;,\&quot;partitionkey\&quot;:\&quot;c5c99e00%2D99c2%2D440b%2Db366%2Df96052c2b064/device1\&quot;,\&quot;senderuid\&quot;:\&quot;8e3c65b4-cf53-4b8e-9ec4-89bbf6d2c1f1\&quot;}&quot; }
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:26:18Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:26:18Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot; &quot;device1&quot;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot; &quot;gateway1&quot;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c5c99e00-99c2-440b-b366-f96052c2b064&#x27;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c5c99e00-99c2-440b-b366-f96052c2b064&quot;
[2022-05-09T12:26:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c5c99e00-99c2-440b-b366-f96052c2b064 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:26:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:26:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:26:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:26:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5ODUsImlhdCI6MTY1MjA5OTE4NSwianRpIjoiMDI0N2UyN2EtNDNlYy00OGUxLWE2NjItYzRkMzAyYTE3MDQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndfRnp3ajBJUDYtRGpYWkV2bmx1REEiLCJzZXNzaW9uX3N0YXRlIjoiMjQ5MzgzODAtN2JiMy00ODk1LTk2MWQtZGZiZDA1MGVmOGZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyJ9.fOzB8hR2kBUmzqJE44FFyi7FQgxtzyEBA_LpZ8lxvHY
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5ODUsImlhdCI6MTY1MjA5OTE4NSwianRpIjoiMDI0N2UyN2EtNDNlYy00OGUxLWE2NjItYzRkMzAyYTE3MDQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndfRnp3ajBJUDYtRGpYWkV2bmx1REEiLCJzZXNzaW9uX3N0YXRlIjoiMjQ5MzgzODAtN2JiMy00ODk1LTk2MWQtZGZiZDA1MGVmOGZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyJ9.fOzB8hR2kBUmzqJE44FFyi7FQgxtzyEBA_LpZ8lxvHY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 2382d690-a033-4df4-984d-e57257434aca
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot;
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2382d690-a033-4df4-984d-e57257434aca created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot;
[2022-05-09T12:26:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:25.957862Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;cbe6b863-976d-4910-8a01-0d97c5a348d5\&quot;,\n    \&quot;uid\&quot;: \&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:25.957862Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;2382d690-a033-4df4-984d-e57257434aca&quot;), &quot;resourceVersion&quot;: String(&quot;cbe6b863-976d-4910-8a01-0d97c5a348d5&quot;), &quot;uid&quot;: String(&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9&quot;)})})
[2022-05-09T12:26:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:26:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:25.957862Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2f695402-ef97-4713-aa78-37b46b157903\&quot;,\n    \&quot;uid\&quot;: \&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433541871Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433581816Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.007806829Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.015016619Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.135027235Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.141942161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433497909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433514790Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YymviCUIbCB0\&quot;,\n        \&quot;username\&quot;: \&quot;user-2382d690-a033-4df4-984d-e57257434aca\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:25.957862Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2382d690-a033-4df4-984d-e57257434aca&quot;), &quot;resourceVersion&quot;: String(&quot;2f695402-ef97-4713-aa78-37b46b157903&quot;), &quot;uid&quot;: String(&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433541871Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433581816Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.007806829Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.015016619Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.135027235Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.141942161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433497909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433514790Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YymviCUIbCB0&quot;), &quot;username&quot;: String(&quot;user-2382d690-a033-4df4-984d-e57257434aca&quot;)})})})})
[2022-05-09T12:26:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:25.957862Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2f695402-ef97-4713-aa78-37b46b157903\&quot;,\n    \&quot;uid\&quot;: \&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433541871Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433581816Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.007806829Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.015016619Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.135027235Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.141942161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433497909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:26.433514790Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YymviCUIbCB0\&quot;,\n        \&quot;username\&quot;: \&quot;user-2382d690-a033-4df4-984d-e57257434aca\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:25.957862Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2382d690-a033-4df4-984d-e57257434aca&quot;), &quot;resourceVersion&quot;: String(&quot;2f695402-ef97-4713-aa78-37b46b157903&quot;), &quot;uid&quot;: String(&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433541871Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433581816Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.007806829Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.015016619Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.135027235Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.141942161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433497909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:26.433514790Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YymviCUIbCB0&quot;), &quot;username&quot;: String(&quot;user-2382d690-a033-4df4-984d-e57257434aca&quot;)})})})})
[2022-05-09T12:26:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0ODUsImlhdCI6MTY1MjA5OTE4NSwiYXV0aF90aW1lIjoxNjUyMDk5MTgyLCJqdGkiOiJmZmVjOWIwYy1kNTUwLTQxY2ItYTE1ZS0zYWIyMzU0NDRmYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3X0Z6d2owSVA2LURqWFpFdm5sdURBIiwic2Vzc2lvbl9zdGF0ZSI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SsyxgGejPcHJjtAAKxw-M5a9toAcJ-FZKcjpq4yDjng6PFncA_FYX4QK5Wo1RjgBpLXm2r-uQw3j7MMEzwL-PdNfBykCTbbDyc15cu3XTD7slCFOF-ckZIESl0oX6rJdq7PsHDb9PdXAb6EylB3KTruEFduqtVv2T4hrObFBGPyIm4eC8UtcIwWQexzJoyKubvpofjkFgg5kkajgJnWFn7F8R5P1tvaIQkWIwee7UdBBgTvrphwgsNhb7T1TJjVK25LQ0b4P65CMyjpJMh7NgpuJpAzB4H7rCxy0lfXAcbDt_3rYQ1otWS5fScpdFDifkMfnOV_PFVt9HlHtkdwfeg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0ODUsImlhdCI6MTY1MjA5OTE4NSwiYXV0aF90aW1lIjoxNjUyMDk5MTgyLCJqdGkiOiJmZmVjOWIwYy1kNTUwLTQxY2ItYTE1ZS0zYWIyMzU0NDRmYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3X0Z6d2owSVA2LURqWFpFdm5sdURBIiwic2Vzc2lvbl9zdGF0ZSI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SsyxgGejPcHJjtAAKxw-M5a9toAcJ-FZKcjpq4yDjng6PFncA_FYX4QK5Wo1RjgBpLXm2r-uQw3j7MMEzwL-PdNfBykCTbbDyc15cu3XTD7slCFOF-ckZIESl0oX6rJdq7PsHDb9PdXAb6EylB3KTruEFduqtVv2T4hrObFBGPyIm4eC8UtcIwWQexzJoyKubvpofjkFgg5kkajgJnWFn7F8R5P1tvaIQkWIwee7UdBBgTvrphwgsNhb7T1TJjVK25LQ0b4P65CMyjpJMh7NgpuJpAzB4H7rCxy0lfXAcbDt_3rYQ1otWS5fScpdFDifkMfnOV_PFVt9HlHtkdwfeg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;a8d43719-792d-4ab3-ac0c-e552fc76295b&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179445e0
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179445e0
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717ce2f10, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a2df80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171784b950, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0ODUsImlhdCI6MTY1MjA5OTE4NSwiYXV0aF90aW1lIjoxNjUyMDk5MTgyLCJqdGkiOiJmZmVjOWIwYy1kNTUwLTQxY2ItYTE1ZS0zYWIyMzU0NDRmYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3X0Z6d2owSVA2LURqWFpFdm5sdURBIiwic2Vzc2lvbl9zdGF0ZSI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0OTM4MzgwLTdiYjMtNDg5NS05NjFkLWRmYmQwNTBlZjhmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SsyxgGejPcHJjtAAKxw-M5a9toAcJ-FZKcjpq4yDjng6PFncA_FYX4QK5Wo1RjgBpLXm2r-uQw3j7MMEzwL-PdNfBykCTbbDyc15cu3XTD7slCFOF-ckZIESl0oX6rJdq7PsHDb9PdXAb6EylB3KTruEFduqtVv2T4hrObFBGPyIm4eC8UtcIwWQexzJoyKubvpofjkFgg5kkajgJnWFn7F8R5P1tvaIQkWIwee7UdBBgTvrphwgsNhb7T1TJjVK25LQ0b4P65CMyjpJMh7NgpuJpAzB4H7rCxy0lfXAcbDt_3rYQ1otWS5fScpdFDifkMfnOV_PFVt9HlHtkdwfeg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:27Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;&#x27; @ QOS 0
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c0058b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 101, 51, 56, 53, 100, 97, 56, 45, 50, 97, 52, 99, 45, 52, 102, 100, 98, 45, 56, 49, 51, 99, 45, 55, 99, 52, 101, 57, 101, 56, 49, 48, 98, 102, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 51, 48, 46, 55, 53, 50, 49, 53, 54, 56, 55, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 100, 57, 55, 49, 53, 100, 57, 45, 52, 54, 54, 53, 45, 52, 51, 52, 56, 45, 98, 57, 102, 100, 45, 55, 102, 98, 102, 98, 102, 51, 100, 50, 99, 98, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 54, 56, 53, 102, 50, 102, 52, 45, 52, 99, 98, 99, 45, 52, 100, 97, 49, 45, 97, 50, 99, 53, 45, 102, 56, 48, 99, 102, 53, 97, 54, 98, 99, 102, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 45, 97, 48, 51, 51, 45, 52, 100, 102, 52, 45, 57, 56, 52, 100, 45, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ae385da8-2a4c-4fdb-813c-7c4e9e810bf0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2382d690%2Da033%2D4df4%2D984d%2De57257434aca/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:30.752156876Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;fd9715d9-4665-4348-b9fd-7fbfbf3d2cb5\&quot;,\&quot;applicationuid\&quot;:\&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;,\&quot;application\&quot;:\&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;2382d690%2Da033%2D4df4%2D984d%2De57257434aca/device1\&quot;,\&quot;senderuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:26:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:26:31Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:26:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:26:31Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:26:31Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;6fcc91cf-08d0-42a9-a54f-a56d6ce6e0c0&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:31Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:31Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171782ec60
[2022-05-09T12:26:31Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171782ec60
[2022-05-09T12:26:31Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x5617178a30d0, password: 0x561717d2f440, connectTimeout: 30, retryInterval: 0, ssl: 0x561717bbdd60, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717a6eb40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@2382d690-a033-4df4-984d-e57257434aca&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c0259b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 101, 48, 57, 56, 102, 98, 52, 45, 48, 99, 50, 54, 45, 52, 51, 56, 98, 45, 97, 51, 48, 99, 45, 54, 101, 97, 101, 57, 99, 56, 50, 55, 49, 52, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 51, 49, 46, 56, 55, 49, 51, 53, 57, 50, 52, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 54, 56, 53, 102, 50, 102, 52, 45, 52, 99, 98, 99, 45, 52, 100, 97, 49, 45, 97, 50, 99, 53, 45, 102, 56, 48, 99, 102, 53, 97, 54, 98, 99, 102, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 45, 97, 48, 51, 51, 45, 52, 100, 102, 52, 45, 57, 56, 52, 100, 45, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3e098fb4-0c26-438b-a30c-6eae9c82714b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2382d690%2Da033%2D4df4%2D984d%2De57257434aca/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:31.871359246Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;,\&quot;senderuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;2382d690%2Da033%2D4df4%2D984d%2De57257434aca/gateway1\&quot;,\&quot;application\&quot;:\&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\&quot;deviceuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;}&quot; }
[2022-05-09T12:26:32Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aa7b60 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aa7b60 } } } }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c00db70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 56, 50, 53, 97, 49, 48, 50, 45, 99, 56, 48, 98, 45, 52, 54, 101, 49, 45, 57, 102, 52, 97, 45, 48, 54, 53, 52, 100, 100, 57, 53, 97, 55, 56, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 51, 50, 46, 52, 48, 52, 53, 54, 51, 54, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 54, 56, 53, 102, 50, 102, 52, 45, 52, 99, 98, 99, 45, 52, 100, 97, 49, 45, 97, 50, 99, 53, 45, 102, 56, 48, 99, 102, 53, 97, 54, 98, 99, 102, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 45, 97, 48, 51, 51, 45, 52, 100, 102, 52, 45, 57, 56, 52, 100, 45, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 100, 57, 55, 49, 53, 100, 57, 45, 52, 54, 54, 53, 45, 52, 51, 52, 56, 45, 98, 57, 102, 100, 45, 55, 102, 98, 102, 98, 102, 51, 100, 50, 99, 98, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b825a102-c80b-46e1-9f4a-0654dd95a78c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2382d690%2Da033%2D4df4%2D984d%2De57257434aca/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:32.404563697Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;2382d690%2Da033%2D4df4%2D984d%2De57257434aca/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;,\&quot;application\&quot;:\&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;fd9715d9-4665-4348-b9fd-7fbfbf3d2cb5\&quot;,\&quot;senderuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;}&quot; }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c025f00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 56, 55, 50, 52, 97, 48, 99, 45, 100, 98, 100, 54, 45, 52, 50, 52, 99, 45, 57, 100, 100, 49, 45, 49, 50, 100, 101, 97, 101, 57, 97, 97, 56, 50, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 51, 50, 46, 52, 49, 57, 52, 53, 54, 53, 54, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 37, 50, 68, 97, 48, 51, 51, 37, 50, 68, 52, 100, 102, 52, 37, 50, 68, 57, 56, 52, 100, 37, 50, 68, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 51, 56, 50, 100, 54, 57, 48, 45, 97, 48, 51, 51, 45, 52, 100, 102, 52, 45, 57, 56, 52, 100, 45, 101, 53, 55, 50, 53, 55, 52, 51, 52, 97, 99, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 54, 56, 53, 102, 50, 102, 52, 45, 52, 99, 98, 99, 45, 52, 100, 97, 49, 45, 97, 50, 99, 53, 45, 102, 56, 48, 99, 102, 53, 97, 54, 98, 99, 102, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 98, 97, 55, 102, 49, 52, 54, 45, 56, 52, 102, 50, 45, 52, 56, 54, 100, 45, 56, 49, 102, 97, 45, 98, 101, 56, 49, 53, 49, 52, 56, 51, 97, 52, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2382d690-a033-4df4-984d-e57257434aca&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;18724a0c-dbd6-424c-9dd1-12deae9aa82c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2382d690%2Da033%2D4df4%2D984d%2De57257434aca/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:32.419456564Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;2382d690%2Da033%2D4df4%2D984d%2De57257434aca/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;2382d690-a033-4df4-984d-e57257434aca\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;0685f2f4-4cbc-4da1-a2c5-f80cf5a6bcf9\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5ba7f146-84f2-486d-81fa-be8151483a4b\&quot;}&quot; }
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:26:32Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:26:32Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2382d690-a033-4df4-984d-e57257434aca&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2382d690-a033-4df4-984d-e57257434aca&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot; &quot;device1&quot;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot; &quot;gateway1&quot;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2382d690-a033-4df4-984d-e57257434aca&#x27;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2382d690-a033-4df4-984d-e57257434aca&quot;
[2022-05-09T12:26:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2382d690-a033-4df4-984d-e57257434aca deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:26:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:26:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:26:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:26:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5OTksImlhdCI6MTY1MjA5OTE5OSwianRpIjoiZjI5ODQxMTMtYmQzMC00ODlmLTk5YjktMjdkOTE0ZDE0MzgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5TWHBOYmJ0VXlkczBNdjhLVmxkVkEiLCJzZXNzaW9uX3N0YXRlIjoiZWU1MmQ3YmEtNzFiZC00ZDhhLWE5ZDEtY2E5ZjEyZDZjYWMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyJ9.5pJAgJ8RAiuYafeyieGYhOz3cKkEDmvV1TysFbz7TqU
[2022-05-09T12:26:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:26:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDA5OTksImlhdCI6MTY1MjA5OTE5OSwianRpIjoiZjI5ODQxMTMtYmQzMC00ODlmLTk5YjktMjdkOTE0ZDE0MzgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5TWHBOYmJ0VXlkczBNdjhLVmxkVkEiLCJzZXNzaW9uX3N0YXRlIjoiZWU1MmQ3YmEtNzFiZC00ZDhhLWE5ZDEtY2E5ZjEyZDZjYWMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyJ9.5pJAgJ8RAiuYafeyieGYhOz3cKkEDmvV1TysFbz7TqU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:26:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:40Z INFO  drogue_cloud_tests::resources::apps] Create application: 440eda3b-bde7-42ae-a663-b6e386a1d647
[2022-05-09T12:26:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;
[2022-05-09T12:26:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 440eda3b-bde7-42ae-a663-b6e386a1d647 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;
[2022-05-09T12:26:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:40.219937Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;208509af-e254-439a-bcdd-0e7de781e5cf\&quot;,\n    \&quot;uid\&quot;: \&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238516703Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238430993Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238196653Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238197756Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238198286Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238198878Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238199238Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.238335013Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:40.219937Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;), &quot;resourceVersion&quot;: String(&quot;208509af-e254-439a-bcdd-0e7de781e5cf&quot;), &quot;uid&quot;: String(&quot;8beeb11d-000e-4120-a1ba-8978066ddefd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238516703Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238430993Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238196653Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238197756Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238198286Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238198878Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238199238Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.238335013Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:26:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:40.219937Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c9f3810b-3982-4413-b6df-df4f914db04d\&quot;,\n    \&quot;uid\&quot;: \&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.543181482Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.543117923Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.261819469Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.267763244Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.367168634Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.374315916Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.542964926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.542985385Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;pc8rhx74JZ2c\&quot;,\n        \&quot;username\&quot;: \&quot;user-440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:40.219937Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;), &quot;resourceVersion&quot;: String(&quot;c9f3810b-3982-4413-b6df-df4f914db04d&quot;), &quot;uid&quot;: String(&quot;8beeb11d-000e-4120-a1ba-8978066ddefd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.543181482Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.543117923Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.261819469Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.267763244Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.367168634Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.374315916Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.542964926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.542985385Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;pc8rhx74JZ2c&quot;), &quot;username&quot;: String(&quot;user-440eda3b-bde7-42ae-a663-b6e386a1d647&quot;)})})})})
[2022-05-09T12:26:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:40.219937Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c9f3810b-3982-4413-b6df-df4f914db04d\&quot;,\n    \&quot;uid\&quot;: \&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.543181482Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.543117923Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.261819469Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.267763244Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.367168634Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.374315916Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.542964926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:40.542985385Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;pc8rhx74JZ2c\&quot;,\n        \&quot;username\&quot;: \&quot;user-440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:40.219937Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;), &quot;resourceVersion&quot;: String(&quot;c9f3810b-3982-4413-b6df-df4f914db04d&quot;), &quot;uid&quot;: String(&quot;8beeb11d-000e-4120-a1ba-8978066ddefd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.543181482Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.543117923Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.261819469Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.267763244Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.367168634Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.374315916Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.542964926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:40.542985385Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;pc8rhx74JZ2c&quot;), &quot;username&quot;: String(&quot;user-440eda3b-bde7-42ae-a663-b6e386a1d647&quot;)})})})})
[2022-05-09T12:26:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0OTksImlhdCI6MTY1MjA5OTE5OSwiYXV0aF90aW1lIjoxNjUyMDk5MTk2LCJqdGkiOiJhYmYxOTExOC01OWE5LTQ1M2ItOWFiZC0zNmNhYWM5NGZjYjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuU1hwTmJidFV5ZHMwTXY4S1ZsZFZBIiwic2Vzc2lvbl9zdGF0ZSI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM2h8sSpaWG9Qw7fRWUpk4spi4y3ayN6D5tZRQv1sWdHS9MyR0AaeDOxzZOGPicJvNaGt5fQFuLaB3xoXgtYhqFpbZyhCXV97OQ06ARpbB3JnuuQW4xE4_OB51lnsP0gvnqg2UCvs-Ft56_6oLxriERz1IazzDD2_jV4CeKx25btqVVjHlSMa7NwZULjvcVunJonAZX1f4s_WzqrDMdIGjEtVzjGXqZPJJHl1RasGnhEjZBUcQJuFunY1fyQmPLIRJKKjUw63ClNgSz7BeqCwAuXYlYB7IiA-nX8oHOt_vPnYFIcdTGgzhjLzznvVFQqH2gHsVYEZMlPji53p2w-qw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0OTksImlhdCI6MTY1MjA5OTE5OSwiYXV0aF90aW1lIjoxNjUyMDk5MTk2LCJqdGkiOiJhYmYxOTExOC01OWE5LTQ1M2ItOWFiZC0zNmNhYWM5NGZjYjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuU1hwTmJidFV5ZHMwTXY4S1ZsZFZBIiwic2Vzc2lvbl9zdGF0ZSI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM2h8sSpaWG9Qw7fRWUpk4spi4y3ayN6D5tZRQv1sWdHS9MyR0AaeDOxzZOGPicJvNaGt5fQFuLaB3xoXgtYhqFpbZyhCXV97OQ06ARpbB3JnuuQW4xE4_OB51lnsP0gvnqg2UCvs-Ft56_6oLxriERz1IazzDD2_jV4CeKx25btqVVjHlSMa7NwZULjvcVunJonAZX1f4s_WzqrDMdIGjEtVzjGXqZPJJHl1RasGnhEjZBUcQJuFunY1fyQmPLIRJKKjUw63ClNgSz7BeqCwAuXYlYB7IiA-nX8oHOt_vPnYFIcdTGgzhjLzznvVFQqH2gHsVYEZMlPji53p2w-qw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;bcb018db-9649-4cd8-a490-326d9940a4f8&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b1a5c0
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b1a5c0
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717b1a9d0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b14820, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717873c30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk0OTksImlhdCI6MTY1MjA5OTE5OSwiYXV0aF90aW1lIjoxNjUyMDk5MTk2LCJqdGkiOiJhYmYxOTExOC01OWE5LTQ1M2ItOWFiZC0zNmNhYWM5NGZjYjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuU1hwTmJidFV5ZHMwTXY4S1ZsZFZBIiwic2Vzc2lvbl9zdGF0ZSI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNTJkN2JhLTcxYmQtNGQ4YS1hOWQxLWNhOWYxMmQ2Y2FjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SM2h8sSpaWG9Qw7fRWUpk4spi4y3ayN6D5tZRQv1sWdHS9MyR0AaeDOxzZOGPicJvNaGt5fQFuLaB3xoXgtYhqFpbZyhCXV97OQ06ARpbB3JnuuQW4xE4_OB51lnsP0gvnqg2UCvs-Ft56_6oLxriERz1IazzDD2_jV4CeKx25btqVVjHlSMa7NwZULjvcVunJonAZX1f4s_WzqrDMdIGjEtVzjGXqZPJJHl1RasGnhEjZBUcQJuFunY1fyQmPLIRJKKjUw63ClNgSz7BeqCwAuXYlYB7IiA-nX8oHOt_vPnYFIcdTGgzhjLzznvVFQqH2gHsVYEZMlPji53p2w-qw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:41Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;&#x27; @ QOS 0
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c0289f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c028c70 } }, data: MessageData { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 53, 98, 49, 57, 50, 52, 53, 45, 49, 54, 54, 97, 45, 52, 97, 54, 99, 45, 56, 50, 48, 57, 45, 100, 56, 102, 51, 98, 99, 55, 48, 99, 98, 98, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 52, 52, 46, 55, 53, 57, 51, 49, 51, 50, 57, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 45, 98, 100, 101, 55, 45, 52, 50, 97, 101, 45, 97, 54, 54, 51, 45, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 98, 101, 101, 98, 49, 49, 100, 45, 48, 48, 48, 101, 45, 52, 49, 50, 48, 45, 97, 49, 98, 97, 45, 56, 57, 55, 56, 48, 54, 54, 100, 100, 101, 102, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 56, 50, 102, 55, 55, 52, 54, 45, 50, 56, 52, 51, 45, 52, 48, 57, 101, 45, 97, 56, 101, 51, 45, 56, 51, 50, 100, 49, 57, 52, 56, 52, 100, 54, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c028c70 } } } }
[2022-05-09T12:26:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003940
[2022-05-09T12:26:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;25b19245-166a-4a6c-8209-d8f3bc70cbbc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:44.759313299Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\&quot;applicationuid\&quot;:\&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;,\&quot;senderuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;,\&quot;partitionkey\&quot;:\&quot;440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;d82f7746-2843-409e-a8e3-832d19484d65\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:26:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:26:45Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:26:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:26:45Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:26:45Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;4dc8b204-fa0f-4978-a951-9c549dcbf07c&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:45Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:45Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171794a730
[2022-05-09T12:26:45Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171794a730
[2022-05-09T12:26:45Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b8c7e0, password: 0x561717a2e2f0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cce630, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b8c720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@440eda3b-bde7-42ae-a663-b6e386a1d647&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:46Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a44a40 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a44a40 } } } }
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c02cf30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02d1c0 } }, data: MessageData { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 48, 51, 50, 50, 50, 54, 49, 45, 56, 50, 101, 51, 45, 52, 55, 54, 57, 45, 97, 49, 98, 52, 45, 101, 102, 48, 102, 102, 49, 101, 52, 54, 97, 55, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 52, 54, 46, 48, 49, 53, 51, 49, 48, 52, 54, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 45, 98, 100, 101, 55, 45, 52, 50, 97, 101, 45, 97, 54, 54, 51, 45, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 98, 101, 101, 98, 49, 49, 100, 45, 48, 48, 48, 101, 45, 52, 49, 50, 48, 45, 97, 49, 98, 97, 45, 56, 57, 55, 56, 48, 54, 54, 100, 100, 101, 102, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02d1c0 } } } }
[2022-05-09T12:26:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003940
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b0322261-82e3-4769-a1b4-ef0ff1e46a79\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:46.015310469Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;,\&quot;application\&quot;:\&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;,\&quot;senderuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c02b910, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02c330 } }, data: MessageData { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 102, 48, 53, 52, 51, 54, 56, 45, 101, 101, 98, 54, 45, 52, 102, 53, 49, 45, 57, 52, 49, 98, 45, 99, 100, 101, 101, 56, 53, 54, 49, 102, 98, 100, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 52, 54, 46, 52, 48, 55, 56, 50, 57, 52, 56, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 45, 98, 100, 101, 55, 45, 52, 50, 97, 101, 45, 97, 54, 54, 51, 45, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 98, 101, 101, 98, 49, 49, 100, 45, 48, 48, 48, 101, 45, 52, 49, 50, 48, 45, 97, 49, 98, 97, 45, 56, 57, 55, 56, 48, 54, 54, 100, 100, 101, 102, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02c330 } } } }
[2022-05-09T12:26:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003940
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3f054368-eeb6-4f51-941b-cdee8561fbdc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:46.407829487Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/gateway1\&quot;,\&quot;application\&quot;:\&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\&quot;deviceuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;}&quot; }
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c028770, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00e520 } }, data: MessageData { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 50, 52, 98, 56, 100, 54, 98, 45, 49, 55, 51, 100, 45, 52, 99, 53, 101, 45, 98, 101, 53, 56, 45, 56, 53, 57, 52, 52, 99, 49, 49, 51, 49, 55, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 52, 54, 46, 52, 48, 53, 57, 55, 49, 51, 48, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 45, 98, 100, 101, 55, 45, 52, 50, 97, 101, 45, 97, 54, 54, 51, 45, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 52, 52, 48, 101, 100, 97, 51, 98, 37, 50, 68, 98, 100, 101, 55, 37, 50, 68, 52, 50, 97, 101, 37, 50, 68, 97, 54, 54, 51, 37, 50, 68, 98, 54, 101, 51, 56, 54, 97, 49, 100, 54, 52, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 57, 53, 102, 52, 53, 52, 48, 45, 101, 56, 55, 101, 45, 52, 100, 102, 56, 45, 57, 101, 55, 55, 45, 57, 57, 100, 98, 57, 51, 50, 52, 98, 56, 57, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 56, 98, 101, 101, 98, 49, 49, 100, 45, 48, 48, 48, 101, 45, 52, 49, 50, 48, 45, 97, 49, 98, 97, 45, 56, 57, 55, 56, 48, 54, 54, 100, 100, 101, 102, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 56, 50, 102, 55, 55, 52, 54, 45, 50, 56, 52, 51, 45, 52, 48, 57, 101, 45, 97, 56, 101, 51, 45, 56, 51, 50, 100, 49, 57, 52, 56, 52, 100, 54, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00e520 } } } }
[2022-05-09T12:26:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003940
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c24b8d6b-173d-4c5e-be58-85944c113173\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:46.405971303Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;440eda3b-bde7-42ae-a663-b6e386a1d647\&quot;,\&quot;partitionkey\&quot;:\&quot;440eda3b%2Dbde7%2D42ae%2Da663%2Db6e386a1d647/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;a95f4540-e87e-4df8-9e77-99db9324b89b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;8beeb11d-000e-4120-a1ba-8978066ddefd\&quot;,\&quot;deviceuid\&quot;:\&quot;d82f7746-2843-409e-a8e3-832d19484d65\&quot;}&quot; }
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:26:46Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:26:46Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot; &quot;device1&quot;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot; &quot;gateway1&quot;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;440eda3b-bde7-42ae-a663-b6e386a1d647&#x27;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;440eda3b-bde7-42ae-a663-b6e386a1d647&quot;
[2022-05-09T12:26:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 440eda3b-bde7-42ae-a663-b6e386a1d647 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:26:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:26:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:26:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:26:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:26:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwMTIsImlhdCI6MTY1MjA5OTIxMiwianRpIjoiNTEzYjc2YjYtNmEyMy00ZTM3LThiZDUtMjAxZDM1YmZiZTE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9vTml4NkZ3cGxNV2NqMnJDZGh6b3ciLCJzZXNzaW9uX3N0YXRlIjoiYTMzY2VjMWItNTExNi00OWE0LThiMjUtODJlNmY4YjJkMWZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiJ9.PR_lqfrB2MXUh7eO8Fh3_EHjCZjM3y_UJdL-Wmmk06o
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwMTIsImlhdCI6MTY1MjA5OTIxMiwianRpIjoiNTEzYjc2YjYtNmEyMy00ZTM3LThiZDUtMjAxZDM1YmZiZTE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9vTml4NkZ3cGxNV2NqMnJDZGh6b3ciLCJzZXNzaW9uX3N0YXRlIjoiYTMzY2VjMWItNTExNi00OWE0LThiMjUtODJlNmY4YjJkMWZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiJ9.PR_lqfrB2MXUh7eO8Fh3_EHjCZjM3y_UJdL-Wmmk06o&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 95265ec9-e6b9-484d-8889-f3471af0c936
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 95265ec9-e6b9-484d-8889-f3471af0c936 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;
[2022-05-09T12:26:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:53.807309Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;84b90171-d12f-495a-89f3-1eb6e9df57d7\&quot;,\n    \&quot;uid\&quot;: \&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826449850Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826387103Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826114141Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826115254Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826115704Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826116286Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826116847Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.826121015Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:53.807309Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;), &quot;resourceVersion&quot;: String(&quot;84b90171-d12f-495a-89f3-1eb6e9df57d7&quot;), &quot;uid&quot;: String(&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826449850Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826387103Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826114141Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826115254Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826115704Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826116286Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826116847Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.826121015Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:26:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:53.807309Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bdfbf35-e43c-4ef6-8e30-0ef7e3ff16cd\&quot;,\n    \&quot;uid\&quot;: \&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470364271Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470319327Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.847382593Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.853301030Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.956731898Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.969253467Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.469344448Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470285183Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;yqRVDMZce9p9\&quot;,\n        \&quot;username\&quot;: \&quot;user-95265ec9-e6b9-484d-8889-f3471af0c936\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:53.807309Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;), &quot;resourceVersion&quot;: String(&quot;7bdfbf35-e43c-4ef6-8e30-0ef7e3ff16cd&quot;), &quot;uid&quot;: String(&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470364271Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470319327Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.847382593Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.853301030Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.956731898Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.969253467Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.469344448Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470285183Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;yqRVDMZce9p9&quot;), &quot;username&quot;: String(&quot;user-95265ec9-e6b9-484d-8889-f3471af0c936&quot;)})})})})
[2022-05-09T12:26:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:26:53.807309Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bdfbf35-e43c-4ef6-8e30-0ef7e3ff16cd\&quot;,\n    \&quot;uid\&quot;: \&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470364271Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470319327Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.847382593Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.853301030Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.956731898Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:53.969253467Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.469344448Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:26:54.470285183Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;yqRVDMZce9p9\&quot;,\n        \&quot;username\&quot;: \&quot;user-95265ec9-e6b9-484d-8889-f3471af0c936\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:26:53.807309Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;), &quot;resourceVersion&quot;: String(&quot;7bdfbf35-e43c-4ef6-8e30-0ef7e3ff16cd&quot;), &quot;uid&quot;: String(&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470364271Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470319327Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.847382593Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.853301030Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.956731898Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:53.969253467Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.469344448Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:26:54.470285183Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;yqRVDMZce9p9&quot;), &quot;username&quot;: String(&quot;user-95265ec9-e6b9-484d-8889-f3471af0c936&quot;)})})})})
[2022-05-09T12:26:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MTMsImlhdCI6MTY1MjA5OTIxMywiYXV0aF90aW1lIjoxNjUyMDk5MjEwLCJqdGkiOiI5Y2Y2MGY2OS0zMjZjLTQ2NjQtYTAyNy05MDUwMDAwNDQ3NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPb05peDZGd3BsTVdjajJyQ2Roem93Iiwic2Vzc2lvbl9zdGF0ZSI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B6UvD3qUFdZlQm7LJrM1jA77Sm_VMqMPjujeKdq-N7oYLFGLTraaycAsEnHG3PO4Z8eHIN7x3q9kV-m47ykLw5_i8kxp-mz2P9ORM5Smu3DxxtMccbRWw8ww8hYU9QfMBxZjpe9aIX6WvtZIbmWXnk2JgfRKHg_tskaHSq1tbTzwVq-s5jVtc6vJnYrWeFhau83GjgbuE6LGi8PJLnYLSBoSg2rrbz0P2PIb-gtea91Z3_ABH8hRJgLm1PWFWVNBVasUTSamfb83fxG3eQ0mnfLH6RF9UZKgcXGyKN2yTgb97fy4wPZ-lyWq6wcueTaRNGvAhbd66a8YRzT6R1EszQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:26:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:26:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MTMsImlhdCI6MTY1MjA5OTIxMywiYXV0aF90aW1lIjoxNjUyMDk5MjEwLCJqdGkiOiI5Y2Y2MGY2OS0zMjZjLTQ2NjQtYTAyNy05MDUwMDAwNDQ3NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPb05peDZGd3BsTVdjajJyQ2Roem93Iiwic2Vzc2lvbl9zdGF0ZSI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B6UvD3qUFdZlQm7LJrM1jA77Sm_VMqMPjujeKdq-N7oYLFGLTraaycAsEnHG3PO4Z8eHIN7x3q9kV-m47ykLw5_i8kxp-mz2P9ORM5Smu3DxxtMccbRWw8ww8hYU9QfMBxZjpe9aIX6WvtZIbmWXnk2JgfRKHg_tskaHSq1tbTzwVq-s5jVtc6vJnYrWeFhau83GjgbuE6LGi8PJLnYLSBoSg2rrbz0P2PIb-gtea91Z3_ABH8hRJgLm1PWFWVNBVasUTSamfb83fxG3eQ0mnfLH6RF9UZKgcXGyKN2yTgb97fy4wPZ-lyWq6wcueTaRNGvAhbd66a8YRzT6R1EszQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:26:54Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f3568842-f01c-4021-9af6-77e42a2e9119&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:54Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:54Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171794ce90
[2022-05-09T12:26:54Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171794ce90
[2022-05-09T12:26:54Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717897ee0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179ceca0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178703d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MTMsImlhdCI6MTY1MjA5OTIxMywiYXV0aF90aW1lIjoxNjUyMDk5MjEwLCJqdGkiOiI5Y2Y2MGY2OS0zMjZjLTQ2NjQtYTAyNy05MDUwMDAwNDQ3NzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPb05peDZGd3BsTVdjajJyQ2Roem93Iiwic2Vzc2lvbl9zdGF0ZSI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzM2NlYzFiLTUxMTYtNDlhNC04YjI1LTgyZTZmOGIyZDFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B6UvD3qUFdZlQm7LJrM1jA77Sm_VMqMPjujeKdq-N7oYLFGLTraaycAsEnHG3PO4Z8eHIN7x3q9kV-m47ykLw5_i8kxp-mz2P9ORM5Smu3DxxtMccbRWw8ww8hYU9QfMBxZjpe9aIX6WvtZIbmWXnk2JgfRKHg_tskaHSq1tbTzwVq-s5jVtc6vJnYrWeFhau83GjgbuE6LGi8PJLnYLSBoSg2rrbz0P2PIb-gtea91Z3_ABH8hRJgLm1PWFWVNBVasUTSamfb83fxG3eQ0mnfLH6RF9UZKgcXGyKN2yTgb97fy4wPZ-lyWq6wcueTaRNGvAhbd66a8YRzT6R1EszQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:26:55Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;&#x27; @ QOS 0
[2022-05-09T12:26:55Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:26:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:26:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:26:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:26:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:26:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:26:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18015670, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180158f0 } }, data: MessageData { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 54, 97, 54, 100, 97, 57, 98, 45, 97, 102, 51, 57, 45, 52, 101, 52, 51, 45, 56, 52, 49, 52, 45, 101, 52, 97, 52, 48, 55, 56, 53, 99, 97, 52, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 53, 56, 46, 55, 56, 55, 54, 57, 50, 55, 49, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 53, 56, 55, 101, 49, 56, 48, 45, 48, 97, 53, 102, 45, 52, 101, 56, 98, 45, 98, 53, 98, 99, 45, 102, 55, 100, 99, 51, 97, 50, 49, 98, 54, 52, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 52, 51, 49, 97, 97, 54, 56, 45, 56, 49, 48, 98, 45, 52, 99, 101, 57, 45, 57, 53, 55, 55, 45, 53, 100, 97, 102, 102, 57, 99, 57, 52, 57, 97, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 45, 101, 54, 98, 57, 45, 52, 56, 52, 100, 45, 56, 56, 56, 57, 45, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180158f0 } } } }
[2022-05-09T12:26:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717c1c8d0
[2022-05-09T12:26:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e6a6da9b-af39-4e43-8414-e4a40785ca4c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:58.787692718Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;,\&quot;deviceuid\&quot;:\&quot;8431aa68-810b-4ce9-9577-5daff9c949aa\&quot;,\&quot;application\&quot;:\&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:26:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:26:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:26:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:26:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:26:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;e15df9d3-b4be-4c50-87e3-f5c8529921ec&quot;, persistence: None, user_data: None }
[2022-05-09T12:26:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:26:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171794cc70
[2022-05-09T12:26:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171794cc70
[2022-05-09T12:26:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b8ee20, password: 0x5617178a4e00, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b62aa0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b8d800, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@95265ec9-e6b9-484d-8889-f3471af0c936&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ce44f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ce44f0 } } } }
[2022-05-09T12:27:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18008110, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180083a0 } }, data: MessageData { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 52, 102, 56, 49, 57, 98, 48, 45, 98, 102, 48, 100, 45, 52, 52, 99, 51, 45, 97, 100, 100, 97, 45, 49, 98, 54, 57, 52, 55, 99, 55, 50, 49, 56, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 54, 58, 53, 57, 46, 57, 48, 55, 56, 56, 50, 49, 51, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 53, 56, 55, 101, 49, 56, 48, 45, 48, 97, 53, 102, 45, 52, 101, 56, 98, 45, 98, 53, 98, 99, 45, 102, 55, 100, 99, 51, 97, 50, 49, 98, 54, 52, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 45, 101, 54, 98, 57, 45, 52, 56, 52, 100, 45, 56, 56, 56, 57, 45, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180083a0 } } } }
[2022-05-09T12:27:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717c1c8d0
[2022-05-09T12:27:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:27:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d4f819b0-bf0d-44c3-adda-1b6947c7218b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:26:59.907882131Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;,\&quot;applicationuid\&quot;:\&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;,\&quot;application\&quot;:\&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;,\&quot;partitionkey\&quot;:\&quot;95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/gateway1\&quot;}&quot; }
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1800a030, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a2b0 } }, data: MessageData { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 50, 50, 49, 49, 49, 98, 51, 45, 101, 57, 50, 98, 45, 52, 56, 48, 54, 45, 97, 48, 98, 52, 45, 52, 48, 55, 51, 101, 55, 57, 48, 52, 100, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 48, 48, 46, 52, 50, 54, 54, 52, 57, 49, 53, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 45, 101, 54, 98, 57, 45, 52, 56, 52, 100, 45, 56, 56, 56, 57, 45, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 53, 56, 55, 101, 49, 56, 48, 45, 48, 97, 53, 102, 45, 52, 101, 56, 98, 45, 98, 53, 98, 99, 45, 102, 55, 100, 99, 51, 97, 50, 49, 98, 54, 52, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 52, 51, 49, 97, 97, 54, 56, 45, 56, 49, 48, 98, 45, 52, 99, 101, 57, 45, 57, 53, 55, 55, 45, 53, 100, 97, 102, 102, 57, 99, 57, 52, 57, 97, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a2b0 } } } }
[2022-05-09T12:27:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717c1c8d0
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;322111b3-e92b-4806-a0b4-4073e7904d52\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:00.426649152Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;,\&quot;application\&quot;:\&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;,\&quot;partitionkey\&quot;:\&quot;95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;8431aa68-810b-4ce9-9577-5daff9c949aa\&quot;}&quot; }
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1800a5a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a830 } }, data: MessageData { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 101, 97, 51, 52, 101, 56, 97, 45, 100, 97, 50, 97, 45, 52, 98, 102, 57, 45, 98, 98, 57, 50, 45, 100, 48, 49, 100, 54, 97, 101, 51, 57, 51, 56, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 48, 49, 46, 52, 50, 56, 51, 53, 52, 56, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 45, 101, 54, 98, 57, 45, 52, 56, 52, 100, 45, 56, 56, 56, 57, 45, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 53, 50, 54, 53, 101, 99, 57, 37, 50, 68, 101, 54, 98, 57, 37, 50, 68, 52, 56, 52, 100, 37, 50, 68, 56, 56, 56, 57, 37, 50, 68, 102, 51, 52, 55, 49, 97, 102, 48, 99, 57, 51, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 53, 56, 55, 101, 49, 56, 48, 45, 48, 97, 53, 102, 45, 52, 101, 56, 98, 45, 98, 53, 98, 99, 45, 102, 55, 100, 99, 51, 97, 50, 49, 98, 54, 52, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 102, 101, 48, 49, 99, 98, 54, 45, 97, 51, 53, 57, 45, 52, 98, 98, 97, 45, 98, 53, 48, 55, 45, 52, 56, 99, 51, 54, 49, 101, 56, 53, 57, 101, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1800a830 } } } }
[2022-05-09T12:27:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b18009bd0
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/95265ec9-e6b9-484d-8889-f3471af0c936&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bea34e8a-da2a-4bf9-bb92-d01d6ae39380\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:01.428354833Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;,\&quot;application\&quot;:\&quot;95265ec9-e6b9-484d-8889-f3471af0c936\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;95265ec9%2De6b9%2D484d%2D8889%2Df3471af0c936/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;f587e180-0a5f-4e8b-b5bc-f7dc3a21b648\&quot;,\&quot;senderuid\&quot;:\&quot;1fe01cb6-a359-4bba-b507-48c361e859ea\&quot;}&quot; }
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:27:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:27:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot; &quot;device1&quot;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot; &quot;gateway1&quot;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;95265ec9-e6b9-484d-8889-f3471af0c936&#x27;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;95265ec9-e6b9-484d-8889-f3471af0c936&quot;
[2022-05-09T12:27:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 95265ec9-e6b9-484d-8889-f3471af0c936 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:27:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:27:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:27:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:27:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwMjgsImlhdCI6MTY1MjA5OTIyOCwianRpIjoiMGM5ODM2Y2MtMzQ4MC00NDU0LWIzNTctODg4YmZjZDM1MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRXR05OQ0N4azlHckZCLXJLWFhvT2ciLCJzZXNzaW9uX3N0YXRlIjoiNzQ1MDMwNDQtYTk2NC00Mzk5LTgyMDQtZDdiNGJmYmNiYWI1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSJ9.UNpagcLrc5olpVrW7l-Gcj8lYd_Npar6LGDOfvwq7BE
[2022-05-09T12:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwMjgsImlhdCI6MTY1MjA5OTIyOCwianRpIjoiMGM5ODM2Y2MtMzQ4MC00NDU0LWIzNTctODg4YmZjZDM1MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRXR05OQ0N4azlHckZCLXJLWFhvT2ciLCJzZXNzaW9uX3N0YXRlIjoiNzQ1MDMwNDQtYTk2NC00Mzk5LTgyMDQtZDdiNGJmYmNiYWI1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSJ9.UNpagcLrc5olpVrW7l-Gcj8lYd_Npar6LGDOfvwq7BE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 85319a71-e6d0-41c2-bc6b-73f0c5644b71
[2022-05-09T12:27:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;
[2022-05-09T12:27:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 85319a71-e6d0-41c2-bc6b-73f0c5644b71 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;
[2022-05-09T12:27:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:09.121451Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f5f865cb-7935-4d08-86f9-71b488add362\&quot;,\n    \&quot;uid\&quot;: \&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140981754Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140961737Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140930830Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140932002Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140932513Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140933103Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140933475Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.140938003Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:09.121451Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;), &quot;resourceVersion&quot;: String(&quot;f5f865cb-7935-4d08-86f9-71b488add362&quot;), &quot;uid&quot;: String(&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140981754Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140961737Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140930830Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140932002Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140932513Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140933103Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140933475Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.140938003Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:27:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:09.121451Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6403a6b9-0aaa-4d4b-b576-e4b16ef27b47\&quot;,\n    \&quot;uid\&quot;: \&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421961773Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421864911Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.158809264Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.165891374Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.233063753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.239304254Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421758010Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421818574Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GYDjqWSCLgbm\&quot;,\n        \&quot;username\&quot;: \&quot;user-85319a71-e6d0-41c2-bc6b-73f0c5644b71\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:09.121451Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;), &quot;resourceVersion&quot;: String(&quot;6403a6b9-0aaa-4d4b-b576-e4b16ef27b47&quot;), &quot;uid&quot;: String(&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421961773Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421864911Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.158809264Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.165891374Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.233063753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.239304254Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421758010Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421818574Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GYDjqWSCLgbm&quot;), &quot;username&quot;: String(&quot;user-85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;)})})})})
[2022-05-09T12:27:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:09.121451Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6403a6b9-0aaa-4d4b-b576-e4b16ef27b47\&quot;,\n    \&quot;uid\&quot;: \&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421961773Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421864911Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.158809264Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.165891374Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.233063753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.239304254Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421758010Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:09.421818574Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GYDjqWSCLgbm\&quot;,\n        \&quot;username\&quot;: \&quot;user-85319a71-e6d0-41c2-bc6b-73f0c5644b71\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:09.121451Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;), &quot;resourceVersion&quot;: String(&quot;6403a6b9-0aaa-4d4b-b576-e4b16ef27b47&quot;), &quot;uid&quot;: String(&quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421961773Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421864911Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.158809264Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.165891374Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.233063753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.239304254Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421758010Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:09.421818574Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GYDjqWSCLgbm&quot;), &quot;username&quot;: String(&quot;user-85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;)})})})})
[2022-05-09T12:27:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MjgsImlhdCI6MTY1MjA5OTIyOCwiYXV0aF90aW1lIjoxNjUyMDk5MjI1LCJqdGkiOiJjODIxMDM3Yy1hZmRiLTQ3YWQtOTAzYi0wMDc0ZmMxNDUxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkV0dOTkNDeGs5R3JGQi1yS1hYb09nIiwic2Vzc2lvbl9zdGF0ZSI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L8tbbPSiwtEbVUh9IvRflSSMvZoikvAxRNtVFgZDrkq-lckZMgF7IW4ElBBaqeg9NpDzS2OItP4SfqOWxid-T_yt5lXG5kCZGngltE3NQkap8ZZ37vLD3ztDPpqiHCzoUxCeys2oF-QCXc4Hj7UElxyfhnBPnQMJni_FpB-vNuARe6QeNlGH6-iU8bNN6eYsY7chI7xBHjpThsQz7sUhs8k2Q8j94nLgpsEykJCOIXuDGN6pZYDwaLajatSVYsDZHj8QWN1XRAqsL3eaRLEnWgzKWnAQgj3mQFeKkn0gSIwewB5kO84SeDYpqORU_hmpq41PseGELxscQDkbHA_Fww\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MjgsImlhdCI6MTY1MjA5OTIyOCwiYXV0aF90aW1lIjoxNjUyMDk5MjI1LCJqdGkiOiJjODIxMDM3Yy1hZmRiLTQ3YWQtOTAzYi0wMDc0ZmMxNDUxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkV0dOTkNDeGs5R3JGQi1yS1hYb09nIiwic2Vzc2lvbl9zdGF0ZSI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L8tbbPSiwtEbVUh9IvRflSSMvZoikvAxRNtVFgZDrkq-lckZMgF7IW4ElBBaqeg9NpDzS2OItP4SfqOWxid-T_yt5lXG5kCZGngltE3NQkap8ZZ37vLD3ztDPpqiHCzoUxCeys2oF-QCXc4Hj7UElxyfhnBPnQMJni_FpB-vNuARe6QeNlGH6-iU8bNN6eYsY7chI7xBHjpThsQz7sUhs8k2Q8j94nLgpsEykJCOIXuDGN6pZYDwaLajatSVYsDZHj8QWN1XRAqsL3eaRLEnWgzKWnAQgj3mQFeKkn0gSIwewB5kO84SeDYpqORU_hmpq41PseGELxscQDkbHA_Fww\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;4406db90-93f2-43c6-b229-acd7197740d6&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a1ea80
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a1ea80
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717aa6180, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b65150, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717aa7450, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1MjgsImlhdCI6MTY1MjA5OTIyOCwiYXV0aF90aW1lIjoxNjUyMDk5MjI1LCJqdGkiOiJjODIxMDM3Yy1hZmRiLTQ3YWQtOTAzYi0wMDc0ZmMxNDUxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkV0dOTkNDeGs5R3JGQi1yS1hYb09nIiwic2Vzc2lvbl9zdGF0ZSI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NTAzMDQ0LWE5NjQtNDM5OS04MjA0LWQ3YjRiZmJjYmFiNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L8tbbPSiwtEbVUh9IvRflSSMvZoikvAxRNtVFgZDrkq-lckZMgF7IW4ElBBaqeg9NpDzS2OItP4SfqOWxid-T_yt5lXG5kCZGngltE3NQkap8ZZ37vLD3ztDPpqiHCzoUxCeys2oF-QCXc4Hj7UElxyfhnBPnQMJni_FpB-vNuARe6QeNlGH6-iU8bNN6eYsY7chI7xBHjpThsQz7sUhs8k2Q8j94nLgpsEykJCOIXuDGN6pZYDwaLajatSVYsDZHj8QWN1XRAqsL3eaRLEnWgzKWnAQgj3mQFeKkn0gSIwewB5kO84SeDYpqORU_hmpq41PseGELxscQDkbHA_Fww&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;&#x27; @ QOS 0
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:27:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1802d960, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717cab9a0 } }, data: MessageData { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717cab9a0 } } } }
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c6d510, 0x5617179e4210
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e4210, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e4210, 0x7f4b28000c70
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x561717a2e4d0
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b28004db0
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004db0, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004db0, 0x7f4b280091e0
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x561717a416e0
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b28005ad0
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005ad0, 0x7f4b28000b90
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005ad0, 0x7f4b28005990
[2022-05-09T12:27:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28005990
[2022-05-09T12:27:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;, &quot;source&quot;: &quot;drogue://85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:13.803248875+00:00&quot;, &quot;application&quot;: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, &quot;id&quot;: &quot;a2b5b953-2069-4ea8-9c2b-e3f9ca688d0f&quot;, &quot;applicationuid&quot;: &quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;, &quot;deviceuid&quot;: &quot;0cb2c635-e515-48e2-b09b-5a2bc3177607&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:27:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:27:14Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:27:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:27:14Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:27:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;fb3ce008-91f9-4796-bc48-8224d34ce96d&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a8da60
[2022-05-09T12:27:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a8da60
[2022-05-09T12:27:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b39e30, password: 0x561717d8d9d0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b6cd30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d03a10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1802b460, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179e0ba0 } }, data: MessageData { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179e0ba0 } } } }
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x5617179e4210
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e4210, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e4210, 0x7f4b28008eb0
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008eb0, 0x7f4b180089a0
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008eb0, 0x7f4b28005990
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005990, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005990, 0x7f4b28004be0
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b18008740
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b28000c20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b280054a0
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280054a0, 0x7f4b1802dc20
[2022-05-09T12:27:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280054a0
[2022-05-09T12:27:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/gateway1&quot;, &quot;applicationuid&quot;: &quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;0e35b06a-83e6-414d-8a2b-c08a7c0bf80a&quot;, &quot;deviceuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:14.921656657+00:00&quot;, &quot;partitionkey&quot;: &quot;85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, &quot;senderuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:27:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc3b50 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc3b50 } } } }
[2022-05-09T12:27:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cca870 } }, data: MessageData { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cca870 } } } }
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b28000c20
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c20, 0x7f4b280054c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280054c0, 0x7f4b18031990
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280054c0, 0x7f4b28004be0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b280091e0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b18031920
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280091e0, 0x7f4b28005af0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005af0, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005af0, 0x7f4b28005ad0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005ad0, 0x7f4b28008ce0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28005540
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;application&quot;: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/device1&quot;, &quot;applicationuid&quot;: &quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:15.438006587+00:00&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;, &quot;deviceuid&quot;: &quot;0cb2c635-e515-48e2-b09b-5a2bc3177607&quot;, &quot;source&quot;: &quot;drogue://85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/device1&quot;, &quot;id&quot;: &quot;f4fd8805-9807-432c-bdea-f737c9d34abd&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;}, payload: &quot;&quot; }
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1802b190, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717900500 } }, data: MessageData { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717900500 } } } }
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003770, 0x7f4b28004be0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004be0, 0x7f4b28005df0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005df0, 0x7f4b18008810
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005df0, 0x7f4b280059d0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b28008eb0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28008eb0, 0x7f4b280059d0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b180086c0
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b18031e60
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280059d0, 0x7f4b28005570
[2022-05-09T12:27:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280059d0
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;0f91df22-55c2-4643-ab90-7bbf018e17fc&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/gateway1&quot;, &quot;application&quot;: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, &quot;applicationuid&quot;: &quot;fe791a90-ad5c-403a-9b2c-0f13ce7d0032&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:16.441530577+00:00&quot;, &quot;partitionkey&quot;: &quot;85319a71%2De6d0%2D41c2%2Dbc6b%2D73f0c5644b71/gateway1&quot;, &quot;deviceuid&quot;: &quot;ebbbad9f-6453-44b7-b9bd-efb856b71bf4&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:27:16Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:27:16Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot; &quot;device1&quot;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot; &quot;gateway1&quot;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;85319a71-e6d0-41c2-bc6b-73f0c5644b71&#x27;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;85319a71-e6d0-41c2-bc6b-73f0c5644b71&quot;
[2022-05-09T12:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 85319a71-e6d0-41c2-bc6b-73f0c5644b71 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:27:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:27:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:27:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:27:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNDMsImlhdCI6MTY1MjA5OTI0MywianRpIjoiZjI1NThkM2ItMWIxZS00ODU5LTkyZTQtZTQ1OTc2YzkwNTZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9lX0lva2ZuUWhPelFxS3RqRkQyekEiLCJzZXNzaW9uX3N0YXRlIjoiZTgyZDJiMDYtYThlOC00ZDExLWJlNGUtNGU5N2MzZTRhYjhkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCJ9.mBj6wNL7bt0GyViR_rZ2h0HKwlyQF3MQ5S1jC92fyrg
[2022-05-09T12:27:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:27:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNDMsImlhdCI6MTY1MjA5OTI0MywianRpIjoiZjI1NThkM2ItMWIxZS00ODU5LTkyZTQtZTQ1OTc2YzkwNTZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9lX0lva2ZuUWhPelFxS3RqRkQyekEiLCJzZXNzaW9uX3N0YXRlIjoiZTgyZDJiMDYtYThlOC00ZDExLWJlNGUtNGU5N2MzZTRhYjhkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCJ9.mBj6wNL7bt0GyViR_rZ2h0HKwlyQF3MQ5S1jC92fyrg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:27:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 3d21913c-bbfe-4b7a-8e64-6bf0737c062b
[2022-05-09T12:27:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;
[2022-05-09T12:27:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3d21913c-bbfe-4b7a-8e64-6bf0737c062b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;
[2022-05-09T12:27:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:24.049977Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0bc0ec16-7543-4f92-b156-b7fc1a8e9959\&quot;,\n    \&quot;uid\&quot;: \&quot;128134ca-1bee-433b-954b-7487da36671e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064834962Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064910864Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064754842Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064756315Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064757126Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064757888Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064758459Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.064811709Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:24.049977Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;), &quot;resourceVersion&quot;: String(&quot;0bc0ec16-7543-4f92-b156-b7fc1a8e9959&quot;), &quot;uid&quot;: String(&quot;128134ca-1bee-433b-954b-7487da36671e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064834962Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064910864Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064754842Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064756315Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064757126Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064757888Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064758459Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.064811709Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:27:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:24.049977Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ed064a14-5174-4666-a2af-7c4144c407f8\&quot;,\n    \&quot;uid\&quot;: \&quot;128134ca-1bee-433b-954b-7487da36671e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402560836Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402671894Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.109414204Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.119225493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.192154314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.204963193Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402511313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402533074Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;JTrhBko4lHOc\&quot;,\n        \&quot;username\&quot;: \&quot;user-3d21913c-bbfe-4b7a-8e64-6bf0737c062b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:24.049977Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;), &quot;resourceVersion&quot;: String(&quot;ed064a14-5174-4666-a2af-7c4144c407f8&quot;), &quot;uid&quot;: String(&quot;128134ca-1bee-433b-954b-7487da36671e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402560836Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402671894Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.109414204Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.119225493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.192154314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.204963193Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402511313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402533074Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;JTrhBko4lHOc&quot;), &quot;username&quot;: String(&quot;user-3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;)})})})})
[2022-05-09T12:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:24.049977Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ed064a14-5174-4666-a2af-7c4144c407f8\&quot;,\n    \&quot;uid\&quot;: \&quot;128134ca-1bee-433b-954b-7487da36671e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402560836Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402671894Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.109414204Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.119225493Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.192154314Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.204963193Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402511313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:24.402533074Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;JTrhBko4lHOc\&quot;,\n        \&quot;username\&quot;: \&quot;user-3d21913c-bbfe-4b7a-8e64-6bf0737c062b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:24.049977Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;), &quot;resourceVersion&quot;: String(&quot;ed064a14-5174-4666-a2af-7c4144c407f8&quot;), &quot;uid&quot;: String(&quot;128134ca-1bee-433b-954b-7487da36671e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402560836Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402671894Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.109414204Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.119225493Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.192154314Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.204963193Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402511313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:24.402533074Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;JTrhBko4lHOc&quot;), &quot;username&quot;: String(&quot;user-3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;)})})})})
[2022-05-09T12:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NDMsImlhdCI6MTY1MjA5OTI0MywiYXV0aF90aW1lIjoxNjUyMDk5MjQwLCJqdGkiOiJkNDJlOGRlMi01MmE4LTQ4YzctYTIwMS0xOTcxZmRmYzU5MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPZV9Jb2tmblFoT3pRcUt0akZEMnpBIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEzJb7q1TIEWB77ZSj7As9Dxoka2o3GLEdZ9EfHHTJFHaoS8Mg33dygIaNyHLnhFvfMaI4oX0iU9XviF6nV_9-q9mKm_tGvj92XuH9xQjrGt7oeMNormJVmApLW0r45GJV3M26XuClUEeaN-UamKqMbHxNZN2lw93oHW3yYYnldknj7W6_UW6I-OXdf2e8gsLDvWEN4FCjws-JNYz7feoXgabWEYBT1P-YV7YtF1WEIdbUoC0am_5G1F7ELiA09WdC7BLnwozGqxCizmUA-kke9MTUbnPY6_2jVU4YBlH20CyoYBOqTQgxHRysBYXk7kIRWQoERG5POL81CLLqgTpw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NDMsImlhdCI6MTY1MjA5OTI0MywiYXV0aF90aW1lIjoxNjUyMDk5MjQwLCJqdGkiOiJkNDJlOGRlMi01MmE4LTQ4YzctYTIwMS0xOTcxZmRmYzU5MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPZV9Jb2tmblFoT3pRcUt0akZEMnpBIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEzJb7q1TIEWB77ZSj7As9Dxoka2o3GLEdZ9EfHHTJFHaoS8Mg33dygIaNyHLnhFvfMaI4oX0iU9XviF6nV_9-q9mKm_tGvj92XuH9xQjrGt7oeMNormJVmApLW0r45GJV3M26XuClUEeaN-UamKqMbHxNZN2lw93oHW3yYYnldknj7W6_UW6I-OXdf2e8gsLDvWEN4FCjws-JNYz7feoXgabWEYBT1P-YV7YtF1WEIdbUoC0am_5G1F7ELiA09WdC7BLnwozGqxCizmUA-kke9MTUbnPY6_2jVU4YBlH20CyoYBOqTQgxHRysBYXk7kIRWQoERG5POL81CLLqgTpw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;acab53cf-5ffe-47e1-b923-5eb105089e2b&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717877340
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717877340
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717c80510, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b39110, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717a9f720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NDMsImlhdCI6MTY1MjA5OTI0MywiYXV0aF90aW1lIjoxNjUyMDk5MjQwLCJqdGkiOiJkNDJlOGRlMi01MmE4LTQ4YzctYTIwMS0xOTcxZmRmYzU5MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPZV9Jb2tmblFoT3pRcUt0akZEMnpBIiwic2Vzc2lvbl9zdGF0ZSI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU4MmQyYjA2LWE4ZTgtNGQxMS1iZTRlLTRlOTdjM2U0YWI4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEzJb7q1TIEWB77ZSj7As9Dxoka2o3GLEdZ9EfHHTJFHaoS8Mg33dygIaNyHLnhFvfMaI4oX0iU9XviF6nV_9-q9mKm_tGvj92XuH9xQjrGt7oeMNormJVmApLW0r45GJV3M26XuClUEeaN-UamKqMbHxNZN2lw93oHW3yYYnldknj7W6_UW6I-OXdf2e8gsLDvWEN4FCjws-JNYz7feoXgabWEYBT1P-YV7YtF1WEIdbUoC0am_5G1F7ELiA09WdC7BLnwozGqxCizmUA-kke9MTUbnPY6_2jVU4YBlH20CyoYBOqTQgxHRysBYXk7kIRWQoERG5POL81CLLqgTpw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:25Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;&#x27; @ QOS 0
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c016a80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b1c008160 } }, data: MessageData { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b1c008160 } } } }
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717d8e350, 0x7f4b28004fb0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fb0, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004fb0, 0x7f4b28005e10
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005e10, 0x56171789b760
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005e10, 0x7f4b28003c90
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b28003cf0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cf0, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cf0, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cf0, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cf0, 0x7f4b28004540
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b28004de0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b280045d0
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b30003b30
[2022-05-09T12:27:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280045d0
[2022-05-09T12:27:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/device1&quot;, &quot;senderuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;deviceuid&quot;: &quot;66ad8602-c2f8-4404-a1d7-5f6a45b2c5fc&quot;, &quot;applicationuid&quot;: &quot;128134ca-1bee-433b-954b-7487da36671e&quot;, &quot;id&quot;: &quot;8734fcd1-9020-4085-9f15-62388df327d1&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:28.827176959+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:27:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:27:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:27:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:27:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:27:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;f47bfb96-cff1-423a-94eb-59b3affbe18a&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ad5900
[2022-05-09T12:27:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ad5900
[2022-05-09T12:27:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717c79bb0, password: 0x561717aba730, connectTimeout: 30, retryInterval: 0, ssl: 0x561717c78870, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c78590, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c027480, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1c027730 } }, data: MessageData { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1c027730 } } } }
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004610, 0x7f4b28005010
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005010, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005010, 0x7f4b28004540
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b1c0085d0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b280045d0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280045d0, 0x7f4b28004610
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004610, 0x7f4b1c01bac0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004610, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004610, 0x7f4b28003cb0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cb0, 0x7f4b28004610
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004610
[2022-05-09T12:27:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:29.948802556+00:00&quot;, &quot;source&quot;: &quot;drogue://3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/gateway1&quot;, &quot;applicationuid&quot;: &quot;128134ca-1bee-433b-954b-7487da36671e&quot;, &quot;partitionkey&quot;: &quot;3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/gateway1&quot;, &quot;senderuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;7ab73ab2-9d47-4b94-ab0e-74f22de41072&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:27:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bf9430 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bf9430 } } } }
[2022-05-09T12:27:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:27:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c00ab10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1c00b580 } }, data: MessageData { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1c00b580 } } } }
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003cf0, 0x7f4b28004560
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004560, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004560, 0x7f4b28004630
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004630, 0x7f4b1c02f8d0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004630, 0x7f4b28004650
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004650, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004650, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004650, 0x7f4b28004ff0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004ff0, 0x7f4b28003c90
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b1c02fbf0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b1c0084b0
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003c90, 0x7f4b28004670
[2022-05-09T12:27:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004670
[2022-05-09T12:27:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/gateway1&quot;, &quot;application&quot;: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;128134ca-1bee-433b-954b-7487da36671e&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;partitionkey&quot;: &quot;3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/gateway1&quot;, &quot;senderuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;id&quot;: &quot;2746face-bd27-4784-b54f-2ee7d442e094&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:30.476044631+00:00&quot;, &quot;device&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b1c00c1a0 } }, data: MessageData { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b1c00c1a0 } } } }
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005010, 0x7f4b28004540
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004540, 0x7f4b28004560
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004560, 0x7f4b1c01b930
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004560, 0x7f4b280046b0
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b280044f0
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280044f0, 0x7f4b280046b0
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c00ab30
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b1c016990
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280046b0, 0x7f4b28004ff0
[2022-05-09T12:27:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28004710
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;source&quot;: &quot;drogue://3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, &quot;id&quot;: &quot;839835f1-2ffd-4b55-8a36-f2f379e8b572&quot;, &quot;deviceuid&quot;: &quot;66ad8602-c2f8-4404-a1d7-5f6a45b2c5fc&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;3d21913c%2Dbbfe%2D4b7a%2D8e64%2D6bf0737c062b/device1&quot;, &quot;applicationuid&quot;: &quot;128134ca-1bee-433b-954b-7487da36671e&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;fbf38f0e-f119-47c6-a357-ef08fbd5406c&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:27:30.475010331+00:00&quot;}, payload: &quot;&quot; }
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:27:31Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:27:31Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot; &quot;device1&quot;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot; &quot;gateway1&quot;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&#x27;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3d21913c-bbfe-4b7a-8e64-6bf0737c062b&quot;
[2022-05-09T12:27:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3d21913c-bbfe-4b7a-8e64-6bf0737c062b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:27:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:27:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:27:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:27:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNTcsImlhdCI6MTY1MjA5OTI1NywianRpIjoiM2YwZWNkYTAtNDA0NC00YWM2LWEwMmUtNGQ5ODgyNDYzM2Q0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNvSEtKX0JqMTdYTzFPaHk3N2FFZ0EiLCJzZXNzaW9uX3N0YXRlIjoiYzk0ZDc5N2ItYWRjYy00YmI5LWEzNTQtYjAzZjYxNDgzNjM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiJ9.SaiTFHAN15PqRZEXbETWHYfl2htUNYlR7zSKDqkWv2k
[2022-05-09T12:27:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:27:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNTcsImlhdCI6MTY1MjA5OTI1NywianRpIjoiM2YwZWNkYTAtNDA0NC00YWM2LWEwMmUtNGQ5ODgyNDYzM2Q0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNvSEtKX0JqMTdYTzFPaHk3N2FFZ0EiLCJzZXNzaW9uX3N0YXRlIjoiYzk0ZDc5N2ItYWRjYy00YmI5LWEzNTQtYjAzZjYxNDgzNjM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiJ9.SaiTFHAN15PqRZEXbETWHYfl2htUNYlR7zSKDqkWv2k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 51c01f1b-604c-40ff-8639-59ce32664577
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 51c01f1b-604c-40ff-8639-59ce32664577 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;
[2022-05-09T12:27:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:38.724457Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f0ad1755-d856-4fef-a545-e8d33bea8d85\&quot;,\n    \&quot;uid\&quot;: \&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.741539068Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:38.724457Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;), &quot;resourceVersion&quot;: String(&quot;f0ad1755-d856-4fef-a545-e8d33bea8d85&quot;), &quot;uid&quot;: String(&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.741539068Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:27:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:38.724457Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4535988a-561c-47a6-ba21-8bac03b17f9d\&quot;,\n    \&quot;uid\&quot;: \&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.068054340Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.068019545Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.785919026Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.792287077Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.861196623Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.868769313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.067971926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.067991242Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zhecvN011yI9\&quot;,\n        \&quot;username\&quot;: \&quot;user-51c01f1b-604c-40ff-8639-59ce32664577\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:38.724457Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;), &quot;resourceVersion&quot;: String(&quot;4535988a-561c-47a6-ba21-8bac03b17f9d&quot;), &quot;uid&quot;: String(&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.068054340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.068019545Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.785919026Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.792287077Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.861196623Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.868769313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.067971926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.067991242Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zhecvN011yI9&quot;), &quot;username&quot;: String(&quot;user-51c01f1b-604c-40ff-8639-59ce32664577&quot;)})})})})
[2022-05-09T12:27:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:38.724457Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4535988a-561c-47a6-ba21-8bac03b17f9d\&quot;,\n    \&quot;uid\&quot;: \&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.068054340Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.068019545Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.785919026Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.792287077Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.861196623Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:38.868769313Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.067971926Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:39.067991242Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zhecvN011yI9\&quot;,\n        \&quot;username\&quot;: \&quot;user-51c01f1b-604c-40ff-8639-59ce32664577\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:38.724457Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;), &quot;resourceVersion&quot;: String(&quot;4535988a-561c-47a6-ba21-8bac03b17f9d&quot;), &quot;uid&quot;: String(&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.068054340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.068019545Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.785919026Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.792287077Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.861196623Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:38.868769313Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.067971926Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:39.067991242Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zhecvN011yI9&quot;), &quot;username&quot;: String(&quot;user-51c01f1b-604c-40ff-8639-59ce32664577&quot;)})})})})
[2022-05-09T12:27:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NTgsImlhdCI6MTY1MjA5OTI1OCwiYXV0aF90aW1lIjoxNjUyMDk5MjU1LCJqdGkiOiI0YzZhODc3ZC1iZTVkLTRmOTktYjU4NS0yZTlhZDRiM2MzNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTb0hLSl9CajE3WE8xT2h5NzdhRWdBIiwic2Vzc2lvbl9zdGF0ZSI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EezZT616zGqQwtBYNfVH_s2ID-TrV7vdyJ3haZ_x_4h5rVToeYsodoj2zo8j91xWioCsPFrPMc1yxDxnTgJeaSLDXOBZsNbTr7LM5nhnUYWaR1mjZE3DGq75b1TKpwQ3GW1QnJcxnJ3A6tBRrC50mht_V0EBsVRwiGWDsbAxWeM7918vny0Ivr5QJRg_dgt-f0Q8JuQO_-KXVLXZ0pOZWj4lCLvoNBKJbUvLrXDwsVFwAYaihsN-0yr5g2SXxuMLhKmV1Y3mtYiIQOs7P3VPKO9UdtD6gpYtDDRyDXBsu_p7q4fNFWx0JFq3LF_yzIDJoguIWLOMumdoTRxyb6Uepg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NTgsImlhdCI6MTY1MjA5OTI1OCwiYXV0aF90aW1lIjoxNjUyMDk5MjU1LCJqdGkiOiI0YzZhODc3ZC1iZTVkLTRmOTktYjU4NS0yZTlhZDRiM2MzNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTb0hLSl9CajE3WE8xT2h5NzdhRWdBIiwic2Vzc2lvbl9zdGF0ZSI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EezZT616zGqQwtBYNfVH_s2ID-TrV7vdyJ3haZ_x_4h5rVToeYsodoj2zo8j91xWioCsPFrPMc1yxDxnTgJeaSLDXOBZsNbTr7LM5nhnUYWaR1mjZE3DGq75b1TKpwQ3GW1QnJcxnJ3A6tBRrC50mht_V0EBsVRwiGWDsbAxWeM7918vny0Ivr5QJRg_dgt-f0Q8JuQO_-KXVLXZ0pOZWj4lCLvoNBKJbUvLrXDwsVFwAYaihsN-0yr5g2SXxuMLhKmV1Y3mtYiIQOs7P3VPKO9UdtD6gpYtDDRyDXBsu_p7q4fNFWx0JFq3LF_yzIDJoguIWLOMumdoTRxyb6Uepg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;dafb11e4-f9a3-4adb-a028-3262bb8b6183&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ba6b50
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ba6b50
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717ba5220, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ce34e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ba6420, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NTgsImlhdCI6MTY1MjA5OTI1OCwiYXV0aF90aW1lIjoxNjUyMDk5MjU1LCJqdGkiOiI0YzZhODc3ZC1iZTVkLTRmOTktYjU4NS0yZTlhZDRiM2MzNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTb0hLSl9CajE3WE8xT2h5NzdhRWdBIiwic2Vzc2lvbl9zdGF0ZSI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5NGQ3OTdiLWFkY2MtNGJiOS1hMzU0LWIwM2Y2MTQ4MzYzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EezZT616zGqQwtBYNfVH_s2ID-TrV7vdyJ3haZ_x_4h5rVToeYsodoj2zo8j91xWioCsPFrPMc1yxDxnTgJeaSLDXOBZsNbTr7LM5nhnUYWaR1mjZE3DGq75b1TKpwQ3GW1QnJcxnJ3A6tBRrC50mht_V0EBsVRwiGWDsbAxWeM7918vny0Ivr5QJRg_dgt-f0Q8JuQO_-KXVLXZ0pOZWj4lCLvoNBKJbUvLrXDwsVFwAYaihsN-0yr5g2SXxuMLhKmV1Y3mtYiIQOs7P3VPKO9UdtD6gpYtDDRyDXBsu_p7q4fNFWx0JFq3LF_yzIDJoguIWLOMumdoTRxyb6Uepg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:39Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;&#x27; @ QOS 0
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b18008270, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 56, 50, 53, 49, 54, 48, 99, 45, 57, 55, 56, 99, 45, 52, 49, 54, 50, 45, 57, 102, 98, 98, 45, 51, 51, 54, 51, 52, 98, 55, 50, 98, 51, 57, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 52, 51, 46, 56, 50, 57, 50, 56, 51, 54, 57, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 45, 54, 48, 52, 99, 45, 52, 48, 102, 102, 45, 56, 54, 51, 57, 45, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 51, 56, 49, 56, 56, 48, 102, 45, 49, 101, 99, 101, 45, 52, 53, 50, 51, 45, 97, 52, 54, 50, 45, 99, 48, 99, 50, 52, 48, 55, 50, 99, 101, 53, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 102, 101, 52, 97, 99, 48, 49, 45, 55, 99, 97, 102, 45, 52, 101, 99, 57, 45, 98, 97, 101, 54, 45, 100, 48, 100, 101, 57, 54, 52, 98, 56, 56, 48, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:27:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7825160c-978c-4162-9fbb-33634b72b398\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:43.829283693Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;,\&quot;application\&quot;:\&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;5381880f-1ece-4523-a462-c0c24072ce5c\&quot;,\&quot;applicationuid\&quot;:\&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/device1\&quot;}&quot; }
[2022-05-09T12:27:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:27:44Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:27:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:27:44Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:27:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;9687d081-23af-46cb-8ee0-1aabb0ac0982&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717b69c50
[2022-05-09T12:27:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717b69c50
[2022-05-09T12:27:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717bc3d90, password: 0x561717a3ed80, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b93430, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717beb280, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@51c01f1b-604c-40ff-8639-59ce32664577&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18030e20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 56, 51, 49, 51, 54, 50, 49, 45, 54, 102, 51, 102, 45, 52, 99, 100, 48, 45, 97, 52, 48, 55, 45, 49, 57, 55, 56, 51, 48, 57, 54, 51, 100, 50, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 52, 52, 46, 57, 55, 55, 53, 55, 50, 48, 49, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 102, 101, 52, 97, 99, 48, 49, 45, 55, 99, 97, 102, 45, 52, 101, 99, 57, 45, 98, 97, 101, 54, 45, 100, 48, 100, 101, 57, 54, 52, 98, 56, 56, 48, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 45, 54, 48, 52, 99, 45, 52, 48, 102, 102, 45, 56, 54, 51, 57, 45, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:27:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca0100 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ca0100 } } } }
[2022-05-09T12:27:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d8313621-6f3f-4cd0-a407-197830963d2b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:44.977572019Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;,\&quot;senderuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;,\&quot;application\&quot;:\&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\&quot;partitionkey\&quot;:\&quot;51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:27:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:27:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b180310b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 51, 100, 97, 102, 52, 51, 101, 45, 99, 57, 48, 53, 45, 52, 50, 57, 53, 45, 98, 54, 99, 49, 45, 48, 52, 52, 56, 97, 48, 53, 56, 101, 49, 53, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 52, 53, 46, 53, 52, 55, 55, 49, 54, 56, 55, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 45, 54, 48, 52, 99, 45, 52, 48, 102, 102, 45, 56, 54, 51, 57, 45, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 102, 101, 52, 97, 99, 48, 49, 45, 55, 99, 97, 102, 45, 52, 101, 99, 57, 45, 98, 97, 101, 54, 45, 100, 48, 100, 101, 57, 54, 52, 98, 56, 56, 48, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:27:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c3daf43e-c905-4295-b6c1-0448a058e15a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:45.547716871Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;,\&quot;senderuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;,\&quot;partitionkey\&quot;:\&quot;51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;}&quot; }
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b18030e20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 54, 102, 51, 50, 99, 53, 49, 45, 50, 101, 102, 53, 45, 52, 102, 57, 56, 45, 97, 49, 102, 57, 45, 49, 50, 55, 102, 97, 50, 55, 49, 102, 56, 48, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 52, 53, 46, 53, 52, 55, 51, 57, 48, 49, 51, 56, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 102, 101, 52, 97, 99, 48, 49, 45, 55, 99, 97, 102, 45, 52, 101, 99, 57, 45, 98, 97, 101, 54, 45, 100, 48, 100, 101, 57, 54, 52, 98, 56, 56, 48, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 37, 50, 68, 54, 48, 52, 99, 37, 50, 68, 52, 48, 102, 102, 37, 50, 68, 56, 54, 51, 57, 37, 50, 68, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 51, 56, 49, 56, 56, 48, 102, 45, 49, 101, 99, 101, 45, 52, 53, 50, 51, 45, 97, 52, 54, 50, 45, 99, 48, 99, 50, 52, 48, 55, 50, 99, 101, 53, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 101, 51, 52, 51, 54, 56, 57, 45, 98, 54, 48, 52, 45, 52, 55, 57, 57, 45, 97, 98, 49, 102, 45, 57, 100, 97, 55, 49, 49, 56, 48, 49, 97, 97, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 49, 99, 48, 49, 102, 49, 98, 45, 54, 48, 52, 99, 45, 52, 48, 102, 102, 45, 56, 54, 51, 57, 45, 53, 57, 99, 101, 51, 50, 54, 54, 52, 53, 55, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/51c01f1b-604c-40ff-8639-59ce32664577&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;06f32c51-2ef5-4f98-a1f9-127fa271f807\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:45.547390138Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;3fe4ac01-7caf-4ec9-bae6-d0de964b8806\&quot;,\&quot;partitionkey\&quot;:\&quot;51c01f1b%2D604c%2D40ff%2D8639%2D59ce32664577/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;5381880f-1ece-4523-a462-c0c24072ce5c\&quot;,\&quot;senderuid\&quot;:\&quot;0e343689-b604-4799-ab1f-9da711801aa5\&quot;,\&quot;application\&quot;:\&quot;51c01f1b-604c-40ff-8639-59ce32664577\&quot;}&quot; }
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:27:46Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:27:46Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot; &quot;device1&quot;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot; &quot;gateway1&quot;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;51c01f1b-604c-40ff-8639-59ce32664577&#x27;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;51c01f1b-604c-40ff-8639-59ce32664577&quot;
[2022-05-09T12:27:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 51c01f1b-604c-40ff-8639-59ce32664577 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:27:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:27:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:27:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:27:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:27:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNzIsImlhdCI6MTY1MjA5OTI3MiwianRpIjoiZGM5YWRmOGMtZjU3Zi00ZGFiLTk0MGMtMTcwNmEyYWZhNjMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlUtTVdETVlOQWlfdmpTSGF0T2dJeVEiLCJzZXNzaW9uX3N0YXRlIjoiYTY4ODRlOTItZmNmMS00NGIyLThmNWQtYzM2M2UwMzdiNjM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSJ9.ftGAXPiW7JdpfC-FPrumS0JNzMvqQYH24NNunqJ4Qb4
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwNzIsImlhdCI6MTY1MjA5OTI3MiwianRpIjoiZGM5YWRmOGMtZjU3Zi00ZGFiLTk0MGMtMTcwNmEyYWZhNjMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlUtTVdETVlOQWlfdmpTSGF0T2dJeVEiLCJzZXNzaW9uX3N0YXRlIjoiYTY4ODRlOTItZmNmMS00NGIyLThmNWQtYzM2M2UwMzdiNjM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSJ9.ftGAXPiW7JdpfC-FPrumS0JNzMvqQYH24NNunqJ4Qb4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;
[2022-05-09T12:27:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:53.737923Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8cc1b084-3ba8-4f96-b67d-54ac75fc8483\&quot;,\n    \&quot;uid\&quot;: \&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751546053Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751586228Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751498964Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751500657Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751501499Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751502521Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751504014Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.751512861Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:53.737923Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;), &quot;resourceVersion&quot;: String(&quot;8cc1b084-3ba8-4f96-b67d-54ac75fc8483&quot;), &quot;uid&quot;: String(&quot;6dbf7896-9467-475e-a5c2-7e502243028e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751546053Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751586228Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751498964Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751500657Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751501499Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751502521Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751504014Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.751512861Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:27:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:53.737923Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;05a228c0-38f2-455c-bf9c-644c250c41fd\&quot;,\n    \&quot;uid\&quot;: \&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037535604Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037646232Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.777276791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.786759603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.846696103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.853961497Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037489046Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037507Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;OYQhZFIBvPTc\&quot;,\n        \&quot;username\&quot;: \&quot;user-3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:53.737923Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;), &quot;resourceVersion&quot;: String(&quot;05a228c0-38f2-455c-bf9c-644c250c41fd&quot;), &quot;uid&quot;: String(&quot;6dbf7896-9467-475e-a5c2-7e502243028e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037535604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037646232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.777276791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.786759603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.846696103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.853961497Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037489046Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037507Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;OYQhZFIBvPTc&quot;), &quot;username&quot;: String(&quot;user-3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;)})})})})
[2022-05-09T12:27:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:27:53.737923Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;05a228c0-38f2-455c-bf9c-644c250c41fd\&quot;,\n    \&quot;uid\&quot;: \&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037535604Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037646232Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.777276791Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.786759603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.846696103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:53.853961497Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037489046Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:27:54.037507Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;OYQhZFIBvPTc\&quot;,\n        \&quot;username\&quot;: \&quot;user-3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:27:53.737923Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;), &quot;resourceVersion&quot;: String(&quot;05a228c0-38f2-455c-bf9c-644c250c41fd&quot;), &quot;uid&quot;: String(&quot;6dbf7896-9467-475e-a5c2-7e502243028e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037535604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037646232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.777276791Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.786759603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.846696103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:53.853961497Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037489046Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:27:54.037507Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;OYQhZFIBvPTc&quot;), &quot;username&quot;: String(&quot;user-3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;)})})})})
[2022-05-09T12:27:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NzMsImlhdCI6MTY1MjA5OTI3MywiYXV0aF90aW1lIjoxNjUyMDk5MjcwLCJqdGkiOiIzNzhhYTI1NC05OGZiLTRjZWMtYWE1Mi03OTU0MDU3YjljYTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVLU1XRE1ZTkFpX3ZqU0hhdE9nSXlRIiwic2Vzc2lvbl9zdGF0ZSI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hGo284gkMGVNpR--LlGb5f7uY-R-xB2-h_lRwjiBbo9JrqEVIgmHjDbiSFifEmrIJju87mOW79lwd5yX6JSUNBlmbExY-n4omEvz-ZWJPhPUyhc70CsQXRbXe7l7KLiYXCpCNdI3KMhHVnpIBAW2pt7e6Ylr1oYRqisgM5TKouJaDI5AIlv_Fswgk0INAVDrNaZPJpz5aLsQgBBdmWenyOEy_t33ysBB1ks8V6ducI0CYbyaAjAgUJSF4oZWhvP6bXuHbWuFcOu1lB_nw1iyZOTedxW8wc3QRwqx0t-YSjha8dxFiElUyPGRjNpCMYM4ipGhrJdPNvtiYF-Kg_u07A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:27:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NzMsImlhdCI6MTY1MjA5OTI3MywiYXV0aF90aW1lIjoxNjUyMDk5MjcwLCJqdGkiOiIzNzhhYTI1NC05OGZiLTRjZWMtYWE1Mi03OTU0MDU3YjljYTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVLU1XRE1ZTkFpX3ZqU0hhdE9nSXlRIiwic2Vzc2lvbl9zdGF0ZSI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hGo284gkMGVNpR--LlGb5f7uY-R-xB2-h_lRwjiBbo9JrqEVIgmHjDbiSFifEmrIJju87mOW79lwd5yX6JSUNBlmbExY-n4omEvz-ZWJPhPUyhc70CsQXRbXe7l7KLiYXCpCNdI3KMhHVnpIBAW2pt7e6Ylr1oYRqisgM5TKouJaDI5AIlv_Fswgk0INAVDrNaZPJpz5aLsQgBBdmWenyOEy_t33ysBB1ks8V6ducI0CYbyaAjAgUJSF4oZWhvP6bXuHbWuFcOu1lB_nw1iyZOTedxW8wc3QRwqx0t-YSjha8dxFiElUyPGRjNpCMYM4ipGhrJdPNvtiYF-Kg_u07A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;907e5bc7-4be5-4a5d-acef-1c060b3194ac&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717af2170
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717af2170
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x56171797ece0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b93430, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717981060, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1NzMsImlhdCI6MTY1MjA5OTI3MywiYXV0aF90aW1lIjoxNjUyMDk5MjcwLCJqdGkiOiIzNzhhYTI1NC05OGZiLTRjZWMtYWE1Mi03OTU0MDU3YjljYTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVLU1XRE1ZTkFpX3ZqU0hhdE9nSXlRIiwic2Vzc2lvbl9zdGF0ZSI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2ODg0ZTkyLWZjZjEtNDRiMi04ZjVkLWMzNjNlMDM3YjYzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hGo284gkMGVNpR--LlGb5f7uY-R-xB2-h_lRwjiBbo9JrqEVIgmHjDbiSFifEmrIJju87mOW79lwd5yX6JSUNBlmbExY-n4omEvz-ZWJPhPUyhc70CsQXRbXe7l7KLiYXCpCNdI3KMhHVnpIBAW2pt7e6Ylr1oYRqisgM5TKouJaDI5AIlv_Fswgk0INAVDrNaZPJpz5aLsQgBBdmWenyOEy_t33ysBB1ks8V6ducI0CYbyaAjAgUJSF4oZWhvP6bXuHbWuFcOu1lB_nw1iyZOTedxW8wc3QRwqx0t-YSjha8dxFiElUyPGRjNpCMYM4ipGhrJdPNvtiYF-Kg_u07A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:27:54Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;&#x27; @ QOS 0
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:27:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:27:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:27:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:27:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:27:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1802d1f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 51, 53, 49, 50, 50, 56, 101, 45, 57, 49, 57, 98, 45, 52, 98, 55, 57, 45, 97, 98, 53, 102, 45, 56, 99, 48, 102, 48, 51, 48, 51, 50, 100, 50, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 53, 56, 46, 56, 54, 54, 54, 48, 53, 50, 56, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 51, 53, 57, 53, 48, 56, 102, 45, 48, 50, 48, 56, 45, 52, 57, 102, 101, 45, 98, 99, 56, 99, 45, 101, 52, 97, 56, 52, 54, 57, 102, 56, 48, 100, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 100, 98, 102, 55, 56, 57, 54, 45, 57, 52, 54, 55, 45, 52, 55, 53, 101, 45, 97, 53, 99, 50, 45, 55, 101, 53, 48, 50, 50, 52, 51, 48, 50, 56, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 45, 55, 49, 102, 98, 45, 52, 98, 50, 101, 45, 98, 51, 101, 53, 45, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:27:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4351228e-919b-4b79-ab5f-8c0f03032d22\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:58.866605281Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;2359508f-0208-49fe-bc8c-e4a8469f80d5\&quot;,\&quot;senderuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;,\&quot;applicationuid\&quot;:\&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/device1\&quot;,\&quot;application\&quot;:\&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;}&quot; }
[2022-05-09T12:27:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:27:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:27:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:27:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:27:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;e1b5d1dd-da68-4d0a-88ec-e5f938aca12d&quot;, persistence: None, user_data: None }
[2022-05-09T12:27:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:27:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c6e1a0
[2022-05-09T12:27:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c6e1a0
[2022-05-09T12:27:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717beeb10, password: 0x561717bfc620, connectTimeout: 30, retryInterval: 0, ssl: 0x561717d532a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717bedd60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b18029ec0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 57, 98, 54, 99, 51, 51, 98, 45, 56, 97, 52, 53, 45, 52, 55, 52, 53, 45, 98, 55, 51, 57, 45, 52, 53, 48, 54, 102, 54, 101, 55, 100, 101, 54, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 55, 58, 53, 57, 46, 57, 56, 54, 52, 49, 51, 49, 55, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 100, 98, 102, 55, 56, 57, 54, 45, 57, 52, 54, 55, 45, 52, 55, 53, 101, 45, 97, 53, 99, 50, 45, 55, 101, 53, 48, 50, 50, 52, 51, 48, 50, 56, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 45, 55, 49, 102, 98, 45, 52, 98, 50, 101, 45, 98, 51, 101, 53, 45, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:28:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;89b6c33b-8a45-4745-b739-4506f6e7de66\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:27:59.986413170Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;,\&quot;senderuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\&quot;deviceuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;,\&quot;partitionkey\&quot;:\&quot;3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:28:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aeb740 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717aeb740 } } } }
[2022-05-09T12:28:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b18007ad0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 55, 51, 97, 49, 52, 97, 100, 45, 57, 50, 55, 52, 45, 52, 57, 56, 55, 45, 98, 56, 53, 100, 45, 57, 48, 50, 48, 98, 57, 100, 51, 55, 101, 57, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 48, 48, 46, 53, 54, 48, 52, 57, 48, 57, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 45, 55, 49, 102, 98, 45, 52, 98, 50, 101, 45, 98, 51, 101, 53, 45, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 100, 98, 102, 55, 56, 57, 54, 45, 57, 52, 54, 55, 45, 52, 55, 53, 101, 45, 97, 53, 99, 50, 45, 55, 101, 53, 48, 50, 50, 52, 51, 48, 50, 56, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 51, 53, 57, 53, 48, 56, 102, 45, 48, 50, 48, 56, 45, 52, 57, 102, 101, 45, 98, 99, 56, 99, 45, 101, 52, 97, 56, 52, 54, 57, 102, 56, 48, 100, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;773a14ad-9274-4987-b85d-9020b9d37e97\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:00.560490979Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\&quot;applicationuid\&quot;:\&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;,\&quot;deviceuid\&quot;:\&quot;2359508f-0208-49fe-bc8c-e4a8469f80d5\&quot;}&quot; }
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1802a410, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 49, 50, 100, 56, 53, 52, 98, 45, 50, 101, 50, 56, 45, 52, 101, 48, 55, 45, 98, 57, 49, 97, 45, 101, 48, 57, 55, 52, 101, 55, 51, 98, 55, 101, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 48, 49, 46, 52, 53, 56, 55, 54, 54, 55, 48, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 45, 55, 49, 102, 98, 45, 52, 98, 50, 101, 45, 98, 51, 101, 53, 45, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 51, 99, 50, 56, 51, 55, 102, 99, 37, 50, 68, 55, 49, 102, 98, 37, 50, 68, 52, 98, 50, 101, 37, 50, 68, 98, 51, 101, 53, 37, 50, 68, 100, 56, 51, 56, 101, 57, 102, 97, 99, 54, 102, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 100, 98, 102, 55, 56, 57, 54, 45, 57, 52, 54, 55, 45, 52, 55, 53, 101, 45, 97, 53, 99, 50, 45, 55, 101, 53, 48, 50, 50, 52, 51, 48, 50, 56, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 53, 100, 54, 101, 57, 51, 45, 97, 53, 56, 51, 45, 52, 99, 55, 48, 45, 97, 54, 50, 53, 45, 54, 56, 55, 54, 53, 49, 53, 54, 50, 102, 51, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;912d854b-2e28-4e07-b91a-e0974e73b7e8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:01.458766704Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;3c2837fc%2D71fb%2D4b2e%2Db3e5%2Dd838e9fac6f2/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;6dbf7896-9467-475e-a5c2-7e502243028e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;5c5d6e93-a583-4c70-a625-687651562f36\&quot;}&quot; }
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:28:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:28:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot; &quot;device1&quot;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot; &quot;gateway1&quot;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&#x27;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2&quot;
[2022-05-09T12:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3c2837fc-71fb-4b2e-b3e5-d838e9fac6f2 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:28:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:28:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:28:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:28:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwODgsImlhdCI6MTY1MjA5OTI4OCwianRpIjoiNTdiMTcwN2ItNDU0MC00NTE0LWEwMDctYWJhYjkzZTU5M2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkNvVEFScThFNGNFSlNpRlRIZlBKdGciLCJzZXNzaW9uX3N0YXRlIjoiOWI1YWY4MDUtZWJiYy00YWZjLWJhNmMtYjI0MzAyNDk0ZTc4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCJ9.SaLzxbhkLhAHonKR7Yz5XQA4b1aTx00FqoL-xVOZ9ZI
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEwODgsImlhdCI6MTY1MjA5OTI4OCwianRpIjoiNTdiMTcwN2ItNDU0MC00NTE0LWEwMDctYWJhYjkzZTU5M2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkNvVEFScThFNGNFSlNpRlRIZlBKdGciLCJzZXNzaW9uX3N0YXRlIjoiOWI1YWY4MDUtZWJiYy00YWZjLWJhNmMtYjI0MzAyNDk0ZTc4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCJ9.SaLzxbhkLhAHonKR7Yz5XQA4b1aTx00FqoL-xVOZ9ZI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::resources::apps] Create application: c5847fce-5bf1-4f26-8f83-a63ffbdddd42
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c5847fce-5bf1-4f26-8f83-a63ffbdddd42 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;
[2022-05-09T12:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:08.875294Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ea5cf988-7ef3-4f95-b431-4f21e3cd0c0a\&quot;,\n    \&quot;uid\&quot;: \&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892099319Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892506673Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892032042Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892033525Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892034197Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892035059Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892036321Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.892058963Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:08.875294Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;), &quot;resourceVersion&quot;: String(&quot;ea5cf988-7ef3-4f95-b431-4f21e3cd0c0a&quot;), &quot;uid&quot;: String(&quot;71275424-c283-404b-8e1d-cc29c11e9028&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892099319Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892506673Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892032042Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892033525Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892034197Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892035059Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892036321Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.892058963Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:28:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:08.875294Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;84e2dc7d-d6d5-44f9-923e-a37ed865ed77\&quot;,\n    \&quot;uid\&quot;: \&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188987367Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.189030428Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.914758389Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.920843308Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.980058876Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.986204761Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188939146Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188960306Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;b1PFdcUe49vs\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:08.875294Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;), &quot;resourceVersion&quot;: String(&quot;84e2dc7d-d6d5-44f9-923e-a37ed865ed77&quot;), &quot;uid&quot;: String(&quot;71275424-c283-404b-8e1d-cc29c11e9028&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188987367Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.189030428Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.914758389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.920843308Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.980058876Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.986204761Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188939146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188960306Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;b1PFdcUe49vs&quot;), &quot;username&quot;: String(&quot;user-c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;)})})})})
[2022-05-09T12:28:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:08.875294Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;84e2dc7d-d6d5-44f9-923e-a37ed865ed77\&quot;,\n    \&quot;uid\&quot;: \&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188987367Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.189030428Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.914758389Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.920843308Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.980058876Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:08.986204761Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188939146Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:09.188960306Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;b1PFdcUe49vs\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:08.875294Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;), &quot;resourceVersion&quot;: String(&quot;84e2dc7d-d6d5-44f9-923e-a37ed865ed77&quot;), &quot;uid&quot;: String(&quot;71275424-c283-404b-8e1d-cc29c11e9028&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188987367Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.189030428Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.914758389Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.920843308Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.980058876Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:08.986204761Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188939146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:09.188960306Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;b1PFdcUe49vs&quot;), &quot;username&quot;: String(&quot;user-c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;)})})})})
[2022-05-09T12:28:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1ODgsImlhdCI6MTY1MjA5OTI4OCwiYXV0aF90aW1lIjoxNjUyMDk5Mjg1LCJqdGkiOiJkYzM2MTJlYS1mNWEzLTRkMmUtODMxNy04Y2JhNDE1MTE5NjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDb1RBUnE4RTRjRUpTaUZUSGZQSnRnIiwic2Vzc2lvbl9zdGF0ZSI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bcOjLURhgYjlZJs7eXarCJnpvD4-aduN4ufbUanKtDTsYHRowjH5Tlww-NArsyc7racVN44EfY7y9V2qTKWBJQFZoF4kCd62zpKseoX2gSrFCGprT7qkLNMmprr5WDAs174PE-lXIFX7ipqKlW3THZPqrx5ASO7x-mGPZUZouczCuT8Gu4anxgc44kLoStkGD3dKC-Kt6reZWnwbl2CWoy75gFFFH8RcwuVYIoJZpLEA46yuZSRUx49FF5omYeV-cVn6MCd_QWecNV5nmoriEc8EkqR5QSuf1eujEUZIkg8FZYJh2_D9Vpn5Ki9h4Lf2Fofjg8hywGvezkSaIe529Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1ODgsImlhdCI6MTY1MjA5OTI4OCwiYXV0aF90aW1lIjoxNjUyMDk5Mjg1LCJqdGkiOiJkYzM2MTJlYS1mNWEzLTRkMmUtODMxNy04Y2JhNDE1MTE5NjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDb1RBUnE4RTRjRUpTaUZUSGZQSnRnIiwic2Vzc2lvbl9zdGF0ZSI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bcOjLURhgYjlZJs7eXarCJnpvD4-aduN4ufbUanKtDTsYHRowjH5Tlww-NArsyc7racVN44EfY7y9V2qTKWBJQFZoF4kCd62zpKseoX2gSrFCGprT7qkLNMmprr5WDAs174PE-lXIFX7ipqKlW3THZPqrx5ASO7x-mGPZUZouczCuT8Gu4anxgc44kLoStkGD3dKC-Kt6reZWnwbl2CWoy75gFFFH8RcwuVYIoJZpLEA46yuZSRUx49FF5omYeV-cVn6MCd_QWecNV5nmoriEc8EkqR5QSuf1eujEUZIkg8FZYJh2_D9Vpn5Ki9h4Lf2Fofjg8hywGvezkSaIe529Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;89bd27fd-5de3-4264-8592-44654a5861e5&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179e65a0
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179e65a0
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717cfe020, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179f0c00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178aa9d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk1ODgsImlhdCI6MTY1MjA5OTI4OCwiYXV0aF90aW1lIjoxNjUyMDk5Mjg1LCJqdGkiOiJkYzM2MTJlYS1mNWEzLTRkMmUtODMxNy04Y2JhNDE1MTE5NjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDb1RBUnE4RTRjRUpTaUZUSGZQSnRnIiwic2Vzc2lvbl9zdGF0ZSI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliNWFmODA1LWViYmMtNGFmYy1iYTZjLWIyNDMwMjQ5NGU3OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bcOjLURhgYjlZJs7eXarCJnpvD4-aduN4ufbUanKtDTsYHRowjH5Tlww-NArsyc7racVN44EfY7y9V2qTKWBJQFZoF4kCd62zpKseoX2gSrFCGprT7qkLNMmprr5WDAs174PE-lXIFX7ipqKlW3THZPqrx5ASO7x-mGPZUZouczCuT8Gu4anxgc44kLoStkGD3dKC-Kt6reZWnwbl2CWoy75gFFFH8RcwuVYIoJZpLEA46yuZSRUx49FF5omYeV-cVn6MCd_QWecNV5nmoriEc8EkqR5QSuf1eujEUZIkg8FZYJh2_D9Vpn5Ki9h4Lf2Fofjg8hywGvezkSaIe529Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;&#x27; @ QOS 0
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c006c60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c006ee0 } }, data: MessageData { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 56, 101, 51, 48, 54, 55, 50, 45, 53, 97, 53, 99, 45, 52, 99, 50, 51, 45, 98, 48, 100, 54, 45, 56, 98, 56, 100, 97, 53, 53, 56, 99, 55, 49, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 49, 51, 46, 56, 54, 55, 57, 52, 52, 57, 52, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 49, 50, 55, 53, 52, 50, 52, 45, 99, 50, 56, 51, 45, 52, 48, 52, 98, 45, 56, 101, 49, 100, 45, 99, 99, 50, 57, 99, 49, 49, 101, 57, 48, 50, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 55, 100, 54, 102, 102, 54, 50, 45, 101, 49, 97, 53, 45, 52, 51, 101, 98, 45, 98, 49, 101, 49, 45, 98, 55, 97, 54, 100, 50, 52, 48, 48, 57, 99, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 45, 53, 98, 102, 49, 45, 52, 102, 50, 54, 45, 56, 102, 56, 51, 45, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c006ee0 } } } }
[2022-05-09T12:28:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x56171797e560
[2022-05-09T12:28:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;78e30672-5a5c-4c23-b0d6-8b8da558c716\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:13.867944944Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;,\&quot;deviceuid\&quot;:\&quot;87d6ff62-e1a5-43eb-b1e1-b7a6d24009c9\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;}&quot; }
[2022-05-09T12:28:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:28:14Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:28:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:28:14Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:28:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;9e768525-7294-4bd2-8216-5d9828b2b04b&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c19cd0
[2022-05-09T12:28:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c19cd0
[2022-05-09T12:28:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x5617178e2140, password: 0x56171795a060, connectTimeout: 30, retryInterval: 0, ssl: 0x561717881d60, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178a3ad0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc4ba0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc4ba0 } } } }
[2022-05-09T12:28:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c00fb40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00fdd0 } }, data: MessageData { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 50, 51, 52, 101, 98, 51, 101, 45, 49, 51, 101, 55, 45, 52, 97, 51, 102, 45, 56, 97, 57, 100, 45, 102, 52, 54, 97, 98, 99, 99, 49, 101, 56, 99, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 49, 52, 46, 57, 56, 53, 57, 56, 53, 49, 50, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 45, 53, 98, 102, 49, 45, 52, 102, 50, 54, 45, 56, 102, 56, 51, 45, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 49, 50, 55, 53, 52, 50, 52, 45, 99, 50, 56, 51, 45, 52, 48, 52, 98, 45, 56, 101, 49, 100, 45, 99, 99, 50, 57, 99, 49, 49, 101, 57, 48, 50, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00fdd0 } } } }
[2022-05-09T12:28:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x56171797e560
[2022-05-09T12:28:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:28:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b234eb3e-13e7-4a3f-8a9d-f46abcc1e8ce\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:14.985985120Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;application\&quot;:\&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\&quot;applicationuid\&quot;:\&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c00b140, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00b3c0 } }, data: MessageData { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 101, 98, 97, 100, 56, 56, 99, 45, 50, 97, 53, 102, 45, 52, 97, 97, 55, 45, 98, 52, 99, 55, 45, 98, 101, 97, 52, 51, 51, 56, 54, 101, 99, 49, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 49, 53, 46, 53, 54, 50, 50, 49, 50, 48, 57, 56, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 45, 53, 98, 102, 49, 45, 52, 102, 50, 54, 45, 56, 102, 56, 51, 45, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 49, 50, 55, 53, 52, 50, 52, 45, 99, 50, 56, 51, 45, 52, 48, 52, 98, 45, 56, 101, 49, 100, 45, 99, 99, 50, 57, 99, 49, 49, 101, 57, 48, 50, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 55, 100, 54, 102, 102, 54, 50, 45, 101, 49, 97, 53, 45, 52, 51, 101, 98, 45, 98, 49, 101, 49, 45, 98, 55, 97, 54, 100, 50, 52, 48, 48, 57, 99, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00b3c0 } } } }
[2022-05-09T12:28:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ae6e40
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1ebad88c-2a5f-4aa7-b4c7-bea43386ec15\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:15.562212098Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;applicationuid\&quot;:\&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;87d6ff62-e1a5-43eb-b1e1-b7a6d24009c9\&quot;}&quot; }
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c00e840, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00b3c0 } }, data: MessageData { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 52, 99, 102, 100, 50, 100, 98, 45, 51, 52, 51, 52, 45, 52, 49, 97, 100, 45, 57, 56, 99, 102, 45, 99, 55, 48, 97, 55, 52, 54, 97, 54, 55, 54, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 49, 54, 46, 52, 54, 54, 57, 51, 48, 56, 50, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 49, 50, 55, 53, 52, 50, 52, 45, 99, 50, 56, 51, 45, 52, 48, 52, 98, 45, 56, 101, 49, 100, 45, 99, 99, 50, 57, 99, 49, 49, 101, 57, 48, 50, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 98, 51, 51, 102, 50, 54, 98, 45, 102, 53, 53, 54, 45, 52, 50, 52, 98, 45, 56, 102, 50, 51, 45, 54, 53, 56, 49, 102, 55, 49, 51, 98, 53, 57, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 37, 50, 68, 53, 98, 102, 49, 37, 50, 68, 52, 102, 50, 54, 37, 50, 68, 56, 102, 56, 51, 37, 50, 68, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 53, 56, 52, 55, 102, 99, 101, 45, 53, 98, 102, 49, 45, 52, 102, 50, 54, 45, 56, 102, 56, 51, 45, 97, 54, 51, 102, 102, 98, 100, 100, 100, 100, 52, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c00b3c0 } } } }
[2022-05-09T12:28:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b1c00c060
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;54cfd2db-3434-41ad-98cf-c70a746a6761\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:16.466930826Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;71275424-c283-404b-8e1d-cc29c11e9028\&quot;,\&quot;deviceuid\&quot;:\&quot;4b33f26b-f556-424b-8f23-6581f713b592\&quot;,\&quot;partitionkey\&quot;:\&quot;c5847fce%2D5bf1%2D4f26%2D8f83%2Da63ffbdddd42/gateway1\&quot;,\&quot;application\&quot;:\&quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:28:16Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:28:16Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot; &quot;device1&quot;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot; &quot;gateway1&quot;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&#x27;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c5847fce-5bf1-4f26-8f83-a63ffbdddd42&quot;
[2022-05-09T12:28:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c5847fce-5bf1-4f26-8f83-a63ffbdddd42 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:28:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:28:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:28:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:28:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMDMsImlhdCI6MTY1MjA5OTMwMywianRpIjoiMDJhMTA0NDUtYjBmZi00NWU2LTkwODktMDM5YjEzMmZiM2IzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJueVJfUXlsbEpneUZZYTFqNHQyTXciLCJzZXNzaW9uX3N0YXRlIjoiZjI0OTk1ZjItY2MwYS00YzBmLTg4OTktZjI4YjEzZTJhZGQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiJ9.-a6OZi9kek2OCDq2ZR7JrHnyxz9mEe50flOAlbWP42s
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMDMsImlhdCI6MTY1MjA5OTMwMywianRpIjoiMDJhMTA0NDUtYjBmZi00NWU2LTkwODktMDM5YjEzMmZiM2IzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJueVJfUXlsbEpneUZZYTFqNHQyTXciLCJzZXNzaW9uX3N0YXRlIjoiZjI0OTk1ZjItY2MwYS00YzBmLTg4OTktZjI4YjEzZTJhZGQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiJ9.-a6OZi9kek2OCDq2ZR7JrHnyxz9mEe50flOAlbWP42s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;
[2022-05-09T12:28:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:23.972512Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;62561052-f9a2-4311-8f3e-05db79d884c9\&quot;,\n    \&quot;uid\&quot;: \&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:23.972512Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;), &quot;resourceVersion&quot;: String(&quot;62561052-f9a2-4311-8f3e-05db79d884c9&quot;), &quot;uid&quot;: String(&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8&quot;)})})
[2022-05-09T12:28:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:23.972512Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;535dd0c7-3185-40b9-98d7-cc3124995c29\&quot;,\n    \&quot;uid\&quot;: \&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293646164Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293679437Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.032170650Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.040761238Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.110225003Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.116331504Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293602312Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293619704Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iQ9w87pxqjq5\&quot;,\n        \&quot;username\&quot;: \&quot;user-5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:23.972512Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;), &quot;resourceVersion&quot;: String(&quot;535dd0c7-3185-40b9-98d7-cc3124995c29&quot;), &quot;uid&quot;: String(&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293646164Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293679437Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.032170650Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.040761238Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.110225003Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.116331504Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293602312Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293619704Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iQ9w87pxqjq5&quot;), &quot;username&quot;: String(&quot;user-5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;)})})})})
[2022-05-09T12:28:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:23.972512Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;535dd0c7-3185-40b9-98d7-cc3124995c29\&quot;,\n    \&quot;uid\&quot;: \&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293646164Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293679437Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.032170650Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.040761238Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.110225003Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.116331504Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293602312Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:24.293619704Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;iQ9w87pxqjq5\&quot;,\n        \&quot;username\&quot;: \&quot;user-5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:23.972512Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;), &quot;resourceVersion&quot;: String(&quot;535dd0c7-3185-40b9-98d7-cc3124995c29&quot;), &quot;uid&quot;: String(&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293646164Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293679437Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.032170650Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.040761238Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.110225003Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.116331504Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293602312Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:24.293619704Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;iQ9w87pxqjq5&quot;), &quot;username&quot;: String(&quot;user-5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;)})})})})
[2022-05-09T12:28:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MDMsImlhdCI6MTY1MjA5OTMwMywiYXV0aF90aW1lIjoxNjUyMDk5MzAwLCJqdGkiOiI0MGJkOTgzYy1kZjUyLTQwZGMtYTQ1Yi02M2VkYmMyZDVkYzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCbnlSX1F5bGxKZ3lGWWExajR0Mk13Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.e098F2_PxVLu9eiP_UjiCZrz6wGSAWhtgXcwkc0vQ631ShFFE2EMJ8ggSSfwWSoD_d5-KIf79Ot3blSOYBO4uJHKfGmr3kOPssW8219j9vGTEcNqvi0zoBJmMde0GtqUcHG3rIT4JYfwG-RxaIqS84J3rwNrQvTng0zAYOne2CeudppglQWT8PrXGfmwKQLHFC__8hY6oRicnu_X3tYAZWAfrUU9XGTm81UpyxuLgoAEnpZPa02nSC83mca4nvKloAwCZz6gBkRlBw-GzzcUaSNyzougHhgdG1Dj6zFzFbw2eu8T97xfJ1XOjVuotS_2qXgFAy4mK4WvnWDrXwN7Yw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MDMsImlhdCI6MTY1MjA5OTMwMywiYXV0aF90aW1lIjoxNjUyMDk5MzAwLCJqdGkiOiI0MGJkOTgzYy1kZjUyLTQwZGMtYTQ1Yi02M2VkYmMyZDVkYzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCbnlSX1F5bGxKZ3lGWWExajR0Mk13Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.e098F2_PxVLu9eiP_UjiCZrz6wGSAWhtgXcwkc0vQ631ShFFE2EMJ8ggSSfwWSoD_d5-KIf79Ot3blSOYBO4uJHKfGmr3kOPssW8219j9vGTEcNqvi0zoBJmMde0GtqUcHG3rIT4JYfwG-RxaIqS84J3rwNrQvTng0zAYOne2CeudppglQWT8PrXGfmwKQLHFC__8hY6oRicnu_X3tYAZWAfrUU9XGTm81UpyxuLgoAEnpZPa02nSC83mca4nvKloAwCZz6gBkRlBw-GzzcUaSNyzougHhgdG1Dj6zFzFbw2eu8T97xfJ1XOjVuotS_2qXgFAy4mK4WvnWDrXwN7Yw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;13e954da-ee34-4b7e-8893-c63d8915025c&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ce33c0
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ce33c0
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717894890, connectTimeout: 30, retryInterval: 0, ssl: 0x5617178c60d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ce3040, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MDMsImlhdCI6MTY1MjA5OTMwMywiYXV0aF90aW1lIjoxNjUyMDk5MzAwLCJqdGkiOiI0MGJkOTgzYy1kZjUyLTQwZGMtYTQ1Yi02M2VkYmMyZDVkYzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCbnlSX1F5bGxKZ3lGWWExajR0Mk13Iiwic2Vzc2lvbl9zdGF0ZSI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyNDk5NWYyLWNjMGEtNGMwZi04ODk5LWYyOGIxM2UyYWRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.e098F2_PxVLu9eiP_UjiCZrz6wGSAWhtgXcwkc0vQ631ShFFE2EMJ8ggSSfwWSoD_d5-KIf79Ot3blSOYBO4uJHKfGmr3kOPssW8219j9vGTEcNqvi0zoBJmMde0GtqUcHG3rIT4JYfwG-RxaIqS84J3rwNrQvTng0zAYOne2CeudppglQWT8PrXGfmwKQLHFC__8hY6oRicnu_X3tYAZWAfrUU9XGTm81UpyxuLgoAEnpZPa02nSC83mca4nvKloAwCZz6gBkRlBw-GzzcUaSNyzougHhgdG1Dj6zFzFbw2eu8T97xfJ1XOjVuotS_2qXgFAy4mK4WvnWDrXwN7Yw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:25Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;&#x27; @ QOS 0
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:28:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f4b1c01e100, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c0008d0 } }, data: MessageData { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 102, 55, 49, 51, 56, 98, 48, 45, 101, 54, 50, 54, 45, 52, 98, 54, 57, 45, 56, 99, 56, 50, 45, 53, 99, 51, 97, 48, 100, 57, 51, 102, 100, 102, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 50, 56, 46, 57, 52, 55, 49, 53, 49, 57, 52, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 97, 100, 101, 98, 53, 52, 98, 45, 55, 54, 99, 53, 45, 52, 99, 48, 101, 45, 56, 53, 53, 102, 45, 102, 51, 53, 53, 54, 49, 53, 48, 97, 98, 101, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 45, 57, 102, 99, 57, 45, 52, 53, 97, 54, 45, 98, 99, 99, 57, 45, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 99, 49, 101, 53, 48, 55, 99, 45, 102, 48, 101, 52, 45, 52, 51, 54, 56, 45, 56, 102, 100, 98, 45, 57, 48, 52, 49, 98, 48, 55, 49, 48, 55, 48, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c0008d0 } } } }
[2022-05-09T12:28:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717830d90
[2022-05-09T12:28:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3f7138b0-e626-4b69-8c82-5c3a0d93fdf7\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:28.947151949Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\&quot;partitionkey\&quot;:\&quot;5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;0c1e507c-f0e4-4368-8fdb-9041b071070b\&quot;,\&quot;senderuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;}&quot; }
[2022-05-09T12:28:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:28:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:28:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:28:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:28:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;5ed7794e-d4d8-4b0b-9658-cf3d1859d7bd&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178c7370
[2022-05-09T12:28:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178c7370
[2022-05-09T12:28:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717c2b4f0, password: 0x561717839350, connectTimeout: 30, retryInterval: 0, ssl: 0x561717895f30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b96a80, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f4b1c01a960, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01abf0 } }, data: MessageData { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 49, 52, 50, 55, 53, 52, 52, 45, 48, 56, 99, 48, 45, 52, 98, 99, 100, 45, 98, 54, 52, 98, 45, 101, 99, 57, 102, 55, 57, 102, 49, 48, 57, 51, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 51, 48, 46, 48, 54, 52, 52, 49, 49, 55, 50, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 45, 57, 102, 99, 57, 45, 52, 53, 97, 54, 45, 98, 99, 99, 57, 45, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 97, 100, 101, 98, 53, 52, 98, 45, 55, 54, 99, 53, 45, 52, 99, 48, 101, 45, 56, 53, 53, 102, 45, 102, 51, 53, 53, 54, 49, 53, 48, 97, 98, 101, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01abf0 } } } }
[2022-05-09T12:28:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717ccc060
[2022-05-09T12:28:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;01427544-08c0-4bcd-b64b-ec9f79f1093b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:30.064411723Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\&quot;partitionkey\&quot;:\&quot;5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;,\&quot;deviceuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:28:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ccf190 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717ccf190 } } } }
[2022-05-09T12:28:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f4b1c006450, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01abf0 } }, data: MessageData { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 52, 99, 52, 51, 101, 52, 56, 45, 99, 53, 53, 54, 45, 52, 52, 48, 55, 45, 57, 53, 99, 54, 45, 57, 102, 102, 100, 102, 49, 98, 49, 49, 54, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 51, 48, 46, 53, 54, 55, 51, 49, 53, 50, 56, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 99, 49, 101, 53, 48, 55, 99, 45, 102, 48, 101, 52, 45, 52, 51, 54, 56, 45, 56, 102, 100, 98, 45, 57, 48, 52, 49, 98, 48, 55, 49, 48, 55, 48, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 97, 100, 101, 98, 53, 52, 98, 45, 55, 54, 99, 53, 45, 52, 99, 48, 101, 45, 56, 53, 53, 102, 45, 102, 51, 53, 53, 54, 49, 53, 48, 97, 98, 101, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 45, 57, 102, 99, 57, 45, 52, 53, 97, 54, 45, 98, 99, 99, 57, 45, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01abf0 } } } }
[2022-05-09T12:28:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b1c00d9d0
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;04c43e48-c556-4407-95c6-9ffdf1b11655\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:30.567315289Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;0c1e507c-f0e4-4368-8fdb-9041b071070b\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;,\&quot;application\&quot;:\&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;,\&quot;partitionkey\&quot;:\&quot;5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f4b1c01b080, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01b310 } }, data: MessageData { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 49, 56, 52, 56, 52, 48, 97, 45, 56, 56, 57, 101, 45, 52, 98, 100, 99, 45, 56, 56, 55, 102, 45, 50, 97, 99, 97, 101, 102, 102, 97, 99, 98, 102, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 56, 58, 51, 49, 46, 52, 54, 57, 49, 52, 49, 51, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 37, 50, 68, 57, 102, 99, 57, 37, 50, 68, 52, 53, 97, 54, 37, 50, 68, 98, 99, 99, 57, 37, 50, 68, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 97, 100, 101, 98, 53, 52, 98, 45, 55, 54, 99, 53, 45, 52, 99, 48, 101, 45, 56, 53, 53, 102, 45, 102, 51, 53, 53, 54, 49, 53, 48, 97, 98, 101, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 53, 51, 49, 51, 98, 57, 97, 57, 45, 57, 102, 99, 57, 45, 52, 53, 97, 54, 45, 98, 99, 99, 57, 45, 98, 55, 50, 50, 49, 101, 57, 55, 98, 99, 100, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 51, 97, 99, 102, 53, 100, 48, 45, 54, 51, 97, 52, 45, 52, 55, 48, 57, 45, 56, 51, 48, 52, 45, 50, 52, 102, 102, 56, 53, 101, 101, 49, 97, 102, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c01b310 } } } }
[2022-05-09T12:28:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x5617179f12c0
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7184840a-889e-4bdc-887f-2acaeffacbf8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:28:31.469141314Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;5313b9a9%2D9fc9%2D45a6%2Dbcc9%2Db7221e97bcd3/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;5adeb54b-76c5-4c0e-855f-f3556150abe8\&quot;,\&quot;application\&quot;:\&quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;,\&quot;senderuid\&quot;:\&quot;83acf5d0-63a4-4709-8304-24ff85ee1af7\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:28:31Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:28:31Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot; &quot;device1&quot;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot; &quot;gateway1&quot;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&#x27;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3&quot;
[2022-05-09T12:28:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5313b9a9-9fc9-45a6-bcc9-b7221e97bcd3 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:28:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:28:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:28:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:28:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMTgsImlhdCI6MTY1MjA5OTMxOCwianRpIjoiYTAxNDBhNjEtZGNhMS00ZmYzLTg3NTYtYzZhZDJlOWJkMmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imk3NlVBY1Z5d0ZxdlQ1NXp3UWdMZVEiLCJzZXNzaW9uX3N0YXRlIjoiZjZlZDcxNzUtODY0My00NmQ5LWIzN2MtZTk1YWM4ZDA5NTUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyJ9.1PGc-TGEsRmPOZwS-8hk3X5M3diTRAgeSbApvWYc7C8
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMTgsImlhdCI6MTY1MjA5OTMxOCwianRpIjoiYTAxNDBhNjEtZGNhMS00ZmYzLTg3NTYtYzZhZDJlOWJkMmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imk3NlVBY1Z5d0ZxdlQ1NXp3UWdMZVEiLCJzZXNzaW9uX3N0YXRlIjoiZjZlZDcxNzUtODY0My00NmQ5LWIzN2MtZTk1YWM4ZDA5NTUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyJ9.1PGc-TGEsRmPOZwS-8hk3X5M3diTRAgeSbApvWYc7C8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::resources::apps] Create application: d56dea0e-40d5-458a-81d1-09f1605282db
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d56dea0e-40d5-458a-81d1-09f1605282db created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;
[2022-05-09T12:28:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:38.968929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;d56dea0e-40d5-458a-81d1-09f1605282db\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7cd14854-ad4b-4e37-980a-17c97d53363e\&quot;,\n    \&quot;uid\&quot;: \&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984327473Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984349625Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984272070Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984273372Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984274234Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984275446Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984276368Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:38.984287289Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:38.968929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;), &quot;resourceVersion&quot;: String(&quot;7cd14854-ad4b-4e37-980a-17c97d53363e&quot;), &quot;uid&quot;: String(&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984327473Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984349625Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984272070Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984273372Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984274234Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984275446Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984276368Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:38.984287289Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:28:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:38.968929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d56dea0e-40d5-458a-81d1-09f1605282db\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4eb039f8-b2ca-4fb0-974a-fd7b01d85b0c\&quot;,\n    \&quot;uid\&quot;: \&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285449120Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285587280Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.018847103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.023976701Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.083990807Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.091550352Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285327653Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285414806Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mRM0Rc1HyFx0\&quot;,\n        \&quot;username\&quot;: \&quot;user-d56dea0e-40d5-458a-81d1-09f1605282db\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:38.968929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;), &quot;resourceVersion&quot;: String(&quot;4eb039f8-b2ca-4fb0-974a-fd7b01d85b0c&quot;), &quot;uid&quot;: String(&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285449120Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285587280Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.018847103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.023976701Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.083990807Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.091550352Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285327653Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285414806Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mRM0Rc1HyFx0&quot;), &quot;username&quot;: String(&quot;user-d56dea0e-40d5-458a-81d1-09f1605282db&quot;)})})})})
[2022-05-09T12:28:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:38.968929Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d56dea0e-40d5-458a-81d1-09f1605282db\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4eb039f8-b2ca-4fb0-974a-fd7b01d85b0c\&quot;,\n    \&quot;uid\&quot;: \&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285449120Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285587280Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.018847103Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.023976701Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.083990807Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.091550352Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285327653Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:39.285414806Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mRM0Rc1HyFx0\&quot;,\n        \&quot;username\&quot;: \&quot;user-d56dea0e-40d5-458a-81d1-09f1605282db\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:38.968929Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;), &quot;resourceVersion&quot;: String(&quot;4eb039f8-b2ca-4fb0-974a-fd7b01d85b0c&quot;), &quot;uid&quot;: String(&quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285449120Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285587280Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.018847103Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.023976701Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.083990807Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.091550352Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285327653Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:39.285414806Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mRM0Rc1HyFx0&quot;), &quot;username&quot;: String(&quot;user-d56dea0e-40d5-458a-81d1-09f1605282db&quot;)})})})})
[2022-05-09T12:28:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MTgsImlhdCI6MTY1MjA5OTMxOCwiYXV0aF90aW1lIjoxNjUyMDk5MzE1LCJqdGkiOiJmOGU0MmNiZi1hOWI2LTRjNjAtOWI0My0yNDQ4Yjk4NDlmNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpNzZVQWNWeXdGcXZUNTV6d1FnTGVRIiwic2Vzc2lvbl9zdGF0ZSI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.h7Cjr-wdxvuUe6Ado29ruGoLa2K4BOXAdDa24KLD7k2QGvdTi4pjq54OYMl5D4xpYtR7cA3Pt6iVNnS5DE66Z9sXLwOyTGtZsGQrfNY6vNhP4R3pc0WS1_5L50Gh43nFTrINQeL5sPx533i3SKhwm-610N8BbEZDew6Z7CPdpY0yfXkZmsDo7XCDsxYAGw8OghfgTpygY92J0wGUhEi1eBEUw30UCfBrsW6j2-7HgeuVjMhYRbQctoi2CnxG4IRvG8R5XiEXru07U3O5EOyX9zcgjgv9U8MesRnnt-Tr3d6Ki7LDQVBj5Hl7K1glpeDGMvn05s2LumjFRZgFEPcS0g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MTgsImlhdCI6MTY1MjA5OTMxOCwiYXV0aF90aW1lIjoxNjUyMDk5MzE1LCJqdGkiOiJmOGU0MmNiZi1hOWI2LTRjNjAtOWI0My0yNDQ4Yjk4NDlmNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpNzZVQWNWeXdGcXZUNTV6d1FnTGVRIiwic2Vzc2lvbl9zdGF0ZSI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.h7Cjr-wdxvuUe6Ado29ruGoLa2K4BOXAdDa24KLD7k2QGvdTi4pjq54OYMl5D4xpYtR7cA3Pt6iVNnS5DE66Z9sXLwOyTGtZsGQrfNY6vNhP4R3pc0WS1_5L50Gh43nFTrINQeL5sPx533i3SKhwm-610N8BbEZDew6Z7CPdpY0yfXkZmsDo7XCDsxYAGw8OghfgTpygY92J0wGUhEi1eBEUw30UCfBrsW6j2-7HgeuVjMhYRbQctoi2CnxG4IRvG8R5XiEXru07U3O5EOyX9zcgjgv9U8MesRnnt-Tr3d6Ki7LDQVBj5Hl7K1glpeDGMvn05s2LumjFRZgFEPcS0g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;f8df9e30-728c-4440-a691-6f9864e5bde4&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171798c4c0
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171798c4c0
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x56171798aaa0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b67130, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171798c770, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MTgsImlhdCI6MTY1MjA5OTMxOCwiYXV0aF90aW1lIjoxNjUyMDk5MzE1LCJqdGkiOiJmOGU0MmNiZi1hOWI2LTRjNjAtOWI0My0yNDQ4Yjk4NDlmNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpNzZVQWNWeXdGcXZUNTV6d1FnTGVRIiwic2Vzc2lvbl9zdGF0ZSI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2ZWQ3MTc1LTg2NDMtNDZkOS1iMzdjLWU5NWFjOGQwOTU1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.h7Cjr-wdxvuUe6Ado29ruGoLa2K4BOXAdDa24KLD7k2QGvdTi4pjq54OYMl5D4xpYtR7cA3Pt6iVNnS5DE66Z9sXLwOyTGtZsGQrfNY6vNhP4R3pc0WS1_5L50Gh43nFTrINQeL5sPx533i3SKhwm-610N8BbEZDew6Z7CPdpY0yfXkZmsDo7XCDsxYAGw8OghfgTpygY92J0wGUhEi1eBEUw30UCfBrsW6j2-7HgeuVjMhYRbQctoi2CnxG4IRvG8R5XiEXru07U3O5EOyX9zcgjgv9U8MesRnnt-Tr3d6Ki7LDQVBj5Hl7K1glpeDGMvn05s2LumjFRZgFEPcS0g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:40Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;&#x27; @ QOS 0
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b18015ce0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b18015f80 } }, data: MessageData { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f4b18015f80 } } } }
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171788b350, 0x561717cbc330
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717cbc330, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717cbc330, 0x7f4b300083a0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300083a0, 0x561717c77b50
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300083a0, 0x7f4b30004d20
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004d20, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004d20, 0x7f4b30004ab0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x561717cbdf20
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x7f4b300087c0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300087c0, 0x7f4b30004ab0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ab0, 0x561717cf9ae0
[2022-05-09T12:28:43Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30004ab0
[2022-05-09T12:28:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:28:43.919676778+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/device1&quot;, &quot;id&quot;: &quot;b3d10b88-bdc4-49d7-96ac-0fc82b466e32&quot;, &quot;deviceuid&quot;: &quot;2679c048-51af-4173-bdbc-e4469208dcf8&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;senderuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;, &quot;applicationuid&quot;: &quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:28:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:28:44Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:28:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:28:44Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:28:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c6ecf7aa-9dca-4e9b-8b3e-09befca10360&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a9e730
[2022-05-09T12:28:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a9e730
[2022-05-09T12:28:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717d00ae0, password: 0x5617179a1d30, connectTimeout: 30, retryInterval: 0, ssl: 0x561717cbe720, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d00c70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@d56dea0e-40d5-458a-81d1-09f1605282db&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1800b3f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800b670 } }, data: MessageData { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800b670 } } } }
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b58cc0, 0x561717b57a30
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b57a30, 0x561717be8e80
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b57a30, 0x7f4b28003960
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x561717b56610
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b280063f0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x561717be8e80
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x7f4b280057c0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x7f4b280056e0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x7f4b28003ab0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ab0, 0x5617179e4b60
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ab0, 0x7f4b280056e0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ab0, 0x7f4b280056e0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ab0, 0x7f4b280056e0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ab0, 0x7f4b280056e0
[2022-05-09T12:28:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003ab0
[2022-05-09T12:28:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/gateway1&quot;, &quot;senderuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;, &quot;applicationuid&quot;: &quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;, &quot;application&quot;: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;, &quot;source&quot;: &quot;drogue://d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;, &quot;time&quot;: &quot;2022-05-09T12:28:45.036146269+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;id&quot;: &quot;9f9c6d4b-be06-4c42-9381-d0258f01577b&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:28:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179ae710 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617179ae710 } } } }
[2022-05-09T12:28:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b18009a30 } }, data: MessageData { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f4b18009a30 } } } }
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300087e0, 0x7f4b300083a0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300083a0, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300083a0, 0x7f4b30004ad0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ad0, 0x7f4b180163f0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ad0, 0x7f4b30004280
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004280, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004280, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004280, 0x7f4b1801aed0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004280, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004280, 0x7f4b300041d0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300041d0, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300041d0, 0x7f4b30004060
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004060, 0x7f4b18015f00
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004060, 0x7f4b30004350
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30008800
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;id&quot;: &quot;b1cf7bd0-290f-4899-a8a2-e0fd023966dd&quot;, &quot;time&quot;: &quot;2022-05-09T12:28:45.574575492+00:00&quot;, &quot;partitionkey&quot;: &quot;d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;, &quot;application&quot;: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;2679c048-51af-4173-bdbc-e4469208dcf8&quot;, &quot;source&quot;: &quot;drogue://d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/device1&quot;, &quot;applicationuid&quot;: &quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;}, payload: &quot;&quot; }
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1802c950, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800a660 } }, data: MessageData { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f4b1800a660 } } } }
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717b57a30, 0x7f4b280049e0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280049e0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280049e0, 0x7f4b280063f0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x7f4b1802f460
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280063f0, 0x7f4b28006bf0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b28005030
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005030, 0x7f4b28006bf0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b1802fe80
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28006bf0, 0x7f4b280068c0
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280068c0, 0x7f4b1800ba30
[2022-05-09T12:28:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b280068c0
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d56dea0e-40d5-458a-81d1-09f1605282db&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;d56dea0e%2D40d5%2D458a%2D81d1%2D09f1605282db/gateway1&quot;, &quot;id&quot;: &quot;b1726713-97f9-4a8d-b15a-1ee09c17f009&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;time&quot;: &quot;2022-05-09T12:28:46.474391919+00:00&quot;, &quot;application&quot;: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;, &quot;senderuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;, &quot;applicationuid&quot;: &quot;84aaaac7-af26-41ac-9432-4ffc15ea7201&quot;, &quot;deviceuid&quot;: &quot;f39ee6ee-56f5-4941-886a-73ac8f771914&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:28:46Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:28:46Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;, device: &quot;device1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot; &quot;device1&quot;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot; &quot;gateway1&quot;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d56dea0e-40d5-458a-81d1-09f1605282db&#x27;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d56dea0e-40d5-458a-81d1-09f1605282db&quot;
[2022-05-09T12:28:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d56dea0e-40d5-458a-81d1-09f1605282db deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:28:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:28:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:28:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:28:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:28:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMzMsImlhdCI6MTY1MjA5OTMzMywianRpIjoiMWU4YmYyZDgtYzI2My00MTJhLThiZDMtZDQ0NDY2ZTVjMWI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJWTEl1OHJQUmZEeFFBQzM0R1NMRmciLCJzZXNzaW9uX3N0YXRlIjoiYjA2YWZkMGMtMjdhOC00YjhlLWI0ZjQtYWNmMzkwZjFhYTNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCJ9.M-5PjOjzTPmGe_OoLbglmB2cIgaIw5jv-IX1e2t8kUQ
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExMzMsImlhdCI6MTY1MjA5OTMzMywianRpIjoiMWU4YmYyZDgtYzI2My00MTJhLThiZDMtZDQ0NDY2ZTVjMWI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJWTEl1OHJQUmZEeFFBQzM0R1NMRmciLCJzZXNzaW9uX3N0YXRlIjoiYjA2YWZkMGMtMjdhOC00YjhlLWI0ZjQtYWNmMzkwZjFhYTNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCJ9.M-5PjOjzTPmGe_OoLbglmB2cIgaIw5jv-IX1e2t8kUQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 161e7d54-8684-48c8-b93b-000010fb996f
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 161e7d54-8684-48c8-b93b-000010fb996f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;
[2022-05-09T12:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:53.872405Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;161e7d54-8684-48c8-b93b-000010fb996f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c0e75d80-5059-4f17-930c-f579eab4dc43\&quot;,\n    \&quot;uid\&quot;: \&quot;885cc18c-0af1-4581-b978-6495ad5753fc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895097388Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895287254Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895029731Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895031214Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895031865Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895032657Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895033869Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.895072932Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:53.872405Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;), &quot;resourceVersion&quot;: String(&quot;c0e75d80-5059-4f17-930c-f579eab4dc43&quot;), &quot;uid&quot;: String(&quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895097388Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895287254Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895029731Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895031214Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895031865Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895032657Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895033869Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.895072932Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:53.872405Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;161e7d54-8684-48c8-b93b-000010fb996f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e4cc6f52-376a-4247-bd2f-2a54bfc48ea7\&quot;,\n    \&quot;uid\&quot;: \&quot;885cc18c-0af1-4581-b978-6495ad5753fc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513887339Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513949256Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.920299205Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.925932208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.004814884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.016337922Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513747407Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513856261Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NTk4Mej0448s\&quot;,\n        \&quot;username\&quot;: \&quot;user-161e7d54-8684-48c8-b93b-000010fb996f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:53.872405Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;), &quot;resourceVersion&quot;: String(&quot;e4cc6f52-376a-4247-bd2f-2a54bfc48ea7&quot;), &quot;uid&quot;: String(&quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513887339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513949256Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.920299205Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.925932208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.004814884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.016337922Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513747407Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513856261Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NTk4Mej0448s&quot;), &quot;username&quot;: String(&quot;user-161e7d54-8684-48c8-b93b-000010fb996f&quot;)})})})})
[2022-05-09T12:28:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:28:53.872405Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;161e7d54-8684-48c8-b93b-000010fb996f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e4cc6f52-376a-4247-bd2f-2a54bfc48ea7\&quot;,\n    \&quot;uid\&quot;: \&quot;885cc18c-0af1-4581-b978-6495ad5753fc\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513887339Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513949256Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.920299205Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:53.925932208Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.004814884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.016337922Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513747407Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:28:54.513856261Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NTk4Mej0448s\&quot;,\n        \&quot;username\&quot;: \&quot;user-161e7d54-8684-48c8-b93b-000010fb996f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:28:53.872405Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;), &quot;resourceVersion&quot;: String(&quot;e4cc6f52-376a-4247-bd2f-2a54bfc48ea7&quot;), &quot;uid&quot;: String(&quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513887339Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513949256Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.920299205Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:53.925932208Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.004814884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.016337922Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513747407Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:28:54.513856261Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NTk4Mej0448s&quot;), &quot;username&quot;: String(&quot;user-161e7d54-8684-48c8-b93b-000010fb996f&quot;)})})})})
[2022-05-09T12:28:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MzMsImlhdCI6MTY1MjA5OTMzMywiYXV0aF90aW1lIjoxNjUyMDk5MzMwLCJqdGkiOiI0ZjE5YTk3OS1jMGFiLTQ0MzAtYjkxMy00NmQ0NDUyNzkzZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiVkxJdThyUFJmRHhRQUMzNEdTTEZnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ylhj3MPXCDpt99ps0n5JnESrpgo_z3ai9qS-QD2K1grH6tyBT7vMeAkHnedjO4p5a6SL_LqtOoAnXx5GdScTCRLhn4QSZYWyq8O--3L5Knvik-Sq7VeWrEP4Yzs6VNFQ-ARvjCShDBGgcV3lzVqrYN266-VsmeGgBvJ3ZAWZZPfg7DoG5XDvnlpn4AxQKichDqrhw5VlcHCucYaEubTJruZwhXAKjIS5T1IUAN-OzBLJT1p19RNMxdQV6jBOOQacOfDqkExXQn51zN_WMRM3IQBe8-EdU_GK4ykR-1ZfBRi6tKrFZ0H56d0wa3L3RUwx3Eu2YLT12ThRdbNHXEu_Bg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:28:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MzMsImlhdCI6MTY1MjA5OTMzMywiYXV0aF90aW1lIjoxNjUyMDk5MzMwLCJqdGkiOiI0ZjE5YTk3OS1jMGFiLTQ0MzAtYjkxMy00NmQ0NDUyNzkzZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiVkxJdThyUFJmRHhRQUMzNEdTTEZnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ylhj3MPXCDpt99ps0n5JnESrpgo_z3ai9qS-QD2K1grH6tyBT7vMeAkHnedjO4p5a6SL_LqtOoAnXx5GdScTCRLhn4QSZYWyq8O--3L5Knvik-Sq7VeWrEP4Yzs6VNFQ-ARvjCShDBGgcV3lzVqrYN266-VsmeGgBvJ3ZAWZZPfg7DoG5XDvnlpn4AxQKichDqrhw5VlcHCucYaEubTJruZwhXAKjIS5T1IUAN-OzBLJT1p19RNMxdQV6jBOOQacOfDqkExXQn51zN_WMRM3IQBe8-EdU_GK4ykR-1ZfBRi6tKrFZ0H56d0wa3L3RUwx3Eu2YLT12ThRdbNHXEu_Bg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;83feacdc-f917-46cc-9842-410d02b71f35&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c9f6b0
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c9f6b0
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717a1d820, connectTimeout: 30, retryInterval: 0, ssl: 0x561717c9faa0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c9ea10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2MzMsImlhdCI6MTY1MjA5OTMzMywiYXV0aF90aW1lIjoxNjUyMDk5MzMwLCJqdGkiOiI0ZjE5YTk3OS1jMGFiLTQ0MzAtYjkxMy00NmQ0NDUyNzkzZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiVkxJdThyUFJmRHhRQUMzNEdTTEZnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmFmZDBjLTI3YTgtNGI4ZS1iNGY0LWFjZjM5MGYxYWEzZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ylhj3MPXCDpt99ps0n5JnESrpgo_z3ai9qS-QD2K1grH6tyBT7vMeAkHnedjO4p5a6SL_LqtOoAnXx5GdScTCRLhn4QSZYWyq8O--3L5Knvik-Sq7VeWrEP4Yzs6VNFQ-ARvjCShDBGgcV3lzVqrYN266-VsmeGgBvJ3ZAWZZPfg7DoG5XDvnlpn4AxQKichDqrhw5VlcHCucYaEubTJruZwhXAKjIS5T1IUAN-OzBLJT1p19RNMxdQV6jBOOQacOfDqkExXQn51zN_WMRM3IQBe8-EdU_GK4ykR-1ZfBRi6tKrFZ0H56d0wa3L3RUwx3Eu2YLT12ThRdbNHXEu_Bg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:28:55Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;&#x27; @ QOS 0
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:28:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T12:28:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:28:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T12:28:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1802f040, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717899bf0 } }, data: MessageData { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x561717899bf0 } } } }
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178984f0, 0x7f4b28003ed0
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x5617178984b0
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178984b0, 0x561717d51c80
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178984b0, 0x7f4b28003960
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x561717ca3ce0
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b28003040
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b28005990
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b28003120
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003120, 0x7f4b28003040
[2022-05-09T12:28:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003040
[2022-05-09T12:28:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;senderuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;time&quot;: &quot;2022-05-09T12:28:58.923952352+00:00&quot;, &quot;deviceuid&quot;: &quot;21e6e213-76a0-44e2-9279-9d91896aa404&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;8252affb-9c5e-4c28-89e2-4de8914a530a&quot;, &quot;partitionkey&quot;: &quot;161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;application&quot;: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, &quot;applicationuid&quot;: &quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;, &quot;source&quot;: &quot;drogue://161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/device1&quot;, &quot;device&quot;: &quot;device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:28:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:28:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:28:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:28:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T12:28:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c639a86a-d73a-4a85-9968-33959c0b7cc9&quot;, persistence: None, user_data: None }
[2022-05-09T12:28:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:28:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171787f900
[2022-05-09T12:28:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171787f900
[2022-05-09T12:28:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b58cd0, password: 0x5617179e2f10, connectTimeout: 30, retryInterval: 0, ssl: 0x561717be8e00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b58a40, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@161e7d54-8684-48c8-b93b-000010fb996f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:29:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1800f380, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c81170 } }, data: MessageData { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x561717c81170 } } } }
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002ca0, 0x5617178984b0
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178984b0, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617178984b0, 0x7f4b280075f0
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280075f0, 0x7f4b1802f420
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280075f0, 0x7f4b28003040
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b28003960
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b28003160
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b28003960
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b18016920
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003960, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003960
[2022-05-09T12:29:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/gateway1&quot;, &quot;source&quot;: &quot;drogue://161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:29:00.042381849+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;id&quot;: &quot;d8e3dcd3-0e58-4353-bc3a-b89b12b38209&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;, &quot;deviceuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;application&quot;: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:29:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a45050 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a45050 } } } }
[2022-05-09T12:29:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:29:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b18007a30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179f1800 } }, data: MessageData { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x5617179f1800 } } } }
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1802f040, 0x7f4b1802f060
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1802f060, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1802f060, 0x7f4b28003180
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003180, 0x7f4b180319a0
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003180, 0x7f4b28004d60
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004d60, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004d60, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004d60, 0x7f4b28003160
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b28004d60
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b18031cc0
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b28003040
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003040, 0x7f4b1802f320
[2022-05-09T12:29:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003040
[2022-05-09T12:29:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;deviceuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/gateway1&quot;, &quot;application&quot;: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;id&quot;: &quot;4e9befcd-545c-4248-93ba-f9d3ff17c5d5&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;source&quot;: &quot;drogue://161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T12:29:00.582019368+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cea600 } }, data: MessageData { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x561717cea600 } } } }
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003160, 0x7f4b28002c80
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002c80, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002c80, 0x7f4b28002ca0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002ca0, 0x7f4b18004fd0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002ca0, 0x7f4b280075f0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280075f0, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280075f0, 0x7f4b28003ed0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b28004b40
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28004b40, 0x7f4b28003ed0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b1801d1f0
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28003ed0, 0x7f4b18017a90
[2022-05-09T12:29:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28003260
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/161e7d54-8684-48c8-b93b-000010fb996f&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;id&quot;: &quot;7f212647-3d2a-429a-bd7f-02248186332a&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:29:00.581101177+00:00&quot;, &quot;application&quot;: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, &quot;applicationuid&quot;: &quot;885cc18c-0af1-4581-b978-6495ad5753fc&quot;, &quot;senderuid&quot;: &quot;aeaa43af-32d3-4509-afe3-9536232eeaa7&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;161e7d54%2D8684%2D48c8%2Db93b%2D000010fb996f/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;21e6e213-76a0-44e2-9279-9d91896aa404&quot;}, payload: &quot;&quot; }
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:29:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:29:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot; &quot;device1&quot;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot; &quot;gateway1&quot;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;161e7d54-8684-48c8-b93b-000010fb996f&#x27;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;161e7d54-8684-48c8-b93b-000010fb996f&quot;
[2022-05-09T12:29:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 161e7d54-8684-48c8-b93b-000010fb996f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:29:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:29:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:29:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:29:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:29:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:29:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:29:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:29:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:29:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:29:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:29:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExNjIsImlhdCI6MTY1MjA5OTM2MiwianRpIjoiYzA5ZjcyOGQtOTJjZC00YTk1LWEwYjAtMjVmZGYzMTllZmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhLZFJud1RCY0xDN3FMUTNFZ2dsREEiLCJzZXNzaW9uX3N0YXRlIjoiNWUxNDE5OGYtYzJhZS00ODI3LWEzNGYtOTVhMmYyNjlhYWYwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCJ9.qRbHbd6_fpG7viHJGFUbFWCgmqaXeb8WBB52LgRQaxw
[2022-05-09T12:29:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:29:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDExNjIsImlhdCI6MTY1MjA5OTM2MiwianRpIjoiYzA5ZjcyOGQtOTJjZC00YTk1LWEwYjAtMjVmZGYzMTllZmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhLZFJud1RCY0xDN3FMUTNFZ2dsREEiLCJzZXNzaW9uX3N0YXRlIjoiNWUxNDE5OGYtYzJhZS00ODI3LWEzNGYtOTVhMmYyNjlhYWYwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCJ9.qRbHbd6_fpG7viHJGFUbFWCgmqaXeb8WBB52LgRQaxw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:29:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 70a0c575-e886-4d26-ba1b-3b0820911aef
[2022-05-09T12:29:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;
[2022-05-09T12:29:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 70a0c575-e886-4d26-ba1b-3b0820911aef created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;
[2022-05-09T12:29:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:29:23.277836Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;96a94d9a-ce9c-49b9-9f5a-9cb611c77209\&quot;,\n    \&quot;uid\&quot;: \&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.292514294Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:29:23.277836Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;), &quot;resourceVersion&quot;: String(&quot;96a94d9a-ce9c-49b9-9f5a-9cb611c77209&quot;), &quot;uid&quot;: String(&quot;530ec90c-c398-4a3e-817f-bcc45563221c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.292514294Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:29:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:29:23.277836Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;196aa2f1-1ed8-4b1a-bef4-05fbbb8b75d8\&quot;,\n    \&quot;uid\&quot;: \&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627278996Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627181574Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.329272380Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.336897719Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.393799168Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.399550452Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627131319Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627153361Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;emWGf6NGdJjB\&quot;,\n        \&quot;username\&quot;: \&quot;user-70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:29:23.277836Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;), &quot;resourceVersion&quot;: String(&quot;196aa2f1-1ed8-4b1a-bef4-05fbbb8b75d8&quot;), &quot;uid&quot;: String(&quot;530ec90c-c398-4a3e-817f-bcc45563221c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627278996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627181574Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.329272380Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.336897719Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.393799168Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.399550452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627131319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627153361Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;emWGf6NGdJjB&quot;), &quot;username&quot;: String(&quot;user-70a0c575-e886-4d26-ba1b-3b0820911aef&quot;)})})})})
[2022-05-09T12:29:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:29:23.277836Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;196aa2f1-1ed8-4b1a-bef4-05fbbb8b75d8\&quot;,\n    \&quot;uid\&quot;: \&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627278996Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627181574Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.329272380Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.336897719Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.393799168Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.399550452Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627131319Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:29:23.627153361Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;emWGf6NGdJjB\&quot;,\n        \&quot;username\&quot;: \&quot;user-70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:29:23.277836Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;), &quot;resourceVersion&quot;: String(&quot;196aa2f1-1ed8-4b1a-bef4-05fbbb8b75d8&quot;), &quot;uid&quot;: String(&quot;530ec90c-c398-4a3e-817f-bcc45563221c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627278996Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627181574Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.329272380Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.336897719Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.393799168Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.399550452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627131319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:29:23.627153361Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;emWGf6NGdJjB&quot;), &quot;username&quot;: String(&quot;user-70a0c575-e886-4d26-ba1b-3b0820911aef&quot;)})})})})
[2022-05-09T12:29:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:29:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2NjIsImlhdCI6MTY1MjA5OTM2MiwiYXV0aF90aW1lIjoxNjUyMDk5MzU5LCJqdGkiOiJlNDViM2E3Yi02NTI0LTQyZGItODI0MC0xMGE2MmZlN2I0YzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4S2RSbndUQmNMQzdxTFEzRWdnbERBIiwic2Vzc2lvbl9zdGF0ZSI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VQXrWort8vz65rNfJkCHwvM0tLp6FBbO9vBsNG5WsDRTwLgtuU1tboVY3_zQYttsDDTrmQnQHdLPuti-bwNogz4b1bCkQdHuUkKMRyduSCk6czSDIsHoDNU89fP4kfIsnaZ9Y8fIixuJejz8JNtVDQ7EEsPUEgtLisTQ45AKXz2d56JwK72BBiqm81QXuDLKrbm_7Ov8qO-KdaKbV1wmyJGwOzZN-jetC5lUNX0ZXeByHLyDaDwUxYj23fdcUCLfd_HnnKbXSGlw58jIC4ma5RFIfQD75QMCGlzff6bsywDq_KAmfVP7K9V1gOcziseL0lv0xcpGd1qFZVppUd1l5Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:29:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2NjIsImlhdCI6MTY1MjA5OTM2MiwiYXV0aF90aW1lIjoxNjUyMDk5MzU5LCJqdGkiOiJlNDViM2E3Yi02NTI0LTQyZGItODI0MC0xMGE2MmZlN2I0YzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4S2RSbndUQmNMQzdxTFEzRWdnbERBIiwic2Vzc2lvbl9zdGF0ZSI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VQXrWort8vz65rNfJkCHwvM0tLp6FBbO9vBsNG5WsDRTwLgtuU1tboVY3_zQYttsDDTrmQnQHdLPuti-bwNogz4b1bCkQdHuUkKMRyduSCk6czSDIsHoDNU89fP4kfIsnaZ9Y8fIixuJejz8JNtVDQ7EEsPUEgtLisTQ45AKXz2d56JwK72BBiqm81QXuDLKrbm_7Ov8qO-KdaKbV1wmyJGwOzZN-jetC5lUNX0ZXeByHLyDaDwUxYj23fdcUCLfd_HnnKbXSGlw58jIC4ma5RFIfQD75QMCGlzff6bsywDq_KAmfVP7K9V1gOcziseL0lv0xcpGd1qFZVppUd1l5Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;e406359b-f31e-417c-b803-1871be0a3a37&quot;, persistence: None, user_data: None }
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717d50080
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717d50080
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717955a80, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b8eaf0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c34110, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk2NjIsImlhdCI6MTY1MjA5OTM2MiwiYXV0aF90aW1lIjoxNjUyMDk5MzU5LCJqdGkiOiJlNDViM2E3Yi02NTI0LTQyZGItODI0MC0xMGE2MmZlN2I0YzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4S2RSbndUQmNMQzdxTFEzRWdnbERBIiwic2Vzc2lvbl9zdGF0ZSI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlMTQxOThmLWMyYWUtNDgyNy1hMzRmLTk1YTJmMjY5YWFmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VQXrWort8vz65rNfJkCHwvM0tLp6FBbO9vBsNG5WsDRTwLgtuU1tboVY3_zQYttsDDTrmQnQHdLPuti-bwNogz4b1bCkQdHuUkKMRyduSCk6czSDIsHoDNU89fP4kfIsnaZ9Y8fIixuJejz8JNtVDQ7EEsPUEgtLisTQ45AKXz2d56JwK72BBiqm81QXuDLKrbm_7Ov8qO-KdaKbV1wmyJGwOzZN-jetC5lUNX0ZXeByHLyDaDwUxYj23fdcUCLfd_HnnKbXSGlw58jIC4ma5RFIfQD75QMCGlzff6bsywDq_KAmfVP7K9V1gOcziseL0lv0xcpGd1qFZVppUd1l5Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:29:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;&#x27; @ QOS 0
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:29:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:29:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:29:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:29:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:29:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:29:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:29:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:29:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:29:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:29:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:29:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:29:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:29:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:29:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:29:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:29:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b1c015ef0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 98, 57, 55, 99, 55, 57, 56, 45, 49, 53, 100, 102, 45, 52, 101, 98, 53, 45, 97, 48, 98, 98, 45, 49, 97, 102, 57, 98, 55, 52, 55, 57, 57, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 57, 58, 50, 55, 46, 57, 51, 53, 49, 53, 52, 49, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 51, 48, 101, 99, 57, 48, 99, 45, 99, 51, 57, 56, 45, 52, 97, 51, 101, 45, 56, 49, 55, 102, 45, 98, 99, 99, 52, 53, 53, 54, 51, 50, 50, 49, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 45, 101, 56, 56, 54, 45, 52, 100, 50, 54, 45, 98, 97, 49, 98, 45, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:29:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6b97c798-15df-4eb5-a0bb-1af9b7479952\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:29:27.935154122Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;partitionkey\&quot;:\&quot;70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\&quot;senderuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:29:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:29:28Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:29:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:29:28Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:29:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;5c05cbc1-9c79-4211-9f41-cce51bf9e60e&quot;, persistence: None, user_data: None }
[2022-05-09T12:29:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:29:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ae9490
[2022-05-09T12:29:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ae9490
[2022-05-09T12:29:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717becd40, password: 0x561717ca5910, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ce4690, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c1e780, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@70a0c575-e886-4d26-ba1b-3b0820911aef&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:29:29Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717869df0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717869df0 } } } }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b1c00cb50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 101, 53, 54, 56, 57, 57, 102, 45, 97, 53, 56, 100, 45, 52, 57, 52, 57, 45, 57, 51, 101, 48, 45, 49, 53, 53, 48, 53, 49, 52, 54, 100, 56, 50, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 57, 58, 50, 57, 46, 49, 53, 52, 53, 56, 56, 52, 52, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 51, 48, 101, 99, 57, 48, 99, 45, 99, 51, 57, 56, 45, 52, 97, 51, 101, 45, 56, 49, 55, 102, 45, 98, 99, 99, 52, 53, 53, 54, 51, 50, 50, 49, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 45, 101, 56, 56, 54, 45, 52, 100, 50, 54, 45, 98, 97, 49, 98, 45, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8e56899f-a58d-4949-93e0-15505146d82b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:29:29.154588449Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;,\&quot;senderuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;partitionkey\&quot;:\&quot;70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\&quot;deviceuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b1c00a940, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 51, 51, 52, 53, 101, 98, 51, 45, 49, 100, 98, 49, 45, 52, 51, 102, 100, 45, 98, 53, 100, 99, 45, 100, 55, 50, 50, 102, 56, 56, 100, 55, 100, 57, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 57, 58, 50, 57, 46, 54, 49, 56, 54, 49, 49, 55, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 51, 48, 101, 99, 57, 48, 99, 45, 99, 51, 57, 56, 45, 52, 97, 51, 101, 45, 56, 49, 55, 102, 45, 98, 99, 99, 52, 53, 53, 54, 51, 50, 50, 49, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 45, 101, 56, 56, 54, 45, 52, 100, 50, 54, 45, 98, 97, 49, 98, 45, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c3345eb3-1db1-43fd-b5dc-d722f88d7d91\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:29:29.618611791Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;,\&quot;deviceuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;application\&quot;:\&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;,\&quot;senderuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b1c00ae80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 51, 50, 48, 49, 52, 98, 51, 45, 56, 98, 100, 98, 45, 52, 56, 56, 99, 45, 97, 55, 49, 51, 45, 100, 48, 50, 102, 57, 54, 54, 98, 97, 56, 98, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 50, 57, 58, 50, 57, 46, 54, 49, 52, 55, 52, 57, 53, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 51, 48, 101, 99, 57, 48, 99, 45, 99, 51, 57, 56, 45, 52, 97, 51, 101, 45, 56, 49, 55, 102, 45, 98, 99, 99, 52, 53, 53, 54, 51, 50, 50, 49, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 37, 50, 68, 101, 56, 56, 54, 37, 50, 68, 52, 100, 50, 54, 37, 50, 68, 98, 97, 49, 98, 37, 50, 68, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 100, 55, 52, 101, 48, 53, 57, 45, 48, 49, 54, 52, 45, 52, 57, 49, 101, 45, 57, 97, 101, 48, 45, 99, 52, 54, 50, 101, 56, 102, 55, 56, 56, 53, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 48, 97, 48, 99, 53, 55, 53, 45, 101, 56, 56, 54, 45, 52, 100, 50, 54, 45, 98, 97, 49, 98, 45, 51, 98, 48, 56, 50, 48, 57, 49, 49, 97, 101, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a32014b3-8bdb-488c-a713-d02f966ba8b7\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:29:29.614749579Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;applicationuid\&quot;:\&quot;530ec90c-c398-4a3e-817f-bcc45563221c\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;70a0c575%2De886%2D4d26%2Dba1b%2D3b0820911aef/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;dd74e059-0164-491e-9ae0-c462e8f78859\&quot;,\&quot;application\&quot;:\&quot;70a0c575-e886-4d26-ba1b-3b0820911aef\&quot;}&quot; }
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:29:29Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:29:29Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:29:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot; &quot;device1&quot;
[2022-05-09T12:29:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:29:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;70a0c575-e886-4d26-ba1b-3b0820911aef&#x27;
[2022-05-09T12:29:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;70a0c575-e886-4d26-ba1b-3b0820911aef&quot;
[2022-05-09T12:29:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 70a0c575-e886-4d26-ba1b-3b0820911aef deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:30:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:30:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:30:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:30:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:30:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:30:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:30:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:30:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:30:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:30:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:30:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEyMTgsImlhdCI6MTY1MjA5OTQxOCwianRpIjoiYWE4ODYwMmQtNmNmOC00OTg5LWIwM2YtNTRkMTZiYWRjZWI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9CZWR6V0Q0RHhpUVNldVRZRWY1M3ciLCJzZXNzaW9uX3N0YXRlIjoiMGMwM2Y2MzItOWI5Ny00NWM3LWE1OGEtNzNiODdmNDY0YTY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSJ9.1BxlFGNVzRWlqmJcSl4BzCoLOK_9BSYoPqcduDkTO7A
[2022-05-09T12:30:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:30:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEyMTgsImlhdCI6MTY1MjA5OTQxOCwianRpIjoiYWE4ODYwMmQtNmNmOC00OTg5LWIwM2YtNTRkMTZiYWRjZWI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9CZWR6V0Q0RHhpUVNldVRZRWY1M3ciLCJzZXNzaW9uX3N0YXRlIjoiMGMwM2Y2MzItOWI5Ny00NWM3LWE1OGEtNzNiODdmNDY0YTY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSJ9.1BxlFGNVzRWlqmJcSl4BzCoLOK_9BSYoPqcduDkTO7A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:30:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 64326bb8-e93f-47ff-9af7-64001866d3c1
[2022-05-09T12:30:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;
[2022-05-09T12:30:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 64326bb8-e93f-47ff-9af7-64001866d3c1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;
[2022-05-09T12:30:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:30:19.606537Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;64326bb8-e93f-47ff-9af7-64001866d3c1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;54eb7bbf-589f-4d90-9dfd-786f1f31d21b\&quot;,\n    \&quot;uid\&quot;: \&quot;d5e729fd-e654-4337-bcba-7796a36ba68a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626145301Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626117759Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626083756Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626084668Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626085138Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626086020Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626086581Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.626092171Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:30:19.606537Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;), &quot;resourceVersion&quot;: String(&quot;54eb7bbf-589f-4d90-9dfd-786f1f31d21b&quot;), &quot;uid&quot;: String(&quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626145301Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626117759Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626083756Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626084668Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626085138Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626086020Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626086581Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.626092171Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:30:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:30:19.606537Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;64326bb8-e93f-47ff-9af7-64001866d3c1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8490fc41-6dd0-434e-93b8-2c1588ff3799\&quot;,\n    \&quot;uid\&quot;: \&quot;d5e729fd-e654-4337-bcba-7796a36ba68a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993154177Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993082271Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.662849055Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.667856345Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.750713184Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.760465240Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993038709Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993055471Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zGzFwQ4tYjXT\&quot;,\n        \&quot;username\&quot;: \&quot;user-64326bb8-e93f-47ff-9af7-64001866d3c1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:30:19.606537Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;), &quot;resourceVersion&quot;: String(&quot;8490fc41-6dd0-434e-93b8-2c1588ff3799&quot;), &quot;uid&quot;: String(&quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993154177Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993082271Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.662849055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.667856345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.750713184Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.760465240Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993038709Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993055471Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zGzFwQ4tYjXT&quot;), &quot;username&quot;: String(&quot;user-64326bb8-e93f-47ff-9af7-64001866d3c1&quot;)})})})})
[2022-05-09T12:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:30:19.606537Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;64326bb8-e93f-47ff-9af7-64001866d3c1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8490fc41-6dd0-434e-93b8-2c1588ff3799\&quot;,\n    \&quot;uid\&quot;: \&quot;d5e729fd-e654-4337-bcba-7796a36ba68a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993154177Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993082271Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.662849055Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.667856345Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.750713184Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.760465240Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993038709Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:30:19.993055471Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zGzFwQ4tYjXT\&quot;,\n        \&quot;username\&quot;: \&quot;user-64326bb8-e93f-47ff-9af7-64001866d3c1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:30:19.606537Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;), &quot;resourceVersion&quot;: String(&quot;8490fc41-6dd0-434e-93b8-2c1588ff3799&quot;), &quot;uid&quot;: String(&quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993154177Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993082271Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.662849055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.667856345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.750713184Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.760465240Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993038709Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:30:19.993055471Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zGzFwQ4tYjXT&quot;), &quot;username&quot;: String(&quot;user-64326bb8-e93f-47ff-9af7-64001866d3c1&quot;)})})})})
[2022-05-09T12:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3MTgsImlhdCI6MTY1MjA5OTQxOCwiYXV0aF90aW1lIjoxNjUyMDk5NDE1LCJqdGkiOiJmZTBlMGQ4Zi05MjIzLTQxOGQtOGZkMi1kYjE0ZTJiY2QxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPQmVkeldENER4aVFTZXVUWUVmNTN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HtP-aPNVFiDPRCediHRqVpyUSS17j-ZD3HIDf1k8XD3PW7a9FFghoU7mM9kryft1CvX1LRzdme7hFeCwZTgp2zxO2ypYiSpdLs2BOYHNSqe_HPb5JFtrMRjHnphorkEApFCb6gB4bJDABMbvjTuh3x2Epwoi20jze7568OXwaRSUBHAnw7URlJN5VyEDomdLxKBbD_8_BvvUtM7Gc4PSIMxERqHuSvcPvxJFAJl5C3a41NripTZHQUv3U2bsWAiyq8vl09smSVjMB6K02cahARdlWja8iANUGtVMPO947ysUKVUDh8icognpdXGcwIAS29QrgmgF0-xPFu8kbeHejg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:30:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3MTgsImlhdCI6MTY1MjA5OTQxOCwiYXV0aF90aW1lIjoxNjUyMDk5NDE1LCJqdGkiOiJmZTBlMGQ4Zi05MjIzLTQxOGQtOGZkMi1kYjE0ZTJiY2QxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPQmVkeldENER4aVFTZXVUWUVmNTN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HtP-aPNVFiDPRCediHRqVpyUSS17j-ZD3HIDf1k8XD3PW7a9FFghoU7mM9kryft1CvX1LRzdme7hFeCwZTgp2zxO2ypYiSpdLs2BOYHNSqe_HPb5JFtrMRjHnphorkEApFCb6gB4bJDABMbvjTuh3x2Epwoi20jze7568OXwaRSUBHAnw7URlJN5VyEDomdLxKBbD_8_BvvUtM7Gc4PSIMxERqHuSvcPvxJFAJl5C3a41NripTZHQUv3U2bsWAiyq8vl09smSVjMB6K02cahARdlWja8iANUGtVMPO947ysUKVUDh8icognpdXGcwIAS29QrgmgF0-xPFu8kbeHejg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;f68dc645-f8be-450a-966b-0326d3e94964&quot;, persistence: None, user_data: None }
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171793e360
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171793e360
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717d58950, connectTimeout: 30, retryInterval: 0, ssl: 0x561717ccf190, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617179eefe0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3MTgsImlhdCI6MTY1MjA5OTQxOCwiYXV0aF90aW1lIjoxNjUyMDk5NDE1LCJqdGkiOiJmZTBlMGQ4Zi05MjIzLTQxOGQtOGZkMi1kYjE0ZTJiY2QxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPQmVkeldENER4aVFTZXVUWUVmNTN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjMDNmNjMyLTliOTctNDVjNy1hNThhLTczYjg3ZjQ2NGE2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HtP-aPNVFiDPRCediHRqVpyUSS17j-ZD3HIDf1k8XD3PW7a9FFghoU7mM9kryft1CvX1LRzdme7hFeCwZTgp2zxO2ypYiSpdLs2BOYHNSqe_HPb5JFtrMRjHnphorkEApFCb6gB4bJDABMbvjTuh3x2Epwoi20jze7568OXwaRSUBHAnw7URlJN5VyEDomdLxKBbD_8_BvvUtM7Gc4PSIMxERqHuSvcPvxJFAJl5C3a41NripTZHQUv3U2bsWAiyq8vl09smSVjMB6K02cahARdlWja8iANUGtVMPO947ysUKVUDh8icognpdXGcwIAS29QrgmgF0-xPFu8kbeHejg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:30:20Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;&#x27; @ QOS 0
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:30:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:30:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:30:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:30:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:30:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:30:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:30:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:30:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:30:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:30:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:30:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:30:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:30:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:30:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:30:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:30:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:30:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c016280, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x561717ce1820 } }, data: MessageData { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x561717ce1820 } } } }
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179a95e0, 0x7f4b300043e0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300043e0, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300043e0, 0x7f4b30004210
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004210, 0x561717ca1dc0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004210, 0x7f4b300046d0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300046d0, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300046d0, 0x561717c0f770
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300046d0, 0x7f4b30001920
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x7f4b3000a410
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a410, 0x7f4b30001920
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x561717b553f0
[2022-05-09T12:30:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30001920
[2022-05-09T12:30:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:30:24.979407218+00:00&quot;, &quot;senderuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;id&quot;: &quot;279256fc-7110-4edc-b691-3da6983d6e47&quot;, &quot;partitionkey&quot;: &quot;64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;applicationuid&quot;: &quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;, &quot;source&quot;: &quot;drogue://64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;deviceuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;index\&quot;:4}&quot; }
[2022-05-09T12:30:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-09T12:30:25Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-09T12:30:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:30:25Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:30:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;c88d799e-d272-4ef7-a620-54a95b814bd9&quot;, persistence: None, user_data: None }
[2022-05-09T12:30:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:30:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ce31a0
[2022-05-09T12:30:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ce31a0
[2022-05-09T12:30:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717c7be20, password: 0x56171797fef0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717911090, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ce30a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@64326bb8-e93f-47ff-9af7-64001866d3c1&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c00ce30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717842210 } }, data: MessageData { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717842210 } } } }
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717be7f70, 0x561717bed280
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bed280, 0x7f4b280079c0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bed280, 0x561717bcaf10
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcaf10, 0x56171786a890
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcaf10, 0x7f4b28001370
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x7f4b280079c0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x56171786cc40
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x7f4b280079c0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x7f4b28004f80
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x7f4b28004f80
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001370, 0x7f4b28002200
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002200, 0x7f4b28004f80
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002200, 0x7f4b28004f80
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28002200, 0x7f4b28001760
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28001760
[2022-05-09T12:30:26Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717d57b40 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717d57b40 } } } }
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;1def5ca0-0299-4cf2-ade0-ad94e26c874c&quot;, &quot;partitionkey&quot;: &quot;64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T12:30:26.107321614+00:00&quot;, &quot;deviceuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;source&quot;: &quot;drogue://64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;application&quot;: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, &quot;applicationuid&quot;: &quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c00a350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717b68610 } }, data: MessageData { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717b68610 } } } }
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a430, 0x7f4b30004550
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004550, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004550, 0x561717a8d2c0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a8d2c0, 0x7f4b1c0166b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a8d2c0, 0x7f4b30001920
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001920, 0x7f4b30001cf0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cf0, 0x7f4b1c01c090
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cf0, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cf0, 0x7f4b30004ca0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b3000a410
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b3000a410, 0x7f4b1c0165b0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b3000a410
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T12:30:26.688631977+00:00&quot;, &quot;id&quot;: &quot;e003cea4-a88e-421e-be94-455c554e152d&quot;, &quot;source&quot;: &quot;drogue://64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;partitionkey&quot;: &quot;64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;senderuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x561717c6e8b0 } }, data: MessageData { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x561717c6e8b0 } } } }
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1c016280, 0x7f4b1c0162a0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1c0162a0, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1c0162a0, 0x561717a8d2c0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a8d2c0, 0x7f4b1c01b920
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717a8d2c0, 0x7f4b30001cf0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cf0, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cf0, 0x7f4b30004ca0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004ca0, 0x7f4b30004c60
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004c60, 0x7f4b1c0302e0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004c60, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004c60, 0x7f4b300043e0
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300043e0, 0x7f4b1c003060
[2022-05-09T12:30:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b3000aab0
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;source&quot;: &quot;drogue://64326bb8%2De93f%2D47ff%2D9af7%2D64001866d3c1/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;981652d3-71b8-44a6-9439-cfedba36644e&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;senderuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;, &quot;application&quot;: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:30:26.685375069+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;d5e729fd-e654-4337-bcba-7796a36ba68a&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;deviceuid&quot;: &quot;fc903de7-24d9-4e8f-82bb-2c8ceeb22ba3&quot;}, payload: &quot;&quot; }
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:30:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:30:26Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:30:26Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot; &quot;device1&quot;
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;64326bb8-e93f-47ff-9af7-64001866d3c1&#x27;
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;64326bb8-e93f-47ff-9af7-64001866d3c1&quot;
[2022-05-09T12:30:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 64326bb8-e93f-47ff-9af7-64001866d3c1 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 15s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 16s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:30:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:30:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:30:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:30:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:30:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:31:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:31:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:31:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:31:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:31:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:31:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEyNjMsImlhdCI6MTY1MjA5OTQ2MywianRpIjoiYzk5NmU5MzMtN2JhOC00ZmE1LWFiM2ItOTJlYzI4ZmQyOWQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZ0U2hVcndqR1F3MEpiZkdZRzQyOHciLCJzZXNzaW9uX3N0YXRlIjoiNWMwOTVjMmQtMjA1Yi00ZjVjLTk5YjQtYzhmZTc2NjQxOGUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyJ9.EDS9OOQovZu3AraBSlK4k0XRJ_K4XTMuVY_Z6t5YSKc
[2022-05-09T12:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDEyNjMsImlhdCI6MTY1MjA5OTQ2MywianRpIjoiYzk5NmU5MzMtN2JhOC00ZmE1LWFiM2ItOTJlYzI4ZmQyOWQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZ0U2hVcndqR1F3MEpiZkdZRzQyOHciLCJzZXNzaW9uX3N0YXRlIjoiNWMwOTVjMmQtMjA1Yi00ZjVjLTk5YjQtYzhmZTc2NjQxOGUzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyJ9.EDS9OOQovZu3AraBSlK4k0XRJ_K4XTMuVY_Z6t5YSKc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 097efbca-940b-4465-8ee4-d3d23fd7221a
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 097efbca-940b-4465-8ee4-d3d23fd7221a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;
[2022-05-09T12:31:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:31:04.671125Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;aa554743-fb65-43a3-95a8-0429a0544217\&quot;,\n    \&quot;uid\&quot;: \&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.685550794Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:31:04.671125Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;), &quot;resourceVersion&quot;: String(&quot;aa554743-fb65-43a3-95a8-0429a0544217&quot;), &quot;uid&quot;: String(&quot;93418f46-bd16-40e6-ac66-92242bb1210c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.685550794Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:31:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:31:04.671125Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e51c77d0-9970-46ec-bb68-1dc67c7aeb3d\&quot;,\n    \&quot;uid\&quot;: \&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082270974Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082216181Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.723581196Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.733108592Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.803347661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.809423374Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082000296Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082025974Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QFbI4GoLHOEo\&quot;,\n        \&quot;username\&quot;: \&quot;user-097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:31:04.671125Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;), &quot;resourceVersion&quot;: String(&quot;e51c77d0-9970-46ec-bb68-1dc67c7aeb3d&quot;), &quot;uid&quot;: String(&quot;93418f46-bd16-40e6-ac66-92242bb1210c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082270974Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082216181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.723581196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.733108592Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.803347661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.809423374Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082000296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082025974Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QFbI4GoLHOEo&quot;), &quot;username&quot;: String(&quot;user-097efbca-940b-4465-8ee4-d3d23fd7221a&quot;)})})})})
[2022-05-09T12:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:31:04.671125Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e51c77d0-9970-46ec-bb68-1dc67c7aeb3d\&quot;,\n    \&quot;uid\&quot;: \&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082270974Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082216181Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.723581196Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.733108592Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.803347661Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:04.809423374Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082000296Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:31:05.082025974Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QFbI4GoLHOEo\&quot;,\n        \&quot;username\&quot;: \&quot;user-097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:31:04.671125Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;), &quot;resourceVersion&quot;: String(&quot;e51c77d0-9970-46ec-bb68-1dc67c7aeb3d&quot;), &quot;uid&quot;: String(&quot;93418f46-bd16-40e6-ac66-92242bb1210c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082270974Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082216181Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.723581196Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.733108592Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.803347661Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:04.809423374Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082000296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:31:05.082025974Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QFbI4GoLHOEo&quot;), &quot;username&quot;: String(&quot;user-097efbca-940b-4465-8ee4-d3d23fd7221a&quot;)})})})})
[2022-05-09T12:31:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3NjQsImlhdCI6MTY1MjA5OTQ2NCwiYXV0aF90aW1lIjoxNjUyMDk5NDYwLCJqdGkiOiI0YWYxNDEzNi00YTI0LTQzMGMtOWQzYi0xYTA1MTZjY2VhNjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2dFNoVXJ3akdRdzBKYmZHWUc0Mjh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K_9rXscxZrxeMUr7TMCk6bQAu3w5j-g-D30GPRus4bxrLGIqb_yD1mzxx5be8QmwVQw8PBbrldNGDpLiucG9ERAq8gYk5M0TuNo-L-8-jaBNxm6-mP_Nb_6S43IIpRkDKsvI3fEDb47ZGNZWVQwsqKJ-lFkN5XAOXqCXMr5q8IFoawda4QSjK7bAh7kQYOY4SZaWDnId5C8pFs-kHLcUkGLtPQg8o3iHmO0EXs2mmVlwWjSlGg0tfufxJylqHHSTu0mwCQU1pyJSzTPMpAm5aX0UQDVF4l1zKSHfbIPOR94E4WYCfVCIwugTz1mU2tn0hCQgfGuBTTRQJHQtgCmBag\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:31:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3NjQsImlhdCI6MTY1MjA5OTQ2NCwiYXV0aF90aW1lIjoxNjUyMDk5NDYwLCJqdGkiOiI0YWYxNDEzNi00YTI0LTQzMGMtOWQzYi0xYTA1MTZjY2VhNjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2dFNoVXJ3akdRdzBKYmZHWUc0Mjh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K_9rXscxZrxeMUr7TMCk6bQAu3w5j-g-D30GPRus4bxrLGIqb_yD1mzxx5be8QmwVQw8PBbrldNGDpLiucG9ERAq8gYk5M0TuNo-L-8-jaBNxm6-mP_Nb_6S43IIpRkDKsvI3fEDb47ZGNZWVQwsqKJ-lFkN5XAOXqCXMr5q8IFoawda4QSjK7bAh7kQYOY4SZaWDnId5C8pFs-kHLcUkGLtPQg8o3iHmO0EXs2mmVlwWjSlGg0tfufxJylqHHSTu0mwCQU1pyJSzTPMpAm5aX0UQDVF4l1zKSHfbIPOR94E4WYCfVCIwugTz1mU2tn0hCQgfGuBTTRQJHQtgCmBag\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;b5784815-e7da-4437-9d67-5f794dcbf221&quot;, persistence: None, user_data: None }
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717cc8cd0
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717cc8cd0
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717cbdfe0, connectTimeout: 30, retryInterval: 0, ssl: 0x5617179ea6e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cbe7e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk3NjQsImlhdCI6MTY1MjA5OTQ2NCwiYXV0aF90aW1lIjoxNjUyMDk5NDYwLCJqdGkiOiI0YWYxNDEzNi00YTI0LTQzMGMtOWQzYi0xYTA1MTZjY2VhNjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2dFNoVXJ3akdRdzBKYmZHWUc0Mjh3Iiwic2Vzc2lvbl9zdGF0ZSI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDk1YzJkLTIwNWItNGY1Yy05OWI0LWM4ZmU3NjY0MThlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K_9rXscxZrxeMUr7TMCk6bQAu3w5j-g-D30GPRus4bxrLGIqb_yD1mzxx5be8QmwVQw8PBbrldNGDpLiucG9ERAq8gYk5M0TuNo-L-8-jaBNxm6-mP_Nb_6S43IIpRkDKsvI3fEDb47ZGNZWVQwsqKJ-lFkN5XAOXqCXMr5q8IFoawda4QSjK7bAh7kQYOY4SZaWDnId5C8pFs-kHLcUkGLtPQg8o3iHmO0EXs2mmVlwWjSlGg0tfufxJylqHHSTu0mwCQU1pyJSzTPMpAm5aX0UQDVF4l1zKSHfbIPOR94E4WYCfVCIwugTz1mU2tn0hCQgfGuBTTRQJHQtgCmBag&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:31:05Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;&#x27; @ QOS 0
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:31:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:31:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:31:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:31:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:31:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:31:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:31:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:31:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:31:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:31:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:31:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:31:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:31:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:31:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:31:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:31:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b18014510, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18014790 } }, data: MessageData { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 48, 48, 57, 100, 54, 102, 51, 45, 97, 54, 53, 100, 45, 52, 98, 49, 100, 45, 56, 99, 99, 49, 45, 98, 57, 56, 48, 101, 97, 49, 100, 98, 57, 48, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 49, 58, 49, 48, 46, 48, 53, 48, 54, 56, 55, 53, 50, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 45, 57, 52, 48, 98, 45, 52, 52, 54, 53, 45, 56, 101, 101, 52, 45, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 52, 49, 56, 102, 52, 54, 45, 98, 100, 49, 54, 45, 52, 48, 101, 54, 45, 97, 99, 54, 54, 45, 57, 50, 50, 52, 50, 98, 98, 49, 50, 49, 48, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18014790 } } } }
[2022-05-09T12:31:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d028d0
[2022-05-09T12:31:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f009d6f3-a65d-4b1d-8cc1-b980ea1db908\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:31:10.050687523Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:4},\&quot;deviceuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\&quot;applicationuid\&quot;:\&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;,\&quot;senderuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;}&quot; }
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2022-05-09T12:31:11Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 4
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a653b3c5-9afc-4b1c-8990-4787903d62d1&quot;, persistence: None, user_data: None }
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717acde40
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717acde40
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x561717ca95d0, password: 0x561717ccac40, connectTimeout: 30, retryInterval: 0, ssl: 0x56171783b7f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ca8850, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@097efbca-940b-4465-8ee4-d3d23fd7221a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:31:11Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717943b60 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717943b60 } } } }
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b18026f20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271b0 } }, data: MessageData { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 57, 97, 97, 57, 51, 54, 53, 45, 101, 100, 50, 100, 45, 52, 97, 102, 99, 45, 97, 99, 52, 97, 45, 57, 101, 56, 100, 97, 54, 50, 57, 102, 97, 100, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 49, 58, 49, 49, 46, 49, 54, 57, 50, 50, 56, 53, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 52, 49, 56, 102, 52, 54, 45, 98, 100, 49, 54, 45, 52, 48, 101, 54, 45, 97, 99, 54, 54, 45, 57, 50, 50, 52, 50, 98, 98, 49, 50, 49, 48, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 45, 57, 52, 48, 98, 45, 52, 52, 54, 53, 45, 56, 101, 101, 52, 45, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271b0 } } } }
[2022-05-09T12:31:11Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d028d0
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;39aa9365-ed2d-4afc-ac4a-9e8da629fad6\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:31:11.169228554Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;applicationuid\&quot;:\&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;application\&quot;:\&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;}&quot; }
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b180024b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271b0 } }, data: MessageData { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 98, 49, 49, 99, 53, 55, 100, 45, 97, 49, 52, 53, 45, 52, 100, 101, 50, 45, 97, 53, 53, 49, 45, 52, 49, 101, 48, 101, 57, 98, 51, 57, 54, 53, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 49, 58, 49, 49, 46, 55, 51, 54, 51, 49, 50, 57, 50, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 45, 57, 52, 48, 98, 45, 52, 52, 54, 53, 45, 56, 101, 101, 52, 45, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 52, 49, 56, 102, 52, 54, 45, 98, 100, 49, 54, 45, 52, 48, 101, 54, 45, 97, 99, 54, 54, 45, 57, 50, 50, 52, 50, 98, 98, 49, 50, 49, 48, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271b0 } } } }
[2022-05-09T12:31:11Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d028d0
[2022-05-09T12:31:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bb11c57d-a145-4de2-a551-41e0e9b39659\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:31:11.736312922Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\&quot;applicationuid\&quot;:\&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;partitionkey\&quot;:\&quot;097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;senderuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;}&quot; }
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b18026f20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271a0 } }, data: MessageData { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 99, 98, 97, 54, 48, 100, 102, 45, 97, 48, 53, 54, 45, 52, 55, 102, 98, 45, 57, 48, 97, 54, 45, 50, 98, 55, 49, 98, 53, 100, 49, 97, 49, 48, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 49, 58, 49, 49, 46, 55, 50, 57, 53, 48, 56, 51, 48, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 52, 52, 51, 50, 57, 97, 98, 45, 53, 98, 57, 57, 45, 52, 56, 100, 54, 45, 57, 98, 53, 55, 45, 50, 54, 100, 52, 101, 100, 101, 52, 98, 48, 56, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 45, 57, 52, 48, 98, 45, 52, 52, 54, 53, 45, 56, 101, 101, 52, 45, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 57, 55, 101, 102, 98, 99, 97, 37, 50, 68, 57, 52, 48, 98, 37, 50, 68, 52, 52, 54, 53, 37, 50, 68, 56, 101, 101, 52, 37, 50, 68, 100, 51, 100, 50, 51, 102, 100, 55, 50, 50, 49, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 51, 52, 49, 56, 102, 52, 54, 45, 98, 100, 49, 54, 45, 52, 48, 101, 54, 45, 97, 99, 54, 54, 45, 57, 50, 50, 52, 50, 98, 98, 49, 50, 49, 48, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b180271a0 } } } }
[2022-05-09T12:31:12Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d028d0
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2cba60df-a056-47fb-90a6-2b71b5d1a105\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:31:11.729508303Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;senderuid\&quot;:\&quot;544329ab-5b99-48d6-9b57-26d4ede4b08f\&quot;,\&quot;application\&quot;:\&quot;097efbca-940b-4465-8ee4-d3d23fd7221a\&quot;,\&quot;partitionkey\&quot;:\&quot;097efbca%2D940b%2D4465%2D8ee4%2Dd3d23fd7221a/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;93418f46-bd16-40e6-ac66-92242bb1210c\&quot;}&quot; }
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:31:12Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:31:12Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot; &quot;device1&quot;
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;097efbca-940b-4465-8ee4-d3d23fd7221a&#x27;
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;097efbca-940b-4465-8ee4-d3d23fd7221a&quot;
[2022-05-09T12:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 097efbca-940b-4465-8ee4-d3d23fd7221a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 16s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:33:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:33:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:33:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:33:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:33:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:33:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:33:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:33:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:33:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:33:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:33:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0MTEsImlhdCI6MTY1MjA5OTYxMSwianRpIjoiOTQ3MTFmMDgtZjlhMS00YzVhLTlkOWItNjgxMzgzY2M2YTE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inc4cDdhV0t0TGdpNWY0WXdiaWZYRXciLCJzZXNzaW9uX3N0YXRlIjoiNGY3NDcxNTEtN2RmMy00YWIzLThiOTItNDI4NTk3ODM2YTM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCJ9.gWfphYXnBgJZY1r5d9gFl321sRpiZIgSTX6vgJdSzCs
[2022-05-09T12:33:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:33:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0MTEsImlhdCI6MTY1MjA5OTYxMSwianRpIjoiOTQ3MTFmMDgtZjlhMS00YzVhLTlkOWItNjgxMzgzY2M2YTE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inc4cDdhV0t0TGdpNWY0WXdiaWZYRXciLCJzZXNzaW9uX3N0YXRlIjoiNGY3NDcxNTEtN2RmMy00YWIzLThiOTItNDI4NTk3ODM2YTM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCJ9.gWfphYXnBgJZY1r5d9gFl321sRpiZIgSTX6vgJdSzCs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:33:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:32Z INFO  drogue_cloud_tests::resources::apps] Create application: a4b59fdb-43df-4d81-8aab-c1e3eac34938
[2022-05-09T12:33:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;
[2022-05-09T12:33:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a4b59fdb-43df-4d81-8aab-c1e3eac34938 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;
[2022-05-09T12:33:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:33:32.317076Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0dba1f37-f65a-4993-a98d-3e8de2983abd\&quot;,\n    \&quot;uid\&quot;: \&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338942368Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338913173Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338883808Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338884559Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338885231Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338885702Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338886052Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.338890050Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:33:32.317076Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;), &quot;resourceVersion&quot;: String(&quot;0dba1f37-f65a-4993-a98d-3e8de2983abd&quot;), &quot;uid&quot;: String(&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338942368Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338913173Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338883808Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338884559Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338885231Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338885702Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338886052Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.338890050Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:33:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:33:32.317076Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5877815f-d957-4b37-9fc0-dc18f0f064e5\&quot;,\n    \&quot;uid\&quot;: \&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.648054561Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647944675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.361421149Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.367289734Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.409152342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.414826412Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647832684Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647878190Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ewQPMB9PsQZG\&quot;,\n        \&quot;username\&quot;: \&quot;user-a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:33:32.317076Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;), &quot;resourceVersion&quot;: String(&quot;5877815f-d957-4b37-9fc0-dc18f0f064e5&quot;), &quot;uid&quot;: String(&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.648054561Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647944675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.361421149Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.367289734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.409152342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.414826412Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647832684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647878190Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ewQPMB9PsQZG&quot;), &quot;username&quot;: String(&quot;user-a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;)})})})})
[2022-05-09T12:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:33:32.317076Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5877815f-d957-4b37-9fc0-dc18f0f064e5\&quot;,\n    \&quot;uid\&quot;: \&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.648054561Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647944675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.361421149Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.367289734Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.409152342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.414826412Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647832684Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:33:32.647878190Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ewQPMB9PsQZG\&quot;,\n        \&quot;username\&quot;: \&quot;user-a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:33:32.317076Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;), &quot;resourceVersion&quot;: String(&quot;5877815f-d957-4b37-9fc0-dc18f0f064e5&quot;), &quot;uid&quot;: String(&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.648054561Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647944675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.361421149Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.367289734Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.409152342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.414826412Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647832684Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:33:32.647878190Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ewQPMB9PsQZG&quot;), &quot;username&quot;: String(&quot;user-a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;)})})})})
[2022-05-09T12:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:33:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5MTEsImlhdCI6MTY1MjA5OTYxMSwiYXV0aF90aW1lIjoxNjUyMDk5NjA4LCJqdGkiOiIyMjY2M2U2NS03NmU5LTQxZGYtOWEyNC00Mjc3YTdhNGQ5NWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3OHA3YVdLdExnaTVmNFl3YmlmWEV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L_E-RRO_3qKo818mQ4jRjNiYzpRDkDae87D529gPK8CY-CHkFDUJA21zRjK4DE5vst4KfVagzgBa-5Hz9TVLrAqrw_nVS_jqKGh20nPqBpYF2ULgwm6Ms5g6tRnb_-YgfVC6GIzVGTh4Se5yBfRsVDR27KsSlbFmlKTfGUPoksOdNtETG1qybPANDGj5Xax8bOy9zV5B2TnAflLwxAN1I5XsF8lb3EYxrWPxq9oRQpDSPi4lvPB_vxOGV7XNQNpNclSRkYUTY_wOO_tLBjYfiJVgDqMyLmoqSHL9_H4uaVqwm9rhvu52ZLchLJSix5XfAVlE0GAFvajjodfjOnGoaA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:33:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5MTEsImlhdCI6MTY1MjA5OTYxMSwiYXV0aF90aW1lIjoxNjUyMDk5NjA4LCJqdGkiOiIyMjY2M2U2NS03NmU5LTQxZGYtOWEyNC00Mjc3YTdhNGQ5NWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3OHA3YVdLdExnaTVmNFl3YmlmWEV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L_E-RRO_3qKo818mQ4jRjNiYzpRDkDae87D529gPK8CY-CHkFDUJA21zRjK4DE5vst4KfVagzgBa-5Hz9TVLrAqrw_nVS_jqKGh20nPqBpYF2ULgwm6Ms5g6tRnb_-YgfVC6GIzVGTh4Se5yBfRsVDR27KsSlbFmlKTfGUPoksOdNtETG1qybPANDGj5Xax8bOy9zV5B2TnAflLwxAN1I5XsF8lb3EYxrWPxq9oRQpDSPi4lvPB_vxOGV7XNQNpNclSRkYUTY_wOO_tLBjYfiJVgDqMyLmoqSHL9_H4uaVqwm9rhvu52ZLchLJSix5XfAVlE0GAFvajjodfjOnGoaA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3294c55f-9f33-4cdb-836d-915506d58bc5&quot;, persistence: None, user_data: None }
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717ae7ff0
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717ae7ff0
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x56171792c0a0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b521c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717ae9f60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5MTEsImlhdCI6MTY1MjA5OTYxMSwiYXV0aF90aW1lIjoxNjUyMDk5NjA4LCJqdGkiOiIyMjY2M2U2NS03NmU5LTQxZGYtOWEyNC00Mjc3YTdhNGQ5NWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3OHA3YVdLdExnaTVmNFl3YmlmWEV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRmNzQ3MTUxLTdkZjMtNGFiMy04YjkyLTQyODU5NzgzNmEzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.L_E-RRO_3qKo818mQ4jRjNiYzpRDkDae87D529gPK8CY-CHkFDUJA21zRjK4DE5vst4KfVagzgBa-5Hz9TVLrAqrw_nVS_jqKGh20nPqBpYF2ULgwm6Ms5g6tRnb_-YgfVC6GIzVGTh4Se5yBfRsVDR27KsSlbFmlKTfGUPoksOdNtETG1qybPANDGj5Xax8bOy9zV5B2TnAflLwxAN1I5XsF8lb3EYxrWPxq9oRQpDSPi4lvPB_vxOGV7XNQNpNclSRkYUTY_wOO_tLBjYfiJVgDqMyLmoqSHL9_H4uaVqwm9rhvu52ZLchLJSix5XfAVlE0GAFvajjodfjOnGoaA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:33:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;&#x27; @ QOS 0
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:33:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:33:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:33:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:33:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:33:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:33:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:33:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:33:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:33:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:33:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:33:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:33:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:33:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:33:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:33:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:33:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b1c0088e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 100, 51, 101, 97, 100, 100, 48, 45, 97, 100, 52, 97, 45, 52, 100, 56, 97, 45, 56, 52, 98, 54, 45, 102, 56, 99, 57, 54, 57, 99, 50, 52, 57, 52, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 51, 58, 51, 55, 46, 49, 55, 55, 57, 52, 50, 48, 51, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 102, 97, 102, 101, 55, 101, 45, 56, 101, 53, 99, 45, 52, 56, 57, 52, 45, 98, 48, 102, 52, 45, 98, 100, 51, 49, 98, 53, 52, 97, 50, 50, 100, 102, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 45, 52, 51, 100, 102, 45, 52, 100, 56, 49, 45, 56, 97, 97, 98, 45, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:33:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fd3eadd0-ad4a-4d8a-84b6-f8c969c24943\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:33:37.177942032Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\&quot;deviceuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;senderuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;}&quot; }
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:33:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;fcec167e-3ed4-4b75-9732-97023b57a0dd&quot;, persistence: None, user_data: None }
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717c0ee00
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717c0ee00
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b40630, password: 0x561717910d70, connectTimeout: 30, retryInterval: 0, ssl: 0x561717bcabd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717c0f0a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b1c02b040, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 50, 48, 51, 53, 97, 51, 97, 45, 52, 100, 100, 50, 45, 52, 99, 57, 101, 45, 56, 50, 49, 98, 45, 48, 101, 97, 53, 51, 56, 97, 55, 53, 53, 51, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 51, 58, 51, 56, 46, 51, 49, 48, 54, 54, 56, 48, 56, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 102, 97, 102, 101, 55, 101, 45, 56, 101, 53, 99, 45, 52, 56, 57, 52, 45, 98, 48, 102, 52, 45, 98, 100, 51, 49, 98, 53, 52, 97, 50, 50, 100, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 45, 52, 51, 100, 102, 45, 52, 100, 56, 49, 45, 56, 97, 97, 98, 45, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b2035a3a-4dd2-4c9e-821b-0ea538a75530\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:33:38.310668086Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;,\&quot;application\&quot;:\&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\&quot;deviceuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;}&quot; }
[2022-05-09T12:33:38Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bbf1a0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717bbf1a0 } } } }
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b1c000ce0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 102, 54, 102, 55, 101, 57, 51, 45, 98, 54, 48, 101, 45, 52, 55, 100, 98, 45, 57, 53, 101, 50, 45, 102, 99, 52, 100, 53, 98, 51, 99, 97, 101, 101, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 51, 58, 51, 56, 46, 56, 55, 54, 50, 54, 57, 55, 49, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 45, 52, 51, 100, 102, 45, 52, 100, 56, 49, 45, 56, 97, 97, 98, 45, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 102, 97, 102, 101, 55, 101, 45, 56, 101, 53, 99, 45, 52, 56, 57, 52, 45, 98, 48, 102, 52, 45, 98, 100, 51, 49, 98, 53, 52, 97, 50, 50, 100, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:33:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;df6f7e93-b60e-47db-95e2-fc4d5b3caeec\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:33:38.876269715Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\&quot;applicationuid\&quot;:\&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;,\&quot;partitionkey\&quot;:\&quot;a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;senderuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b1c00bee0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 100, 53, 48, 98, 102, 57, 99, 45, 99, 102, 101, 53, 45, 52, 48, 102, 97, 45, 97, 50, 100, 101, 45, 50, 100, 49, 97, 55, 49, 52, 99, 101, 100, 51, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 51, 58, 51, 56, 46, 56, 55, 51, 53, 49, 55, 48, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 45, 52, 51, 100, 102, 45, 52, 100, 56, 49, 45, 56, 97, 97, 98, 45, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 52, 98, 53, 57, 102, 100, 98, 37, 50, 68, 52, 51, 100, 102, 37, 50, 68, 52, 100, 56, 49, 37, 50, 68, 56, 97, 97, 98, 37, 50, 68, 99, 49, 101, 51, 101, 97, 99, 51, 52, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 99, 102, 97, 102, 101, 55, 101, 45, 56, 101, 53, 99, 45, 52, 56, 57, 52, 45, 98, 48, 102, 52, 45, 98, 100, 51, 49, 98, 53, 52, 97, 50, 50, 100, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 50, 102, 101, 97, 101, 49, 100, 45, 55, 50, 100, 55, 45, 52, 48, 48, 48, 45, 97, 53, 54, 49, 45, 52, 57, 54, 48, 101, 97, 101, 99, 55, 102, 55, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fd50bf9c-cfe5-40fa-a2de-2d1a714ced34\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:33:38.873517014Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;a4b59fdb%2D43df%2D4d81%2D8aab%2Dc1e3eac34938/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;2cfafe7e-8e5c-4894-b0f4-bd31b54a22df\&quot;,\&quot;senderuid\&quot;:\&quot;f2feae1d-72d7-4000-a561-4960eaec7f73\&quot;}&quot; }
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:33:39Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:33:39Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:33:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot; &quot;device1&quot;
[2022-05-09T12:33:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:33:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a4b59fdb-43df-4d81-8aab-c1e3eac34938&#x27;
[2022-05-09T12:33:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a4b59fdb-43df-4d81-8aab-c1e3eac34938&quot;
[2022-05-09T12:33:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a4b59fdb-43df-4d81-8aab-c1e3eac34938 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:33:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:33:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:33:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:33:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:33:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:33:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:33:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:33:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:33:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:33:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:34:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0NDEsImlhdCI6MTY1MjA5OTY0MSwianRpIjoiMDYwMzNmZTMtN2E5ZC00OTljLWIyYmMtZTI5YzA2ZjU0NmI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBTN0Zhb0xRNHZSSTNXMXgyVDNKRVEiLCJzZXNzaW9uX3N0YXRlIjoiMTIzZWY4ZmEtM2Q4Zi00NjhjLTg3YTgtZDRjMjAyNzQyNjgzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyJ9.uFl1LGPMCrefESKy-nsrRUjPqZha-Nd-o8ldRhSTluQ
[2022-05-09T12:34:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:34:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0NDEsImlhdCI6MTY1MjA5OTY0MSwianRpIjoiMDYwMzNmZTMtN2E5ZC00OTljLWIyYmMtZTI5YzA2ZjU0NmI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBTN0Zhb0xRNHZSSTNXMXgyVDNKRVEiLCJzZXNzaW9uX3N0YXRlIjoiMTIzZWY4ZmEtM2Q4Zi00NjhjLTg3YTgtZDRjMjAyNzQyNjgzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyJ9.uFl1LGPMCrefESKy-nsrRUjPqZha-Nd-o8ldRhSTluQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:34:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:02Z INFO  drogue_cloud_tests::resources::apps] Create application: afe652fa-9ad0-4eeb-aed1-d24757780570
[2022-05-09T12:34:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;
[2022-05-09T12:34:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App afe652fa-9ad0-4eeb-aed1-d24757780570 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;
[2022-05-09T12:34:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:02.292207Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1bc8ac05-9e0b-48ba-b50b-2908f482a15b\&quot;,\n    \&quot;uid\&quot;: \&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304414280Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304468903Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304379535Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304381840Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304382591Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304383372Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304383844Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.304390496Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:02.292207Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;), &quot;resourceVersion&quot;: String(&quot;1bc8ac05-9e0b-48ba-b50b-2908f482a15b&quot;), &quot;uid&quot;: String(&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304414280Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304468903Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304379535Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304381840Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304382591Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304383372Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304383844Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.304390496Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:34:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:02.292207Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9ba67f0b-f147-41a9-a447-93bfee35f4ea\&quot;,\n    \&quot;uid\&quot;: \&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647183054Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647218030Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.332949588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.340097322Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.415468064Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.422306546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647138060Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647157356Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;HZ6ouU8mKwpn\&quot;,\n        \&quot;username\&quot;: \&quot;user-afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:02.292207Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;), &quot;resourceVersion&quot;: String(&quot;9ba67f0b-f147-41a9-a447-93bfee35f4ea&quot;), &quot;uid&quot;: String(&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647183054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647218030Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.332949588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.340097322Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.415468064Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.422306546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647138060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647157356Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;HZ6ouU8mKwpn&quot;), &quot;username&quot;: String(&quot;user-afe652fa-9ad0-4eeb-aed1-d24757780570&quot;)})})})})
[2022-05-09T12:34:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:02.292207Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;9ba67f0b-f147-41a9-a447-93bfee35f4ea\&quot;,\n    \&quot;uid\&quot;: \&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647183054Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647218030Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.332949588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.340097322Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.415468064Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.422306546Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647138060Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:02.647157356Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;HZ6ouU8mKwpn\&quot;,\n        \&quot;username\&quot;: \&quot;user-afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:02.292207Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;), &quot;resourceVersion&quot;: String(&quot;9ba67f0b-f147-41a9-a447-93bfee35f4ea&quot;), &quot;uid&quot;: String(&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647183054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647218030Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.332949588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.340097322Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.415468064Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.422306546Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647138060Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:02.647157356Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;HZ6ouU8mKwpn&quot;), &quot;username&quot;: String(&quot;user-afe652fa-9ad0-4eeb-aed1-d24757780570&quot;)})})})})
[2022-05-09T12:34:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5NDEsImlhdCI6MTY1MjA5OTY0MSwiYXV0aF90aW1lIjoxNjUyMDk5NjM4LCJqdGkiOiIxMmNiNzM5OS1jNTNhLTQ2NjQtOTlkNC0xNTVhMTU2ZDE4ZWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQUzdGYW9MUTR2UkkzVzF4MlQzSkVRIiwic2Vzc2lvbl9zdGF0ZSI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S6HWR0qWRuJ_FrgWPIArqJaXKHHcovloDqXd3PGLDaecjxQDw4udpab_t_Qlw9lDMuJzmdAfGF4yYf58DWNLvvMc7E8dHb_1FChVNckJcL93W_STrrbn4Mwz7HoFYXmr6autVcPJftLMaXojrpxiqd1p3aHtKn40rZRtkrpDOqkgZrLjg0iFkpRzg8LK0eDtfh5Mu0bGJupgBS3YEnzHqz1ilo40UCgr9Yq1roEsnDeBp4lHUeFuRj86GRVbsrunzZRlkC_4TnJtsCiJk5muMFp3xcMj7_-omdrYwwLd8tqWrC8zuZJIuVqgeoGdtFuawnhbYZIEzAjpXhpKPC_O3g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:34:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5NDEsImlhdCI6MTY1MjA5OTY0MSwiYXV0aF90aW1lIjoxNjUyMDk5NjM4LCJqdGkiOiIxMmNiNzM5OS1jNTNhLTQ2NjQtOTlkNC0xNTVhMTU2ZDE4ZWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQUzdGYW9MUTR2UkkzVzF4MlQzSkVRIiwic2Vzc2lvbl9zdGF0ZSI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S6HWR0qWRuJ_FrgWPIArqJaXKHHcovloDqXd3PGLDaecjxQDw4udpab_t_Qlw9lDMuJzmdAfGF4yYf58DWNLvvMc7E8dHb_1FChVNckJcL93W_STrrbn4Mwz7HoFYXmr6autVcPJftLMaXojrpxiqd1p3aHtKn40rZRtkrpDOqkgZrLjg0iFkpRzg8LK0eDtfh5Mu0bGJupgBS3YEnzHqz1ilo40UCgr9Yq1roEsnDeBp4lHUeFuRj86GRVbsrunzZRlkC_4TnJtsCiJk5muMFp3xcMj7_-omdrYwwLd8tqWrC8zuZJIuVqgeoGdtFuawnhbYZIEzAjpXhpKPC_O3g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;e5cb7cbf-0d05-475b-9e97-e030ccb5de0f&quot;, persistence: None, user_data: None }
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a55a00
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a55a00
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717947940, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a39280, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717f4ed30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5NDEsImlhdCI6MTY1MjA5OTY0MSwiYXV0aF90aW1lIjoxNjUyMDk5NjM4LCJqdGkiOiIxMmNiNzM5OS1jNTNhLTQ2NjQtOTlkNC0xNTVhMTU2ZDE4ZWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQUzdGYW9MUTR2UkkzVzF4MlQzSkVRIiwic2Vzc2lvbl9zdGF0ZSI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEyM2VmOGZhLTNkOGYtNDY4Yy04N2E4LWQ0YzIwMjc0MjY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S6HWR0qWRuJ_FrgWPIArqJaXKHHcovloDqXd3PGLDaecjxQDw4udpab_t_Qlw9lDMuJzmdAfGF4yYf58DWNLvvMc7E8dHb_1FChVNckJcL93W_STrrbn4Mwz7HoFYXmr6autVcPJftLMaXojrpxiqd1p3aHtKn40rZRtkrpDOqkgZrLjg0iFkpRzg8LK0eDtfh5Mu0bGJupgBS3YEnzHqz1ilo40UCgr9Yq1roEsnDeBp4lHUeFuRj86GRVbsrunzZRlkC_4TnJtsCiJk5muMFp3xcMj7_-omdrYwwLd8tqWrC8zuZJIuVqgeoGdtFuawnhbYZIEzAjpXhpKPC_O3g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:34:03Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;&#x27; @ QOS 0
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b1801a920, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1801aba0 } }, data: MessageData { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 50, 97, 54, 52, 54, 50, 99, 45, 51, 53, 51, 57, 45, 52, 55, 56, 55, 45, 56, 101, 99, 57, 45, 98, 98, 99, 52, 53, 55, 100, 102, 101, 53, 102, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 52, 58, 48, 55, 46, 49, 57, 51, 48, 48, 49, 57, 55, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 45, 57, 97, 100, 48, 45, 52, 101, 101, 98, 45, 97, 101, 100, 49, 45, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 50, 51, 52, 101, 50, 102, 51, 45, 100, 53, 99, 100, 45, 52, 99, 48, 100, 45, 98, 55, 99, 50, 45, 99, 52, 49, 55, 55, 101, 101, 97, 56, 102, 54, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1801aba0 } } } }
[2022-05-09T12:34:07Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717a40e30
[2022-05-09T12:34:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b2a6462c-3539-4787-8ec9-bbc457dfe5f1\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:34:07.193001972Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;,\&quot;deviceuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;partitionkey\&quot;:\&quot;afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;}&quot; }
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:34:08Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;4c31df18-40dd-4b31-bf22-6d40ea56ead4&quot;, persistence: None, user_data: None }
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x56171794afb0
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x56171794afb0
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717b8cd70, password: 0x561717b17730, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b54d10, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717b8c700, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@afe652fa-9ad0-4eeb-aed1-d24757780570&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b1802be20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802c0b0 } }, data: MessageData { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 100, 55, 48, 48, 102, 51, 99, 45, 56, 49, 53, 51, 45, 52, 52, 50, 55, 45, 57, 52, 97, 48, 45, 49, 55, 98, 51, 54, 56, 53, 55, 51, 48, 49, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 52, 58, 48, 56, 46, 50, 49, 50, 49, 56, 53, 50, 53, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 50, 51, 52, 101, 50, 102, 51, 45, 100, 53, 99, 100, 45, 52, 99, 48, 100, 45, 98, 55, 99, 50, 45, 99, 52, 49, 55, 55, 101, 101, 97, 56, 102, 54, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 45, 57, 97, 100, 48, 45, 52, 101, 101, 98, 45, 97, 101, 100, 49, 45, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802c0b0 } } } }
[2022-05-09T12:34:08Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d54cf0
[2022-05-09T12:34:08Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc2180 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc2180 } } } }
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6d700f3c-8153-4427-94a0-17b36857301f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:34:08.212185256Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;application\&quot;:\&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;senderuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b1801b270, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18013d80 } }, data: MessageData { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 100, 99, 53, 57, 49, 97, 54, 45, 53, 97, 50, 98, 45, 52, 101, 101, 56, 45, 56, 97, 102, 51, 45, 99, 52, 97, 49, 57, 102, 55, 56, 97, 49, 54, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 52, 58, 48, 56, 46, 56, 55, 56, 50, 55, 51, 52, 54, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 50, 51, 52, 101, 50, 102, 51, 45, 100, 53, 99, 100, 45, 52, 99, 48, 100, 45, 98, 55, 99, 50, 45, 99, 52, 49, 55, 55, 101, 101, 97, 56, 102, 54, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 45, 57, 97, 100, 48, 45, 52, 101, 101, 98, 45, 97, 101, 100, 49, 45, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b18013d80 } } } }
[2022-05-09T12:34:08Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d54cf0
[2022-05-09T12:34:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8dc591a6-5a2b-4ee8-8af3-c4a19f78a16d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:34:08.878273464Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;applicationuid\&quot;:\&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;application\&quot;:\&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\&quot;partitionkey\&quot;:\&quot;afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b18013f20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802be20 } }, data: MessageData { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 54, 54, 57, 99, 52, 54, 50, 45, 57, 57, 55, 52, 45, 52, 49, 56, 102, 45, 57, 97, 50, 57, 45, 55, 100, 57, 50, 101, 53, 50, 102, 98, 53, 57, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 52, 58, 48, 56, 46, 56, 55, 52, 50, 50, 48, 57, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 45, 57, 97, 100, 48, 45, 52, 101, 101, 98, 45, 97, 101, 100, 49, 45, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 102, 101, 54, 53, 50, 102, 97, 37, 50, 68, 57, 97, 100, 48, 37, 50, 68, 52, 101, 101, 98, 37, 50, 68, 97, 101, 100, 49, 37, 50, 68, 100, 50, 52, 55, 53, 55, 55, 56, 48, 53, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 50, 51, 52, 101, 50, 102, 51, 45, 100, 53, 99, 100, 45, 52, 99, 48, 100, 45, 98, 55, 99, 50, 45, 99, 52, 49, 55, 55, 101, 101, 97, 56, 102, 54, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 56, 56, 51, 57, 54, 100, 49, 45, 54, 49, 52, 98, 45, 52, 97, 49, 101, 45, 98, 57, 52, 97, 45, 57, 49, 99, 54, 56, 50, 51, 56, 56, 55, 53, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1802be20 } } } }
[2022-05-09T12:34:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717d54cf0
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9669c462-9974-418f-9a29-7d92e52fb59f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:34:08.874220914Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;afe652fa-9ad0-4eeb-aed1-d24757780570\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;afe652fa%2D9ad0%2D4eeb%2Daed1%2Dd24757780570/device1\&quot;,\&quot;senderuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;a234e2f3-d5cd-4c0d-b7c2-c4177eea8f62\&quot;,\&quot;deviceuid\&quot;:\&quot;c88396d1-614b-4a1e-b94a-91c68238875a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:34:09Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:34:09Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:34:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot; &quot;device1&quot;
[2022-05-09T12:34:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;afe652fa-9ad0-4eeb-aed1-d24757780570&#x27;
[2022-05-09T12:34:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;afe652fa-9ad0-4eeb-aed1-d24757780570&quot;
[2022-05-09T12:34:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App afe652fa-9ad0-4eeb-aed1-d24757780570 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 15s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:34:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:34:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:34:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:34:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:34:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:34:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:34:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:34:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:34:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:34:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:34:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0ODYsImlhdCI6MTY1MjA5OTY4NiwianRpIjoiZDYyMzk4NWEtZWIzZS00ZjMxLWEwZjUtNjU4NTQ4MTM5NzcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVfbTl5LUd1WXFEbnNpVWFuRURHNWciLCJzZXNzaW9uX3N0YXRlIjoiN2YzODAxZTYtNTE0Ny00MDY5LWE3NzAtN2QxOWUzZDIwMWUwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCJ9.e7eSbGECXntbP-iTBNYGJ8LOPiH0st-Zha3-IMVPUPk
[2022-05-09T12:34:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:34:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE0ODYsImlhdCI6MTY1MjA5OTY4NiwianRpIjoiZDYyMzk4NWEtZWIzZS00ZjMxLWEwZjUtNjU4NTQ4MTM5NzcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVfbTl5LUd1WXFEbnNpVWFuRURHNWciLCJzZXNzaW9uX3N0YXRlIjoiN2YzODAxZTYtNTE0Ny00MDY5LWE3NzAtN2QxOWUzZDIwMWUwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCJ9.e7eSbGECXntbP-iTBNYGJ8LOPiH0st-Zha3-IMVPUPk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:34:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:47Z INFO  drogue_cloud_tests::resources::apps] Create application: da43eed6-0a10-494e-8cab-22947c175f7d
[2022-05-09T12:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;
[2022-05-09T12:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App da43eed6-0a10-494e-8cab-22947c175f7d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;
[2022-05-09T12:34:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:47.369165Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;da43eed6-0a10-494e-8cab-22947c175f7d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;da09a320-944e-4edf-9a8c-26a4f623ffc3\&quot;,\n    \&quot;uid\&quot;: \&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392950101Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392888716Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392848711Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392850103Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392850734Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392852839Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392853209Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.392859180Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:47.369165Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;), &quot;resourceVersion&quot;: String(&quot;da09a320-944e-4edf-9a8c-26a4f623ffc3&quot;), &quot;uid&quot;: String(&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392950101Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392888716Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392848711Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392850103Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392850734Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392852839Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392853209Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.392859180Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:34:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:47.369165Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;da43eed6-0a10-494e-8cab-22947c175f7d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7f39dd4e-1aa9-4ec7-850f-8b0f532634d9\&quot;,\n    \&quot;uid\&quot;: \&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716841757Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716793758Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.421632054Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.427001232Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.487742462Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.493855895Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716747080Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716763220Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DaOCAvF2Kd2N\&quot;,\n        \&quot;username\&quot;: \&quot;user-da43eed6-0a10-494e-8cab-22947c175f7d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:47.369165Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;), &quot;resourceVersion&quot;: String(&quot;7f39dd4e-1aa9-4ec7-850f-8b0f532634d9&quot;), &quot;uid&quot;: String(&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716841757Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716793758Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.421632054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.427001232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.487742462Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.493855895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716747080Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716763220Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DaOCAvF2Kd2N&quot;), &quot;username&quot;: String(&quot;user-da43eed6-0a10-494e-8cab-22947c175f7d&quot;)})})})})
[2022-05-09T12:34:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:34:47.369165Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;da43eed6-0a10-494e-8cab-22947c175f7d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7f39dd4e-1aa9-4ec7-850f-8b0f532634d9\&quot;,\n    \&quot;uid\&quot;: \&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716841757Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716793758Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.421632054Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.427001232Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.487742462Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.493855895Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716747080Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:34:47.716763220Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DaOCAvF2Kd2N\&quot;,\n        \&quot;username\&quot;: \&quot;user-da43eed6-0a10-494e-8cab-22947c175f7d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:34:47.369165Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;), &quot;resourceVersion&quot;: String(&quot;7f39dd4e-1aa9-4ec7-850f-8b0f532634d9&quot;), &quot;uid&quot;: String(&quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716841757Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716793758Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.421632054Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.427001232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.487742462Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.493855895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716747080Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:34:47.716763220Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DaOCAvF2Kd2N&quot;), &quot;username&quot;: String(&quot;user-da43eed6-0a10-494e-8cab-22947c175f7d&quot;)})})})})
[2022-05-09T12:34:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5ODYsImlhdCI6MTY1MjA5OTY4NiwiYXV0aF90aW1lIjoxNjUyMDk5NjgzLCJqdGkiOiI4NmNlMjFmMS1iNDZmLTRhNDMtOGVhMi0wYWExNGM4YzY2MzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVX205eS1HdVlxRG5zaVVhbkVERzVnIiwic2Vzc2lvbl9zdGF0ZSI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.igzazL6DzxFCpZXjIcuSNPrvrNTfOxSvSPUbhePf5xcSNysUdM2fAawaKzDlVfvHCNURxT_HD8wauQn5TKe3wXwVGVytfUUPxZlJxv6ijJ92WJj8op-Qia1iV-UpOA3R1Cpg7yVKTA2PkDcS4v3PbHa2UpS1-ctEmUAj9ytowaAt1GhqQrJEKW9w499wWmDex16LXDEMsb8Oq_G3BL6LqyQMf_t8aaHMVZfGh4hVOhGEBGhktNyboFUDXVrLKfm0vmG_NZkl-KxBFGa6FSyymhv5vikz_Dk30Nd5mkFbs3toXYCmNh7W3_rUAHgpwZb3sEA4fW0-bpxBtzSZ3H4cSw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:34:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5ODYsImlhdCI6MTY1MjA5OTY4NiwiYXV0aF90aW1lIjoxNjUyMDk5NjgzLCJqdGkiOiI4NmNlMjFmMS1iNDZmLTRhNDMtOGVhMi0wYWExNGM4YzY2MzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVX205eS1HdVlxRG5zaVVhbkVERzVnIiwic2Vzc2lvbl9zdGF0ZSI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.igzazL6DzxFCpZXjIcuSNPrvrNTfOxSvSPUbhePf5xcSNysUdM2fAawaKzDlVfvHCNURxT_HD8wauQn5TKe3wXwVGVytfUUPxZlJxv6ijJ92WJj8op-Qia1iV-UpOA3R1Cpg7yVKTA2PkDcS4v3PbHa2UpS1-ctEmUAj9ytowaAt1GhqQrJEKW9w499wWmDex16LXDEMsb8Oq_G3BL6LqyQMf_t8aaHMVZfGh4hVOhGEBGhktNyboFUDXVrLKfm0vmG_NZkl-KxBFGa6FSyymhv5vikz_Dk30Nd5mkFbs3toXYCmNh7W3_rUAHgpwZb3sEA4fW0-bpxBtzSZ3H4cSw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;7cf179af-65f1-4db8-9da9-5e92bf31594e&quot;, persistence: None, user_data: None }
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a70d30
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a70d30
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717a6fa80, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b565d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717f8e790, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIwOTk5ODYsImlhdCI6MTY1MjA5OTY4NiwiYXV0aF90aW1lIjoxNjUyMDk5NjgzLCJqdGkiOiI4NmNlMjFmMS1iNDZmLTRhNDMtOGVhMi0wYWExNGM4YzY2MzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVX205eS1HdVlxRG5zaVVhbkVERzVnIiwic2Vzc2lvbl9zdGF0ZSI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMzgwMWU2LTUxNDctNDA2OS1hNzcwLTdkMTllM2QyMDFlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.igzazL6DzxFCpZXjIcuSNPrvrNTfOxSvSPUbhePf5xcSNysUdM2fAawaKzDlVfvHCNURxT_HD8wauQn5TKe3wXwVGVytfUUPxZlJxv6ijJ92WJj8op-Qia1iV-UpOA3R1Cpg7yVKTA2PkDcS4v3PbHa2UpS1-ctEmUAj9ytowaAt1GhqQrJEKW9w499wWmDex16LXDEMsb8Oq_G3BL6LqyQMf_t8aaHMVZfGh4hVOhGEBGhktNyboFUDXVrLKfm0vmG_NZkl-KxBFGa6FSyymhv5vikz_Dk30Nd5mkFbs3toXYCmNh7W3_rUAHgpwZb3sEA4fW0-bpxBtzSZ3H4cSw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:34:48Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;&#x27; @ QOS 0
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:34:52Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:34:52Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:34:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c00c200, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x5617178318f0 } }, data: MessageData { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x5617178318f0 } } } }
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717ae3160, 0x7f4b2800a510
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a510, 0x7f4b28001290
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a510, 0x7f4b28000c70
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x56171798bfb0
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28000c70, 0x7f4b2800a260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a260, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a260, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a260, 0x7f4b28001260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a260, 0x7f4b280015c0
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b280015c0, 0x7f4b2800a260
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b2800a260, 0x561717a04a40
[2022-05-09T12:34:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b2800a260
[2022-05-09T12:34:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;21f0e947-1f4b-4abe-a000-f136f967b61c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-09T12:34:52.237094709+00:00&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;partitionkey&quot;: &quot;da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;applicationuid&quot;: &quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;application&quot;: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;source&quot;: &quot;drogue://da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:34:53Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;547868f3-591a-48a7-8287-35ec9d56b1d4&quot;, persistence: None, user_data: None }
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a01b20
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a01b20
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x5617179e3a20, password: 0x561717cc3520, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a02810, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717cfa500, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@da43eed6-0a10-494e-8cab-22947c175f7d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c010840, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717982c00 } }, data: MessageData { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717982c00 } } } }
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717c79ff0, 0x561717abf7f0
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717abf7f0, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717abf7f0, 0x7f4b30001bf0
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x56171786b120
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x7f4b30009a20
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717abf930
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x7f4b300040e0
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300040e0, 0x7f4b30009a20
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x561717c7b280
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30009a20, 0x7f4b30003c40
[2022-05-09T12:34:53Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30003c40
[2022-05-09T12:34:53Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717d58970 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717d58970 } } } }
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;partitionkey&quot;: &quot;da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:34:53.356075850+00:00&quot;, &quot;id&quot;: &quot;004929ce-52b7-4bde-9e2e-5d1c4c4963d5&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;senderuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:34:53Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c00d830, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7f4b1c010c70 } }, data: MessageData { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x7f4b1c010c70 } } } }
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004cf0, 0x7f4b30001bd0
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bd0, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bd0, 0x7f4b30000e00
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b1c032560
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b30001e90
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c032880
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b300040e0
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300040e0, 0x7f4b30001e90
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b300040e0
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300040e0, 0x7f4b1c010b60
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b300040e0
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;source&quot;: &quot;drogue://da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;2313cd08-7905-48ae-8593-72c84b2a65d9&quot;, &quot;deviceuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T12:34:53.938382565+00:00&quot;, &quot;application&quot;: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, &quot;partitionkey&quot;: &quot;da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;applicationuid&quot;: &quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x7f4b1c00dfd0 } }, data: MessageData { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x7f4b1c00dfd0 } } } }
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30003a10, 0x7f4b30001bd0
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bd0, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bd0, 0x7f4b1c010860
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1c010860, 0x7f4b1c00c650
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b1c010860, 0x7f4b30001bf0
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001bf0, 0x7f4b30000e00
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b1c002980
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b1c003800
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30000e00, 0x7f4b30001e90
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b30000e00
[2022-05-09T12:34:54Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b3000bb80
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/da43eed6-0a10-494e-8cab-22947c175f7d&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;source&quot;: &quot;drogue://da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;application&quot;: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;da43eed6%2D0a10%2D494e%2D8cab%2D22947c175f7d/device1&quot;, &quot;applicationuid&quot;: &quot;c86af692-8d69-4f23-ac26-4f6e6e4b83cf&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;3b55fc64-d6d8-4715-9309-1d5e55549cf2&quot;, &quot;senderuid&quot;: &quot;1b9737a6-f1b9-447d-ab7e-e89b77a1eeaa&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;time&quot;: &quot;2022-05-09T12:34:53.927295946+00:00&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;}, payload: &quot;&quot; }
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:34:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:34:54Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:34:54Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot; &quot;device1&quot;
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;da43eed6-0a10-494e-8cab-22947c175f7d&#x27;
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;da43eed6-0a10-494e-8cab-22947c175f7d&quot;
[2022-05-09T12:34:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App da43eed6-0a10-494e-8cab-22947c175f7d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 15s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:36:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:36:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:36:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:36:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:36:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:36:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:36:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:36:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:36:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:36:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE1NzYsImlhdCI6MTY1MjA5OTc3NiwianRpIjoiYzJjYzgyOWItZTc5YS00NGNiLWExZTYtOTk2ZDdjNmQ0ZTlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQ4Z0ZWdXdQT1EwMjBMQzFyWXJtTkEiLCJzZXNzaW9uX3N0YXRlIjoiMWVlYmM3NTgtOWFmYi00NWYzLThkYTktODVlZWRjNTc0ODQyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiJ9.FkW4OfyqSm1LTbm5rWflS_3DPbUaDowDvKgp-5jLNQk
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE1NzYsImlhdCI6MTY1MjA5OTc3NiwianRpIjoiYzJjYzgyOWItZTc5YS00NGNiLWExZTYtOTk2ZDdjNmQ0ZTlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQ4Z0ZWdXdQT1EwMjBMQzFyWXJtTkEiLCJzZXNzaW9uX3N0YXRlIjoiMWVlYmM3NTgtOWFmYi00NWYzLThkYTktODVlZWRjNTc0ODQyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiJ9.FkW4OfyqSm1LTbm5rWflS_3DPbUaDowDvKgp-5jLNQk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 0ccd4c58-9dbe-4cc0-84a9-661fd1975717
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0ccd4c58-9dbe-4cc0-84a9-661fd1975717 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;
[2022-05-09T12:36:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:36:17.937905Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;18238fa3-1791-4fd4-a245-2d5d6011ab29\&quot;,\n    \&quot;uid\&quot;: \&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956750682Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956656105Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956455088Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956514940Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956515661Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956516593Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956517635Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.956580964Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:36:17.937905Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;), &quot;resourceVersion&quot;: String(&quot;18238fa3-1791-4fd4-a245-2d5d6011ab29&quot;), &quot;uid&quot;: String(&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956750682Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956656105Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956455088Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956514940Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956515661Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956516593Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956517635Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.956580964Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T12:36:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:36:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;
[2022-05-09T12:36:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:36:17.937905Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ed6c5d37-3bc0-4d2d-a681-ee7d7dd4e535\&quot;,\n    \&quot;uid\&quot;: \&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330787078Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330744959Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.981030781Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.987070866Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.079508522Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.088049347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330697340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330716956Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;scTmXSzW7GM1\&quot;,\n        \&quot;username\&quot;: \&quot;user-0ccd4c58-9dbe-4cc0-84a9-661fd1975717\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:36:17.937905Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;), &quot;resourceVersion&quot;: String(&quot;ed6c5d37-3bc0-4d2d-a681-ee7d7dd4e535&quot;), &quot;uid&quot;: String(&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330787078Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330744959Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.981030781Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.987070866Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.079508522Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.088049347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330697340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330716956Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;scTmXSzW7GM1&quot;), &quot;username&quot;: String(&quot;user-0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;)})})})})
[2022-05-09T12:36:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:36:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:36:17.937905Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ed6c5d37-3bc0-4d2d-a681-ee7d7dd4e535\&quot;,\n    \&quot;uid\&quot;: \&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330787078Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330744959Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.981030781Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:17.987070866Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.079508522Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.088049347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330697340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:36:18.330716956Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;scTmXSzW7GM1\&quot;,\n        \&quot;username\&quot;: \&quot;user-0ccd4c58-9dbe-4cc0-84a9-661fd1975717\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:36:17.937905Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;), &quot;resourceVersion&quot;: String(&quot;ed6c5d37-3bc0-4d2d-a681-ee7d7dd4e535&quot;), &quot;uid&quot;: String(&quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330787078Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330744959Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.981030781Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:17.987070866Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.079508522Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.088049347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330697340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:36:18.330716956Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;scTmXSzW7GM1&quot;), &quot;username&quot;: String(&quot;user-0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;)})})})})
[2022-05-09T12:36:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:36:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAwNzcsImlhdCI6MTY1MjA5OTc3NywiYXV0aF90aW1lIjoxNjUyMDk5NzczLCJqdGkiOiJhMzk2MWRlMC0wNWRjLTQ5YmEtOWMyNy1jM2Q2NDg5ZGFkMDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0OGdGVnV3UE9RMDIwTEMxcllybU5BIiwic2Vzc2lvbl9zdGF0ZSI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aMWrwAaMOwKDQJbRyG53FvVa50fffRaa3F08qMn_H6QE7rcKvfzSRiFNeMR78cX1R4zRbYb7YJ8Kml1ZYCQ4YCmuZDoPaipD18dvRIBWfGMOWhSlfCXsdWOixxWqm90wPd8Lq2FV8neeFvIO0zconfPKfZDCSd50kbm4J89bj07X2uWbj9fQr7JWaH1uXEiGXG1v3sKn5imvxxum8esDJwexhWiix7LkpYd5aRKq6QOb6J3BfU0nSqPA2OXppREdTSr_kYpta5w56w4OCS343MKKAvsI5kq2dqoE8Jui30G-f9D0xR1AxfLBOkzZAzxa_m7QB1WmlVJc3fGQDwzQZg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:36:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAwNzcsImlhdCI6MTY1MjA5OTc3NywiYXV0aF90aW1lIjoxNjUyMDk5NzczLCJqdGkiOiJhMzk2MWRlMC0wNWRjLTQ5YmEtOWMyNy1jM2Q2NDg5ZGFkMDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0OGdGVnV3UE9RMDIwTEMxcllybU5BIiwic2Vzc2lvbl9zdGF0ZSI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aMWrwAaMOwKDQJbRyG53FvVa50fffRaa3F08qMn_H6QE7rcKvfzSRiFNeMR78cX1R4zRbYb7YJ8Kml1ZYCQ4YCmuZDoPaipD18dvRIBWfGMOWhSlfCXsdWOixxWqm90wPd8Lq2FV8neeFvIO0zconfPKfZDCSd50kbm4J89bj07X2uWbj9fQr7JWaH1uXEiGXG1v3sKn5imvxxum8esDJwexhWiix7LkpYd5aRKq6QOb6J3BfU0nSqPA2OXppREdTSr_kYpta5w56w4OCS343MKKAvsI5kq2dqoE8Jui30G-f9D0xR1AxfLBOkzZAzxa_m7QB1WmlVJc3fGQDwzQZg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;93c138ba-9899-42cb-977c-6973b4938a80&quot;, persistence: None, user_data: None }
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a087a0
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a087a0
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x561717a08e10, connectTimeout: 30, retryInterval: 0, ssl: 0x561717a2d0f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x56171783d0c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAwNzcsImlhdCI6MTY1MjA5OTc3NywiYXV0aF90aW1lIjoxNjUyMDk5NzczLCJqdGkiOiJhMzk2MWRlMC0wNWRjLTQ5YmEtOWMyNy1jM2Q2NDg5ZGFkMDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0OGdGVnV3UE9RMDIwTEMxcllybU5BIiwic2Vzc2lvbl9zdGF0ZSI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlZWJjNzU4LTlhZmItNDVmMy04ZGE5LTg1ZWVkYzU3NDg0MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aMWrwAaMOwKDQJbRyG53FvVa50fffRaa3F08qMn_H6QE7rcKvfzSRiFNeMR78cX1R4zRbYb7YJ8Kml1ZYCQ4YCmuZDoPaipD18dvRIBWfGMOWhSlfCXsdWOixxWqm90wPd8Lq2FV8neeFvIO0zconfPKfZDCSd50kbm4J89bj07X2uWbj9fQr7JWaH1uXEiGXG1v3sKn5imvxxum8esDJwexhWiix7LkpYd5aRKq6QOb6J3BfU0nSqPA2OXppREdTSr_kYpta5w56w4OCS343MKKAvsI5kq2dqoE8Jui30G-f9D0xR1AxfLBOkzZAzxa_m7QB1WmlVJc3fGQDwzQZg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:36:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;&#x27; @ QOS 0
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:36:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:36:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:36:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:36:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:36:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:36:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:36:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:36:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:36:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:36:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:36:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:36:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:36:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:36:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:36:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:36:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4b1c0140e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x561717b68b30 } }, data: MessageData { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x561717b68b30 } } } }
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179682e0, 0x561717bcc050
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcc050, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcc050, 0x56171784cc50
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171784cc50, 0x561717bcc770
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x56171784cc50, 0x7f4b30005300
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005300, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005300, 0x7f4b30001cc0
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cc0, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cc0, 0x561717c82ed0
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cc0, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001cc0, 0x7f4b30001eb0
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001eb0, 0x7f4b30004310
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x561717bcd450
[2022-05-09T12:36:22Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30004310
[2022-05-09T12:36:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;partitionkey&quot;: &quot;0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;applicationuid&quot;: &quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-09T12:36:22.519574186+00:00&quot;, &quot;id&quot;: &quot;9bd93b32-9a3d-4c5a-8478-edb2d15c9233&quot;, &quot;deviceuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:36:23Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;15dff4d0-ab10-4ae5-8f77-6702d99238f3&quot;, persistence: None, user_data: None }
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a098a0
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a098a0
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717a9b910, password: 0x561717a9b8f0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717b68660, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717a9b610, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f4b1c00aa20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x56171787def0 } }, data: MessageData { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x56171787def0 } } } }
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717956840, 0x5617179e94c0
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e94c0, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e94c0, 0x561717bcc050
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcc050, 0x7f4b1c019bf0
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717bcc050, 0x7f4b30004310
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b30004330
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004330, 0x7f4b30004310
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c01acf0
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b30005300
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30005300, 0x7f4b1c014400
[2022-05-09T12:36:23Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30005300
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;id&quot;: &quot;73eb8c32-9446-4bee-9069-73fb9d31e7e2&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;time&quot;: &quot;2022-05-09T12:36:23.830722733+00:00&quot;, &quot;applicationuid&quot;: &quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;partitionkey&quot;: &quot;0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;application&quot;: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T12:36:23Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178a4540 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x5617178a4540 } } } }
[2022-05-09T12:36:23Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f4b1c007f50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717b97810 } }, data: MessageData { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x561717b97810 } } } }
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x561717f4f570, 0x7f4b28001060
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001060, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28001060, 0x7f4b28007830
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007830, 0x7f4b28007170
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28007830, 0x7f4b28005330
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x561717a9b910
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x7f4b28005750
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005750, 0x7f4b28005330
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005330, 0x7f4b28005750
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005750, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b28005750, 0x7f4b30000bf0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b28005750
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;senderuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;time&quot;: &quot;2022-05-09T12:36:23.994228302+00:00&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;, &quot;deviceuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;id&quot;: &quot;1d914951-d73c-4736-a217-9066d0c31f86&quot;, &quot;source&quot;: &quot;drogue://0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x561717bc0490 } }, data: MessageData { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x561717bc0490 } } } }
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b300042d0, 0x7f4b30001e70
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e70, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e70, 0x5617179e94c0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e94c0, 0x7f4b1c02fc30
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x5617179e94c0, 0x7f4b30004310
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30004310, 0x7f4b30001e50
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e50, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e50, 0x7f4b30001e90
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c02f4c0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b1c00abb0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f4b30001e90, 0x7f4b300096e0
[2022-05-09T12:36:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f4b30004c30
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T12:36:23.990801976+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;applicationuid&quot;: &quot;e7c7a8b7-7ec8-45b4-85ae-0b512fffd78c&quot;, &quot;application&quot;: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;id&quot;: &quot;2a176111-523f-4b54-987f-e9ffdd687c7b&quot;, &quot;deviceuid&quot;: &quot;f4607149-10a0-4d23-84d6-28befde70fde&quot;, &quot;source&quot;: &quot;drogue://0ccd4c58%2D9dbe%2D4cc0%2D84a9%2D661fd1975717/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;&quot; }
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:36:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:36:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:36:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot; &quot;device1&quot;
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&#x27;
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0ccd4c58-9dbe-4cc0-84a9-661fd1975717&quot;
[2022-05-09T12:36:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0ccd4c58-9dbe-4cc0-84a9-661fd1975717 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 15s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:36:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:36:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:36:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:36:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:36:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:36:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:36:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:36:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:36:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:36:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:37:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE2MjEsImlhdCI6MTY1MjA5OTgyMSwianRpIjoiZDRiMDZjZjUtNThlZC00YjZmLWJmODktNTUwYTU2ZWI5ODM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFRbVcwRkN3MnFERjdFNjVIaW9YVUEiLCJzZXNzaW9uX3N0YXRlIjoiYzZhYmI0MDQtZmY5ZC00MzczLTgzZjEtYjhjNjUxZDMwZDAxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSJ9.6aPPqMz17NkOKTkaMxxb2gUEWw8lsJVYahsQGuuqwNc
[2022-05-09T12:37:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:37:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE2MjEsImlhdCI6MTY1MjA5OTgyMSwianRpIjoiZDRiMDZjZjUtNThlZC00YjZmLWJmODktNTUwYTU2ZWI5ODM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFRbVcwRkN3MnFERjdFNjVIaW9YVUEiLCJzZXNzaW9uX3N0YXRlIjoiYzZhYmI0MDQtZmY5ZC00MzczLTgzZjEtYjhjNjUxZDMwZDAxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSJ9.6aPPqMz17NkOKTkaMxxb2gUEWw8lsJVYahsQGuuqwNc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:37:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:02Z INFO  drogue_cloud_tests::resources::apps] Create application: 987717bc-1bbe-4eb8-94f6-b4b9160098d3
[2022-05-09T12:37:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;
[2022-05-09T12:37:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 987717bc-1bbe-4eb8-94f6-b4b9160098d3 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;
[2022-05-09T12:37:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:02.926556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;22a3026d-2e3f-4abc-bf70-bdfcb240db6b\&quot;,\n    \&quot;uid\&quot;: \&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937248951Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937273457Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937198336Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937200871Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937201612Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937202374Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937202875Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.937223243Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:02.926556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;), &quot;resourceVersion&quot;: String(&quot;22a3026d-2e3f-4abc-bf70-bdfcb240db6b&quot;), &quot;uid&quot;: String(&quot;b8810570-cfe0-4016-a045-792be3bc97e3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937248951Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937273457Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937198336Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937200871Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937201612Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937202374Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937202875Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.937223243Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T12:37:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:02.926556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;530aa072-d696-43cc-bda0-4dbf642d0f9e\&quot;,\n    \&quot;uid\&quot;: \&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377337005Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377512865Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.971184756Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.977446347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.050812681Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.060178984Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377128073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377299434Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AZXC7gZqZXur\&quot;,\n        \&quot;username\&quot;: \&quot;user-987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:02.926556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;), &quot;resourceVersion&quot;: String(&quot;530aa072-d696-43cc-bda0-4dbf642d0f9e&quot;), &quot;uid&quot;: String(&quot;b8810570-cfe0-4016-a045-792be3bc97e3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377337005Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377512865Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.971184756Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.977446347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.050812681Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.060178984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377128073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377299434Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AZXC7gZqZXur&quot;), &quot;username&quot;: String(&quot;user-987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;)})})})})
[2022-05-09T12:37:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:02.926556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;530aa072-d696-43cc-bda0-4dbf642d0f9e\&quot;,\n    \&quot;uid\&quot;: \&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377337005Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377512865Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.971184756Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:02.977446347Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.050812681Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.060178984Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377128073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:03.377299434Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;AZXC7gZqZXur\&quot;,\n        \&quot;username\&quot;: \&quot;user-987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:02.926556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;), &quot;resourceVersion&quot;: String(&quot;530aa072-d696-43cc-bda0-4dbf642d0f9e&quot;), &quot;uid&quot;: String(&quot;b8810570-cfe0-4016-a045-792be3bc97e3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377337005Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377512865Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.971184756Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:02.977446347Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.050812681Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.060178984Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377128073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:03.377299434Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;AZXC7gZqZXur&quot;), &quot;username&quot;: String(&quot;user-987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;)})})})})
[2022-05-09T12:37:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:37:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMjEsImlhdCI6MTY1MjA5OTgyMSwiYXV0aF90aW1lIjoxNjUyMDk5ODE4LCJqdGkiOiI1OGRhZGJjMy1lMGI4LTQ3ODMtOTljMC04OTA3MzdjNjQ1ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhUW1XMEZDdzJxREY3RTY1SGlvWFVBIiwic2Vzc2lvbl9zdGF0ZSI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.j97WNji8gbMcs6RZFailN86z8N5k_ABxxXqHH6uB66I1qc_Y3vE1O4ArKNogITj3t3UXAx8_meUeRWMea07zxhRgn6-T-GSHj0oxT6LS8_CbEITe9bNqAMdeVeh8AArV4q3AYt4OBLCLo0SaDUxoOY1e3tin7sl6UsILBSdF7pcjuXE6if8QROI9HvHgK0vLLExb2SAjai69MFWQWVjNKVeDYM7Ah6pwCaJBdWE9StjNQN6PNe92gnzcUFkp_bNP6pv9eO_jp32hCXoUyiMRjP0ze-1_XUkw-X3ajJ7hW26uPzP_rJsI5g2KdswjOKx6_FxHbdLuw1BNiC473t9cJg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:37:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMjEsImlhdCI6MTY1MjA5OTgyMSwiYXV0aF90aW1lIjoxNjUyMDk5ODE4LCJqdGkiOiI1OGRhZGJjMy1lMGI4LTQ3ODMtOTljMC04OTA3MzdjNjQ1ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhUW1XMEZDdzJxREY3RTY1SGlvWFVBIiwic2Vzc2lvbl9zdGF0ZSI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.j97WNji8gbMcs6RZFailN86z8N5k_ABxxXqHH6uB66I1qc_Y3vE1O4ArKNogITj3t3UXAx8_meUeRWMea07zxhRgn6-T-GSHj0oxT6LS8_CbEITe9bNqAMdeVeh8AArV4q3AYt4OBLCLo0SaDUxoOY1e3tin7sl6UsILBSdF7pcjuXE6if8QROI9HvHgK0vLLExb2SAjai69MFWQWVjNKVeDYM7Ah6pwCaJBdWE9StjNQN6PNe92gnzcUFkp_bNP6pv9eO_jp32hCXoUyiMRjP0ze-1_XUkw-X3ajJ7hW26uPzP_rJsI5g2KdswjOKx6_FxHbdLuw1BNiC473t9cJg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;64a190f1-b00a-4e78-b047-5893d25d27f7&quot;, persistence: None, user_data: None }
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179e9220
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179e9220
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x5617179e98a0, connectTimeout: 30, retryInterval: 0, ssl: 0x561717c83c80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617179b2170, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMjEsImlhdCI6MTY1MjA5OTgyMSwiYXV0aF90aW1lIjoxNjUyMDk5ODE4LCJqdGkiOiI1OGRhZGJjMy1lMGI4LTQ3ODMtOTljMC04OTA3MzdjNjQ1ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhUW1XMEZDdzJxREY3RTY1SGlvWFVBIiwic2Vzc2lvbl9zdGF0ZSI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2YWJiNDA0LWZmOWQtNDM3My04M2YxLWI4YzY1MWQzMGQwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.j97WNji8gbMcs6RZFailN86z8N5k_ABxxXqHH6uB66I1qc_Y3vE1O4ArKNogITj3t3UXAx8_meUeRWMea07zxhRgn6-T-GSHj0oxT6LS8_CbEITe9bNqAMdeVeh8AArV4q3AYt4OBLCLo0SaDUxoOY1e3tin7sl6UsILBSdF7pcjuXE6if8QROI9HvHgK0vLLExb2SAjai69MFWQWVjNKVeDYM7Ah6pwCaJBdWE9StjNQN6PNe92gnzcUFkp_bNP6pv9eO_jp32hCXoUyiMRjP0ze-1_XUkw-X3ajJ7hW26uPzP_rJsI5g2KdswjOKx6_FxHbdLuw1BNiC473t9cJg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:37:04Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;&#x27; @ QOS 0
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b1c009510, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c009790 } }, data: MessageData { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 54, 50, 97, 53, 56, 56, 55, 45, 97, 98, 100, 51, 45, 52, 55, 102, 102, 45, 97, 102, 102, 100, 45, 56, 101, 99, 101, 55, 48, 48, 53, 102, 98, 56, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 48, 55, 46, 54, 49, 49, 57, 49, 53, 50, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 56, 56, 49, 48, 53, 55, 48, 45, 99, 102, 101, 48, 45, 52, 48, 49, 54, 45, 97, 48, 52, 53, 45, 55, 57, 50, 98, 101, 51, 98, 99, 57, 55, 101, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 45, 49, 98, 98, 101, 45, 52, 101, 98, 56, 45, 57, 52, 102, 54, 45, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c009790 } } } }
[2022-05-09T12:37:07Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b411d0
[2022-05-09T12:37:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e62a5887-abd3-47ff-affd-8ece7005fb8f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:07.611915291Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;,\&quot;senderuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\&quot;partitionkey\&quot;:\&quot;987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;}&quot; }
[2022-05-09T12:37:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:37:08Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:37:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:37:08Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:37:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;a6792e6b-ca69-4d05-becf-f4ee5bb11842&quot;, persistence: None, user_data: None }
[2022-05-09T12:37:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:37:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x561717a01080
[2022-05-09T12:37:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x561717a01080
[2022-05-09T12:37:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717cff7a0, password: 0x5617179b3540, connectTimeout: 30, retryInterval: 0, ssl: 0x561717aa6c10, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x561717d00250, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b1c007d50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c007fe0 } }, data: MessageData { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 49, 51, 49, 56, 57, 53, 100, 45, 102, 52, 57, 55, 45, 52, 53, 49, 98, 45, 57, 97, 51, 99, 45, 48, 48, 56, 53, 97, 51, 51, 50, 49, 101, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 48, 56, 46, 55, 51, 48, 49, 55, 49, 49, 51, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 56, 56, 49, 48, 53, 55, 48, 45, 99, 102, 101, 48, 45, 52, 48, 49, 54, 45, 97, 48, 52, 53, 45, 55, 57, 50, 98, 101, 51, 98, 99, 57, 55, 101, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 45, 49, 98, 98, 101, 45, 52, 101, 98, 56, 45, 57, 52, 102, 54, 45, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c007fe0 } } } }
[2022-05-09T12:37:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b411d0
[2022-05-09T12:37:09Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a05c90 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717a05c90 } } } }
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c131895d-f497-451b-9a3c-0085a3321e55\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:08.730171135Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;applicationuid\&quot;:\&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\&quot;partitionkey\&quot;:\&quot;987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;}&quot; }
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b1c0260b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c008180 } }, data: MessageData { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 48, 57, 55, 99, 57, 57, 48, 45, 102, 99, 54, 98, 45, 52, 57, 54, 48, 45, 56, 56, 52, 55, 45, 102, 54, 102, 51, 56, 48, 50, 56, 53, 102, 55, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 48, 57, 46, 48, 56, 51, 57, 55, 51, 54, 57, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 45, 49, 98, 98, 101, 45, 52, 101, 98, 56, 45, 57, 52, 102, 54, 45, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 56, 56, 49, 48, 53, 55, 48, 45, 99, 102, 101, 48, 45, 52, 48, 49, 54, 45, 97, 48, 52, 53, 45, 55, 57, 50, 98, 101, 51, 98, 99, 57, 55, 101, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c008180 } } } }
[2022-05-09T12:37:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b411d0
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c097c990-fc6b-4960-8847-f6f380285f72\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:09.083973699Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;application\&quot;:\&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;,\&quot;applicationuid\&quot;:\&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;,\&quot;partitionkey\&quot;:\&quot;987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;}&quot; }
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b1c007d50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c008180 } }, data: MessageData { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 100, 54, 48, 52, 57, 49, 48, 45, 48, 102, 56, 102, 45, 52, 99, 50, 56, 45, 98, 50, 52, 100, 45, 97, 99, 100, 97, 56, 99, 52, 48, 98, 100, 48, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 48, 57, 46, 48, 55, 57, 53, 48, 50, 55, 50, 54, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 52, 102, 49, 51, 50, 51, 57, 45, 56, 56, 97, 97, 45, 52, 48, 52, 56, 45, 57, 97, 101, 101, 45, 101, 55, 97, 102, 98, 54, 54, 57, 50, 53, 53, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 37, 50, 68, 49, 98, 98, 101, 37, 50, 68, 52, 101, 98, 56, 37, 50, 68, 57, 52, 102, 54, 37, 50, 68, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 56, 56, 49, 48, 53, 55, 48, 45, 99, 102, 101, 48, 45, 52, 48, 49, 54, 45, 97, 48, 52, 53, 45, 55, 57, 50, 98, 101, 51, 98, 99, 57, 55, 101, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 57, 56, 55, 55, 49, 55, 98, 99, 45, 49, 98, 98, 101, 45, 52, 101, 98, 56, 45, 57, 52, 102, 54, 45, 98, 52, 98, 57, 49, 54, 48, 48, 57, 56, 100, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c008180 } } } }
[2022-05-09T12:37:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717b411d0
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bd604910-0f8f-4c28-b24d-acda8c40bd05\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:09.079502726Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;deviceuid\&quot;:\&quot;a4f13239-88aa-4048-9aee-e7afb6692556\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;987717bc%2D1bbe%2D4eb8%2D94f6%2Db4b9160098d3/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;b8810570-cfe0-4016-a045-792be3bc97e3\&quot;,\&quot;application\&quot;:\&quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3\&quot;}&quot; }
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:37:09Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:37:09Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot; &quot;device1&quot;
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;987717bc-1bbe-4eb8-94f6-b4b9160098d3&#x27;
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;987717bc-1bbe-4eb8-94f6-b4b9160098d3&quot;
[2022-05-09T12:37:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 987717bc-1bbe-4eb8-94f6-b4b9160098d3 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T12:37:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T12:37:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:37:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:37:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:37:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:37:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T12:37:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T12:37:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:37:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T12:37:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T12:37:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE2MzYsImlhdCI6MTY1MjA5OTgzNiwianRpIjoiZTlmNmRiMzEtYzQ4ZS00MWI0LTg4MzctYzFhNmM2ZjYzNDczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik8xZEROT1RiR1ktV2taXzJvbUt1NVEiLCJzZXNzaW9uX3N0YXRlIjoiNTFiYjE2YmItOTk2Mi00NGE2LTg1ZGEtOTA3M2FiM2E0NDNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiJ9.279_e-ADnRPk6NlhslF28yKrTyQ-t5t5vX1Uo4Pm6vU
[2022-05-09T12:37:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T12:37:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI1ZWU4NmM4NC1lNjNjLTQxODEtOTE0Ny02YjQ5NjM2OTgyNzkifQ.eyJleHAiOjE2NTIxMDE2MzYsImlhdCI6MTY1MjA5OTgzNiwianRpIjoiZTlmNmRiMzEtYzQ4ZS00MWI0LTg4MzctYzFhNmM2ZjYzNDczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjQ2YTY5YjBjLTMwYWQtNDAyMi1iZGY4LTZlNzNjMThjMjkwOCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik8xZEROT1RiR1ktV2taXzJvbUt1NVEiLCJzZXNzaW9uX3N0YXRlIjoiNTFiYjE2YmItOTk2Mi00NGE2LTg1ZGEtOTA3M2FiM2E0NDNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiJ9.279_e-ADnRPk6NlhslF28yKrTyQ-t5t5vX1Uo4Pm6vU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T12:37:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:17Z INFO  drogue_cloud_tests::resources::apps] Create application: ea897a2a-4a32-4d05-9b47-648a900270e6
[2022-05-09T12:37:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;
[2022-05-09T12:37:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ea897a2a-4a32-4d05-9b47-648a900270e6 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;
[2022-05-09T12:37:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:17.416515Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0894037b-3d6f-40de-b3f2-7f75ecffc93f\&quot;,\n    \&quot;uid\&quot;: \&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.427829683Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:17.416515Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;), &quot;resourceVersion&quot;: String(&quot;0894037b-3d6f-40de-b3f2-7f75ecffc93f&quot;), &quot;uid&quot;: String(&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.427829683Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T12:37:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:17.416515Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;efb2a228-343c-426e-8bde-7fb531386661\&quot;,\n    \&quot;uid\&quot;: \&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759654737Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759615414Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.477229315Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.492138121Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.541668098Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.547408963Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759451606Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759467636Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QdlQ6GvTctZN\&quot;,\n        \&quot;username\&quot;: \&quot;user-ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:17.416515Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;), &quot;resourceVersion&quot;: String(&quot;efb2a228-343c-426e-8bde-7fb531386661&quot;), &quot;uid&quot;: String(&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759654737Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759615414Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.477229315Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.492138121Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.541668098Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.547408963Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759451606Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759467636Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QdlQ6GvTctZN&quot;), &quot;username&quot;: String(&quot;user-ea897a2a-4a32-4d05-9b47-648a900270e6&quot;)})})})})
[2022-05-09T12:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T12:37:17.416515Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;efb2a228-343c-426e-8bde-7fb531386661\&quot;,\n    \&quot;uid\&quot;: \&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759654737Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759615414Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.477229315Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.492138121Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.541668098Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.547408963Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759451606Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T12:37:17.759467636Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QdlQ6GvTctZN\&quot;,\n        \&quot;username\&quot;: \&quot;user-ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T12:37:17.416515Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;), &quot;resourceVersion&quot;: String(&quot;efb2a228-343c-426e-8bde-7fb531386661&quot;), &quot;uid&quot;: String(&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759654737Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759615414Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.477229315Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.492138121Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.541668098Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.547408963Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759451606Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T12:37:17.759467636Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QdlQ6GvTctZN&quot;), &quot;username&quot;: String(&quot;user-ea897a2a-4a32-4d05-9b47-648a900270e6&quot;)})})})})
[2022-05-09T12:37:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMzYsImlhdCI6MTY1MjA5OTgzNiwiYXV0aF90aW1lIjoxNjUyMDk5ODMzLCJqdGkiOiI5N2RhM2VhMy02MTBmLTQ2NmItOTQ3Mi0yMzIxZDNhNmVmZTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPMWRETk9UYkdZLVdrWl8yb21LdTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BmowvTNeU3tyEGYdyeuTfrpNt6riYPpv626YSsb-HHHfQ-ZT2fMu6j6dfeG3wf3l5NXeRNtP7wVIZgfsJ6ziIKxhuMNFygrSMvKgZfM67VEhhtX4LknVu0uOKLakKx_XaKlyAM2wdOx_C7jDVA8FlPOfCKQG3fFh2UURIYvdLWxRLODuAGQLtYFA5MW0y3E5OcRRPnK9B7neV6kBiNjtxquPz7WQwkrQ8G0BMyQcqyhZzBSX2LEgsY6hOwZ4PgO53dJ2PH4F3igxFVaWsKtd8jljiymfRAop0EEjhABmXl-ef9MTcUpv7behn5ytx4tHI3Oq7u79SLIJCcwR6ITWvg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T12:37:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMzYsImlhdCI6MTY1MjA5OTgzNiwiYXV0aF90aW1lIjoxNjUyMDk5ODMzLCJqdGkiOiI5N2RhM2VhMy02MTBmLTQ2NmItOTQ3Mi0yMzIxZDNhNmVmZTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPMWRETk9UYkdZLVdrWl8yb21LdTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BmowvTNeU3tyEGYdyeuTfrpNt6riYPpv626YSsb-HHHfQ-ZT2fMu6j6dfeG3wf3l5NXeRNtP7wVIZgfsJ6ziIKxhuMNFygrSMvKgZfM67VEhhtX4LknVu0uOKLakKx_XaKlyAM2wdOx_C7jDVA8FlPOfCKQG3fFh2UURIYvdLWxRLODuAGQLtYFA5MW0y3E5OcRRPnK9B7neV6kBiNjtxquPz7WQwkrQ8G0BMyQcqyhZzBSX2LEgsY6hOwZ4PgO53dJ2PH4F3igxFVaWsKtd8jljiymfRAop0EEjhABmXl-ef9MTcUpv7behn5ytx4tHI3Oq7u79SLIJCcwR6ITWvg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;34e66583-4de0-437e-b6a4-62cc284c70c6&quot;, persistence: None, user_data: None }
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617178a7c20
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617178a7c20
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x56171788ac60, connectTimeout: 30, retryInterval: 0, ssl: 0x56171788c4a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178a83e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2QlpCZ2lWOXhkejNQRzNtLWRiRUxBVmRTWXluRm9qTHEzZTVJcktSMURVIn0.eyJleHAiOjE2NTIxMDAxMzYsImlhdCI6MTY1MjA5OTgzNiwiYXV0aF90aW1lIjoxNjUyMDk5ODMzLCJqdGkiOiI5N2RhM2VhMy02MTBmLTQ2NmItOTQ3Mi0yMzIxZDNhNmVmZTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiNDZhNjliMGMtMzBhZC00MDIyLWJkZjgtNmU3M2MxOGMyOTA4IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPMWRETk9UYkdZLVdrWl8yb21LdTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUxYmIxNmJiLTk5NjItNDRhNi04NWRhLTkwNzNhYjNhNDQzZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BmowvTNeU3tyEGYdyeuTfrpNt6riYPpv626YSsb-HHHfQ-ZT2fMu6j6dfeG3wf3l5NXeRNtP7wVIZgfsJ6ziIKxhuMNFygrSMvKgZfM67VEhhtX4LknVu0uOKLakKx_XaKlyAM2wdOx_C7jDVA8FlPOfCKQG3fFh2UURIYvdLWxRLODuAGQLtYFA5MW0y3E5OcRRPnK9B7neV6kBiNjtxquPz7WQwkrQ8G0BMyQcqyhZzBSX2LEgsY6hOwZ4PgO53dJ2PH4F3igxFVaWsKtd8jljiymfRAop0EEjhABmXl-ef9MTcUpv7behn5ytx4tHI3Oq7u79SLIJCcwR6ITWvg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:37:18Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;&#x27; @ QOS 0
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T12:37:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T12:37:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T12:37:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T12:37:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f4b1c02b3b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02b630 } }, data: MessageData { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 48, 50, 101, 48, 48, 52, 48, 45, 102, 101, 98, 100, 45, 52, 101, 51, 55, 45, 57, 55, 50, 51, 45, 51, 100, 54, 100, 97, 55, 48, 48, 55, 97, 53, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 50, 50, 46, 54, 51, 49, 50, 55, 53, 53, 55, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 51, 101, 49, 56, 55, 50, 45, 100, 49, 57, 98, 45, 52, 51, 98, 57, 45, 56, 97, 101, 53, 45, 55, 56, 99, 99, 99, 102, 55, 56, 99, 50, 54, 102, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 45, 52, 97, 51, 50, 45, 52, 100, 48, 53, 45, 57, 98, 52, 55, 45, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c02b630 } } } }
[2022-05-09T12:37:22Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717987a40
[2022-05-09T12:37:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;202e0040-febd-4e37-9723-3d6da7007a5d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:22.631275578Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;applicationuid\&quot;:\&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;}&quot; }
[2022-05-09T12:37:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T12:37:23Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T12:37:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T12:37:23Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T12:37:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;f1e8e8f5-b092-46d7-8cf5-d71e1666fe57&quot;, persistence: None, user_data: None }
[2022-05-09T12:37:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T12:37:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x5617179c84a0
[2022-05-09T12:37:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x5617179c84a0
[2022-05-09T12:37:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x561717bcd650, password: 0x5617179cf080, connectTimeout: 30, retryInterval: 0, ssl: 0x561717c0a180, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x5617178c8cd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@ea897a2a-4a32-4d05-9b47-648a900270e6&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T12:37:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc4bd0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x561717cc4bd0 } } } }
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f4b1c0012d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001560 } }, data: MessageData { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 98, 56, 56, 52, 52, 55, 48, 45, 56, 97, 102, 102, 45, 52, 52, 53, 97, 45, 97, 51, 50, 101, 45, 52, 98, 99, 51, 53, 51, 54, 101, 49, 55, 53, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 50, 51, 46, 55, 52, 54, 56, 49, 53, 56, 50, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 51, 101, 49, 56, 55, 50, 45, 100, 49, 57, 98, 45, 52, 51, 98, 57, 45, 56, 97, 101, 53, 45, 55, 56, 99, 99, 99, 102, 55, 56, 99, 50, 54, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 45, 52, 97, 51, 50, 45, 52, 100, 48, 53, 45, 57, 98, 52, 55, 45, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001560 } } } }
[2022-05-09T12:37:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717987a40
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4b884470-8aff-445a-a32e-4bc3536e175d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:23.746815820Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;applicationuid\&quot;:\&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;application\&quot;:\&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\&quot;partitionkey\&quot;:\&quot;ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f4b1c02da40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001560 } }, data: MessageData { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 55, 54, 48, 97, 54, 97, 97, 45, 57, 49, 102, 50, 45, 52, 48, 101, 102, 45, 97, 56, 100, 51, 45, 57, 56, 55, 53, 97, 48, 51, 57, 57, 55, 102, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 50, 52, 46, 48, 57, 48, 57, 52, 57, 48, 49, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 45, 52, 97, 51, 50, 45, 52, 100, 48, 53, 45, 57, 98, 52, 55, 45, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 51, 101, 49, 56, 55, 50, 45, 100, 49, 57, 98, 45, 52, 51, 98, 57, 45, 56, 97, 101, 53, 45, 55, 56, 99, 99, 99, 102, 55, 56, 99, 50, 54, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001560 } } } }
[2022-05-09T12:37:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717987a40
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e760a6aa-91f2-40ef-a8d3-9875a03997f4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:24.090949013Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\&quot;partitionkey\&quot;:\&quot;ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f4b1c0015b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001830 } }, data: MessageData { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 101, 98, 49, 57, 101, 99, 48, 45, 55, 55, 99, 56, 45, 52, 51, 99, 100, 45, 56, 57, 98, 102, 45, 98, 48, 56, 55, 56, 53, 101, 102, 98, 100, 55, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 50, 58, 51, 55, 58, 50, 52, 46, 48, 56, 55, 49, 49, 53, 49, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 37, 50, 68, 52, 97, 51, 50, 37, 50, 68, 52, 100, 48, 53, 37, 50, 68, 57, 98, 52, 55, 37, 50, 68, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 100, 51, 101, 49, 56, 55, 50, 45, 100, 49, 57, 98, 45, 52, 51, 98, 57, 45, 56, 97, 101, 53, 45, 55, 56, 99, 99, 99, 102, 55, 56, 99, 50, 54, 102, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 97, 56, 57, 55, 97, 50, 97, 45, 52, 97, 51, 50, 45, 52, 100, 48, 53, 45, 57, 98, 52, 55, 45, 54, 52, 56, 97, 57, 48, 48, 50, 55, 48, 101, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 54, 97, 57, 57, 101, 45, 54, 48, 55, 99, 45, 52, 49, 100, 98, 45, 98, 55, 50, 51, 45, 57, 102, 99, 55, 53, 100, 50, 54, 50, 48, 97, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4b1c001830 } } } }
[2022-05-09T12:37:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x561717987a40
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1eb19ec0-77c8-43cd-89bf-b08785efbd75\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T12:37:24.087115174Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;partitionkey\&quot;:\&quot;ea897a2a%2D4a32%2D4d05%2D9b47%2D648a900270e6/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0d3e1872-d19b-43b9-8ae5-78cccf78c26f\&quot;,\&quot;application\&quot;:\&quot;ea897a2a-4a32-4d05-9b47-648a900270e6\&quot;,\&quot;senderuid\&quot;:\&quot;a5f6a99e-607c-41db-b723-9fc75d2620a0\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T12:37:24Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T12:37:24Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot; &quot;device1&quot;
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ea897a2a-4a32-4d05-9b47-648a900270e6&#x27;
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ea897a2a-4a32-4d05-9b47-648a900270e6&quot;
[2022-05-09T12:37:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ea897a2a-4a32-4d05-9b47-648a900270e6 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 13s

## ✅ tests::registry::api::test_registry_create_app

**Duration**: 16s

## ✅ tests::registry::drg::test_registry_create_and_delete

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 8s

## ✅ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 12s

## ✅ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 13s
