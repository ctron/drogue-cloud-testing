---
title: "❌ Test Result 2022-06-03 17:09 UTC"
date: 2022-06-03T17:09:56.712053964+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 148 | 4 | 144 | 0 | 0 | 18m 17s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/feature/update_deps_3`

    Commit: 0487f055a3cdd5f0422979e77b968cf6c19e07ba
    Author: Jens Reimann <jreimann@redhat.com>
    Date: Fri, 03 Jun 2022 13:56:16 -0200

        chore: drop dead code

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2435695038](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2435695038)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 13s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ❌ | 8s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ❌ | 8s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ❌ | 8s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::integration::test_qos_1_dropping](#testsintegrationtest_qos_1_dropping) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ❌ | 6s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 6s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 6s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ❌ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ❌ | 7s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ❌ | 6s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ❌ | 7s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 13s

## ❌ tests::coap::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5MjcsImlhdCI6MTY1NDI3NTEyNywianRpIjoiZGVkNWE0ODgtM2Q3Yi00ZDQxLWIyZjctNWZmZTc4ODc0ZTI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVoTFV1cmh3V3JYWDc2VG9pNS1hVXciLCJzZXNzaW9uX3N0YXRlIjoiMjgzOWFmOTEtYmVhYy00ZmYxLWIwZDItNjA1YjgyNTM5ZWJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4MzlhZjkxLWJlYWMtNGZmMS1iMGQyLTYwNWI4MjUzOWViZSJ9.RuIGEJdODHu7pJySS7eTL6OYHc0D0BP1Np6o-qS8LNk
[2022-06-03T16:52:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-06-03T16:52:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5MjcsImlhdCI6MTY1NDI3NTEyNywianRpIjoiZGVkNWE0ODgtM2Q3Yi00ZDQxLWIyZjctNWZmZTc4ODc0ZTI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVoTFV1cmh3V3JYWDc2VG9pNS1hVXciLCJzZXNzaW9uX3N0YXRlIjoiMjgzOWFmOTEtYmVhYy00ZmYxLWIwZDItNjA1YjgyNTM5ZWJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4MzlhZjkxLWJlYWMtNGZmMS1iMGQyLTYwNWI4MjUzOWViZSJ9.RuIGEJdODHu7pJySS7eTL6OYHc0D0BP1Np6o-qS8LNk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0MjcsImlhdCI6MTY1NDI3NTEyNywiYXV0aF90aW1lIjoxNjU0Mjc1MTI0LCJqdGkiOiI3ZjNhYzMwZC1kOWRjLTQyNjktOTU5ZC01MTRhNjljNDBhOTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFaExVdXJod1dyWFg3NlRvaTUtYVV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjI4MzlhZjkxLWJlYWMtNGZmMS1iMGQyLTYwNWI4MjUzOWViZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4MzlhZjkxLWJlYWMtNGZmMS1iMGQyLTYwNWI4MjUzOWViZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HHbXxmEsg3Du3aVkYMdgVuv96nDECh6Jvp9fPJg9oopxLaS3h5WQwqw6Ymbb31Zi_X7Gwm9lzDzofCkV_Sb41wUmAo_W5RUESjJQLa6Dum4BHmNmePf2JYWE2DCLDUuL3LqOOR2a06BamWI2CD2prESV0WETAE7MlI0L3Rqs5BkCNjBI3PNTOYSSsnKKTvlgc2Zq4vLr7J1q8prdQ334mzp9e1ExTz2Klhk9-Za3a0OY6vO5DL_wSgXYmtYFQo07kfDAYWWSgLlVAXwRvEyB8CNk7x3acwBF9b6Yg_lPAE1i2PZyh9QnivXH4b75Hv1ukePefPmYGLuW7XZUiNRN1Q\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::resources::apps] Create application: e2e0872b-256c-45ad-be22-653c9fef7638
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e2e0872b-256c-45ad-be22-653c9fef7638&quot;
[2022-06-03T16:52:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/command.rs:44:10

</pre>

</details>

## ❌ tests::coap::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5MzUsImlhdCI6MTY1NDI3NTEzNSwianRpIjoiOTE1M2JkYzgtOTNmYS00NTFhLTljYmItOTRkMzY2ODAwNTIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQ1OVl3Z0ZobjVPYjh3Smk4bVJneVEiLCJzZXNzaW9uX3N0YXRlIjoiYzQyZjAwYTctMzJmMy00YzExLWJjYmItMmQ0N2JjNjQ3ZmZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MmYwMGE3LTMyZjMtNGMxMS1iY2JiLTJkNDdiYzY0N2ZmZSJ9.tk-qSzauabT5NqBk-8sfAUTRBtMC1Dp_JLhYxis0078
[2022-06-03T16:52:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5MzUsImlhdCI6MTY1NDI3NTEzNSwianRpIjoiOTE1M2JkYzgtOTNmYS00NTFhLTljYmItOTRkMzY2ODAwNTIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQ1OVl3Z0ZobjVPYjh3Smk4bVJneVEiLCJzZXNzaW9uX3N0YXRlIjoiYzQyZjAwYTctMzJmMy00YzExLWJjYmItMmQ0N2JjNjQ3ZmZlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MmYwMGE3LTMyZjMtNGMxMS1iY2JiLTJkNDdiYzY0N2ZmZSJ9.tk-qSzauabT5NqBk-8sfAUTRBtMC1Dp_JLhYxis0078&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0MzUsImlhdCI6MTY1NDI3NTEzNSwiYXV0aF90aW1lIjoxNjU0Mjc1MTMyLCJqdGkiOiJhZDgyY2I3MC1hYTQzLTRkN2UtYjI1ZS1kOTFkODBhMTg4MTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUNTlZd2dGaG41T2I4d0ppOG1SZ3lRIiwic2Vzc2lvbl9zdGF0ZSI6ImM0MmYwMGE3LTMyZjMtNGMxMS1iY2JiLTJkNDdiYzY0N2ZmZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MmYwMGE3LTMyZjMtNGMxMS1iY2JiLTJkNDdiYzY0N2ZmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Y5Vmj0kq95i3dXFNQR-W5gbm0Qi9xuA4g3S8oH2WDklUg91DAzP54e4jkKlyw9xTM3FBV7TqtHqxtA4PJu23UoUkHJBhwTKlthS_Kykq-NAxrgRbiraX8UzvewLIm9gLRl0rxKYvSiVGdNdk83zJaIY7DTeAUv71u84PR3EaTm5ik9lYs2XhoJQ3buxYKdDK7VcKns2pdJb6oVLKSqK8SaM0y32kyzIwVf2dL1531ql7WIdUXcraDpbJDWFhBO9wL0OOTboTwYKf8ETWlsNQaucd4inMJ-AywJ07ev8aFPvWDFIzlwOCWFmuflmqCDBzkO4J3K4WyEBH8cI6Lt2UjQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::resources::apps] Create application: f8e2bee3-99f1-4a14-91c2-694d85deb5a1
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f8e2bee3-99f1-4a14-91c2-694d85deb5a1&quot;
[2022-06-03T16:52:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/command.rs:44:10

</pre>

</details>

## ❌ tests::coap::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NDMsImlhdCI6MTY1NDI3NTE0MywianRpIjoiODNmNjI1ZTYtODNhYy00OGE0LTljOTYtOTg4Yjg2ZGZhY2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBoWXV5c2dtQXVQU1NtMVp2dTN3VlEiLCJzZXNzaW9uX3N0YXRlIjoiNjE5M2RlZjQtNzMwYi00MjE4LTk4ZjgtNWVkOTkzMzNjZmJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxOTNkZWY0LTczMGItNDIxOC05OGY4LTVlZDk5MzMzY2ZiYSJ9.ExjTJyhJ_7MqCesXFCTserc2Pxzt3H2mURuBfUBe7vI
[2022-06-03T16:52:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NDMsImlhdCI6MTY1NDI3NTE0MywianRpIjoiODNmNjI1ZTYtODNhYy00OGE0LTljOTYtOTg4Yjg2ZGZhY2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBoWXV5c2dtQXVQU1NtMVp2dTN3VlEiLCJzZXNzaW9uX3N0YXRlIjoiNjE5M2RlZjQtNzMwYi00MjE4LTk4ZjgtNWVkOTkzMzNjZmJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxOTNkZWY0LTczMGItNDIxOC05OGY4LTVlZDk5MzMzY2ZiYSJ9.ExjTJyhJ_7MqCesXFCTserc2Pxzt3H2mURuBfUBe7vI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0NDMsImlhdCI6MTY1NDI3NTE0MywiYXV0aF90aW1lIjoxNjU0Mjc1MTM5LCJqdGkiOiJiMzk2Yjc4Ny03Zjc3LTRmOTYtYWVhNi0yMTgwNTJkZTU5ZDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwaFl1eXNnbUF1UFNTbTFadnUzd1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjYxOTNkZWY0LTczMGItNDIxOC05OGY4LTVlZDk5MzMzY2ZiYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxOTNkZWY0LTczMGItNDIxOC05OGY4LTVlZDk5MzMzY2ZiYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZqIltOVIfgFD8iPdA3AcnNQ6tKczei4Ms3X5v4DB0mHvObLSPQNIE7pzp1LG9t3Thr-W7CPzBJTiCJZwehDB3P52Ii-V42oDvGTBK1kaYU4ro_PxTIlj-ge8t-xcb-gY5Z06jmaBKobpaCtPGGcEsBI_EEqp5LPk5abpHtZ2I0XaQR90ko2CckAcuKx8TGrxUi2XEpHuqd7eKul0FJc5h-d8uNg6RWb8OIUPPGWY-NY7L2W_gj12lZOsIlokZ4IfOd7JrPurNVdxJWeT_6SMFROx13DaVTORJRrF0hEjQW4l6F9Y2xPQXjuP39pKoql2Bm0tcjnWrz47QlSgkHj6Mg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 4f0efb6d-fbc4-49b1-8bbc-77c7f474819c
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4f0efb6d-fbc4-49b1-8bbc-77c7f474819c&quot;
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/command.rs:44:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:24Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:52:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NTAsImlhdCI6MTY1NDI3NTE1MCwianRpIjoiMTNjMzA4YTQtYjUwNi00MWZhLThjNGEtY2MxMTE4YWE1ZGZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRoTUo5Q3hkNGhIMno3V0gySnlLa3ciLCJzZXNzaW9uX3N0YXRlIjoiOWM3ZjcxZTMtZmJmYi00NzdkLThmYzMtYTdmMWIxMzJjNTM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljN2Y3MWUzLWZiZmItNDc3ZC04ZmMzLWE3ZjFiMTMyYzUzOCJ9.6K7dR7b653CJ5te8zveJuH09d0l5JWLI3UOvJAOmjCc
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NTAsImlhdCI6MTY1NDI3NTE1MCwianRpIjoiMTNjMzA4YTQtYjUwNi00MWZhLThjNGEtY2MxMTE4YWE1ZGZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRoTUo5Q3hkNGhIMno3V0gySnlLa3ciLCJzZXNzaW9uX3N0YXRlIjoiOWM3ZjcxZTMtZmJmYi00NzdkLThmYzMtYTdmMWIxMzJjNTM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljN2Y3MWUzLWZiZmItNDc3ZC04ZmMzLWE3ZjFiMTMyYzUzOCJ9.6K7dR7b653CJ5te8zveJuH09d0l5JWLI3UOvJAOmjCc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0NTEsImlhdCI6MTY1NDI3NTE1MSwiYXV0aF90aW1lIjoxNjU0Mjc1MTQ4LCJqdGkiOiJjZGRhZTVkOS1mMzE0LTQ4NDctYWI2NC1lZmU0ZDI3MDNiM2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0aE1KOUN4ZDRoSDJ6N1dIMkp5S2t3Iiwic2Vzc2lvbl9zdGF0ZSI6IjljN2Y3MWUzLWZiZmItNDc3ZC04ZmMzLWE3ZjFiMTMyYzUzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljN2Y3MWUzLWZiZmItNDc3ZC04ZmMzLWE3ZjFiMTMyYzUzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HYeCuMMIyzA1gWwFWZJ7LgI9QqZQoUk6IP2hRTHCERZWJUql4T_-_UealmJERWAawfibkuLkWhnsNx1ZpZ8IjRSuxCuLb3eLx2NIIW8nPEZMLTzHIsxMkfduBcq0iv5TxvD53RJmUGJgtlUJuDRwnkzBzApa7kKi452PSGIdl1cFfkq2fwpy7fcxNQIP-DLPR5fdq03XlkunufI26j9gjomYynwTYB9NekYoeQg7Xh-ZyQaXHAh4zyDyjRnBVKs7KbLVpMDsAff-nyUqHJQIselcE5iK7tsEqEBOl8lHTJQcLggt5mvzAg3S4cSOTlUinppn2PO595C5mufa9-jWqQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::resources::apps] Create application: f9a829e9-a2a2-4070-9554-37f9931714e8
[2022-06-03T16:52:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f9a829e9-a2a2-4070-9554-37f9931714e8&quot;
[2022-06-03T16:52:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:32Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:52:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NTgsImlhdCI6MTY1NDI3NTE1OCwianRpIjoiNDM0YzE2ZjktZjJjOS00Y2U2LTg5NzktN2Y4NmVlNGNmOWYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRja3Rpbk91c0RYRmFZd1lZR3lyNXciLCJzZXNzaW9uX3N0YXRlIjoiYTg4NDFiNWMtYzQzYS00ZGViLTk3ZGItZDZlNDU0YjBlZjRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4ODQxYjVjLWM0M2EtNGRlYi05N2RiLWQ2ZTQ1NGIwZWY0YSJ9._9m5VGgcgqlJKK4rxyfWrla-dYGgC09psfWm_5faCrA
[2022-06-03T16:52:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NTgsImlhdCI6MTY1NDI3NTE1OCwianRpIjoiNDM0YzE2ZjktZjJjOS00Y2U2LTg5NzktN2Y4NmVlNGNmOWYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRja3Rpbk91c0RYRmFZd1lZR3lyNXciLCJzZXNzaW9uX3N0YXRlIjoiYTg4NDFiNWMtYzQzYS00ZGViLTk3ZGItZDZlNDU0YjBlZjRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4ODQxYjVjLWM0M2EtNGRlYi05N2RiLWQ2ZTQ1NGIwZWY0YSJ9._9m5VGgcgqlJKK4rxyfWrla-dYGgC09psfWm_5faCrA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0NTgsImlhdCI6MTY1NDI3NTE1OCwiYXV0aF90aW1lIjoxNjU0Mjc1MTU1LCJqdGkiOiIwNTEyNGRmNy04ZTU1LTQ1MDEtYTFjNy00ODRlMDQ3ZTA3NDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0Y2t0aW5PdXNEWEZhWXdZWUd5cjV3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE4ODQxYjVjLWM0M2EtNGRlYi05N2RiLWQ2ZTQ1NGIwZWY0YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4ODQxYjVjLWM0M2EtNGRlYi05N2RiLWQ2ZTQ1NGIwZWY0YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GdaHvh9QK6XZm4xF9YLG7WsO1mm9yl8mfP9RfRcn8r0coUKHYIa5Vgenv2Eck5Nmilk1U0y6XFsB27C2MlNW-E0gQH0cDodGYhArMQuD6f2bdY1I3kIjcvGCZ-L9r4futmz624ULbwq-ZrhABt16UQ0YQ_Zpc7If5MtKZY3Zh3854d-HknIHavHVKJMn4dn3RZRIZq7N77EVSXFDcVPyUsVizPb22EB5XPyIXnO_4WYa6a6usb7jjcO2hgGWbxlS5EsedwWEAU6RU_blE0rD_bfBF_0oJjCUerLE2wLZp9PTom5dSh01Pyf1t_RjB3xwiwXsMnCVBwqoQLgW8OV2HA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::resources::apps] Create application: ae7cfda0-53fd-4594-8e5c-8e3a3b6c0b4b
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ae7cfda0-53fd-4594-8e5c-8e3a3b6c0b4b&quot;
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:39Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:52:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NjUsImlhdCI6MTY1NDI3NTE2NSwianRpIjoiYWQ2ZWYyNDQtZTlmNi00ZTk5LTlmYTUtYzE2NDY1NzI0MDIzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFWUnd0OVptUG4zV29tOWhHM3F2T1EiLCJzZXNzaW9uX3N0YXRlIjoiZTMxYWYyMGUtOGMwYS00NDMzLWI3MmQtMjNjN2QyMDYzZmI3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzMWFmMjBlLThjMGEtNDQzMy1iNzJkLTIzYzdkMjA2M2ZiNyJ9.1YzisMvnccqo0SkKtIG1NhV7yGAZE1cZswVTUiXruqQ
[2022-06-03T16:52:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NjUsImlhdCI6MTY1NDI3NTE2NSwianRpIjoiYWQ2ZWYyNDQtZTlmNi00ZTk5LTlmYTUtYzE2NDY1NzI0MDIzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFWUnd0OVptUG4zV29tOWhHM3F2T1EiLCJzZXNzaW9uX3N0YXRlIjoiZTMxYWYyMGUtOGMwYS00NDMzLWI3MmQtMjNjN2QyMDYzZmI3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzMWFmMjBlLThjMGEtNDQzMy1iNzJkLTIzYzdkMjA2M2ZiNyJ9.1YzisMvnccqo0SkKtIG1NhV7yGAZE1cZswVTUiXruqQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0NjUsImlhdCI6MTY1NDI3NTE2NSwiYXV0aF90aW1lIjoxNjU0Mjc1MTYyLCJqdGkiOiJlOTkxNWU3OC0xOTNhLTQzM2ItODI4My0wNjgzMjIyZTdlNDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRVlJ3dDlabVBuM1dvbTloRzNxdk9RIiwic2Vzc2lvbl9zdGF0ZSI6ImUzMWFmMjBlLThjMGEtNDQzMy1iNzJkLTIzYzdkMjA2M2ZiNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzMWFmMjBlLThjMGEtNDQzMy1iNzJkLTIzYzdkMjA2M2ZiNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jGVT3Aamk6T77o5kVtNJwekeVFdaoMi5t7KFVa9DgHLcYEC8p-CoLWhoDW0E-hnjZXZhb2daFk2bL1w7Jxn85U3xG7qEJYzfSqfW4Y_mEx3PyZE7MFWQGYrQLSn2juK43LfW_5je_9uFY95S0VPpC1itGs184WfYgXCCnnlJbWR2BxB3d7wbZr8_RT-Pre8Isp4lec-5nrBTVL1vKGCgD-M-c554Hn9fb1iA-Tdp5aWeg-IjOTdnk7IzSDVTIERUue3HxyRPO15uaqzk1itkPLsaUEBgV95WOlwUDJ5qSwvpdK4aoLccGcXbc-iWfn2BJejrIifBuYutxdKImBFAAA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 1cdd91c4-6f8e-4d11-b125-615bc7eee5fb
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1cdd91c4-6f8e-4d11-b125-615bc7eee5fb&quot;
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:46Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:52:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NzMsImlhdCI6MTY1NDI3NTE3MywianRpIjoiYWIxZmE5MjctNjI4MS00NjE2LWFlYzUtMWQ5OTMyMTE0ODgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVEWnNfVmVZMEZXOS1ndnVQWloyeWciLCJzZXNzaW9uX3N0YXRlIjoiZTVkZWUwYTMtYTI0NC00NGMzLWE1NDItODdjYzZkYTViNzIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU1ZGVlMGEzLWEyNDQtNDRjMy1hNTQyLTg3Y2M2ZGE1YjcyMiJ9.9oMkv1k7tN1jWt1XaQ06d3TrQIRK4xA4GgUyDH0tlHU
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5NzMsImlhdCI6MTY1NDI3NTE3MywianRpIjoiYWIxZmE5MjctNjI4MS00NjE2LWFlYzUtMWQ5OTMyMTE0ODgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVEWnNfVmVZMEZXOS1ndnVQWloyeWciLCJzZXNzaW9uX3N0YXRlIjoiZTVkZWUwYTMtYTI0NC00NGMzLWE1NDItODdjYzZkYTViNzIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU1ZGVlMGEzLWEyNDQtNDRjMy1hNTQyLTg3Y2M2ZGE1YjcyMiJ9.9oMkv1k7tN1jWt1XaQ06d3TrQIRK4xA4GgUyDH0tlHU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:52:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0NzMsImlhdCI6MTY1NDI3NTE3MywiYXV0aF90aW1lIjoxNjU0Mjc1MTY5LCJqdGkiOiJlZDUzMGVmMS0yNzA5LTQzYzctOTJkZi1lYzQ1OGUwYzkyZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1RFpzX1ZlWTBGVzktZ3Z1UFpaMnlnIiwic2Vzc2lvbl9zdGF0ZSI6ImU1ZGVlMGEzLWEyNDQtNDRjMy1hNTQyLTg3Y2M2ZGE1YjcyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU1ZGVlMGEzLWEyNDQtNDRjMy1hNTQyLTg3Y2M2ZGE1YjcyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M1zgLf72FfQMk2Ql6PInxX4htaqUPCcQ_XlUNX4jjN-3j_E41IUm0IQ9GGZwbZi6N4wGkGWzcmL2LZjuaznNzWEIfXYC9Ol5XRP0WCRTU6nGOsdDZ0-lKeJ0fsOGW4Uyqc2R7LzfIri3cAKXGVqI6cPeq_YQNHzD2Vwvjn2rKJO5ncnFpUIdZwDz1st_jNFrxjhKZW4kaV4pMvOpeahdBlvivRF0ND47GQdFbVnhgahaQ2iFrj-6zxAnaznvVIgPOD36m045jNNuIDv_x92NFqsFeo4w92sy6dwq3dqmhQdk3yFZe19r4Ua7IBtvvyWGCt9SK12zuhU0EbIqSL3C-A\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:52:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 62f38dea-0e4d-444f-b53c-d73f3040407c
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;62f38dea-0e4d-444f-b53c-d73f3040407c&quot;
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:52:53Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:52:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:52:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:52:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:52:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:52:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:52:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:52:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:52:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5ODAsImlhdCI6MTY1NDI3NTE4MCwianRpIjoiZGI5NDU2OTMtYTM0NC00MGRlLWJiM2EtMGM3ZDVlMDA5NDBhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikxqb1NsMnNiVDRxV0pkOUhtdkZKdmciLCJzZXNzaW9uX3N0YXRlIjoiYTA3MDBmMWMtZGVmZC00NmQ1LWI3ZDUtODhkMmJlOTkzYWEyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEwNzAwZjFjLWRlZmQtNDZkNS1iN2Q1LTg4ZDJiZTk5M2FhMiJ9.ORIAeutG1H_YNxZvqO47O8ipDj5NJtfDAg4jfFIXdvA
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5ODAsImlhdCI6MTY1NDI3NTE4MCwianRpIjoiZGI5NDU2OTMtYTM0NC00MGRlLWJiM2EtMGM3ZDVlMDA5NDBhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikxqb1NsMnNiVDRxV0pkOUhtdkZKdmciLCJzZXNzaW9uX3N0YXRlIjoiYTA3MDBmMWMtZGVmZC00NmQ1LWI3ZDUtODhkMmJlOTkzYWEyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEwNzAwZjFjLWRlZmQtNDZkNS1iN2Q1LTg4ZDJiZTk5M2FhMiJ9.ORIAeutG1H_YNxZvqO47O8ipDj5NJtfDAg4jfFIXdvA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0ODEsImlhdCI6MTY1NDI3NTE4MSwiYXV0aF90aW1lIjoxNjU0Mjc1MTc3LCJqdGkiOiJjZjhlMTM1Zi00ZGY1LTQ3ZDctYWFkMC1jNzRhMWMxNmJhMTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMam9TbDJzYlQ0cVdKZDlIbXZGSnZnIiwic2Vzc2lvbl9zdGF0ZSI6ImEwNzAwZjFjLWRlZmQtNDZkNS1iN2Q1LTg4ZDJiZTk5M2FhMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEwNzAwZjFjLWRlZmQtNDZkNS1iN2Q1LTg4ZDJiZTk5M2FhMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I701KIMGn-AVgXW22MANHKGZjL26-F4x2klEtplkgQMTFb5QUWzF3fAIvPXZB85vaobFOydID_S_QrRvry-Gp7v8DF3EJY1xns1buf8bBFAM3NCPtH2vxl_WG-2sV-bU9ir4zscvg5Dbrgr6mVK3gY-pndfH3Sl_bizaD-Cb_fZ5hjRPm1gvxR05DotwTyKNWiyLuyXfs28mhM0RQzRnALQdat3o8-_QU5ODI4KmeVqdYaCLh-G2YvCSwWmoA4qpiuhHzFM7ZYSGCyo9PqUTAZrVnO2ToyYM9IITRojfZx1ysVY7N4svFplgQQaXJpw3PzhfZRSIdcS12vTPD-CNFQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::resources::apps] Create application: 3e1f8baf-656e-4fc2-b260-5de810e6a5a4
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3e1f8baf-656e-4fc2-b260-5de810e6a5a4&quot;
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:01Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5ODgsImlhdCI6MTY1NDI3NTE4OCwianRpIjoiZjUyM2Y2NDgtMzg3ZC00Y2U4LWI1YzYtMGNmNTg1ZGE0ZjMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndyMFJyTXFUdWlNbEV1YzBMS2VhMWciLCJzZXNzaW9uX3N0YXRlIjoiNjk4YWIzMmItNWEwZC00ZDZmLWIyYjYtZjExZmFlMDY5MDgzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5OGFiMzJiLTVhMGQtNGQ2Zi1iMmI2LWYxMWZhZTA2OTA4MyJ9.83ohLfHVajj20ZxDT5cJkI28pmTvQ0t6DQnFNkDUIJw
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5ODgsImlhdCI6MTY1NDI3NTE4OCwianRpIjoiZjUyM2Y2NDgtMzg3ZC00Y2U4LWI1YzYtMGNmNTg1ZGE0ZjMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndyMFJyTXFUdWlNbEV1YzBMS2VhMWciLCJzZXNzaW9uX3N0YXRlIjoiNjk4YWIzMmItNWEwZC00ZDZmLWIyYjYtZjExZmFlMDY5MDgzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5OGFiMzJiLTVhMGQtNGQ2Zi1iMmI2LWYxMWZhZTA2OTA4MyJ9.83ohLfHVajj20ZxDT5cJkI28pmTvQ0t6DQnFNkDUIJw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0ODksImlhdCI6MTY1NDI3NTE4OSwiYXV0aF90aW1lIjoxNjU0Mjc1MTg2LCJqdGkiOiI2NDQyNGQ1Yi02MTJiLTQ2ODctOTBmMi0yNmExY2VmOGMyNTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3cjBSck1xVHVpTWxFdWMwTEtlYTFnIiwic2Vzc2lvbl9zdGF0ZSI6IjY5OGFiMzJiLTVhMGQtNGQ2Zi1iMmI2LWYxMWZhZTA2OTA4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5OGFiMzJiLTVhMGQtNGQ2Zi1iMmI2LWYxMWZhZTA2OTA4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mN4RP-GEyRgx1rm7oVzjY4AhhrmZridnX9VZWvCIkuac93orWcwI06EVZtf_mp6Z72_QS7q-60OsRWAaMp79_2DOZ6Was1zOcUGXg9zz8IqIaZGLSL1cT3maSNzmX6B6YQPCQCgL9XRb43xlNUS7IAy5jvtAjzylzFwxC4EYNTXhm0k3ZCknCJO64hO-LfPP3YbpIccr3wrW4pmC6yAgj3x1ut-fDyBLJR7sAPEgVogD9ioCog48KApTqrlaLJCdm-r9NCBlD5ITpIewOJp1y6CXvj-Oa765EPK5sbhqrB5wV5WlakflJUwaR7UZ8TxRrNIoXN8duUwMubQ4S0ZPwA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 347b82d5-10d6-4a52-bc79-d46dea5397da
[2022-06-03T16:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;347b82d5-10d6-4a52-bc79-d46dea5397da&quot;
[2022-06-03T16:53:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:10Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5OTYsImlhdCI6MTY1NDI3NTE5NiwianRpIjoiMmJiY2E1OTUtZGRmNy00NzI2LTg1MjYtNzFiMWUxYzdlYTVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNzZXRPZ3U3OVlIN3FicEJBVm9ZSWciLCJzZXNzaW9uX3N0YXRlIjoiODZmYWIyYjAtMDA2ZS00NTE5LWJkZTAtMDlmZDkzODE0MWQ5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmFiMmIwLTAwNmUtNDUxOS1iZGUwLTA5ZmQ5MzgxNDFkOSJ9.XXoPELJiTaVXTqppUNC6aPT39L0mKvPACSGZAv5F3C8
[2022-06-03T16:53:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzY5OTYsImlhdCI6MTY1NDI3NTE5NiwianRpIjoiMmJiY2E1OTUtZGRmNy00NzI2LTg1MjYtNzFiMWUxYzdlYTVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNzZXRPZ3U3OVlIN3FicEJBVm9ZSWciLCJzZXNzaW9uX3N0YXRlIjoiODZmYWIyYjAtMDA2ZS00NTE5LWJkZTAtMDlmZDkzODE0MWQ5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmFiMmIwLTAwNmUtNDUxOS1iZGUwLTA5ZmQ5MzgxNDFkOSJ9.XXoPELJiTaVXTqppUNC6aPT39L0mKvPACSGZAv5F3C8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU0OTYsImlhdCI6MTY1NDI3NTE5NiwiYXV0aF90aW1lIjoxNjU0Mjc1MTkzLCJqdGkiOiJjMTY1NWU2Ni1iMTRiLTQ1MmMtOGRhMC1mZGZmMmE3ODdlNGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIzc2V0T2d1NzlZSDdxYnBCQVZvWUlnIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2ZmFiMmIwLTAwNmUtNDUxOS1iZGUwLTA5ZmQ5MzgxNDFkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmFiMmIwLTAwNmUtNDUxOS1iZGUwLTA5ZmQ5MzgxNDFkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.A95yOQ7_eSvs6Tjv16NH2RJHwCvtMRvitlEj1zw3ZG9gn2OMMev2QA4cuTVRoH0HG5ZlWgFso8p5ezW5tGrASM2XPdzBh4GTbkwGu9084vcpT4yxeKbbnlx_-VDK_0n1NkiXB1mMwKwX9jetdoDpo4gY_in7XNUDrPgFBcR94dxLxarrRVsb1G0pAF41mVGVCxTGf2KsMx_-capt2V5tBVrKjmbSbMBZTvkmaEWmmgoNCINb2qOYEvXeLzCgiat4HxElp7zl9R3mZAfBu8ApDgMMCpIEsO0DEoisDqupc2X52BwxAT4TQzoBEoXF7dWahKKiY-8uOF-jAhH-bg1LuQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 0496220b-8ef6-4f34-8927-6e3b72d59e33
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0496220b-8ef6-4f34-8927-6e3b72d59e33&quot;
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:17Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMDMsImlhdCI6MTY1NDI3NTIwMywianRpIjoiMjhhOGMyN2QtNWZmYy00ZWYxLWJkMmYtNDE5YmNkZmU4MGNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhVeURHZVJEalRMWmxiT3pKZ0Z6cUEiLCJzZXNzaW9uX3N0YXRlIjoiODAwZGE2NTYtZGE5MS00ZGY1LTgxZTItYjRjOTU5NDFjZjFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgwMGRhNjU2LWRhOTEtNGRmNS04MWUyLWI0Yzk1OTQxY2YxZCJ9.yr28zzhJTTCJo8UUrEhmWurOBK-iKDplFxlIa2JAk5Y
[2022-06-03T16:53:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMDMsImlhdCI6MTY1NDI3NTIwMywianRpIjoiMjhhOGMyN2QtNWZmYy00ZWYxLWJkMmYtNDE5YmNkZmU4MGNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhVeURHZVJEalRMWmxiT3pKZ0Z6cUEiLCJzZXNzaW9uX3N0YXRlIjoiODAwZGE2NTYtZGE5MS00ZGY1LTgxZTItYjRjOTU5NDFjZjFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgwMGRhNjU2LWRhOTEtNGRmNS04MWUyLWI0Yzk1OTQxY2YxZCJ9.yr28zzhJTTCJo8UUrEhmWurOBK-iKDplFxlIa2JAk5Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1MDQsImlhdCI6MTY1NDI3NTIwNCwiYXV0aF90aW1lIjoxNjU0Mjc1MjAwLCJqdGkiOiIyYWVjZDVmMC03OGY5LTQ1OWUtODVkNS1mNTU0YzdlMGViYTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4VXlER2VSRGpUTFpsYk96SmdGenFBIiwic2Vzc2lvbl9zdGF0ZSI6IjgwMGRhNjU2LWRhOTEtNGRmNS04MWUyLWI0Yzk1OTQxY2YxZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgwMGRhNjU2LWRhOTEtNGRmNS04MWUyLWI0Yzk1OTQxY2YxZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mT_zF1591bwPeuY2F7qngYhgvYnIvIqXPhqxCprXMuYhVovs3DFIH5-l60gePvDvGlTO0AZasBL72BsANou39-L5TzjH2bFjZ2fdrx5vrZUcM6Roy4Z4rbYrQvPqLrelAqS-6wh68T-VMl6AR5md2AvIUIuTNZdgNbRXw3aglnm9dwIObkB-zXCtblC5R6rJYfLu1nAxF53fhsje8XneFp5o9SJPttXvbPOBWkHhev24uz0XRCzAm9gAFs43_imq3143Vu9FQU33F64WQVMx7lU9wpXrsbmivaV6Pc4voYOEfz1H33bU9V7siC--F31FV9Ru8vEsONnfv9A-VV7pQQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 5185ad0c-3b99-4de2-beed-9547c4bb87f3
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5185ad0c-3b99-4de2-beed-9547c4bb87f3&quot;
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:24Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMTAsImlhdCI6MTY1NDI3NTIxMCwianRpIjoiM2M0ZDIzMTktMTUyNi00MDcwLWJmMzAtNjhjMGI1MTdlNWZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNTX2lxcGxzVzhhTjRBc1Itd0IxdlEiLCJzZXNzaW9uX3N0YXRlIjoiNDc5NTAyMDItYmU3MS00NjNlLThiYWEtYjc4NTM5MTUxODJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3OTUwMjAyLWJlNzEtNDYzZS04YmFhLWI3ODUzOTE1MTgyYSJ9.yMXvuFwm476tLMKrsT6jWxYfx7FoKiaUZ-EAiImIx94
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMTAsImlhdCI6MTY1NDI3NTIxMCwianRpIjoiM2M0ZDIzMTktMTUyNi00MDcwLWJmMzAtNjhjMGI1MTdlNWZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNTX2lxcGxzVzhhTjRBc1Itd0IxdlEiLCJzZXNzaW9uX3N0YXRlIjoiNDc5NTAyMDItYmU3MS00NjNlLThiYWEtYjc4NTM5MTUxODJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3OTUwMjAyLWJlNzEtNDYzZS04YmFhLWI3ODUzOTE1MTgyYSJ9.yMXvuFwm476tLMKrsT6jWxYfx7FoKiaUZ-EAiImIx94&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1MTEsImlhdCI6MTY1NDI3NTIxMSwiYXV0aF90aW1lIjoxNjU0Mjc1MjA4LCJqdGkiOiIwMTRlYjYzNC1lZDc4LTRmZGQtODE3Ni1jZDJhNWJiYWJjZGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjU19pcXBsc1c4YU40QXNSLXdCMXZRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ3OTUwMjAyLWJlNzEtNDYzZS04YmFhLWI3ODUzOTE1MTgyYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3OTUwMjAyLWJlNzEtNDYzZS04YmFhLWI3ODUzOTE1MTgyYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TNMCFlOc8Pnxzv0nJKu-6NzGII-HgwHXm3foIvBAR04Wbh9OyLvJCxlzHo08BfM9Aa0onWSvbM8zDaimXBO1ySRtCASqNuojhi1bAS-ofPaQu_MJ3zI6Pl9cE_ZTZEZTt20ghF6pWpIKL__sGEwXQORwM_VTQtXiCtqa4EskbS0eP8XUziuL0hzEfZix7zvsdUS-SvKAtFdNVF74fN_KHxKhhleZ7sSSOFPbpt9LTiUZkdVi4ISHfXK7wBgX24owv3Hnf3rlaaIqGokwW9NWG_ENYT0XvciTTaBlo8O54WmQfMgqSo5cTWKV7mFVNUdATRrlYM4yUscWP06UkRR7hg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 749cccd6-f689-447c-baef-462e2771b475
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;749cccd6-f689-447c-baef-462e2771b475&quot;
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:31Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMTgsImlhdCI6MTY1NDI3NTIxOCwianRpIjoiYzM2OTA5MGEtMTdiNy00MzZhLThmY2EtMTZhMGFiY2U2MTk0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjE2b3lMWkNJWHJWTFJuNVQ2N0drMEEiLCJzZXNzaW9uX3N0YXRlIjoiNDRkZTRlOWYtOWI5ZC00MWRjLTlkNjktNmUwYjMwYTk4ZDNhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0ZGU0ZTlmLTliOWQtNDFkYy05ZDY5LTZlMGIzMGE5OGQzYSJ9.U2zH-x2FsjhQJwNDWfUjvOJ_urbLRQ4w3vwXY2jq-0g
[2022-06-03T16:53:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMTgsImlhdCI6MTY1NDI3NTIxOCwianRpIjoiYzM2OTA5MGEtMTdiNy00MzZhLThmY2EtMTZhMGFiY2U2MTk0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjE2b3lMWkNJWHJWTFJuNVQ2N0drMEEiLCJzZXNzaW9uX3N0YXRlIjoiNDRkZTRlOWYtOWI5ZC00MWRjLTlkNjktNmUwYjMwYTk4ZDNhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0ZGU0ZTlmLTliOWQtNDFkYy05ZDY5LTZlMGIzMGE5OGQzYSJ9.U2zH-x2FsjhQJwNDWfUjvOJ_urbLRQ4w3vwXY2jq-0g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1MTgsImlhdCI6MTY1NDI3NTIxOCwiYXV0aF90aW1lIjoxNjU0Mjc1MjE1LCJqdGkiOiJmM2FhYTIyOS02Njg3LTRiYWEtYmI5Yi0wYzlmZTRhZDM4NzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxNm95TFpDSVhyVkxSbjVUNjdHazBBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ0ZGU0ZTlmLTliOWQtNDFkYy05ZDY5LTZlMGIzMGE5OGQzYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0ZGU0ZTlmLTliOWQtNDFkYy05ZDY5LTZlMGIzMGE5OGQzYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kRj_B9hs4edX2XI2drfXiYnJQKpGrC9gcjY8f3gBbFDN3I_T6_s6RpGm4w-4TuOEmjPj5c3f8j_mie4FEhw2YWcipgGkXyY4MfQPrrxI4qBJ0fRpEQMAvc1fsIBiZTOk099pAngOcQlD5bKhdCV39J4ywJhW1xS7e3oiKEvR9yVS-m9umQhyitSJMfD17VDWY4a-MLdJuuKdqNf6kBivVVwMzki1IRpqv5Vz4QMJxMsK84bOT4uRVicyv20ydLhJge8HKUq4ObBKx5LVOxIURuq9MXkQbtAOv6IMGl8MiCNO9rmYbShz7SmdIug0KJg5ohwQBJepg20So1U-hryprw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::resources::apps] Create application: c874677f-3dd7-4014-9d58-95f3601ede45
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c874677f-3dd7-4014-9d58-95f3601ede45&quot;
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:39Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMjUsImlhdCI6MTY1NDI3NTIyNSwianRpIjoiY2YxOTViODctNmY4MC00ZWVmLThjNjEtYzE0NGM1MzkyYjYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZ6clhYV1pTb2VnYzRBNHpWU0hNZHciLCJzZXNzaW9uX3N0YXRlIjoiODZmYjljMDUtZjI3Mi00YjQ1LWJiMzUtYzE2MDU2ZjY2YjRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmI5YzA1LWYyNzItNGI0NS1iYjM1LWMxNjA1NmY2NmI0YiJ9.4kH9cCrBwb0_pteXbNRWzWIZkpElB3Z_vXze4mqzO0M
[2022-06-03T16:53:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMjUsImlhdCI6MTY1NDI3NTIyNSwianRpIjoiY2YxOTViODctNmY4MC00ZWVmLThjNjEtYzE0NGM1MzkyYjYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZ6clhYV1pTb2VnYzRBNHpWU0hNZHciLCJzZXNzaW9uX3N0YXRlIjoiODZmYjljMDUtZjI3Mi00YjQ1LWJiMzUtYzE2MDU2ZjY2YjRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmI5YzA1LWYyNzItNGI0NS1iYjM1LWMxNjA1NmY2NmI0YiJ9.4kH9cCrBwb0_pteXbNRWzWIZkpElB3Z_vXze4mqzO0M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1MjUsImlhdCI6MTY1NDI3NTIyNSwiYXV0aF90aW1lIjoxNjU0Mjc1MjIyLCJqdGkiOiJlZjJkNmU1Yi0yZWY5LTQ3OWQtODc2Yy1kNWI2YWEwYjY2MWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2enJYWFdaU29lZ2M0QTR6VlNITWR3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg2ZmI5YzA1LWYyNzItNGI0NS1iYjM1LWMxNjA1NmY2NmI0YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2ZmI5YzA1LWYyNzItNGI0NS1iYjM1LWMxNjA1NmY2NmI0YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D0BmfOBCJPDE1FUgXEavzeLErgWJwp1EkqLrzU3hyP3C513RkkT8wwzR_GneQwX5TYsPx_dhWmzGRdfni1sGaDSQ6f6Mu8hs-_M4xID3GWqJEa6TKd_q5DJpvhDNfHw8o_FvGshKzg_ZlQhLGDzWPOX99rPKfvvAFvkedpEpOSvmz5vjhC0DBOEQmuMqJ3wU_LCehqBH8wKZYmzLw3yApP1ZZsEGRhwN6LX8F1gyYMEAtQteGFqyUGfSDCbzxo4V-ymChs6piAD6qx6mey_m8pd4ZItm3zJ4ri-bt2SZU0CB7Ldo5QwkhlGB1QFx9vBLaUqXM2LPYo3gqTkEFJd-sg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 4773b4bc-761b-4194-b18a-d6f8502031e4
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4773b4bc-761b-4194-b18a-d6f8502031e4&quot;
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:53:46Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-06-03T16:53:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:53:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:53:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:53:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:53:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:53:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMzIsImlhdCI6MTY1NDI3NTIzMiwianRpIjoiZGE4YzRjMWQtZDUxZC00OGFlLWE0YzctNjMwMzVjNDNhZmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpJZTdwbk9qVHZZd3o1aFU4OHVPY2ciLCJzZXNzaW9uX3N0YXRlIjoiNTc0YTQxZTgtMDQyOS00MzFlLWEwMzctYmY4MmY0OWUyZWQzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU3NGE0MWU4LTA0MjktNDMxZS1hMDM3LWJmODJmNDllMmVkMyJ9.5iDgfFIYsJPKnnN4bAo8bS3r6PDLYiEDjYEHkgAltFo
[2022-06-03T16:53:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:53:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwMzIsImlhdCI6MTY1NDI3NTIzMiwianRpIjoiZGE4YzRjMWQtZDUxZC00OGFlLWE0YzctNjMwMzVjNDNhZmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpJZTdwbk9qVHZZd3o1aFU4OHVPY2ciLCJzZXNzaW9uX3N0YXRlIjoiNTc0YTQxZTgtMDQyOS00MzFlLWEwMzctYmY4MmY0OWUyZWQzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU3NGE0MWU4LTA0MjktNDMxZS1hMDM3LWJmODJmNDllMmVkMyJ9.5iDgfFIYsJPKnnN4bAo8bS3r6PDLYiEDjYEHkgAltFo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:53:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1MzMsImlhdCI6MTY1NDI3NTIzMywiYXV0aF90aW1lIjoxNjU0Mjc1MjMwLCJqdGkiOiI4YTAzYjMzYi0zNTJhLTQ1NWUtOTY4MC01MmY1MmIzMmI3NGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqSWU3cG5PalR2WXd6NWhVODh1T2NnIiwic2Vzc2lvbl9zdGF0ZSI6IjU3NGE0MWU4LTA0MjktNDMxZS1hMDM3LWJmODJmNDllMmVkMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU3NGE0MWU4LTA0MjktNDMxZS1hMDM3LWJmODJmNDllMmVkMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kWD60bHDxk_iI-MefMGnu-VlTrsSeOoQBX11VPF7R36ooKuczxmuABR_qQDQduAwatXt4hXrvkfXsLj491IHXxYXRfLUkhoheNAhjDyPg_28NOUfXcTXQKW4tXSkb7du0dkO1zK5GVUVddklm7CxcwSGGmhTi8-PWoAW2cmL1K1b6h9d9sB7g8Zk88FoFTPYgJUmYLAeN2AaV9bKX-tAx42wWBdLK5XS0hovT86pKiIpPdxpp_MrTm90mlr-xaPslio8AGrZjbv7BK5KrZrZ6OpddqO_YuXx0U5fIJ_jyvVq1iqmvkYxqj13m2N-8GN7LjwdpBupMSwfpXSkT-qduQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:53:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:53:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::resources::apps] Create application: c2bb531c-6861-44f9-ac9b-bf05ee35376c
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c2bb531c-6861-44f9-ac9b-bf05ee35376c&quot;
[2022-06-03T16:53:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/coap/mod.rs:66:10

</pre>

</details>

## ✅ tests::drg::test_drg_version

**Duration**: 7s

## ❌ tests::http::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNDcsImlhdCI6MTY1NDI3NTI0NywianRpIjoiNGNmYmFlNmUtNzFmYS00MjdmLWExMzktMjUwNjhlZGM3MTc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9wbEI2a1R1TXR6RldEUndYd2RtdWciLCJzZXNzaW9uX3N0YXRlIjoiMzQ5Nzk0NDctODM1MC00NjYwLTg4MjEtOTlkZWExNDE4N2QyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM0OTc5NDQ3LTgzNTAtNDY2MC04ODIxLTk5ZGVhMTQxODdkMiJ9._wAkkVT_kTT0s2Da5EtgQvAhkswxYh5rOAgDoBWymCU
[2022-06-03T16:54:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNDcsImlhdCI6MTY1NDI3NTI0NywianRpIjoiNGNmYmFlNmUtNzFmYS00MjdmLWExMzktMjUwNjhlZGM3MTc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9wbEI2a1R1TXR6RldEUndYd2RtdWciLCJzZXNzaW9uX3N0YXRlIjoiMzQ5Nzk0NDctODM1MC00NjYwLTg4MjEtOTlkZWExNDE4N2QyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM0OTc5NDQ3LTgzNTAtNDY2MC04ODIxLTk5ZGVhMTQxODdkMiJ9._wAkkVT_kTT0s2Da5EtgQvAhkswxYh5rOAgDoBWymCU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1NDgsImlhdCI6MTY1NDI3NTI0OCwiYXV0aF90aW1lIjoxNjU0Mjc1MjQ0LCJqdGkiOiJhMjk2MWE1ZS04OTg2LTQ4ODUtYjgxOS0wYjQxZDA1MWI0MjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvcGxCNmtUdU10ekZXRFJ3WHdkbXVnIiwic2Vzc2lvbl9zdGF0ZSI6IjM0OTc5NDQ3LTgzNTAtNDY2MC04ODIxLTk5ZGVhMTQxODdkMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM0OTc5NDQ3LTgzNTAtNDY2MC04ODIxLTk5ZGVhMTQxODdkMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LsBitgbAedTEV05RYRAPJRWtXHIfo59DDy0Q1iFaZj-G1d4tr3FIB6JFeNqz7uviO_2p3UrIkmFdlF1Vg0TZuE5S2y4uV_s6nHSezBKDyaqOs2zmGcwitoEcFbHsHVa05zVDtczaWh34xCpyU5aD24Mt-P8LT5Jyl-WggJiHBGassG1CsgtAefGa4sNipInGvI3rZTWm6cUawEOQaf7uDVvkFkpDgJ0GV28Et3WQLmGw_AqXm13TjFmRHUHU4Mi53bCB5HkUAqZAh4EWN4HU_6u31WKtbG-4hsarm49ziKxqi2ydy1f_mJQZW33-BAObqTDsmPokCBqWj-m3jR9D4A\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 634dd71d-3f7d-4708-9887-403bc2e4ce77
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;634dd71d-3f7d-4708-9887-403bc2e4ce77&quot;
[2022-06-03T16:54:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/command.rs:39:10

</pre>

</details>

## ❌ tests::http::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNTUsImlhdCI6MTY1NDI3NTI1NSwianRpIjoiYjMxNzk1MDAtNjliMC00ZGZiLWJkZTQtODQwZmNiYzk0MDZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjgwWVpIbldyYk5KRGYtOXh3Zm43VWciLCJzZXNzaW9uX3N0YXRlIjoiNjg4ZWI0MzYtNDZjMi00MWMyLTg1ZTgtZmExZjY0NWFlMWI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY4OGViNDM2LTQ2YzItNDFjMi04NWU4LWZhMWY2NDVhZTFiNCJ9.J7-hOq29zi2xgcV9kj3nV7TbpTVtKkmSPDAiggrQwc0
[2022-06-03T16:54:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNTUsImlhdCI6MTY1NDI3NTI1NSwianRpIjoiYjMxNzk1MDAtNjliMC00ZGZiLWJkZTQtODQwZmNiYzk0MDZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjgwWVpIbldyYk5KRGYtOXh3Zm43VWciLCJzZXNzaW9uX3N0YXRlIjoiNjg4ZWI0MzYtNDZjMi00MWMyLTg1ZTgtZmExZjY0NWFlMWI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY4OGViNDM2LTQ2YzItNDFjMi04NWU4LWZhMWY2NDVhZTFiNCJ9.J7-hOq29zi2xgcV9kj3nV7TbpTVtKkmSPDAiggrQwc0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1NTUsImlhdCI6MTY1NDI3NTI1NSwiYXV0aF90aW1lIjoxNjU0Mjc1MjUyLCJqdGkiOiJmODUyZGVlZC0wYmJhLTRhMDAtYmFkMC03NTg3ZDY1YmY1YTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4MFlaSG5XcmJOSkRmLTl4d2ZuN1VnIiwic2Vzc2lvbl9zdGF0ZSI6IjY4OGViNDM2LTQ2YzItNDFjMi04NWU4LWZhMWY2NDVhZTFiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY4OGViNDM2LTQ2YzItNDFjMi04NWU4LWZhMWY2NDVhZTFiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NmTyvg0TN_jgusa6knSwHZHIRt7TMzzev8u1ybPaxdC02DdV0Aq9fLg7yFvspn9n1PkKLUfGLFIm1R3bsx16WChLgbG7i6VPWPrBirpdGyQRVUvSZfglC31AkzL7NY17Uiwx54s0MMD74de_wE_RARjFFsJ-U-PZbF6rOXTTt4E1aAc6HImO4njszKP94irov5lfjB6oIwIUqYW_RTIGG6jWx-DHV-x2BShdoL0PrGFVf72vAN-yE8VarDe1G_ts5JYdYuhzNWH15tkPD9ER53jHBo5_Z9kGgy7MUNEUJRaGxQ96oNuHskr2tXwlGJQdXdS9WovQNI2I8Nr1FjQlhw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 20b0ad71-93eb-4922-a6a8-e4e169a15897
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;20b0ad71-93eb-4922-a6a8-e4e169a15897&quot;
[2022-06-03T16:54:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/command.rs:39:10

</pre>

</details>

## ❌ tests::http::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNjIsImlhdCI6MTY1NDI3NTI2MiwianRpIjoiOGFmNGE4ZGMtNjJkNy00NTAwLThiZGMtYmZkYWY2ZTRhNjJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InE4eWlLdVJlaktFelpERk4tQTRnYnciLCJzZXNzaW9uX3N0YXRlIjoiODk1NjY0ZWUtMGNlZi00MTRmLTkwY2YtZTFlYTUzNjY3NjU3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5NTY2NGVlLTBjZWYtNDE0Zi05MGNmLWUxZWE1MzY2NzY1NyJ9.a-AF1XJ9phWR9MUFOEXOLSK81npINuS3dzcVFCX5quA
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNjIsImlhdCI6MTY1NDI3NTI2MiwianRpIjoiOGFmNGE4ZGMtNjJkNy00NTAwLThiZGMtYmZkYWY2ZTRhNjJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InE4eWlLdVJlaktFelpERk4tQTRnYnciLCJzZXNzaW9uX3N0YXRlIjoiODk1NjY0ZWUtMGNlZi00MTRmLTkwY2YtZTFlYTUzNjY3NjU3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5NTY2NGVlLTBjZWYtNDE0Zi05MGNmLWUxZWE1MzY2NzY1NyJ9.a-AF1XJ9phWR9MUFOEXOLSK81npINuS3dzcVFCX5quA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1NjMsImlhdCI6MTY1NDI3NTI2MywiYXV0aF90aW1lIjoxNjU0Mjc1MjYwLCJqdGkiOiI3OTAyMjZhYy1hNDQ2LTRiMTgtOTc4NC02ZWU1NGNkMmIxOTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJxOHlpS3VSZWpLRXpaREZOLUE0Z2J3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg5NTY2NGVlLTBjZWYtNDE0Zi05MGNmLWUxZWE1MzY2NzY1NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5NTY2NGVlLTBjZWYtNDE0Zi05MGNmLWUxZWE1MzY2NzY1NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.pTnp06M7tPViklhZdiOSQgdv9jFZeX-tznJ_8HOqTDj4AIcYKb48BYgpOeZHa8BKjQxMu6EBfBoFmkwKeN9kWTdU_4VwUgrGVvCWArPE1DynmYX64MsRaewcGZUhxY7j6lXqFtxE-oIs2aLuAxUHCctx6UjO5f3zsEtMZen-5oeB7OL3DSyP6KC5DohhDgKdmv_VpBjPbWTwr8TQ4kFd73f1tr3Nl81M6tmvImrDFHMI1S1OxmQOf3clZzlIT02wG18syC0GZOJdCgCMHUsNaH_L3MIexyhVojAuk9ny7hDsTKprME22Sb-TGTdp-MjzVdS_fFXHvMkDimzZkwmayw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 2fdda2a5-a388-4975-afd4-05959fef7173
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2fdda2a5-a388-4975-afd4-05959fef7173&quot;
[2022-06-03T16:54:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/command.rs:39:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNzAsImlhdCI6MTY1NDI3NTI3MCwianRpIjoiM2UwM2Y4YmItNmU1NS00MTk1LWE5NTgtNjU3ZTg2NGZmOTFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlU1NHBweVlOWFprVllybDFBM3JPYmciLCJzZXNzaW9uX3N0YXRlIjoiMzI0NmY4MjEtMjAzMS00MTU0LWJhYTItN2VkOTRkMjI0YmQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyNDZmODIxLTIwMzEtNDE1NC1iYWEyLTdlZDk0ZDIyNGJkOCJ9.4y5OTGh6sHWgGOhfPiVja64NNgp13grmxS8hYKFil7A
[2022-06-03T16:54:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNzAsImlhdCI6MTY1NDI3NTI3MCwianRpIjoiM2UwM2Y4YmItNmU1NS00MTk1LWE5NTgtNjU3ZTg2NGZmOTFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlU1NHBweVlOWFprVllybDFBM3JPYmciLCJzZXNzaW9uX3N0YXRlIjoiMzI0NmY4MjEtMjAzMS00MTU0LWJhYTItN2VkOTRkMjI0YmQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyNDZmODIxLTIwMzEtNDE1NC1iYWEyLTdlZDk0ZDIyNGJkOCJ9.4y5OTGh6sHWgGOhfPiVja64NNgp13grmxS8hYKFil7A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1NzAsImlhdCI6MTY1NDI3NTI3MCwiYXV0aF90aW1lIjoxNjU0Mjc1MjY3LCJqdGkiOiJiNjEyZDMzZC01NDkxLTQ2ZTItOTg5OC0yZDRhNGIxYjRlY2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVNTRwcHlZTlhaa1ZZcmwxQTNyT2JnIiwic2Vzc2lvbl9zdGF0ZSI6IjMyNDZmODIxLTIwMzEtNDE1NC1iYWEyLTdlZDk0ZDIyNGJkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyNDZmODIxLTIwMzEtNDE1NC1iYWEyLTdlZDk0ZDIyNGJkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Fci_HbXKU_YQTaMCcO10sdElPlZCWf2HHqM9pujICWK3ZluWTDqQKKErHqDpkgLZbFVW8D-8bzt7Gr0WMeV9mBHil5DapUiqnbgyUq_GLgsTlJkxR6WYTlvZYR5ENeeKicEZaWhI1ggY4tNNTV0KR-qO1HChKAQol--Ga08mER0XHbf6qrpfhVATW4X5vivBL3Ryoxym2HFevy6CipNWWubI_AIVWcAhKlUc1DeEczwOKfUCFsodUbHMLQIgs1iYU0QtHbPSQ-sqFl05adrpmxqerzJCr9CIEbOGQmr_6_EaoajeoIv24AaZoamDu2wmiyOWBYF7QvXznZqDYhhieA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 980b8a63-63a0-4bd6-aea8-81601f13fe26
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;980b8a63-63a0-4bd6-aea8-81601f13fe26&quot;
[2022-06-03T16:54:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNzcsImlhdCI6MTY1NDI3NTI3NywianRpIjoiNDM4MmQ2MWUtMGFiZi00MGZlLWI4YjAtNTZmNjg1M2RjZTYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNzQVhhUmdnS21RdFB1azgtUUt6R3ciLCJzZXNzaW9uX3N0YXRlIjoiNTUzNTM3MDUtYWNhZi00MmQ0LTk1OTUtMWYwZjY1NTNiNDE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1MzUzNzA1LWFjYWYtNDJkNC05NTk1LTFmMGY2NTUzYjQxNiJ9.7hWQBRJieJ8zNX4pNF47HLL9OaHOJzdMeYPApkiADZM
[2022-06-03T16:54:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwNzcsImlhdCI6MTY1NDI3NTI3NywianRpIjoiNDM4MmQ2MWUtMGFiZi00MGZlLWI4YjAtNTZmNjg1M2RjZTYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNzQVhhUmdnS21RdFB1azgtUUt6R3ciLCJzZXNzaW9uX3N0YXRlIjoiNTUzNTM3MDUtYWNhZi00MmQ0LTk1OTUtMWYwZjY1NTNiNDE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1MzUzNzA1LWFjYWYtNDJkNC05NTk1LTFmMGY2NTUzYjQxNiJ9.7hWQBRJieJ8zNX4pNF47HLL9OaHOJzdMeYPApkiADZM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1NzcsImlhdCI6MTY1NDI3NTI3NywiYXV0aF90aW1lIjoxNjU0Mjc1Mjc0LCJqdGkiOiI5MTM1NzMwZS03Y2Y2LTRhNTctYTY1Yy02NTBiNGVjMGZiNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzc0FYYVJnZ0ttUXRQdWs4LVFLekd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjU1MzUzNzA1LWFjYWYtNDJkNC05NTk1LTFmMGY2NTUzYjQxNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1MzUzNzA1LWFjYWYtNDJkNC05NTk1LTFmMGY2NTUzYjQxNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fE9_bBTdi8-lY2cA34ZywUaM2Ca5Fz0bfB2M8nUjgHHXiBISCuycDpqBG4RTgWDF49y_hzQ7n781Flk51Wn9HeQ_hYXCu37OI77gNubYaGkwyxExhg2ySmdcnvZgI3Xa93lKSD-m9bBsrTte3s0F9PtS_OpaFzSxX4PN9EOOJWpvrz1RXohKmeakSCXfFY2T6065C_yAxQzBA9FtxOikb_m0VmZw3verrBQ3m-9BEg0p13ZIEa7PZoH3KpsENOeliWgd5kwbw-XYUvhzHkIGo0sGgMoavQ2vKJEJm2FOKwqGqvtz6OJ405jOH2cihQ2PyqoHYnyt9kN6qyhjLWOerg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::resources::apps] Create application: d18d30f5-7e23-4e8c-8d79-3daf5e1f6147
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d18d30f5-7e23-4e8c-8d79-3daf5e1f6147&quot;
[2022-06-03T16:54:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwODQsImlhdCI6MTY1NDI3NTI4NCwianRpIjoiZjg0MmFiMzgtYjM1YS00YjRhLTkzMGMtMmQ4MTk4OGRiMzlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InY0VGM0SFFtMTFScDdqb0p3VUxGdGciLCJzZXNzaW9uX3N0YXRlIjoiNWI1ZDU3YWYtZjJjMy00MTk3LTk5NjEtZDMxMTM1OWJjOGFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjViNWQ1N2FmLWYyYzMtNDE5Ny05OTYxLWQzMTEzNTliYzhhYyJ9.ls4-QXbDLROmjSd_X1VYL36uE3pGZUwPHMNRo-8OYiQ
[2022-06-03T16:54:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwODQsImlhdCI6MTY1NDI3NTI4NCwianRpIjoiZjg0MmFiMzgtYjM1YS00YjRhLTkzMGMtMmQ4MTk4OGRiMzlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InY0VGM0SFFtMTFScDdqb0p3VUxGdGciLCJzZXNzaW9uX3N0YXRlIjoiNWI1ZDU3YWYtZjJjMy00MTk3LTk5NjEtZDMxMTM1OWJjOGFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjViNWQ1N2FmLWYyYzMtNDE5Ny05OTYxLWQzMTEzNTliYzhhYyJ9.ls4-QXbDLROmjSd_X1VYL36uE3pGZUwPHMNRo-8OYiQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1ODUsImlhdCI6MTY1NDI3NTI4NSwiYXV0aF90aW1lIjoxNjU0Mjc1MjgyLCJqdGkiOiIyYzdlMWU0Ni1jOTc0LTRiMDktOTNmNy02NjhiNDE0YjQwMjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2NFRjNEhRbTExUnA3am9Kd1VMRnRnIiwic2Vzc2lvbl9zdGF0ZSI6IjViNWQ1N2FmLWYyYzMtNDE5Ny05OTYxLWQzMTEzNTliYzhhYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjViNWQ1N2FmLWYyYzMtNDE5Ny05OTYxLWQzMTEzNTliYzhhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.esJXNvfsn0hp6rit6vw0B9evHAPBkNgkaHKCGoZrXHlR0heWlJ9BQIT8awDQzjzPFjw32up0qCPXe585M8X6KJ9EH4M2aZp6_Cug_J2rMiGjIxFOosDj__Sjb6yO7ihDcBNscrYAkpydIJqo5HprGQnWTVGICSBGIoJWhzggy-SeDda6Too5uiItHzxbmbKT-9FlWXPp3906SMbYrlXNeABQpWWDavDpWCPq7p7Zkigqz8wrSu8bDdyqT42t2lSHEzljV0h_9P6CJyVE8l71ciE9r6QPrPOTuT0i9M1HU0TLiUh5uuF63pkjB9oJ5kEaYRPARfN7yE7P2F2uYwfnTA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::resources::apps] Create application: 3f305227-176e-4033-b885-5cc0913d015e
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3f305227-176e-4033-b885-5cc0913d015e&quot;
[2022-06-03T16:54:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwOTIsImlhdCI6MTY1NDI3NTI5MiwianRpIjoiNjBkZjZlOGEtOWMyZS00OWNjLWI0MmUtZGE2Yzc5MzlhZTlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkNhMk56a0p1VWZwMnA4aGFVQnVraWciLCJzZXNzaW9uX3N0YXRlIjoiN2ZiYTFmMmYtYjUzNS00NjhkLWEwZTUtMGI2MTUyYmYyZTEwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmYmExZjJmLWI1MzUtNDY4ZC1hMGU1LTBiNjE1MmJmMmUxMCJ9.ZzdFsUdXWAKRMEbCo1akFxXXWwBV6chUhhpaYrT0A2w
[2022-06-03T16:54:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwOTIsImlhdCI6MTY1NDI3NTI5MiwianRpIjoiNjBkZjZlOGEtOWMyZS00OWNjLWI0MmUtZGE2Yzc5MzlhZTlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkNhMk56a0p1VWZwMnA4aGFVQnVraWciLCJzZXNzaW9uX3N0YXRlIjoiN2ZiYTFmMmYtYjUzNS00NjhkLWEwZTUtMGI2MTUyYmYyZTEwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmYmExZjJmLWI1MzUtNDY4ZC1hMGU1LTBiNjE1MmJmMmUxMCJ9.ZzdFsUdXWAKRMEbCo1akFxXXWwBV6chUhhpaYrT0A2w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:54:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:54:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU1OTIsImlhdCI6MTY1NDI3NTI5MiwiYXV0aF90aW1lIjoxNjU0Mjc1Mjg5LCJqdGkiOiJiYTNkZWFkZS0zMGQ3LTQwY2EtYTMwYy05YjdhNzBjYzA2OWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDYTJOemtKdVVmcDJwOGhhVUJ1a2lnIiwic2Vzc2lvbl9zdGF0ZSI6IjdmYmExZjJmLWI1MzUtNDY4ZC1hMGU1LTBiNjE1MmJmMmUxMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmYmExZjJmLWI1MzUtNDY4ZC1hMGU1LTBiNjE1MmJmMmUxMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BxjD23kXRi1-9-fo9-zH9aF0hECvexZ2qKEbm3VrpE1AeRP0w0OZ2LNbIcPrjcUoXvKkIxo4rsHFzuPvg3-7WIGHm_VJPjZd5UnmGTq1IOcoCo8CuzxLHyN0Sgf-xwxt3I_xijyN5dV4zbZ_AitQd6up-Ejg1hTrdBiqKV-iJrRhiFwD6wRfWCSfvUA-h3DxtaLBaxB1oiIGVYovNhIyMqMT5a7PYNjA53oojfV8nOPWKdfbN4BUbpKQ0EN45NfSPZMkf5uWw0LJLyaKl1cW3UlpgptWzgiu6-uDWmK2aFQcHETjE91V0Bs0AzBODCIN60GsNrUrkYFeecEnVRX60w\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 78e13b9e-75b5-4147-a8df-e1cc509e7261
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;78e13b9e-75b5-4147-a8df-e1cc509e7261&quot;
[2022-06-03T16:54:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:54:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:54:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:54:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:54:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:54:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:54:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:54:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:54:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwOTksImlhdCI6MTY1NDI3NTI5OSwianRpIjoiZGRkYTQwYWQtYWQ1Yi00OTE1LTkwMWEtNzUwMGJkNGQ3YWMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZGUGtUY3ZjSXRFbjNnRzd4amhGUkEiLCJzZXNzaW9uX3N0YXRlIjoiYmQ5OWI1ZDctOGJjNy00MjUxLTk0NGYtMDFiMzJmZGE4ZTU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkOTliNWQ3LThiYzctNDI1MS05NDRmLTAxYjMyZmRhOGU1NSJ9.w49WRbIMlGXIpOsAAuM8BHHZoU7pko26NBrxOt1x89c
[2022-06-03T16:54:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:54:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:54:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcwOTksImlhdCI6MTY1NDI3NTI5OSwianRpIjoiZGRkYTQwYWQtYWQ1Yi00OTE1LTkwMWEtNzUwMGJkNGQ3YWMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZGUGtUY3ZjSXRFbjNnRzd4amhGUkEiLCJzZXNzaW9uX3N0YXRlIjoiYmQ5OWI1ZDctOGJjNy00MjUxLTk0NGYtMDFiMzJmZGE4ZTU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkOTliNWQ3LThiYzctNDI1MS05NDRmLTAxYjMyZmRhOGU1NSJ9.w49WRbIMlGXIpOsAAuM8BHHZoU7pko26NBrxOt1x89c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MDAsImlhdCI6MTY1NDI3NTMwMCwiYXV0aF90aW1lIjoxNjU0Mjc1Mjk2LCJqdGkiOiI4YjUxODI1My1kYjRkLTQxMDEtOGFhYy00MTE0ODU3ZmIzNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGRlBrVGN2Y0l0RW4zZ0c3eGpoRlJBIiwic2Vzc2lvbl9zdGF0ZSI6ImJkOTliNWQ3LThiYzctNDI1MS05NDRmLTAxYjMyZmRhOGU1NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkOTliNWQ3LThiYzctNDI1MS05NDRmLTAxYjMyZmRhOGU1NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EGZnPBEJg4nY1QMFwt6GjocshDGSB8IBvtI7j8kaVmlOM1-F-MYM_1oz2qlT3NCw42Eo_oMJKPMDE1l_AO5XWAbB-WnuzOQG2QrwSWTFOU8kCI30HYDdxVz8q3xABvaTET45gfLXOOP7T9ZO8d_vt_My6KMxtFEzJSvAeowHcvJ2VCVCQ3wXGRuNT92PRvxvTAMplktPSbrqP2FiLXesjLSmxjGnLfuQ9OrzWS2HrrwLYigUTvKPDYNR2WrmUCPAFRr7J5aPb_EjtnU8AR1faO_VRvVkJuhudxaBfLBNulUPdbzDtUTvKikE3QQ0TNYYflNA1hP5tdGd_ftfR2vhSw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::resources::apps] Create application: f1d76992-27cf-4531-b2f0-6dd2785953ae
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f1d76992-27cf-4531-b2f0-6dd2785953ae&quot;
[2022-06-03T16:55:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMDgsImlhdCI6MTY1NDI3NTMwOCwianRpIjoiMTY0ZWE2YzItZjEwZS00MTFiLTg1MDctOGI2NWVmOTEwNGIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilp5RjA4Ulo1QVc3eExweHY4WVNkY1EiLCJzZXNzaW9uX3N0YXRlIjoiNzVkM2QzMzgtZWJjMC00YWZlLTgyMGEtOTQxYmYwMjg1YWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc1ZDNkMzM4LWViYzAtNGFmZS04MjBhLTk0MWJmMDI4NWFjZiJ9.Br_xdq6FImNHQjCubUrZE5Ym5iIfsrkTN6by-dq5g58
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMDgsImlhdCI6MTY1NDI3NTMwOCwianRpIjoiMTY0ZWE2YzItZjEwZS00MTFiLTg1MDctOGI2NWVmOTEwNGIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilp5RjA4Ulo1QVc3eExweHY4WVNkY1EiLCJzZXNzaW9uX3N0YXRlIjoiNzVkM2QzMzgtZWJjMC00YWZlLTgyMGEtOTQxYmYwMjg1YWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc1ZDNkMzM4LWViYzAtNGFmZS04MjBhLTk0MWJmMDI4NWFjZiJ9.Br_xdq6FImNHQjCubUrZE5Ym5iIfsrkTN6by-dq5g58&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MDgsImlhdCI6MTY1NDI3NTMwOCwiYXV0aF90aW1lIjoxNjU0Mjc1MzA0LCJqdGkiOiJmMWIyOWIzYS0xOTk2LTRiYzgtODkyYi0zM2Q1ZjBkOTQwY2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaeUYwOFJaNUFXN3hMcHh2OFlTZGNRIiwic2Vzc2lvbl9zdGF0ZSI6Ijc1ZDNkMzM4LWViYzAtNGFmZS04MjBhLTk0MWJmMDI4NWFjZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc1ZDNkMzM4LWViYzAtNGFmZS04MjBhLTk0MWJmMDI4NWFjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Rb1ekldvO2uNZL0utW9QmS86djVs_IWmyXJSbZ3I_3A67ERw613nYRJ3ki4_FNPLrtuEg_fHYc_LWdzE-H9Psk4BmNKStSbJ3FAyuW1qYM54T7cYQekEZn0Q0vLzCkOQL2KMXr8IM-fYsptLG3yVaejnhLGmvScpgwLIu6cJiorcO6aNngx_pIOw0FELsVxMtBLucoRRjIyq5IN_1QSgyFEzZ-4-qrxDNj9rbOX6qRggpV3UWDd6Fkzy2_1fmFFFtYlm1k3TWbLO2bkENiohbJh94A9UwvBA_TWOgA2XvMvmQT3BA3n0FU1JDreHdKnwcGeFq9S_nTiLRX9gyhpNMA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 43b71b88-3fb3-4630-ad0c-e656902f0018
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;43b71b88-3fb3-4630-ad0c-e656902f0018&quot;
[2022-06-03T16:55:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMTUsImlhdCI6MTY1NDI3NTMxNSwianRpIjoiOThiOTU2NzQtYmRkMC00OGU4LThlY2MtMTAyZThiZmQ0YzJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtOR3phb3MzQUpybk0zdFgxRkI1dGciLCJzZXNzaW9uX3N0YXRlIjoiMjM1Y2VkYzEtOGNjYS00MWYzLWI5MTAtNGNjMTFmYWU3NjY0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzNWNlZGMxLThjY2EtNDFmMy1iOTEwLTRjYzExZmFlNzY2NCJ9.PZhQVZQE8s-Un6x6OADF3NcVAoSOoy4RQByJ_gmvaS4
[2022-06-03T16:55:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMTUsImlhdCI6MTY1NDI3NTMxNSwianRpIjoiOThiOTU2NzQtYmRkMC00OGU4LThlY2MtMTAyZThiZmQ0YzJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtOR3phb3MzQUpybk0zdFgxRkI1dGciLCJzZXNzaW9uX3N0YXRlIjoiMjM1Y2VkYzEtOGNjYS00MWYzLWI5MTAtNGNjMTFmYWU3NjY0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzNWNlZGMxLThjY2EtNDFmMy1iOTEwLTRjYzExZmFlNzY2NCJ9.PZhQVZQE8s-Un6x6OADF3NcVAoSOoy4RQByJ_gmvaS4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MTUsImlhdCI6MTY1NDI3NTMxNSwiYXV0aF90aW1lIjoxNjU0Mjc1MzEyLCJqdGkiOiIyOTQxZmVkYy05OTk4LTRmNTEtODMxMi0yZTY2ZjBlOTI5M2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJrTkd6YW9zM0FKcm5NM3RYMUZCNXRnIiwic2Vzc2lvbl9zdGF0ZSI6IjIzNWNlZGMxLThjY2EtNDFmMy1iOTEwLTRjYzExZmFlNzY2NCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzNWNlZGMxLThjY2EtNDFmMy1iOTEwLTRjYzExZmFlNzY2NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Hi1LJMhH1wDW9-IDEkEFPmV5diB3B7IaSvrFk1O8sVnhxuutEUpIzw9OZ5-TUZ6sbxmfb4LIOkVeIek_-tqyi__LcrnLEBCvDX98LN45wTOFNwxVQYyNp2FlPKIacq1_Y7uJkSUHIuK0UDZ0SWzbyrAEvrbaWqamezmBb4swxliJgOwNStQcXb9PKlMmo1SLOwPlnKb4XPDnSuDbcomT9im3FRMVkakHJtK4La0A0OHD1VqfLun1kelKPZ-D7eneadzZEenl2dr7Y1pxHmlf-G5hHISCEThBhFoNzrPLCyK4ZjXZUWcY4vpjNv_dgP8_pl9SRhLOCXcrK0FiQMEUPg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::resources::apps] Create application: fe2caa75-0fbb-4782-8d68-8aeb85e4f64c
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fe2caa75-0fbb-4782-8d68-8aeb85e4f64c&quot;
[2022-06-03T16:55:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMjIsImlhdCI6MTY1NDI3NTMyMiwianRpIjoiNDk4MjkwNzktOGY1MC00N2Q5LTlhNzctNTUwMDUwZjg1YmUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZKTmk1SHRPaG1SUTI3M1E3bWRNdWciLCJzZXNzaW9uX3N0YXRlIjoiYTE2MWViODctMzE0ZS00MDFhLTkxMzMtYTRlYzdjMzk2NWIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImExNjFlYjg3LTMxNGUtNDAxYS05MTMzLWE0ZWM3YzM5NjViMCJ9.sNrTkx3xy4gr7r5bdy5KD-6XnWLFwKi5dytI3K3WhMw
[2022-06-03T16:55:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMjIsImlhdCI6MTY1NDI3NTMyMiwianRpIjoiNDk4MjkwNzktOGY1MC00N2Q5LTlhNzctNTUwMDUwZjg1YmUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZKTmk1SHRPaG1SUTI3M1E3bWRNdWciLCJzZXNzaW9uX3N0YXRlIjoiYTE2MWViODctMzE0ZS00MDFhLTkxMzMtYTRlYzdjMzk2NWIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImExNjFlYjg3LTMxNGUtNDAxYS05MTMzLWE0ZWM3YzM5NjViMCJ9.sNrTkx3xy4gr7r5bdy5KD-6XnWLFwKi5dytI3K3WhMw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MjIsImlhdCI6MTY1NDI3NTMyMiwiYXV0aF90aW1lIjoxNjU0Mjc1MzE5LCJqdGkiOiI4ZjlhY2RhNi03ZjY0LTQzNzgtYmUzNi03ZTY4Mjk5OTgzMzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWSk5pNUh0T2htUlEyNzNRN21kTXVnIiwic2Vzc2lvbl9zdGF0ZSI6ImExNjFlYjg3LTMxNGUtNDAxYS05MTMzLWE0ZWM3YzM5NjViMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImExNjFlYjg3LTMxNGUtNDAxYS05MTMzLWE0ZWM3YzM5NjViMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Db8WcpsR9i1VE1Pkn9DOKUPcZWSSB1bAOXhZN6lZxkDXW7Pa1P32ab0gUm7Wk585Q6ClHRBb2vdXdTW7m2zkgrypeFoMLixoPDTzMjmUBunAFbtti23Q3G9_nX5ku_OhP-Tpc_YBywqh3HdsKwZAkAT7Mm0jH2MigQqlPft-FlGHlJEEEpR4dtS-ZFWcCkXuGN6wwmVyt6SttoiZffD8XupowR3YmiKiw6DovD585Vaj81L9BUl7lrayDZm39gHaeMJTGXS_kupf-B8EJxeKXC8r3umuFXdFCG9OHMpz-ixjNbvUYstdMOFZcGe8c-y9KgpzbEeWnkkSkD4N-gYftA\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 8feffce3-e2fd-48aa-92b1-8130098e9412
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8feffce3-e2fd-48aa-92b1-8130098e9412&quot;
[2022-06-03T16:55:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMzAsImlhdCI6MTY1NDI3NTMzMCwianRpIjoiZWY3Mjg5ZDYtOTQ2ZS00M2VkLThkYjQtNWFjZmU4YjE2YmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJPY2hVamQ2bzNsV205cVczaW9XbkEiLCJzZXNzaW9uX3N0YXRlIjoiMDk4Zjk2ZDUtZTkwNy00M2NjLTk3NmYtYTBkYWRhMjNiYzg5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA5OGY5NmQ1LWU5MDctNDNjYy05NzZmLWEwZGFkYTIzYmM4OSJ9.yX5LkKq3wJATEFa-xMa_UJG8QryfCPULQwWzRcQqmY0
[2022-06-03T16:55:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMzAsImlhdCI6MTY1NDI3NTMzMCwianRpIjoiZWY3Mjg5ZDYtOTQ2ZS00M2VkLThkYjQtNWFjZmU4YjE2YmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJPY2hVamQ2bzNsV205cVczaW9XbkEiLCJzZXNzaW9uX3N0YXRlIjoiMDk4Zjk2ZDUtZTkwNy00M2NjLTk3NmYtYTBkYWRhMjNiYzg5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA5OGY5NmQ1LWU5MDctNDNjYy05NzZmLWEwZGFkYTIzYmM4OSJ9.yX5LkKq3wJATEFa-xMa_UJG8QryfCPULQwWzRcQqmY0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MzAsImlhdCI6MTY1NDI3NTMzMCwiYXV0aF90aW1lIjoxNjU0Mjc1MzI3LCJqdGkiOiI0NWZmZDIwMC0yM2Y1LTRlYTgtOGE0ZS1hYzRhZDEyN2M2N2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCT2NoVWpkNm8zbFdtOXFXM2lvV25BIiwic2Vzc2lvbl9zdGF0ZSI6IjA5OGY5NmQ1LWU5MDctNDNjYy05NzZmLWEwZGFkYTIzYmM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA5OGY5NmQ1LWU5MDctNDNjYy05NzZmLWEwZGFkYTIzYmM4OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bSN56WgESvVKqwJajGzWbTg9nnhuS6wBPRp-7m78KFs1dFcBpayLVchdNkA4LnJ1zbdSFtjW0PvAUYdj3dN5rPcQbsKHc21eQd3SVKzAOdiw2BfzADlT2uhX4uoFG8Yy-lGnj3YpzkNhS1ykEWuYqWYP4CVBYybf1Lr5XF4LoyWiG6Gey_W6VxwevRu9C9B9sA2r2gNJAC5jUnxXaR00ocOcHGj-7c_U2R1eiWixi3aZ7gHkPPJ3q4pHHYM40bi2co_jMg2zV_R2ctFUKdhqvDgsxnASBeLPiw2su97gXQLy0KKePHQhFSVMmDAsm-5vG5Ct4PKeK4arhxV324RnYg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 75c63992-2fa7-46b5-b469-bd42ae65db79
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;75c63992-2fa7-46b5-b469-bd42ae65db79&quot;
[2022-06-03T16:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMzcsImlhdCI6MTY1NDI3NTMzNywianRpIjoiMjdiYmZjNDctOGM4Ni00NDZmLThmYzktMjEwZjQyMDBiOWVlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZTQko4N3M1OG9tVnpPUE9xMUFFQUEiLCJzZXNzaW9uX3N0YXRlIjoiZmUyNzBjMzQtYmM2OC00NDBhLTg3YjktNjJhYTVkMGEwNjFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMjcwYzM0LWJjNjgtNDQwYS04N2I5LTYyYWE1ZDBhMDYxZSJ9.qavjT1U1Je072zAzWAGi-eEqTYQis_1IjRt4XiHLLHQ
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxMzcsImlhdCI6MTY1NDI3NTMzNywianRpIjoiMjdiYmZjNDctOGM4Ni00NDZmLThmYzktMjEwZjQyMDBiOWVlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZTQko4N3M1OG9tVnpPUE9xMUFFQUEiLCJzZXNzaW9uX3N0YXRlIjoiZmUyNzBjMzQtYmM2OC00NDBhLTg3YjktNjJhYTVkMGEwNjFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMjcwYzM0LWJjNjgtNDQwYS04N2I5LTYyYWE1ZDBhMDYxZSJ9.qavjT1U1Je072zAzWAGi-eEqTYQis_1IjRt4XiHLLHQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2MzgsImlhdCI6MTY1NDI3NTMzOCwiYXV0aF90aW1lIjoxNjU0Mjc1MzM0LCJqdGkiOiIwNDFhMTkyNi1kYzIzLTQyMWYtOWJhOS1mNjMzNzhlODZmMjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJmU0JKODdzNThvbVZ6T1BPcTFBRUFBIiwic2Vzc2lvbl9zdGF0ZSI6ImZlMjcwYzM0LWJjNjgtNDQwYS04N2I5LTYyYWE1ZDBhMDYxZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlMjcwYzM0LWJjNjgtNDQwYS04N2I5LTYyYWE1ZDBhMDYxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZsnrqO4G9XjnPD4SpZNOJu5Zu_iv4hbs6bgHH_K4sZc8Mq4vgMJ1SsU9BhYxRKUVCLFxbFTAgab4popHD6J0val47rQ8Ydt_Z8rKjuHpOFC1130Wxsn_U8NOxuhRN4qOv6gRqobcrUBKf53f6SzoHX-0ddCRcxqiM7-9jEaZF4D42OPgZng-kp1-Q78ih_aI0VBun5HlqSY3t09kb6yRDeSt3IUqalt9T19y6n5G-Nmz3nu1oZ0zjXxGKLyQPu9UwV51hLp7ziSrcNwkLYUPu5UvEgs1u-r11535ASgu_cUPiXnQ0EekA_HArnZybKlm9Wnsi-trIYYeFJdAtqy4ng\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 6ebee178-134b-439f-a12c-f6854643ae05
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6ebee178-134b-439f-a12c-f6854643ae05&quot;
[2022-06-03T16:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNDUsImlhdCI6MTY1NDI3NTM0NSwianRpIjoiNmI2YjIwYjUtYzMwYS00YzVhLThmN2MtOWMyNDc0NTE2YjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVWNk53RDRGZzBrMlNnZXRFZzNZZ3ciLCJzZXNzaW9uX3N0YXRlIjoiZTcwZjY2MDItMDkxNy00M2VmLTg1MmUtMTI1ODZiMzFiYmMyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU3MGY2NjAyLTA5MTctNDNlZi04NTJlLTEyNTg2YjMxYmJjMiJ9.oD-YmVnW_KiFnM7bwHtNBM8iSMBRboaw_0sDFpvpSeI
[2022-06-03T16:55:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNDUsImlhdCI6MTY1NDI3NTM0NSwianRpIjoiNmI2YjIwYjUtYzMwYS00YzVhLThmN2MtOWMyNDc0NTE2YjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVWNk53RDRGZzBrMlNnZXRFZzNZZ3ciLCJzZXNzaW9uX3N0YXRlIjoiZTcwZjY2MDItMDkxNy00M2VmLTg1MmUtMTI1ODZiMzFiYmMyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU3MGY2NjAyLTA5MTctNDNlZi04NTJlLTEyNTg2YjMxYmJjMiJ9.oD-YmVnW_KiFnM7bwHtNBM8iSMBRboaw_0sDFpvpSeI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2NDUsImlhdCI6MTY1NDI3NTM0NSwiYXV0aF90aW1lIjoxNjU0Mjc1MzQyLCJqdGkiOiI2Zjc3ZGYzNC03M2Q4LTQ4NDUtYmNjZC1kMzg3NjBhM2Q1ZTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1VjZOd0Q0RmcwazJTZ2V0RWczWWd3Iiwic2Vzc2lvbl9zdGF0ZSI6ImU3MGY2NjAyLTA5MTctNDNlZi04NTJlLTEyNTg2YjMxYmJjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU3MGY2NjAyLTA5MTctNDNlZi04NTJlLTEyNTg2YjMxYmJjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.a_jysgQrnPs7i4kHlrZYIKiFt1E4_M9BeY5Zp8W7Pi29JAM_ADZXVRyPOVyWEp23VZbhaT5FkIuG3yplDBAop7va4SI1GpM-mPayo-KqXEljLRbRxOV3N_Q8spz8U85QZOSNzWcxZKDzpAg78MiSZV4uN-ORpkdTuPueucrer3QE4RY8yAxsevUK3UUD_drdhYj9MEZ5K0yowXJ1I7V97nOXi3oDLlcmgWmtYKx1Y58h1-z-9p-pdPqTXr-03Q-Dl5QYVxX6UPZXnBlqVpXhIbtoVY7CyYBTQ5HK-TmUxIc3J2-9MzvbIEDBKpo2no3pCCIUPc9CnXCrHa_yhO4qtQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 8414cb40-a723-4d65-b27b-25440987ef22
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8414cb40-a723-4d65-b27b-25440987ef22&quot;
[2022-06-03T16:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNTIsImlhdCI6MTY1NDI3NTM1MiwianRpIjoiZTVlOGZlOWMtZjg0Zi00NDc0LWIxZDItN2JkOTMyYmE3NDZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZMMXFRaEoxSS1mYU9HbHZuLTc5TFEiLCJzZXNzaW9uX3N0YXRlIjoiNWFjZDNiZTAtMzY2ZC00NjVjLWE0ZmItNjliMmU3MDEzYTI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhY2QzYmUwLTM2NmQtNDY1Yy1hNGZiLTY5YjJlNzAxM2EyNCJ9.kcgNxzJYC4jH4ex0wkD-qAdH5ULZ0eeniyRTrct2e5A
[2022-06-03T16:55:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNTIsImlhdCI6MTY1NDI3NTM1MiwianRpIjoiZTVlOGZlOWMtZjg0Zi00NDc0LWIxZDItN2JkOTMyYmE3NDZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZMMXFRaEoxSS1mYU9HbHZuLTc5TFEiLCJzZXNzaW9uX3N0YXRlIjoiNWFjZDNiZTAtMzY2ZC00NjVjLWE0ZmItNjliMmU3MDEzYTI0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhY2QzYmUwLTM2NmQtNDY1Yy1hNGZiLTY5YjJlNzAxM2EyNCJ9.kcgNxzJYC4jH4ex0wkD-qAdH5ULZ0eeniyRTrct2e5A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:55:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2NTMsImlhdCI6MTY1NDI3NTM1MywiYXV0aF90aW1lIjoxNjU0Mjc1MzUwLCJqdGkiOiJmMTNlMTJkOS1iOTMwLTRmN2EtYTc3OC0yODQ3NjZlZjY4MGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJmTDFxUWhKMUktZmFPR2x2bi03OUxRIiwic2Vzc2lvbl9zdGF0ZSI6IjVhY2QzYmUwLTM2NmQtNDY1Yy1hNGZiLTY5YjJlNzAxM2EyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhY2QzYmUwLTM2NmQtNDY1Yy1hNGZiLTY5YjJlNzAxM2EyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mRyRvbslwR4-4Z7BJokJyIuV3rR4PmUCPFjtTveVIto7GPPET1LUtcDCNjbAh-PNJlGRe-iWyiriweVCbVLq0QhXgS2bQADMCCl9HSaND-ZNd55ItYe0Wj0ZNcUugzYHIuouP4NH9ZvKv_g7Kda0Phx8bDeptxWAwbo7x3x3jNSDLbPpgqKYsUAOTWvFE98XR_klYPyoZMO-tdkrPwKq3RSuMsmIO3VefHfiVtT3VWuT0in2_rs4ras7DUskJAoqFvq6a6kFZKHyw8lDt3yDdP0J26-cl6t-AZXnuXIOMaW55SxV8z9R2RF9caFHZ2Z0QjPvjPVDF56gTyfmRmJHmw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:55:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 6ca117f4-c5d2-4518-8623-d46cbd90225a
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6ca117f4-c5d2-4518-8623-d46cbd90225a&quot;
[2022-06-03T16:55:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/http/mod.rs:62:10

</pre>

</details>

## ❌ tests::integration::test_qos_1_dropping

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:55:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:55:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:55:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:55:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:55:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:55:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:55:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:55:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNjAsImlhdCI6MTY1NDI3NTM2MCwianRpIjoiMjRlYWFlYjUtNDRlNi00MDM2LWJiN2YtZmQ1ZWI4OGQxMWM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRIVDV0NjV0S2FMZWR3U0VlcFZ4VGciLCJzZXNzaW9uX3N0YXRlIjoiMDJlOGJkMzMtZWY4OS00MTE4LTkyYzgtNzQ1YWMwOTM1YTVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAyZThiZDMzLWVmODktNDExOC05MmM4LTc0NWFjMDkzNWE1YyJ9.oC-vlJL-XGR2jz0-yFuy3d4rIFN29ncLK4gC8NEFODI
[2022-06-03T16:56:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNjAsImlhdCI6MTY1NDI3NTM2MCwianRpIjoiMjRlYWFlYjUtNDRlNi00MDM2LWJiN2YtZmQ1ZWI4OGQxMWM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRIVDV0NjV0S2FMZWR3U0VlcFZ4VGciLCJzZXNzaW9uX3N0YXRlIjoiMDJlOGJkMzMtZWY4OS00MTE4LTkyYzgtNzQ1YWMwOTM1YTVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAyZThiZDMzLWVmODktNDExOC05MmM4LTc0NWFjMDkzNWE1YyJ9.oC-vlJL-XGR2jz0-yFuy3d4rIFN29ncLK4gC8NEFODI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T16:56:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzU2NjAsImlhdCI6MTY1NDI3NTM2MCwiYXV0aF90aW1lIjoxNjU0Mjc1MzU3LCJqdGkiOiJlYTU4NjNiNC0zNTliLTQ1M2UtOWQwZi1iNDY4ZTFhNDQxZDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0SFQ1dDY1dEthTGVkd1NFZXBWeFRnIiwic2Vzc2lvbl9zdGF0ZSI6IjAyZThiZDMzLWVmODktNDExOC05MmM4LTc0NWFjMDkzNWE1YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAyZThiZDMzLWVmODktNDExOC05MmM4LTc0NWFjMDkzNWE1YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.PRXn-kEs6rs89m_eWZont1syCKUGqmg27Etud1BnFn5YtV-XmN72--5_fmryb04tXCfCwROI0ePR3cW24H0LVPV22ZrB0TkdLinFU2qzXiYzfKqIIlDh2HjPewFGicC0HMRmTYpAzFcsbpTG-D53NVrW8aacvNcDsKZxKK-otPpxM9uk8ntAflFAMj_9BLTYP6bd6C-1AQUcTmUlxu6mYkefCrJ_raEwFBM_dnwOlZdu347RezKZK6wxtymHDRnjYv84ACSfS0f8-AWJa1sddqFaZJlWFpkMnIOmQJ_VyIALDN8UO19ICgs4d1Ii7UOhAPgPPVN9wgQjGnvNX1zzhw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::resources::apps] Create application: 64bf6621-f2a6-4e5c-9069-8d0e373ccd7a
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;64bf6621-f2a6-4e5c-9069-8d0e373ccd7a&quot;
[2022-06-03T16:56:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/integration/mod.rs:61:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNjcsImlhdCI6MTY1NDI3NTM2NywianRpIjoiYzQ4ZTE2MjYtZjAxMy00NTMyLTg3MWEtNTVjODA2NjBhZDc5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImljSnU0cnpmN01vWTJERGU3Y0otMlEiLCJzZXNzaW9uX3N0YXRlIjoiM2M2MzExYTUtYmNkMi00Yjk3LTk0MTgtY2I3MmZlMjQ3ODI3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjNjMxMWE1LWJjZDItNGI5Ny05NDE4LWNiNzJmZTI0NzgyNyJ9.jV8fIsRGtSYwnQPue7DdA2LGnLrfkXWXxGxowctpyss
[2022-06-03T16:56:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNjcsImlhdCI6MTY1NDI3NTM2NywianRpIjoiYzQ4ZTE2MjYtZjAxMy00NTMyLTg3MWEtNTVjODA2NjBhZDc5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImljSnU0cnpmN01vWTJERGU3Y0otMlEiLCJzZXNzaW9uX3N0YXRlIjoiM2M2MzExYTUtYmNkMi00Yjk3LTk0MTgtY2I3MmZlMjQ3ODI3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjNjMxMWE1LWJjZDItNGI5Ny05NDE4LWNiNzJmZTI0NzgyNyJ9.jV8fIsRGtSYwnQPue7DdA2LGnLrfkXWXxGxowctpyss&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 41b46b2b-7ae3-4eee-9103-fc5074c660da
[2022-06-03T16:56:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;41b46b2b-7ae3-4eee-9103-fc5074c660da&quot;
[2022-06-03T16:56:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNzUsImlhdCI6MTY1NDI3NTM3NSwianRpIjoiMDcyMjNjOGUtOTVkOC00ODliLWI4MWItYWQ1NjcxNmM2MmUzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikxzd0NGd09LdURxSGhjaVlacENMdHciLCJzZXNzaW9uX3N0YXRlIjoiM2MwZWU1ZTMtOTc5Ni00MjcyLTkyZmYtOTAxMjI3MWE4ZWUxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMGVlNWUzLTk3OTYtNDI3Mi05MmZmLTkwMTIyNzFhOGVlMSJ9.GnfVGyGUKSMa6t_RyDBOjEDn_UZmRONXuwmY_QN_R14
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxNzUsImlhdCI6MTY1NDI3NTM3NSwianRpIjoiMDcyMjNjOGUtOTVkOC00ODliLWI4MWItYWQ1NjcxNmM2MmUzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikxzd0NGd09LdURxSGhjaVlacENMdHciLCJzZXNzaW9uX3N0YXRlIjoiM2MwZWU1ZTMtOTc5Ni00MjcyLTkyZmYtOTAxMjI3MWE4ZWUxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMGVlNWUzLTk3OTYtNDI3Mi05MmZmLTkwMTIyNzFhOGVlMSJ9.GnfVGyGUKSMa6t_RyDBOjEDn_UZmRONXuwmY_QN_R14&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::resources::apps] Create application: 7688ca4f-793b-4830-972b-1d4eda1ab8ad
[2022-06-03T16:56:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7688ca4f-793b-4830-972b-1d4eda1ab8ad&quot;
[2022-06-03T16:56:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxODIsImlhdCI6MTY1NDI3NTM4MiwianRpIjoiZGI0NDI0NzAtN2NjOC00NzlhLTlhNWItOGM3MmM3MGVlN2FiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im0zLUxUZVFwVjVWX1lHa25sN1p0NXciLCJzZXNzaW9uX3N0YXRlIjoiNmZmMDNmYWYtZTIyZC00MDFmLWJjMzUtYTk4M2I4NDU1YTRjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmZjAzZmFmLWUyMmQtNDAxZi1iYzM1LWE5ODNiODQ1NWE0YyJ9.SKFQR6ovMAQJrbqKs6lilhSNPMCAgTm8c8cJ-R00YCo
[2022-06-03T16:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxODIsImlhdCI6MTY1NDI3NTM4MiwianRpIjoiZGI0NDI0NzAtN2NjOC00NzlhLTlhNWItOGM3MmM3MGVlN2FiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im0zLUxUZVFwVjVWX1lHa25sN1p0NXciLCJzZXNzaW9uX3N0YXRlIjoiNmZmMDNmYWYtZTIyZC00MDFmLWJjMzUtYTk4M2I4NDU1YTRjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZmZjAzZmFmLWUyMmQtNDAxZi1iYzM1LWE5ODNiODQ1NWE0YyJ9.SKFQR6ovMAQJrbqKs6lilhSNPMCAgTm8c8cJ-R00YCo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 7e028b66-78a8-4606-931a-7adc29449ec8
[2022-06-03T16:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7e028b66-78a8-4606-931a-7adc29449ec8&quot;
[2022-06-03T16:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxODksImlhdCI6MTY1NDI3NTM4OSwianRpIjoiMDhiMzhiN2YtY2RlOC00NDNhLWExMjAtOGZjY2M0YWY0OWMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImV2QTdQcXBtWFVJaWduSGhxXzhJMVEiLCJzZXNzaW9uX3N0YXRlIjoiMTM0MGMwYmUtZGUwYi00OTRlLThjNjAtZWRhM2FlNzViN2QzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzNDBjMGJlLWRlMGItNDk0ZS04YzYwLWVkYTNhZTc1YjdkMyJ9.eol4Iw9eBpdcB5OPnennZDztJEYcQzWKZR89OPsOLqs
[2022-06-03T16:56:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxODksImlhdCI6MTY1NDI3NTM4OSwianRpIjoiMDhiMzhiN2YtY2RlOC00NDNhLWExMjAtOGZjY2M0YWY0OWMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImV2QTdQcXBtWFVJaWduSGhxXzhJMVEiLCJzZXNzaW9uX3N0YXRlIjoiMTM0MGMwYmUtZGUwYi00OTRlLThjNjAtZWRhM2FlNzViN2QzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzNDBjMGJlLWRlMGItNDk0ZS04YzYwLWVkYTNhZTc1YjdkMyJ9.eol4Iw9eBpdcB5OPnennZDztJEYcQzWKZR89OPsOLqs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:30Z INFO  drogue_cloud_tests::resources::apps] Create application: 6cae8560-77c1-4189-ae27-823c41cbb8b6
[2022-06-03T16:56:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6cae8560-77c1-4189-ae27-823c41cbb8b6&quot;
[2022-06-03T16:56:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxOTcsImlhdCI6MTY1NDI3NTM5NywianRpIjoiNTlkYzIzNjAtYzYwNy00OTZmLTg2ZWQtOTk0YmY5NDZkZTY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpZNmZHaDNIUVFtQTVUOVBFRkl5cUEiLCJzZXNzaW9uX3N0YXRlIjoiMDY4MjFiYTktZDRkZC00NjBkLTg1NmQtYjJiODdiMzlhOGJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA2ODIxYmE5LWQ0ZGQtNDYwZC04NTZkLWIyYjg3YjM5YThiYSJ9.ufjZonpWJAu7uV3fMswsexbhbAqJdjnlco817jI6Wqw
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcxOTcsImlhdCI6MTY1NDI3NTM5NywianRpIjoiNTlkYzIzNjAtYzYwNy00OTZmLTg2ZWQtOTk0YmY5NDZkZTY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpZNmZHaDNIUVFtQTVUOVBFRkl5cUEiLCJzZXNzaW9uX3N0YXRlIjoiMDY4MjFiYTktZDRkZC00NjBkLTg1NmQtYjJiODdiMzlhOGJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA2ODIxYmE5LWQ0ZGQtNDYwZC04NTZkLWIyYjg3YjM5YThiYSJ9.ufjZonpWJAu7uV3fMswsexbhbAqJdjnlco817jI6Wqw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::resources::apps] Create application: ec118a63-0493-4ecc-b64f-cc1a333c647c
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ec118a63-0493-4ecc-b64f-cc1a333c647c&quot;
[2022-06-03T16:56:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:39Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMDMsImlhdCI6MTY1NDI3NTQwMywianRpIjoiODAxOWMwOGYtNzg2MS00N2M3LTg0MWEtZGU3MTllNDdiNDQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRlVmlVYkxhT3hydi1QZ3VjdF9ISXciLCJzZXNzaW9uX3N0YXRlIjoiM2M0YmQyYzEtZmFmZS00N2IzLTgxMzYtNWRkYThiYTdlNDg2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjNGJkMmMxLWZhZmUtNDdiMy04MTM2LTVkZGE4YmE3ZTQ4NiJ9.lc2HrTMW4_N4vjEoKL2CUmowxmLKwoOS49CvNzJSHmQ
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMDMsImlhdCI6MTY1NDI3NTQwMywianRpIjoiODAxOWMwOGYtNzg2MS00N2M3LTg0MWEtZGU3MTllNDdiNDQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRlVmlVYkxhT3hydi1QZ3VjdF9ISXciLCJzZXNzaW9uX3N0YXRlIjoiM2M0YmQyYzEtZmFmZS00N2IzLTgxMzYtNWRkYThiYTdlNDg2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjNGJkMmMxLWZhZmUtNDdiMy04MTM2LTVkZGE4YmE3ZTQ4NiJ9.lc2HrTMW4_N4vjEoKL2CUmowxmLKwoOS49CvNzJSHmQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::resources::apps] Create application: e1f14409-57dc-46c7-b6c5-1abc4cd8cdb8
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e1f14409-57dc-46c7-b6c5-1abc4cd8cdb8&quot;
[2022-06-03T16:56:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMTEsImlhdCI6MTY1NDI3NTQxMSwianRpIjoiNzAyMmVhOGUtYzA4Mi00ZTc5LWIzMjQtMTMyM2RlYzdjN2NmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFyaTB4UmlhOHBBT0hMTHNDZmpaS3ciLCJzZXNzaW9uX3N0YXRlIjoiNzA1YzI1NGUtNTI0MC00MzQxLTg3ZmYtM2NlYzViNzY0YzczIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcwNWMyNTRlLTUyNDAtNDM0MS04N2ZmLTNjZWM1Yjc2NGM3MyJ9.7bcbj6B7TgMRSw-sYLKjrJ_EhT0ksDlTS36gTxDa0EE
[2022-06-03T16:56:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMTEsImlhdCI6MTY1NDI3NTQxMSwianRpIjoiNzAyMmVhOGUtYzA4Mi00ZTc5LWIzMjQtMTMyM2RlYzdjN2NmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFyaTB4UmlhOHBBT0hMTHNDZmpaS3ciLCJzZXNzaW9uX3N0YXRlIjoiNzA1YzI1NGUtNTI0MC00MzQxLTg3ZmYtM2NlYzViNzY0YzczIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcwNWMyNTRlLTUyNDAtNDM0MS04N2ZmLTNjZWM1Yjc2NGM3MyJ9.7bcbj6B7TgMRSw-sYLKjrJ_EhT0ksDlTS36gTxDa0EE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 85417fb9-86e2-4cda-8398-75d8c30fb7da
[2022-06-03T16:56:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;85417fb9-86e2-4cda-8398-75d8c30fb7da&quot;
[2022-06-03T16:56:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:56:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:56:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:56:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:56:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:56:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:56:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:56:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:56:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMTgsImlhdCI6MTY1NDI3NTQxOCwianRpIjoiNTA0ZjQ0MWItNjZhYi00NThkLTk1YzYtNGU3NmNlNzM4Y2FiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFLRmMtVlZzYTFuRVRIV0ZwLTg3cWciLCJzZXNzaW9uX3N0YXRlIjoiODdjNzNhNzUtM2UwYi00ZWU1LWIxOGYtMWZlYjA0NzUzMmY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3YzczYTc1LTNlMGItNGVlNS1iMThmLTFmZWIwNDc1MzJmOSJ9.JCBFmjS90WLXVd8qAQqJpOz5ObOsdWvh3735yJUDSPQ
[2022-06-03T16:56:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:56:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMTgsImlhdCI6MTY1NDI3NTQxOCwianRpIjoiNTA0ZjQ0MWItNjZhYi00NThkLTk1YzYtNGU3NmNlNzM4Y2FiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFLRmMtVlZzYTFuRVRIV0ZwLTg3cWciLCJzZXNzaW9uX3N0YXRlIjoiODdjNzNhNzUtM2UwYi00ZWU1LWIxOGYtMWZlYjA0NzUzMmY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg3YzczYTc1LTNlMGItNGVlNS1iMThmLTFmZWIwNDc1MzJmOSJ9.JCBFmjS90WLXVd8qAQqJpOz5ObOsdWvh3735yJUDSPQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:56:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:56:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 84c6394b-90ac-452a-80e4-27c25b7c4066
[2022-06-03T16:56:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;84c6394b-90ac-452a-80e4-27c25b7c4066&quot;
[2022-06-03T16:56:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMjYsImlhdCI6MTY1NDI3NTQyNiwianRpIjoiMzVhYjY3MTUtZjE2Yi00NzY0LWI4NzctNjI5NGUwODMwNjA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFWbDlSQTA3akRpRE5waXBSU0ZTdmciLCJzZXNzaW9uX3N0YXRlIjoiM2FjMmQwYWYtZmI1OS00NWY0LWI2N2QtNDRhYjBmZWExOGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhYzJkMGFmLWZiNTktNDVmNC1iNjdkLTQ0YWIwZmVhMThiMyJ9.OPp6eTlkqLh1sgYnyodg7ZE3iMqQJeFurwwjP2XiQA4
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMjYsImlhdCI6MTY1NDI3NTQyNiwianRpIjoiMzVhYjY3MTUtZjE2Yi00NzY0LWI4NzctNjI5NGUwODMwNjA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFWbDlSQTA3akRpRE5waXBSU0ZTdmciLCJzZXNzaW9uX3N0YXRlIjoiM2FjMmQwYWYtZmI1OS00NWY0LWI2N2QtNDRhYjBmZWExOGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhYzJkMGFmLWZiNTktNDVmNC1iNjdkLTQ0YWIwZmVhMThiMyJ9.OPp6eTlkqLh1sgYnyodg7ZE3iMqQJeFurwwjP2XiQA4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::resources::apps] Create application: 6755311e-e644-4f5d-a163-e38d562db0a8
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6755311e-e644-4f5d-a163-e38d562db0a8&quot;
[2022-06-03T16:57:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMzMsImlhdCI6MTY1NDI3NTQzMywianRpIjoiY2FlODYxYjgtZTg3ZS00Y2RlLTg2M2EtOTY5YTIxOWQ1MjU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktnbTlVRGlpdG1sZUNNYU92SDc0WHciLCJzZXNzaW9uX3N0YXRlIjoiYmY1MjI4ZmMtYzkxYi00ZjcxLWFlMTYtZjUyNWVhZjhiMDRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmNTIyOGZjLWM5MWItNGY3MS1hZTE2LWY1MjVlYWY4YjA0YSJ9.B-rSIZUrW4KIf74B9xUDY71RNDFMgR3OXBt-InShqYM
[2022-06-03T16:57:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyMzMsImlhdCI6MTY1NDI3NTQzMywianRpIjoiY2FlODYxYjgtZTg3ZS00Y2RlLTg2M2EtOTY5YTIxOWQ1MjU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktnbTlVRGlpdG1sZUNNYU92SDc0WHciLCJzZXNzaW9uX3N0YXRlIjoiYmY1MjI4ZmMtYzkxYi00ZjcxLWFlMTYtZjUyNWVhZjhiMDRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmNTIyOGZjLWM5MWItNGY3MS1hZTE2LWY1MjVlYWY4YjA0YSJ9.B-rSIZUrW4KIf74B9xUDY71RNDFMgR3OXBt-InShqYM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:14Z INFO  drogue_cloud_tests::resources::apps] Create application: e2976b32-a89c-49aa-9ad0-f23644fe77f6
[2022-06-03T16:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e2976b32-a89c-49aa-9ad0-f23644fe77f6&quot;
[2022-06-03T16:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNDEsImlhdCI6MTY1NDI3NTQ0MSwianRpIjoiN2JkZDRhYTktYWQxZi00ZWQ5LWJhMDktMmMxNWI0YWM5ZTAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImVvREU2Z28wemVIMy02dk5LMDAxclEiLCJzZXNzaW9uX3N0YXRlIjoiNGFlZWU2NWItOTNiMC00NDcxLTk4ZTAtMDUwY2Y1NDAxYmFiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhZWVlNjViLTkzYjAtNDQ3MS05OGUwLTA1MGNmNTQwMWJhYiJ9.fjNC-Y1xm0ZitOLt4nRFyp4ulJDFEQDqNP_F9vfaGUY
[2022-06-03T16:57:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNDEsImlhdCI6MTY1NDI3NTQ0MSwianRpIjoiN2JkZDRhYTktYWQxZi00ZWQ5LWJhMDktMmMxNWI0YWM5ZTAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImVvREU2Z28wemVIMy02dk5LMDAxclEiLCJzZXNzaW9uX3N0YXRlIjoiNGFlZWU2NWItOTNiMC00NDcxLTk4ZTAtMDUwY2Y1NDAxYmFiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhZWVlNjViLTkzYjAtNDQ3MS05OGUwLTA1MGNmNTQwMWJhYiJ9.fjNC-Y1xm0ZitOLt4nRFyp4ulJDFEQDqNP_F9vfaGUY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:22Z INFO  drogue_cloud_tests::resources::apps] Create application: c39029fa-e20e-4a0d-9b5c-f6bb19bb85a4
[2022-06-03T16:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c39029fa-e20e-4a0d-9b5c-f6bb19bb85a4&quot;
[2022-06-03T16:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNDgsImlhdCI6MTY1NDI3NTQ0OCwianRpIjoiNjY3MjExZGMtMjM3Zi00YjJkLTg3MzYtNzZiMWE4NDQwYjdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdlcnlaTHhLdkUxbFF5cnhsb1ZCZEEiLCJzZXNzaW9uX3N0YXRlIjoiYjQyNjM4YjctY2U1My00NTEyLTk2NzEtYTUzOWM0OWI4NmM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI0MjYzOGI3LWNlNTMtNDUxMi05NjcxLWE1MzljNDliODZjNiJ9.pFFuwLs6aGoPvdZvjI7hapQ8iJvu7hFKIcGwZE3_1PQ
[2022-06-03T16:57:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNDgsImlhdCI6MTY1NDI3NTQ0OCwianRpIjoiNjY3MjExZGMtMjM3Zi00YjJkLTg3MzYtNzZiMWE4NDQwYjdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdlcnlaTHhLdkUxbFF5cnhsb1ZCZEEiLCJzZXNzaW9uX3N0YXRlIjoiYjQyNjM4YjctY2U1My00NTEyLTk2NzEtYTUzOWM0OWI4NmM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI0MjYzOGI3LWNlNTMtNDUxMi05NjcxLWE1MzljNDliODZjNiJ9.pFFuwLs6aGoPvdZvjI7hapQ8iJvu7hFKIcGwZE3_1PQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:29Z INFO  drogue_cloud_tests::resources::apps] Create application: 635674ee-2e85-4be3-8c29-34ab9c855159
[2022-06-03T16:57:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;635674ee-2e85-4be3-8c29-34ab9c855159&quot;
[2022-06-03T16:57:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:168:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNTUsImlhdCI6MTY1NDI3NTQ1NSwianRpIjoiZmM5MTQ1MjktZDMyZC00NWZhLTg5ZDgtNThhNzg0YmEwYzY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InI2Zjg4WWJkMzI5N3k4N0t1UnZRU1EiLCJzZXNzaW9uX3N0YXRlIjoiYjlkZmExNjQtNWY0Ny00NGVkLTg2MTEtYjU0ZWZlN2Y3YjBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI5ZGZhMTY0LTVmNDctNDRlZC04NjExLWI1NGVmZTdmN2IwYiJ9.w51icqDZsg9tZ8H2HFt71yZd9iL_FI9HAeWW_E-PJcY
[2022-06-03T16:57:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNTUsImlhdCI6MTY1NDI3NTQ1NSwianRpIjoiZmM5MTQ1MjktZDMyZC00NWZhLTg5ZDgtNThhNzg0YmEwYzY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InI2Zjg4WWJkMzI5N3k4N0t1UnZRU1EiLCJzZXNzaW9uX3N0YXRlIjoiYjlkZmExNjQtNWY0Ny00NGVkLTg2MTEtYjU0ZWZlN2Y3YjBiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI5ZGZhMTY0LTVmNDctNDRlZC04NjExLWI1NGVmZTdmN2IwYiJ9.w51icqDZsg9tZ8H2HFt71yZd9iL_FI9HAeWW_E-PJcY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:36Z INFO  drogue_cloud_tests::resources::apps] Create application: de9a4c4c-c307-4a29-ad16-eb1cf749a8c3
[2022-06-03T16:57:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;de9a4c4c-c307-4a29-ad16-eb1cf749a8c3&quot;
[2022-06-03T16:57:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNjIsImlhdCI6MTY1NDI3NTQ2MiwianRpIjoiNTk4ZTc0OTktMjY5Yi00YTliLTk1YzctZTIxNmRjZDdlZDNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJBcEFWYTY4UklCZTJiMkRTSGtqdWciLCJzZXNzaW9uX3N0YXRlIjoiOTNkNmU5MjUtZmQyNi00YTY0LTk4ZWMtOGJhMzAyMTJlYThkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkzZDZlOTI1LWZkMjYtNGE2NC05OGVjLThiYTMwMjEyZWE4ZCJ9.hp0Ndbg0zD9aS_SAUSyZnj_TZgl1lFEobh82PdvA2E8
[2022-06-03T16:57:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNjIsImlhdCI6MTY1NDI3NTQ2MiwianRpIjoiNTk4ZTc0OTktMjY5Yi00YTliLTk1YzctZTIxNmRjZDdlZDNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJBcEFWYTY4UklCZTJiMkRTSGtqdWciLCJzZXNzaW9uX3N0YXRlIjoiOTNkNmU5MjUtZmQyNi00YTY0LTk4ZWMtOGJhMzAyMTJlYThkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkzZDZlOTI1LWZkMjYtNGE2NC05OGVjLThiYTMwMjEyZWE4ZCJ9.hp0Ndbg0zD9aS_SAUSyZnj_TZgl1lFEobh82PdvA2E8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 67167f33-9b70-49df-b0fe-12eea3cb8800
[2022-06-03T16:57:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;67167f33-9b70-49df-b0fe-12eea3cb8800&quot;
[2022-06-03T16:57:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNjksImlhdCI6MTY1NDI3NTQ2OSwianRpIjoiNDMxNDEzZmUtMjI3Mi00MWIxLTg1ZDQtMjBiMjM4MjM5OTljIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhKTWcxQjJQSlNsVV81ZkVJYTVxcmciLCJzZXNzaW9uX3N0YXRlIjoiNzEyZDAzMzItZGQyZS00OTQ1LWJlYTEtMjBmMjlhNGM2NjhhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxMmQwMzMyLWRkMmUtNDk0NS1iZWExLTIwZjI5YTRjNjY4YSJ9.8O5XYmRjXtqNT3pd5iF_weZANSFItPPGUmIgzmuBBEk
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNjksImlhdCI6MTY1NDI3NTQ2OSwianRpIjoiNDMxNDEzZmUtMjI3Mi00MWIxLTg1ZDQtMjBiMjM4MjM5OTljIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhKTWcxQjJQSlNsVV81ZkVJYTVxcmciLCJzZXNzaW9uX3N0YXRlIjoiNzEyZDAzMzItZGQyZS00OTQ1LWJlYTEtMjBmMjlhNGM2NjhhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxMmQwMzMyLWRkMmUtNDk0NS1iZWExLTIwZjI5YTRjNjY4YSJ9.8O5XYmRjXtqNT3pd5iF_weZANSFItPPGUmIgzmuBBEk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::resources::apps] Create application: 9d6bd096-9c25-42a3-af57-1495d7651220
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9d6bd096-9c25-42a3-af57-1495d7651220&quot;
[2022-06-03T16:57:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:57:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:57:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNzcsImlhdCI6MTY1NDI3NTQ3NywianRpIjoiZGNiYTlhNmItMzU5NS00NjdlLTkyZTItY2JkMjkwY2RlNDM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imd2VWtpRk9SWFpQNGZIOWFMNGdDQkEiLCJzZXNzaW9uX3N0YXRlIjoiODExZDgyZDAtYmUyYS00NDIxLWE5ZTUtY2IwMDFmNzAzYTY2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgxMWQ4MmQwLWJlMmEtNDQyMS1hOWU1LWNiMDAxZjcwM2E2NiJ9.mQwdzFczu7uErYH6QqxbEsWoEo7NLM-_r2KENgUDr4g
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyNzcsImlhdCI6MTY1NDI3NTQ3NywianRpIjoiZGNiYTlhNmItMzU5NS00NjdlLTkyZTItY2JkMjkwY2RlNDM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imd2VWtpRk9SWFpQNGZIOWFMNGdDQkEiLCJzZXNzaW9uX3N0YXRlIjoiODExZDgyZDAtYmUyYS00NDIxLWE5ZTUtY2IwMDFmNzAzYTY2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgxMWQ4MmQwLWJlMmEtNDQyMS1hOWU1LWNiMDAxZjcwM2E2NiJ9.mQwdzFczu7uErYH6QqxbEsWoEo7NLM-_r2KENgUDr4g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 10c8b5e4-3013-4e2d-8e07-b80c57905a09
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;10c8b5e4-3013-4e2d-8e07-b80c57905a09&quot;
[2022-06-03T16:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:57:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:57:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:57:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:57:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:57:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyODQsImlhdCI6MTY1NDI3NTQ4NCwianRpIjoiYmU1ODE5NjktODZhNS00MGQ3LTk3NjYtZmFlNDBiNGI1ODczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhEbXQxNi1EUXgwdGNWcldHWHY5N0EiLCJzZXNzaW9uX3N0YXRlIjoiOTllMzVhZGMtM2M5OS00Y2I5LTk4ZDgtMmNjNzZlMmY2MWJiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk5ZTM1YWRjLTNjOTktNGNiOS05OGQ4LTJjYzc2ZTJmNjFiYiJ9.h_ErKQGGneisUBAORtDjpRP_wiJ51JgQ_dFE62cSULU
[2022-06-03T16:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyODQsImlhdCI6MTY1NDI3NTQ4NCwianRpIjoiYmU1ODE5NjktODZhNS00MGQ3LTk3NjYtZmFlNDBiNGI1ODczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhEbXQxNi1EUXgwdGNWcldHWHY5N0EiLCJzZXNzaW9uX3N0YXRlIjoiOTllMzVhZGMtM2M5OS00Y2I5LTk4ZDgtMmNjNzZlMmY2MWJiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk5ZTM1YWRjLTNjOTktNGNiOS05OGQ4LTJjYzc2ZTJmNjFiYiJ9.h_ErKQGGneisUBAORtDjpRP_wiJ51JgQ_dFE62cSULU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:05Z INFO  drogue_cloud_tests::resources::apps] Create application: accce2f5-6b92-4f52-bbb0-903695acf1c4
[2022-06-03T16:58:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;accce2f5-6b92-4f52-bbb0-903695acf1c4&quot;
[2022-06-03T16:58:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyOTEsImlhdCI6MTY1NDI3NTQ5MSwianRpIjoiMTk5OTQ0NzItYTczMi00OTk0LWJmOGQtNjZjN2VkZWUwY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtUN0RoTmtSOHl2cENkX3Fsa1gta0EiLCJzZXNzaW9uX3N0YXRlIjoiNGU4YTlhOGEtOWFiNS00MGUyLTlmZGEtMjA5MzUxZGE3ZmMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlOGE5YThhLTlhYjUtNDBlMi05ZmRhLTIwOTM1MWRhN2ZjMyJ9.y_AkyIMA7FQ50UBrygbV6hrmjPBmHSnUXl45wry2w9Q
[2022-06-03T16:58:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyOTEsImlhdCI6MTY1NDI3NTQ5MSwianRpIjoiMTk5OTQ0NzItYTczMi00OTk0LWJmOGQtNjZjN2VkZWUwY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtUN0RoTmtSOHl2cENkX3Fsa1gta0EiLCJzZXNzaW9uX3N0YXRlIjoiNGU4YTlhOGEtOWFiNS00MGUyLTlmZGEtMjA5MzUxZGE3ZmMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlOGE5YThhLTlhYjUtNDBlMi05ZmRhLTIwOTM1MWRhN2ZjMyJ9.y_AkyIMA7FQ50UBrygbV6hrmjPBmHSnUXl45wry2w9Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:12Z INFO  drogue_cloud_tests::resources::apps] Create application: 253b3f9f-a943-4919-b5ca-2f14da0d20dd
[2022-06-03T16:58:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;253b3f9f-a943-4919-b5ca-2f14da0d20dd&quot;
[2022-06-03T16:58:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyOTgsImlhdCI6MTY1NDI3NTQ5OCwianRpIjoiMDgzNjMxM2EtYzYwNy00NmRkLTk4MDQtNzk2NDkwMGIwMzcwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFsSWhPMGczN3lfMEg4Z3pHS3RtckEiLCJzZXNzaW9uX3N0YXRlIjoiMWY1NjA4OTgtMmEyYi00ZjIwLThhYjAtM2NhMGY4NDU4NDIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNTYwODk4LTJhMmItNGYyMC04YWIwLTNjYTBmODQ1ODQyMCJ9.TIpk_mw3Xwj1gH0U16sdhXE1X-3CWW5nb0SMZ_eHAls
[2022-06-03T16:58:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzcyOTgsImlhdCI6MTY1NDI3NTQ5OCwianRpIjoiMDgzNjMxM2EtYzYwNy00NmRkLTk4MDQtNzk2NDkwMGIwMzcwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFsSWhPMGczN3lfMEg4Z3pHS3RtckEiLCJzZXNzaW9uX3N0YXRlIjoiMWY1NjA4OTgtMmEyYi00ZjIwLThhYjAtM2NhMGY4NDU4NDIwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFmNTYwODk4LTJhMmItNGYyMC04YWIwLTNjYTBmODQ1ODQyMCJ9.TIpk_mw3Xwj1gH0U16sdhXE1X-3CWW5nb0SMZ_eHAls&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:19Z INFO  drogue_cloud_tests::resources::apps] Create application: aae54c59-90e5-472a-a64f-9df43f7c115f
[2022-06-03T16:58:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;aae54c59-90e5-472a-a64f-9df43f7c115f&quot;
[2022-06-03T16:58:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:24Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMDYsImlhdCI6MTY1NDI3NTUwNiwianRpIjoiZmVhYjRmMjYtZjRlOC00YTg0LWEwMWEtMTdkMWJmMzUzNDQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxFVVI2U1lBZ2lrQzF2NUNld2R1M0EiLCJzZXNzaW9uX3N0YXRlIjoiYzc0NTNkY2ItNjJlYy00OTQ1LThjY2UtYzdmZWEzYzg3YTJmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3NDUzZGNiLTYyZWMtNDk0NS04Y2NlLWM3ZmVhM2M4N2EyZiJ9.B569iiYgP4Fhfv0oEhQztkpOZeRKlcXuGIAuN_7bXoE
[2022-06-03T16:58:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMDYsImlhdCI6MTY1NDI3NTUwNiwianRpIjoiZmVhYjRmMjYtZjRlOC00YTg0LWEwMWEtMTdkMWJmMzUzNDQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxFVVI2U1lBZ2lrQzF2NUNld2R1M0EiLCJzZXNzaW9uX3N0YXRlIjoiYzc0NTNkY2ItNjJlYy00OTQ1LThjY2UtYzdmZWEzYzg3YTJmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3NDUzZGNiLTYyZWMtNDk0NS04Y2NlLWM3ZmVhM2M4N2EyZiJ9.B569iiYgP4Fhfv0oEhQztkpOZeRKlcXuGIAuN_7bXoE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:27Z INFO  drogue_cloud_tests::resources::apps] Create application: a218d61d-dae9-4c7b-9dc0-43ca72c274aa
[2022-06-03T16:58:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a218d61d-dae9-4c7b-9dc0-43ca72c274aa&quot;
[2022-06-03T16:58:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMTMsImlhdCI6MTY1NDI3NTUxMywianRpIjoiOTRjMDI4YWItZDZiMi00OTNkLWIzNTQtMTcxOGUxNGJkMTFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdqZnpHcDJCWF8zTnltV1V4bHhoWlEiLCJzZXNzaW9uX3N0YXRlIjoiZTI3MDkyNWUtZDlhZS00NmUyLTkzZjktMGE4MDExZDg2MTZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyNzA5MjVlLWQ5YWUtNDZlMi05M2Y5LTBhODAxMWQ4NjE2YiJ9.h5s_2OAQqSGKO_VGSAIUeELkP7HL1ybjgcppZJCtJSs
[2022-06-03T16:58:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMTMsImlhdCI6MTY1NDI3NTUxMywianRpIjoiOTRjMDI4YWItZDZiMi00OTNkLWIzNTQtMTcxOGUxNGJkMTFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdqZnpHcDJCWF8zTnltV1V4bHhoWlEiLCJzZXNzaW9uX3N0YXRlIjoiZTI3MDkyNWUtZDlhZS00NmUyLTkzZjktMGE4MDExZDg2MTZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyNzA5MjVlLWQ5YWUtNDZlMi05M2Y5LTBhODAxMWQ4NjE2YiJ9.h5s_2OAQqSGKO_VGSAIUeELkP7HL1ybjgcppZJCtJSs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 57a3af01-b2ac-4a5a-b704-fd258316d5b1
[2022-06-03T16:58:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;57a3af01-b2ac-4a5a-b704-fd258316d5b1&quot;
[2022-06-03T16:58:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMjAsImlhdCI6MTY1NDI3NTUyMCwianRpIjoiNzVjMTE2MGYtODdlOS00MDQxLTk4MTctOTZiNmVlYTE5ODdmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJ6SjVqWDNvenVEalVwNUlRUkwzREEiLCJzZXNzaW9uX3N0YXRlIjoiZGFjYmU4ZWQtMTNlZS00MWZjLTlmMDctZGNiNWMyMmJmYWU3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRhY2JlOGVkLTEzZWUtNDFmYy05ZjA3LWRjYjVjMjJiZmFlNyJ9.Bz3qDDr9-6mt5XOFbdDnbgT_XXNOzYKqk2a7qEHl24c
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMjAsImlhdCI6MTY1NDI3NTUyMCwianRpIjoiNzVjMTE2MGYtODdlOS00MDQxLTk4MTctOTZiNmVlYTE5ODdmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJ6SjVqWDNvenVEalVwNUlRUkwzREEiLCJzZXNzaW9uX3N0YXRlIjoiZGFjYmU4ZWQtMTNlZS00MWZjLTlmMDctZGNiNWMyMmJmYWU3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRhY2JlOGVkLTEzZWUtNDFmYy05ZjA3LWRjYjVjMjJiZmFlNyJ9.Bz3qDDr9-6mt5XOFbdDnbgT_XXNOzYKqk2a7qEHl24c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::resources::apps] Create application: 3bae1dde-254d-4575-bce9-a01c0ba49ff7
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3bae1dde-254d-4575-bce9-a01c0ba49ff7&quot;
[2022-06-03T16:58:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMjgsImlhdCI6MTY1NDI3NTUyOCwianRpIjoiODZhYjNjNmUtMDJmZS00ZDI5LTk3NzgtODMxYTkzN2Y4ODFhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJCekw2aG5OQk1qcExaUWl1b0wxV2ciLCJzZXNzaW9uX3N0YXRlIjoiNjIxM2M0NzItMDdiMy00NGEyLWIwMjktM2M4MjQwMWRkNDkwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYyMTNjNDcyLTA3YjMtNDRhMi1iMDI5LTNjODI0MDFkZDQ5MCJ9.riFGrEHSxNqy8oggseifqoCwvehrWkQ7hvff0o3SNl4
[2022-06-03T16:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMjgsImlhdCI6MTY1NDI3NTUyOCwianRpIjoiODZhYjNjNmUtMDJmZS00ZDI5LTk3NzgtODMxYTkzN2Y4ODFhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJCekw2aG5OQk1qcExaUWl1b0wxV2ciLCJzZXNzaW9uX3N0YXRlIjoiNjIxM2M0NzItMDdiMy00NGEyLWIwMjktM2M4MjQwMWRkNDkwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYyMTNjNDcyLTA3YjMtNDRhMi1iMDI5LTNjODI0MDFkZDQ5MCJ9.riFGrEHSxNqy8oggseifqoCwvehrWkQ7hvff0o3SNl4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:49Z INFO  drogue_cloud_tests::resources::apps] Create application: cb41c21e-480f-424b-a7ca-bd9b04c221db
[2022-06-03T16:58:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cb41c21e-480f-424b-a7ca-bd9b04c221db&quot;
[2022-06-03T16:58:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:58:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:58:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMzUsImlhdCI6MTY1NDI3NTUzNSwianRpIjoiYWYzOTA3MmMtYzRjYy00OThhLWIwMjEtMjgyNGMxZTMyMzUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFXV2p2QkxaZE1Cay1mQl9QUC0wZ3ciLCJzZXNzaW9uX3N0YXRlIjoiNTI2ZjNmZjEtY2VkNi00Nzg5LTkxOWItZThjZTRjZWQ0MzViIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUyNmYzZmYxLWNlZDYtNDc4OS05MTliLWU4Y2U0Y2VkNDM1YiJ9.BVCG3z8YSzg-dC3FPcBXLHSvOnKLhERMfPTJa76fguM
[2022-06-03T16:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczMzUsImlhdCI6MTY1NDI3NTUzNSwianRpIjoiYWYzOTA3MmMtYzRjYy00OThhLWIwMjEtMjgyNGMxZTMyMzUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFXV2p2QkxaZE1Cay1mQl9QUC0wZ3ciLCJzZXNzaW9uX3N0YXRlIjoiNTI2ZjNmZjEtY2VkNi00Nzg5LTkxOWItZThjZTRjZWQ0MzViIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUyNmYzZmYxLWNlZDYtNDc4OS05MTliLWU4Y2U0Y2VkNDM1YiJ9.BVCG3z8YSzg-dC3FPcBXLHSvOnKLhERMfPTJa76fguM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:58:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 5f381109-4e0c-4cec-800f-d794e8518f2b
[2022-06-03T16:58:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5f381109-4e0c-4cec-800f-d794e8518f2b&quot;
[2022-06-03T16:58:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:58:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:58:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:58:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:58:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:58:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:58:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNDIsImlhdCI6MTY1NDI3NTU0MiwianRpIjoiM2RlNWYzNmQtYzVjMS00MWNhLWI5ZjYtZjEwMmM2ZWVmYTNmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik92djBaX01sYVpBclVoS1VMOUtyYXciLCJzZXNzaW9uX3N0YXRlIjoiY2M0MzZhMjctZjk3Ni00MTA4LTk1YjEtZjNiOGZiMmNkOTlkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjNDM2YTI3LWY5NzYtNDEwOC05NWIxLWYzYjhmYjJjZDk5ZCJ9.2xxmwvjqIhaiTYFUZjYe0Eh3vxL9lss7I6PWTnOEdhI
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNDIsImlhdCI6MTY1NDI3NTU0MiwianRpIjoiM2RlNWYzNmQtYzVjMS00MWNhLWI5ZjYtZjEwMmM2ZWVmYTNmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik92djBaX01sYVpBclVoS1VMOUtyYXciLCJzZXNzaW9uX3N0YXRlIjoiY2M0MzZhMjctZjk3Ni00MTA4LTk1YjEtZjNiOGZiMmNkOTlkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjNDM2YTI3LWY5NzYtNDEwOC05NWIxLWYzYjhmYjJjZDk5ZCJ9.2xxmwvjqIhaiTYFUZjYe0Eh3vxL9lss7I6PWTnOEdhI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::resources::apps] Create application: c983c71d-b96f-47e3-b087-8aba5d40a19a
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c983c71d-b96f-47e3-b087-8aba5d40a19a&quot;
[2022-06-03T16:59:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNTAsImlhdCI6MTY1NDI3NTU1MCwianRpIjoiYTQ3NDMxNjUtOWNiMC00NjNlLTk0NTYtMDdjNGViZDVlOTVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJQdUI0MF9UUVE5VnU2UFdkSlpBTFEiLCJzZXNzaW9uX3N0YXRlIjoiMzdhNmNkMjktNWI1YS00NWZiLThlNTEtMjczZmEwYmQyMjU4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM3YTZjZDI5LTViNWEtNDVmYi04ZTUxLTI3M2ZhMGJkMjI1OCJ9.Nit21NfLBR6Qx8WFIyuWQaa0gYwby3RXCNHilaWCbRA
[2022-06-03T16:59:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNTAsImlhdCI6MTY1NDI3NTU1MCwianRpIjoiYTQ3NDMxNjUtOWNiMC00NjNlLTk0NTYtMDdjNGViZDVlOTVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJQdUI0MF9UUVE5VnU2UFdkSlpBTFEiLCJzZXNzaW9uX3N0YXRlIjoiMzdhNmNkMjktNWI1YS00NWZiLThlNTEtMjczZmEwYmQyMjU4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM3YTZjZDI5LTViNWEtNDVmYi04ZTUxLTI3M2ZhMGJkMjI1OCJ9.Nit21NfLBR6Qx8WFIyuWQaa0gYwby3RXCNHilaWCbRA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:11Z INFO  drogue_cloud_tests::resources::apps] Create application: d4d0d5bd-555e-4822-be51-18b760fa38b7
[2022-06-03T16:59:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d4d0d5bd-555e-4822-be51-18b760fa38b7&quot;
[2022-06-03T16:59:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNTgsImlhdCI6MTY1NDI3NTU1OCwianRpIjoiNGUzN2FiMjItYTNhZi00MGIzLThmNDUtYjI0NDJkNzdkYmVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRsVFhXaHVUTGIxZlFadk5IcUxCWmciLCJzZXNzaW9uX3N0YXRlIjoiYmUxNDA0OTItMTJkNi00M2RmLWJkYjctNTVkYTk4OGVlNDc0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTQwNDkyLTEyZDYtNDNkZi1iZGI3LTU1ZGE5ODhlZTQ3NCJ9.FVcXZqEItQPuHZKGC2llHw1x95pkqHvQBcfmxBUfM_E
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNTgsImlhdCI6MTY1NDI3NTU1OCwianRpIjoiNGUzN2FiMjItYTNhZi00MGIzLThmNDUtYjI0NDJkNzdkYmVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRsVFhXaHVUTGIxZlFadk5IcUxCWmciLCJzZXNzaW9uX3N0YXRlIjoiYmUxNDA0OTItMTJkNi00M2RmLWJkYjctNTVkYTk4OGVlNDc0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlMTQwNDkyLTEyZDYtNDNkZi1iZGI3LTU1ZGE5ODhlZTQ3NCJ9.FVcXZqEItQPuHZKGC2llHw1x95pkqHvQBcfmxBUfM_E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::resources::apps] Create application: c936aba2-acfe-466a-8d7e-1743edb2b945
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c936aba2-acfe-466a-8d7e-1743edb2b945&quot;
[2022-06-03T16:59:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNjUsImlhdCI6MTY1NDI3NTU2NSwianRpIjoiZjI2ZmIwYzItNmI2OS00ZTE3LWE1MzYtMTQ3MzMxYjBiMmU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iko5Z1Q2YTlfWGVfazd2RHJQRW5TTGciLCJzZXNzaW9uX3N0YXRlIjoiNWZlY2RmOTAtNDBjYy00MGE4LTkxMTUtMGUwN2I1YjkxODg1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZWNkZjkwLTQwY2MtNDBhOC05MTE1LTBlMDdiNWI5MTg4NSJ9.OVIKYuWQ1hADYUfooDjGTzNU-J56gaOuw3Zsm-uPfDM
[2022-06-03T16:59:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNjUsImlhdCI6MTY1NDI3NTU2NSwianRpIjoiZjI2ZmIwYzItNmI2OS00ZTE3LWE1MzYtMTQ3MzMxYjBiMmU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iko5Z1Q2YTlfWGVfazd2RHJQRW5TTGciLCJzZXNzaW9uX3N0YXRlIjoiNWZlY2RmOTAtNDBjYy00MGE4LTkxMTUtMGUwN2I1YjkxODg1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmZWNkZjkwLTQwY2MtNDBhOC05MTE1LTBlMDdiNWI5MTg4NSJ9.OVIKYuWQ1hADYUfooDjGTzNU-J56gaOuw3Zsm-uPfDM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:26Z INFO  drogue_cloud_tests::resources::apps] Create application: 7a0577d8-a99b-46e0-9c6c-70f91718b9b2
[2022-06-03T16:59:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7a0577d8-a99b-46e0-9c6c-70f91718b9b2&quot;
[2022-06-03T16:59:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNzIsImlhdCI6MTY1NDI3NTU3MiwianRpIjoiNDIxNDI3OGYtZjg2Zi00NDU2LTlmZTctYzc4NDE3MjAzZTQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9Ta3dxMUF1b1hvOVNpTnBybnhtdVEiLCJzZXNzaW9uX3N0YXRlIjoiNjVlODhjMTgtYWEzMC00M2E0LWIxZWQtODRhYzRmYTEwZTcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1ZTg4YzE4LWFhMzAtNDNhNC1iMWVkLTg0YWM0ZmExMGU3MiJ9.uZaGwI7Sh7YG5OaFs1C3i4A7CmlrFHIfEnpeVWatTz4
[2022-06-03T16:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczNzIsImlhdCI6MTY1NDI3NTU3MiwianRpIjoiNDIxNDI3OGYtZjg2Zi00NDU2LTlmZTctYzc4NDE3MjAzZTQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9Ta3dxMUF1b1hvOVNpTnBybnhtdVEiLCJzZXNzaW9uX3N0YXRlIjoiNjVlODhjMTgtYWEzMC00M2E0LWIxZWQtODRhYzRmYTEwZTcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1ZTg4YzE4LWFhMzAtNDNhNC1iMWVkLTg0YWM0ZmExMGU3MiJ9.uZaGwI7Sh7YG5OaFs1C3i4A7CmlrFHIfEnpeVWatTz4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:33Z INFO  drogue_cloud_tests::resources::apps] Create application: 492441d7-39aa-445b-bfd7-c63f8161c800
[2022-06-03T16:59:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;492441d7-39aa-445b-bfd7-c63f8161c800&quot;
[2022-06-03T16:59:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczODAsImlhdCI6MTY1NDI3NTU4MCwianRpIjoiYzIzZGIyNGYtMTBjMi00OWQyLThjYjItYzFkZGQ0ZWZiMmRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik13aHlEcWhjVkYxYVV5YWk2bENlbGciLCJzZXNzaW9uX3N0YXRlIjoiNmM4MzFiNWYtNzE2MC00NDY3LWFjOTItMmQ0YjNiNGQ3NDdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZjODMxYjVmLTcxNjAtNDQ2Ny1hYzkyLTJkNGIzYjRkNzQ3ZiJ9.vZNL7kCt8FEE3cLuSMA3mC5Duhye1EywKskqnijRs6Y
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczODAsImlhdCI6MTY1NDI3NTU4MCwianRpIjoiYzIzZGIyNGYtMTBjMi00OWQyLThjYjItYzFkZGQ0ZWZiMmRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik13aHlEcWhjVkYxYVV5YWk2bENlbGciLCJzZXNzaW9uX3N0YXRlIjoiNmM4MzFiNWYtNzE2MC00NDY3LWFjOTItMmQ0YjNiNGQ3NDdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZjODMxYjVmLTcxNjAtNDQ2Ny1hYzkyLTJkNGIzYjRkNzQ3ZiJ9.vZNL7kCt8FEE3cLuSMA3mC5Duhye1EywKskqnijRs6Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::resources::apps] Create application: 5bb8d158-25d0-4346-bddf-3079699c3251
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5bb8d158-25d0-4346-bddf-3079699c3251&quot;
[2022-06-03T16:59:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/command.rs:89:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczODcsImlhdCI6MTY1NDI3NTU4NywianRpIjoiYzM5ODZlZWEtN2Q0My00YmRiLWFiZDEtNTFmMDg0Yjg5MjA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVIWWFNcTZYRjBtWHlpTnQxSTFVUXciLCJzZXNzaW9uX3N0YXRlIjoiODhhZjYxMzAtODAzOS00MWI3LTg3YmQtNjk0ZDE4OGI3YzZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg4YWY2MTMwLTgwMzktNDFiNy04N2JkLTY5NGQxODhiN2M2YiJ9.OG6DUDvVBdqAyDmf7EKorEnJnJ5yYxoUYvfj_7md8ok
[2022-06-03T16:59:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczODcsImlhdCI6MTY1NDI3NTU4NywianRpIjoiYzM5ODZlZWEtN2Q0My00YmRiLWFiZDEtNTFmMDg0Yjg5MjA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVIWWFNcTZYRjBtWHlpTnQxSTFVUXciLCJzZXNzaW9uX3N0YXRlIjoiODhhZjYxMzAtODAzOS00MWI3LTg3YmQtNjk0ZDE4OGI3YzZiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg4YWY2MTMwLTgwMzktNDFiNy04N2JkLTY5NGQxODhiN2M2YiJ9.OG6DUDvVBdqAyDmf7EKorEnJnJ5yYxoUYvfj_7md8ok&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:48Z INFO  drogue_cloud_tests::resources::apps] Create application: d6730f21-cbf4-4a7f-8c06-eafd1d3b9b09
[2022-06-03T16:59:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d6730f21-cbf4-4a7f-8c06-eafd1d3b9b09&quot;
[2022-06-03T16:59:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T16:59:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T16:59:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczOTQsImlhdCI6MTY1NDI3NTU5NCwianRpIjoiMDgzOTQzNmEtMDEzZC00YmE2LTg0MjYtYWE0MmNhOWE1NzgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjlWb1JwUjZYTkNER0hSdm10WnNnZnciLCJzZXNzaW9uX3N0YXRlIjoiODQ2MDM4NzAtZmIzZC00OTVjLTg0YjItMGEzNmUyYTE2MTVlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg0NjAzODcwLWZiM2QtNDk1Yy04NGIyLTBhMzZlMmExNjE1ZSJ9.87rEEg88p72YhRfTwgR4HL4wHlmV2nmhszT8mxr347E
[2022-06-03T16:59:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T16:59:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzczOTQsImlhdCI6MTY1NDI3NTU5NCwianRpIjoiMDgzOTQzNmEtMDEzZC00YmE2LTg0MjYtYWE0MmNhOWE1NzgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjlWb1JwUjZYTkNER0hSdm10WnNnZnciLCJzZXNzaW9uX3N0YXRlIjoiODQ2MDM4NzAtZmIzZC00OTVjLTg0YjItMGEzNmUyYTE2MTVlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg0NjAzODcwLWZiM2QtNDk1Yy04NGIyLTBhMzZlMmExNjE1ZSJ9.87rEEg88p72YhRfTwgR4HL4wHlmV2nmhszT8mxr347E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T16:59:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T16:59:55Z INFO  drogue_cloud_tests::resources::apps] Create application: bffc7128-4765-41ae-b164-cf3e2af567c3
[2022-06-03T16:59:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;bffc7128-4765-41ae-b164-cf3e2af567c3&quot;
[2022-06-03T16:59:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T16:59:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T16:59:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T16:59:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T16:59:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T16:59:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T16:59:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MDIsImlhdCI6MTY1NDI3NTYwMiwianRpIjoiNmZiMTM2ZTAtZDI3Ni00ZGMzLTkwOTAtYjdkOTAyODRjZGMzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdCTzQzSnZUalNzRnctbTlJQS1NanciLCJzZXNzaW9uX3N0YXRlIjoiYzY2MGEwZTUtOWZlMC00MWQ4LThiYTItMmUzMjA4ZmZkOGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2NjBhMGU1LTlmZTAtNDFkOC04YmEyLTJlMzIwOGZmZDhiMyJ9.uGUqo6BavpC9gAIQno7i2g9JhmCjjK9cYhwdLSlWtAw
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MDIsImlhdCI6MTY1NDI3NTYwMiwianRpIjoiNmZiMTM2ZTAtZDI3Ni00ZGMzLTkwOTAtYjdkOTAyODRjZGMzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdCTzQzSnZUalNzRnctbTlJQS1NanciLCJzZXNzaW9uX3N0YXRlIjoiYzY2MGEwZTUtOWZlMC00MWQ4LThiYTItMmUzMjA4ZmZkOGIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM2NjBhMGU1LTlmZTAtNDFkOC04YmEyLTJlMzIwOGZmZDhiMyJ9.uGUqo6BavpC9gAIQno7i2g9JhmCjjK9cYhwdLSlWtAw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::resources::apps] Create application: 23c92744-29d5-454b-8766-11c4dd3e0369
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;23c92744-29d5-454b-8766-11c4dd3e0369&quot;
[2022-06-03T17:00:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MDksImlhdCI6MTY1NDI3NTYwOSwianRpIjoiZDVlOGJhZWItMGQ1Zi00ODVmLWJjNTItNjFlZTkxMzgxY2IzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlvdTRJSkRsVVFHN0U1TUFFUlVScGciLCJzZXNzaW9uX3N0YXRlIjoiZTQ0NjA2NjItNTgwNy00MDEzLWI0OWQtMGNkNmJhNDc4ZTFhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU0NDYwNjYyLTU4MDctNDAxMy1iNDlkLTBjZDZiYTQ3OGUxYSJ9.5MT1fpxUY4-MCqgoK1eiCRelmPZUd0ZPVGYqQ0W3UQs
[2022-06-03T17:00:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MDksImlhdCI6MTY1NDI3NTYwOSwianRpIjoiZDVlOGJhZWItMGQ1Zi00ODVmLWJjNTItNjFlZTkxMzgxY2IzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlvdTRJSkRsVVFHN0U1TUFFUlVScGciLCJzZXNzaW9uX3N0YXRlIjoiZTQ0NjA2NjItNTgwNy00MDEzLWI0OWQtMGNkNmJhNDc4ZTFhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU0NDYwNjYyLTU4MDctNDAxMy1iNDlkLTBjZDZiYTQ3OGUxYSJ9.5MT1fpxUY4-MCqgoK1eiCRelmPZUd0ZPVGYqQ0W3UQs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:10Z INFO  drogue_cloud_tests::resources::apps] Create application: 89e3c6d4-8256-4ada-82b7-ab47dccd4a7a
[2022-06-03T17:00:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;89e3c6d4-8256-4ada-82b7-ab47dccd4a7a&quot;
[2022-06-03T17:00:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MTYsImlhdCI6MTY1NDI3NTYxNiwianRpIjoiNzZmMmYwNTAtZDlmYy00OTAyLTkyMTAtMTRlZTg4MGNkNTE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkgzRkNSd0Z2N2RsUXhjUngzUnp5REEiLCJzZXNzaW9uX3N0YXRlIjoiYzFiOGVkOGMtYTBmNy00ZjQwLTk2NGYtNzdiNGQ5YTIyMjc0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMxYjhlZDhjLWEwZjctNGY0MC05NjRmLTc3YjRkOWEyMjI3NCJ9.UdKsQg8seV6uW3DvHB5GymIG5wh-US1g6DuNI98PaiY
[2022-06-03T17:00:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MTYsImlhdCI6MTY1NDI3NTYxNiwianRpIjoiNzZmMmYwNTAtZDlmYy00OTAyLTkyMTAtMTRlZTg4MGNkNTE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkgzRkNSd0Z2N2RsUXhjUngzUnp5REEiLCJzZXNzaW9uX3N0YXRlIjoiYzFiOGVkOGMtYTBmNy00ZjQwLTk2NGYtNzdiNGQ5YTIyMjc0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMxYjhlZDhjLWEwZjctNGY0MC05NjRmLTc3YjRkOWEyMjI3NCJ9.UdKsQg8seV6uW3DvHB5GymIG5wh-US1g6DuNI98PaiY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:17Z INFO  drogue_cloud_tests::resources::apps] Create application: baf499a2-5365-4664-b2ce-8ba5c08fdf03
[2022-06-03T17:00:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;baf499a2-5365-4664-b2ce-8ba5c08fdf03&quot;
[2022-06-03T17:00:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MjMsImlhdCI6MTY1NDI3NTYyMywianRpIjoiMDdhYzA0MDMtZWZiYy00MzU5LTg0Y2EtNjI2MzA4NmMxNmJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZPbFowN0tNWWREQ2RfT01OSWRXM1EiLCJzZXNzaW9uX3N0YXRlIjoiYmMwN2RjMDQtMzEzNy00MTAwLThlMTYtZjljNTNlMzZhZDEyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJjMDdkYzA0LTMxMzctNDEwMC04ZTE2LWY5YzUzZTM2YWQxMiJ9.rFViK_yRln0tdQEqIc8Rv-ZL_tZZ2R4uDdm7pWVD3Aw
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MjMsImlhdCI6MTY1NDI3NTYyMywianRpIjoiMDdhYzA0MDMtZWZiYy00MzU5LTg0Y2EtNjI2MzA4NmMxNmJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZPbFowN0tNWWREQ2RfT01OSWRXM1EiLCJzZXNzaW9uX3N0YXRlIjoiYmMwN2RjMDQtMzEzNy00MTAwLThlMTYtZjljNTNlMzZhZDEyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJjMDdkYzA0LTMxMzctNDEwMC04ZTE2LWY5YzUzZTM2YWQxMiJ9.rFViK_yRln0tdQEqIc8Rv-ZL_tZZ2R4uDdm7pWVD3Aw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 4fffa870-9287-48b3-a898-8a27b7b7d9a8
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4fffa870-9287-48b3-a898-8a27b7b7d9a8&quot;
[2022-06-03T17:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MzEsImlhdCI6MTY1NDI3NTYzMSwianRpIjoiYmI0NmU3NWItZDg3Mi00YzllLTk2YmQtMDUxOTc4MmNiZTNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdheXZ0TlFRY05lUzM0UF92ZWJwa0EiLCJzZXNzaW9uX3N0YXRlIjoiMmE1MTQ3NDctYWIwNy00ZDRmLTg4YTAtOTYzZTJiOTUxZjY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJhNTE0NzQ3LWFiMDctNGQ0Zi04OGEwLTk2M2UyYjk1MWY2OSJ9.ecMP9VVkgKpQUBEQVY8JWnGIXgt3BGjQK6Kx9KX-wP8
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MzEsImlhdCI6MTY1NDI3NTYzMSwianRpIjoiYmI0NmU3NWItZDg3Mi00YzllLTk2YmQtMDUxOTc4MmNiZTNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdheXZ0TlFRY05lUzM0UF92ZWJwa0EiLCJzZXNzaW9uX3N0YXRlIjoiMmE1MTQ3NDctYWIwNy00ZDRmLTg4YTAtOTYzZTJiOTUxZjY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJhNTE0NzQ3LWFiMDctNGQ0Zi04OGEwLTk2M2UyYjk1MWY2OSJ9.ecMP9VVkgKpQUBEQVY8JWnGIXgt3BGjQK6Kx9KX-wP8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 620944f8-e950-4c21-b8e1-fe3a34ca1275
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;620944f8-e950-4c21-b8e1-fe3a34ca1275&quot;
[2022-06-03T17:00:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MzgsImlhdCI6MTY1NDI3NTYzOCwianRpIjoiYzk2NzJhOWQtODlkOC00MGUzLTk0YjQtMDllYjVhMGNhYTEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFsdDZmckFLVnl3dzRQNEJycFAyZWciLCJzZXNzaW9uX3N0YXRlIjoiNWY4OTVlYmYtYTA5MS00ZjVmLTg2NjctZDY1Mzc2NzE2ZmRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmODk1ZWJmLWEwOTEtNGY1Zi04NjY3LWQ2NTM3NjcxNmZkZCJ9.eq0mpkhuC5j0gLL2Tuxs18zjma_XO151td-srQ1e86E
[2022-06-03T17:00:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0MzgsImlhdCI6MTY1NDI3NTYzOCwianRpIjoiYzk2NzJhOWQtODlkOC00MGUzLTk0YjQtMDllYjVhMGNhYTEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFsdDZmckFLVnl3dzRQNEJycFAyZWciLCJzZXNzaW9uX3N0YXRlIjoiNWY4OTVlYmYtYTA5MS00ZjVmLTg2NjctZDY1Mzc2NzE2ZmRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmODk1ZWJmLWEwOTEtNGY1Zi04NjY3LWQ2NTM3NjcxNmZkZCJ9.eq0mpkhuC5j0gLL2Tuxs18zjma_XO151td-srQ1e86E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:39Z INFO  drogue_cloud_tests::resources::apps] Create application: c25f9a99-e889-4dc5-889a-2807cc40a894
[2022-06-03T17:00:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c25f9a99-e889-4dc5-889a-2807cc40a894&quot;
[2022-06-03T17:00:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NDUsImlhdCI6MTY1NDI3NTY0NSwianRpIjoiMGE4NWMxZjYtMjQwMS00NGZmLWI5YzEtMzlhZDQyOGU4MWI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNyLTFOY2tCZmhPZzB2V3E0RlNfb2ciLCJzZXNzaW9uX3N0YXRlIjoiMGRkMWQ1ODQtODVjMi00ZjFkLWJkY2MtZmEzZGFlMjlkMjkxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkZDFkNTg0LTg1YzItNGYxZC1iZGNjLWZhM2RhZTI5ZDI5MSJ9.8Yc2sMvky6qI-wcTxv_RWCxfX1-MNb6zjfT2fFqjjOo
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NDUsImlhdCI6MTY1NDI3NTY0NSwianRpIjoiMGE4NWMxZjYtMjQwMS00NGZmLWI5YzEtMzlhZDQyOGU4MWI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNyLTFOY2tCZmhPZzB2V3E0RlNfb2ciLCJzZXNzaW9uX3N0YXRlIjoiMGRkMWQ1ODQtODVjMi00ZjFkLWJkY2MtZmEzZGFlMjlkMjkxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkZDFkNTg0LTg1YzItNGYxZC1iZGNjLWZhM2RhZTI5ZDI5MSJ9.8Yc2sMvky6qI-wcTxv_RWCxfX1-MNb6zjfT2fFqjjOo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 0590d663-9161-4e52-8d40-4a20f99fb935
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0590d663-9161-4e52-8d40-4a20f99fb935&quot;
[2022-06-03T17:00:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NTMsImlhdCI6MTY1NDI3NTY1MywianRpIjoiZjY2NmU0M2QtODkzMy00NTRkLThhNTUtOGUxNDc4NDQzYTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImxhVFRLemhIalZ5QWdMLWZPTUhWUGciLCJzZXNzaW9uX3N0YXRlIjoiMTMyNGZkNTgtYjExMS00ZjI5LWJhYTUtMDk2YWVhMTk3NDQ1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzMjRmZDU4LWIxMTEtNGYyOS1iYWE1LTA5NmFlYTE5NzQ0NSJ9.VDZ-E3PEtaLBbzfyHLatWbz4r8MUV4RID-YaFaj1fKM
[2022-06-03T17:00:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:00:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NTMsImlhdCI6MTY1NDI3NTY1MywianRpIjoiZjY2NmU0M2QtODkzMy00NTRkLThhNTUtOGUxNDc4NDQzYTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImxhVFRLemhIalZ5QWdMLWZPTUhWUGciLCJzZXNzaW9uX3N0YXRlIjoiMTMyNGZkNTgtYjExMS00ZjI5LWJhYTUtMDk2YWVhMTk3NDQ1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzMjRmZDU4LWIxMTEtNGYyOS1iYWE1LTA5NmFlYTE5NzQ0NSJ9.VDZ-E3PEtaLBbzfyHLatWbz4r8MUV4RID-YaFaj1fKM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:00:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:00:54Z INFO  drogue_cloud_tests::resources::apps] Create application: 1a675f68-8983-4354-950f-537c6b32b5cf
[2022-06-03T17:00:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1a675f68-8983-4354-950f-537c6b32b5cf&quot;
[2022-06-03T17:00:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:00:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:00:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:00:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:00:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:00:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:00:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:00:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:00:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NjAsImlhdCI6MTY1NDI3NTY2MCwianRpIjoiYmQ5OWNiMzEtYmNkZi00OGNjLWJhMTYtNjg2NWU4NTAyOGY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5jTW5SVUFMRDFOQTY1Q3ZURzFXNGciLCJzZXNzaW9uX3N0YXRlIjoiYjE1Y2ZlYzAtMGU3Ni00MTRjLWIzYjQtYzZhYzc5YjZmNDUxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIxNWNmZWMwLTBlNzYtNDE0Yy1iM2I0LWM2YWM3OWI2ZjQ1MSJ9._eiYvByOiw35BzzEDCwTJwCVNykzHALUXVL40xsnyp8
[2022-06-03T17:01:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NjAsImlhdCI6MTY1NDI3NTY2MCwianRpIjoiYmQ5OWNiMzEtYmNkZi00OGNjLWJhMTYtNjg2NWU4NTAyOGY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5jTW5SVUFMRDFOQTY1Q3ZURzFXNGciLCJzZXNzaW9uX3N0YXRlIjoiYjE1Y2ZlYzAtMGU3Ni00MTRjLWIzYjQtYzZhYzc5YjZmNDUxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIxNWNmZWMwLTBlNzYtNDE0Yy1iM2I0LWM2YWM3OWI2ZjQ1MSJ9._eiYvByOiw35BzzEDCwTJwCVNykzHALUXVL40xsnyp8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:01Z INFO  drogue_cloud_tests::resources::apps] Create application: c6e0663b-73d3-4220-8309-5be7d2eeb221
[2022-06-03T17:01:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c6e0663b-73d3-4220-8309-5be7d2eeb221&quot;
[2022-06-03T17:01:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NjgsImlhdCI6MTY1NDI3NTY2OCwianRpIjoiNzg0NjdmNDMtZjcxZC00ZWQ3LWIwNTYtZDM4NzZmNTdhMjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRURXlWSlk5bGhkNGdWMHJ0VE9XbGciLCJzZXNzaW9uX3N0YXRlIjoiZDQ5ODFkM2YtMmI0Yy00ZWRkLWJmNzAtY2QzNDFhODg2ZTJiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0OTgxZDNmLTJiNGMtNGVkZC1iZjcwLWNkMzQxYTg4NmUyYiJ9.d3VysBkZsoCLiZYb6rnB8zzdFdKDKicLSVu4uwOSK9M
[2022-06-03T17:01:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NjgsImlhdCI6MTY1NDI3NTY2OCwianRpIjoiNzg0NjdmNDMtZjcxZC00ZWQ3LWIwNTYtZDM4NzZmNTdhMjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRURXlWSlk5bGhkNGdWMHJ0VE9XbGciLCJzZXNzaW9uX3N0YXRlIjoiZDQ5ODFkM2YtMmI0Yy00ZWRkLWJmNzAtY2QzNDFhODg2ZTJiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ0OTgxZDNmLTJiNGMtNGVkZC1iZjcwLWNkMzQxYTg4NmUyYiJ9.d3VysBkZsoCLiZYb6rnB8zzdFdKDKicLSVu4uwOSK9M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 1a68ec7c-8fd3-43ad-aaf7-df6ab7834a83
[2022-06-03T17:01:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1a68ec7c-8fd3-43ad-aaf7-df6ab7834a83&quot;
[2022-06-03T17:01:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NzUsImlhdCI6MTY1NDI3NTY3NSwianRpIjoiN2ZhYjYxMmMtNTA3NC00YmNjLWJkOWMtMjI0NzViZDllN2MzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZMVVRUWUpTUWt6clB0WFRiMzhDc0EiLCJzZXNzaW9uX3N0YXRlIjoiMzZmOWYzZTItNjNkNy00NTc3LThhMjktMmZiNGVlYzYyYzJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM2ZjlmM2UyLTYzZDctNDU3Ny04YTI5LTJmYjRlZWM2MmMyYSJ9.4oGJHH-oJ9f2Wdt5UUWNxiGbHSEVEsFgDwcfHKniWTQ
[2022-06-03T17:01:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0NzUsImlhdCI6MTY1NDI3NTY3NSwianRpIjoiN2ZhYjYxMmMtNTA3NC00YmNjLWJkOWMtMjI0NzViZDllN2MzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZMVVRUWUpTUWt6clB0WFRiMzhDc0EiLCJzZXNzaW9uX3N0YXRlIjoiMzZmOWYzZTItNjNkNy00NTc3LThhMjktMmZiNGVlYzYyYzJhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM2ZjlmM2UyLTYzZDctNDU3Ny04YTI5LTJmYjRlZWM2MmMyYSJ9.4oGJHH-oJ9f2Wdt5UUWNxiGbHSEVEsFgDwcfHKniWTQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:17Z INFO  drogue_cloud_tests::resources::apps] Create application: c896ffb5-d831-4232-9c7d-15b7498f608e
[2022-06-03T17:01:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c896ffb5-d831-4232-9c7d-15b7498f608e&quot;
[2022-06-03T17:01:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0ODMsImlhdCI6MTY1NDI3NTY4MywianRpIjoiMDIyY2M0YmUtZjkyNC00NjRmLTliZTEtZTE2ZTU5NGM3MzFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilp5ZkFRak50eDFMUG9pVjl3elF3V1EiLCJzZXNzaW9uX3N0YXRlIjoiMGMzZGI3NmQtNGUyMi00ZWRmLTk3NzItZWFlZGY2NjhlZmI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjM2RiNzZkLTRlMjItNGVkZi05NzcyLWVhZWRmNjY4ZWZiOSJ9.VPnYIQwI2AHlNAdYQfEjoh0JRocE8Gy3TuFhO5an6Uc
[2022-06-03T17:01:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0ODMsImlhdCI6MTY1NDI3NTY4MywianRpIjoiMDIyY2M0YmUtZjkyNC00NjRmLTliZTEtZTE2ZTU5NGM3MzFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilp5ZkFRak50eDFMUG9pVjl3elF3V1EiLCJzZXNzaW9uX3N0YXRlIjoiMGMzZGI3NmQtNGUyMi00ZWRmLTk3NzItZWFlZGY2NjhlZmI5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjM2RiNzZkLTRlMjItNGVkZi05NzcyLWVhZWRmNjY4ZWZiOSJ9.VPnYIQwI2AHlNAdYQfEjoh0JRocE8Gy3TuFhO5an6Uc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:24Z INFO  drogue_cloud_tests::resources::apps] Create application: f085a43e-462d-4f0d-9a33-698694834703
[2022-06-03T17:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f085a43e-462d-4f0d-9a33-698694834703&quot;
[2022-06-03T17:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0OTAsImlhdCI6MTY1NDI3NTY5MCwianRpIjoiYmMwYzczMTAtZWI1Ny00M2Y3LWFmOTAtZWUxZTEzMWYyODkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZJb3E2ZUpLMGdxR0dsektkRU9IeWciLCJzZXNzaW9uX3N0YXRlIjoiNjYxMzY0NGEtOGFhNy00ZGE5LWJkODYtNGU1MTRjOTVkNWMxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2MTM2NDRhLThhYTctNGRhOS1iZDg2LTRlNTE0Yzk1ZDVjMSJ9.Ejf7dyuSPmI8j1AY4slHura73DBRZbmWHIClzZgYZhc
[2022-06-03T17:01:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0OTAsImlhdCI6MTY1NDI3NTY5MCwianRpIjoiYmMwYzczMTAtZWI1Ny00M2Y3LWFmOTAtZWUxZTEzMWYyODkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZJb3E2ZUpLMGdxR0dsektkRU9IeWciLCJzZXNzaW9uX3N0YXRlIjoiNjYxMzY0NGEtOGFhNy00ZGE5LWJkODYtNGU1MTRjOTVkNWMxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY2MTM2NDRhLThhYTctNGRhOS1iZDg2LTRlNTE0Yzk1ZDVjMSJ9.Ejf7dyuSPmI8j1AY4slHura73DBRZbmWHIClzZgYZhc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 263fd43e-98b1-4351-9c05-8ff820db3abc
[2022-06-03T17:01:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;263fd43e-98b1-4351-9c05-8ff820db3abc&quot;
[2022-06-03T17:01:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0OTgsImlhdCI6MTY1NDI3NTY5OCwianRpIjoiMGE5M2U5YTMtODZiYi00NzFhLWEzYzktMmZiM2NmNDkyODM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5EVWxoRGZUeVlTQWROZ3dER2F4UXciLCJzZXNzaW9uX3N0YXRlIjoiZDA5OTViYWItYzk0ZS00NjFmLTg3YzYtOWJkYjcxZmI0MjcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQwOTk1YmFiLWM5NGUtNDYxZi04N2M2LTliZGI3MWZiNDI3MiJ9.hDl_wtIyxGLtu-MgCYy8vdQgn2cYs9b3aXkedLeWXOo
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc0OTgsImlhdCI6MTY1NDI3NTY5OCwianRpIjoiMGE5M2U5YTMtODZiYi00NzFhLWEzYzktMmZiM2NmNDkyODM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im5EVWxoRGZUeVlTQWROZ3dER2F4UXciLCJzZXNzaW9uX3N0YXRlIjoiZDA5OTViYWItYzk0ZS00NjFmLTg3YzYtOWJkYjcxZmI0MjcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQwOTk1YmFiLWM5NGUtNDYxZi04N2M2LTliZGI3MWZiNDI3MiJ9.hDl_wtIyxGLtu-MgCYy8vdQgn2cYs9b3aXkedLeWXOo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 26bf01ea-e12a-497b-8e41-ee687865b2e3
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;26bf01ea-e12a-497b-8e41-ee687865b2e3&quot;
[2022-06-03T17:01:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MDUsImlhdCI6MTY1NDI3NTcwNSwianRpIjoiYzkxNjZiNDctMWFlMC00YmUwLTliMzctMDc3ZGJiMDNmMTkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkM5WU5Ha1lVdGRZNVhCcXpsUEJVYkEiLCJzZXNzaW9uX3N0YXRlIjoiYzdhMjRiZGUtYWZhNC00NTY1LTgxOWYtNDNiMTVhZjA5NzdlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3YTI0YmRlLWFmYTQtNDU2NS04MTlmLTQzYjE1YWYwOTc3ZSJ9.EpG2yJyW4lcZRkz7hmcXu_UAvn58e4hyLcnFtpYS0qE
[2022-06-03T17:01:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MDUsImlhdCI6MTY1NDI3NTcwNSwianRpIjoiYzkxNjZiNDctMWFlMC00YmUwLTliMzctMDc3ZGJiMDNmMTkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkM5WU5Ha1lVdGRZNVhCcXpsUEJVYkEiLCJzZXNzaW9uX3N0YXRlIjoiYzdhMjRiZGUtYWZhNC00NTY1LTgxOWYtNDNiMTVhZjA5NzdlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3YTI0YmRlLWFmYTQtNDU2NS04MTlmLTQzYjE1YWYwOTc3ZSJ9.EpG2yJyW4lcZRkz7hmcXu_UAvn58e4hyLcnFtpYS0qE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 4600b85f-fa82-4c1a-ba6a-5280edea5f87
[2022-06-03T17:01:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4600b85f-fa82-4c1a-ba6a-5280edea5f87&quot;
[2022-06-03T17:01:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MTIsImlhdCI6MTY1NDI3NTcxMiwianRpIjoiNDgwOTYxM2MtZDQ1OS00NTFlLTg0MjUtNGZmN2JjYzMxZTFkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVkVFpmb0w5bHFUckljWVVtNnRod3ciLCJzZXNzaW9uX3N0YXRlIjoiNmI0ODNhNTEtMDFiNy00ZGNhLWJmMjktOTBjODlmYjEwMWFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZiNDgzYTUxLTAxYjctNGRjYS1iZjI5LTkwYzg5ZmIxMDFhZCJ9.DfB2B9jtAZx30lljinEqEsMn5M06GsARzVg4bwNzgsk
[2022-06-03T17:01:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:01:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MTIsImlhdCI6MTY1NDI3NTcxMiwianRpIjoiNDgwOTYxM2MtZDQ1OS00NTFlLTg0MjUtNGZmN2JjYzMxZTFkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVkVFpmb0w5bHFUckljWVVtNnRod3ciLCJzZXNzaW9uX3N0YXRlIjoiNmI0ODNhNTEtMDFiNy00ZGNhLWJmMjktOTBjODlmYjEwMWFkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZiNDgzYTUxLTAxYjctNGRjYS1iZjI5LTkwYzg5ZmIxMDFhZCJ9.DfB2B9jtAZx30lljinEqEsMn5M06GsARzVg4bwNzgsk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:01:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:01:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 3f2f692c-302c-4372-831c-594f948b1adb
[2022-06-03T17:01:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3f2f692c-302c-4372-831c-594f948b1adb&quot;
[2022-06-03T17:01:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:01:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:01:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:01:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:01:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:01:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:01:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:01:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:01:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MTksImlhdCI6MTY1NDI3NTcxOSwianRpIjoiMTQyMjliZTEtNWU4NC00OWE5LWE0YWItZDg4ZDIyZjBiYjQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InB4YkhxUDdLYTNPMDJod1VIZGxiR3ciLCJzZXNzaW9uX3N0YXRlIjoiNTM4YjI3ODYtMjdhNi00YmZiLWJhODAtN2VkYjk5NTY4ODU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUzOGIyNzg2LTI3YTYtNGJmYi1iYTgwLTdlZGI5OTU2ODg1OSJ9.BBK2iaEucSOzPlh_9IRLFWhuQnuQ8HVBZ4U7KhymZis
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MTksImlhdCI6MTY1NDI3NTcxOSwianRpIjoiMTQyMjliZTEtNWU4NC00OWE5LWE0YWItZDg4ZDIyZjBiYjQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InB4YkhxUDdLYTNPMDJod1VIZGxiR3ciLCJzZXNzaW9uX3N0YXRlIjoiNTM4YjI3ODYtMjdhNi00YmZiLWJhODAtN2VkYjk5NTY4ODU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUzOGIyNzg2LTI3YTYtNGJmYi1iYTgwLTdlZGI5OTU2ODg1OSJ9.BBK2iaEucSOzPlh_9IRLFWhuQnuQ8HVBZ4U7KhymZis&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::resources::apps] Create application: f5cc3e4a-d90b-48ee-b675-7c1c516271d6
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f5cc3e4a-d90b-48ee-b675-7c1c516271d6&quot;
[2022-06-03T17:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MjcsImlhdCI6MTY1NDI3NTcyNywianRpIjoiYmMzZjY5ZTgtMzc0ZC00MjU4LTk3NTktZWE1NDg1ZDY3OWUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il95SmVVdUFBMTdQeURqNU1mWWp6V2ciLCJzZXNzaW9uX3N0YXRlIjoiMWJmYzIyMzEtNjFkOC00MzMzLWFlYzAtYjA2OGJjMTI2MTFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFiZmMyMjMxLTYxZDgtNDMzMy1hZWMwLWIwNjhiYzEyNjExZSJ9.n4rkdlYVYvJ_WylZVED_H1TsOHudD8aIRQBbi4JQCyI
[2022-06-03T17:02:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MjcsImlhdCI6MTY1NDI3NTcyNywianRpIjoiYmMzZjY5ZTgtMzc0ZC00MjU4LTk3NTktZWE1NDg1ZDY3OWUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il95SmVVdUFBMTdQeURqNU1mWWp6V2ciLCJzZXNzaW9uX3N0YXRlIjoiMWJmYzIyMzEtNjFkOC00MzMzLWFlYzAtYjA2OGJjMTI2MTFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFiZmMyMjMxLTYxZDgtNDMzMy1hZWMwLWIwNjhiYzEyNjExZSJ9.n4rkdlYVYvJ_WylZVED_H1TsOHudD8aIRQBbi4JQCyI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 58cff0f5-ce74-45c7-a003-e1ff944655ae
[2022-06-03T17:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;58cff0f5-ce74-45c7-a003-e1ff944655ae&quot;
[2022-06-03T17:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MzQsImlhdCI6MTY1NDI3NTczNCwianRpIjoiMWNhMDNiNTAtYjE0ZS00MmQ4LThmNjUtZDYyZmM3YzIzNjUxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhQdTZGaGJXUElxRGtWYjlBNTdzN0EiLCJzZXNzaW9uX3N0YXRlIjoiYTM2NWRkNWEtYzA3Yy00NWNkLWJkNzgtNWUxZWVkNDE4ZGZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzNjVkZDVhLWMwN2MtNDVjZC1iZDc4LTVlMWVlZDQxOGRmZCJ9.gMocqgrfAIEWJDuOc3j1jBYKi3Hc8C96qzAU-TrupF8
[2022-06-03T17:02:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1MzQsImlhdCI6MTY1NDI3NTczNCwianRpIjoiMWNhMDNiNTAtYjE0ZS00MmQ4LThmNjUtZDYyZmM3YzIzNjUxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhQdTZGaGJXUElxRGtWYjlBNTdzN0EiLCJzZXNzaW9uX3N0YXRlIjoiYTM2NWRkNWEtYzA3Yy00NWNkLWJkNzgtNWUxZWVkNDE4ZGZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzNjVkZDVhLWMwN2MtNDVjZC1iZDc4LTVlMWVlZDQxOGRmZCJ9.gMocqgrfAIEWJDuOc3j1jBYKi3Hc8C96qzAU-TrupF8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:15Z INFO  drogue_cloud_tests::resources::apps] Create application: 6ef1f32a-7e76-4a63-a986-aa628ec464dc
[2022-06-03T17:02:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6ef1f32a-7e76-4a63-a986-aa628ec464dc&quot;
[2022-06-03T17:02:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NDEsImlhdCI6MTY1NDI3NTc0MSwianRpIjoiMWFiNjU2ZmMtNjY3OS00MTBjLTk4ZmItNjFmZTYyMDQ0NzQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRtQlBCTVVYRVlyZERKSmhRS3JoTWciLCJzZXNzaW9uX3N0YXRlIjoiNGE2ODNiZGYtMzg4ZC00OGM4LTgxMTYtNDViYjE3MDcxNTc5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhNjgzYmRmLTM4OGQtNDhjOC04MTE2LTQ1YmIxNzA3MTU3OSJ9.gkOggE8LjrKWrVjN4xypsddV5dzSWbFi8hKqWrNortM
[2022-06-03T17:02:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NDEsImlhdCI6MTY1NDI3NTc0MSwianRpIjoiMWFiNjU2ZmMtNjY3OS00MTBjLTk4ZmItNjFmZTYyMDQ0NzQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRtQlBCTVVYRVlyZERKSmhRS3JoTWciLCJzZXNzaW9uX3N0YXRlIjoiNGE2ODNiZGYtMzg4ZC00OGM4LTgxMTYtNDViYjE3MDcxNTc5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhNjgzYmRmLTM4OGQtNDhjOC04MTE2LTQ1YmIxNzA3MTU3OSJ9.gkOggE8LjrKWrVjN4xypsddV5dzSWbFi8hKqWrNortM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:22Z INFO  drogue_cloud_tests::resources::apps] Create application: bf489b3d-7376-4ab1-b729-c5ecd1ed93fd
[2022-06-03T17:02:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;bf489b3d-7376-4ab1-b729-c5ecd1ed93fd&quot;
[2022-06-03T17:02:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NDgsImlhdCI6MTY1NDI3NTc0OCwianRpIjoiMjI5OTczZTEtYWI4Mi00OWJhLTkxYjItMWM0NThjNjk3MTJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpEZG13N1dLQUs4Um9EUjlUQWJXQVEiLCJzZXNzaW9uX3N0YXRlIjoiNWQyZGIxZWMtNGE3NS00YWQwLWJmODYtMDQ2OTIxOGYzMmM0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVkMmRiMWVjLTRhNzUtNGFkMC1iZjg2LTA0NjkyMThmMzJjNCJ9.U3cRcVqOHfxjlAjLbJXXL44s337NeJN5IR-Mh_9zR-w
[2022-06-03T17:02:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NDgsImlhdCI6MTY1NDI3NTc0OCwianRpIjoiMjI5OTczZTEtYWI4Mi00OWJhLTkxYjItMWM0NThjNjk3MTJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpEZG13N1dLQUs4Um9EUjlUQWJXQVEiLCJzZXNzaW9uX3N0YXRlIjoiNWQyZGIxZWMtNGE3NS00YWQwLWJmODYtMDQ2OTIxOGYzMmM0Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVkMmRiMWVjLTRhNzUtNGFkMC1iZjg2LTA0NjkyMThmMzJjNCJ9.U3cRcVqOHfxjlAjLbJXXL44s337NeJN5IR-Mh_9zR-w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:29Z INFO  drogue_cloud_tests::resources::apps] Create application: 37d1a805-7400-4bfe-9a9b-a98e158f5527
[2022-06-03T17:02:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;37d1a805-7400-4bfe-9a9b-a98e158f5527&quot;
[2022-06-03T17:02:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NTYsImlhdCI6MTY1NDI3NTc1NiwianRpIjoiNGM2ZGY4MzItODg2OS00ZDg5LTk5MWUtZDc1YTM0MDQ3NmY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNMek9oX1FfMjNDRkd0UUV1Rko1WHciLCJzZXNzaW9uX3N0YXRlIjoiNTljYTkyMTEtMWUxMy00NmFiLTliM2YtZWNmZTg3NzMwMGMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5Y2E5MjExLTFlMTMtNDZhYi05YjNmLWVjZmU4NzczMDBjMyJ9.taKnah1xxZloyyiTb5dhkLovox2eOwDpuhJpj6k6pdc
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NTYsImlhdCI6MTY1NDI3NTc1NiwianRpIjoiNGM2ZGY4MzItODg2OS00ZDg5LTk5MWUtZDc1YTM0MDQ3NmY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNMek9oX1FfMjNDRkd0UUV1Rko1WHciLCJzZXNzaW9uX3N0YXRlIjoiNTljYTkyMTEtMWUxMy00NmFiLTliM2YtZWNmZTg3NzMwMGMzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5Y2E5MjExLTFlMTMtNDZhYi05YjNmLWVjZmU4NzczMDBjMyJ9.taKnah1xxZloyyiTb5dhkLovox2eOwDpuhJpj6k6pdc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::resources::apps] Create application: b38e4532-8358-4fe2-a1ee-dd5f469280a9
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b38e4532-8358-4fe2-a1ee-dd5f469280a9&quot;
[2022-06-03T17:02:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NjMsImlhdCI6MTY1NDI3NTc2MywianRpIjoiNWIyMzI5NTAtZGUwZi00NTM2LWI5NGUtMjkzZmVlMGVjYTIwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVud056UXNZV3J6a3R2bEZYLUZzUVEiLCJzZXNzaW9uX3N0YXRlIjoiNGVkZTQ0OGUtMzZlZC00MjFkLWEyMTYtNDQxM2JlOWMyYTRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlZGU0NDhlLTM2ZWQtNDIxZC1hMjE2LTQ0MTNiZTljMmE0ZCJ9.k7RAK_ZHabdZccE-VoVJ65WGPRqKrQUktnHHp_sFytw
[2022-06-03T17:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NjMsImlhdCI6MTY1NDI3NTc2MywianRpIjoiNWIyMzI5NTAtZGUwZi00NTM2LWI5NGUtMjkzZmVlMGVjYTIwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVud056UXNZV3J6a3R2bEZYLUZzUVEiLCJzZXNzaW9uX3N0YXRlIjoiNGVkZTQ0OGUtMzZlZC00MjFkLWEyMTYtNDQxM2JlOWMyYTRkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlZGU0NDhlLTM2ZWQtNDIxZC1hMjE2LTQ0MTNiZTljMmE0ZCJ9.k7RAK_ZHabdZccE-VoVJ65WGPRqKrQUktnHHp_sFytw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:44Z INFO  drogue_cloud_tests::resources::apps] Create application: 09dd8582-5440-4792-9601-4d315dc4fef9
[2022-06-03T17:02:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;09dd8582-5440-4792-9601-4d315dc4fef9&quot;
[2022-06-03T17:02:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NzAsImlhdCI6MTY1NDI3NTc3MCwianRpIjoiNjE4MzAxYWEtMDZhMS00NzE1LTk4ODUtNDQ3ZGI0YjcyNTU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJiT2tfUVFITkUwWkR2SVlkRVdIOUEiLCJzZXNzaW9uX3N0YXRlIjoiY2M5OWRiZjUtN2ZjMS00OTYwLTk3ZjMtY2ZhYjBmNTRlYzlhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjOTlkYmY1LTdmYzEtNDk2MC05N2YzLWNmYWIwZjU0ZWM5YSJ9.jyqsjM0y3X6VA8DhrvmGY4UTuEuzRcEdfV-YPzuMPug
[2022-06-03T17:02:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NzAsImlhdCI6MTY1NDI3NTc3MCwianRpIjoiNjE4MzAxYWEtMDZhMS00NzE1LTk4ODUtNDQ3ZGI0YjcyNTU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJiT2tfUVFITkUwWkR2SVlkRVdIOUEiLCJzZXNzaW9uX3N0YXRlIjoiY2M5OWRiZjUtN2ZjMS00OTYwLTk3ZjMtY2ZhYjBmNTRlYzlhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjOTlkYmY1LTdmYzEtNDk2MC05N2YzLWNmYWIwZjU0ZWM5YSJ9.jyqsjM0y3X6VA8DhrvmGY4UTuEuzRcEdfV-YPzuMPug&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:51Z INFO  drogue_cloud_tests::resources::apps] Create application: 0c5ea9ec-75f1-470c-a29c-7f83957b14fd
[2022-06-03T17:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0c5ea9ec-75f1-470c-a29c-7f83957b14fd&quot;
[2022-06-03T17:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:02:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:02:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:02:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:02:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:02:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:02:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:02:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:02:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NzcsImlhdCI6MTY1NDI3NTc3NywianRpIjoiMWI0M2ZlMTYtOGQ0MC00YzUxLThjY2QtYTJkOGVlMDY1MzE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBRek5hczlIV0FlN244cVdacFFKOUEiLCJzZXNzaW9uX3N0YXRlIjoiOGYyYTFkOTAtNGM3OC00NWFmLTlhMmUtZTY1N2JhMjJmNWQ3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhmMmExZDkwLTRjNzgtNDVhZi05YTJlLWU2NTdiYTIyZjVkNyJ9.Ij82M4WZaz9L5NFH5_9zpy3AClHvZj1qGMqRua7HRu0
[2022-06-03T17:02:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:02:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1NzcsImlhdCI6MTY1NDI3NTc3NywianRpIjoiMWI0M2ZlMTYtOGQ0MC00YzUxLThjY2QtYTJkOGVlMDY1MzE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBRek5hczlIV0FlN244cVdacFFKOUEiLCJzZXNzaW9uX3N0YXRlIjoiOGYyYTFkOTAtNGM3OC00NWFmLTlhMmUtZTY1N2JhMjJmNWQ3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhmMmExZDkwLTRjNzgtNDVhZi05YTJlLWU2NTdiYTIyZjVkNyJ9.Ij82M4WZaz9L5NFH5_9zpy3AClHvZj1qGMqRua7HRu0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:02:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:02:58Z INFO  drogue_cloud_tests::resources::apps] Create application: c1a630b0-d5bf-4a72-8776-4be65bb91412
[2022-06-03T17:02:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c1a630b0-d5bf-4a72-8776-4be65bb91412&quot;
[2022-06-03T17:02:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1ODUsImlhdCI6MTY1NDI3NTc4NSwianRpIjoiNjgzNzE4YjctMjJiZi00MDdiLTk2MDAtNDNlMGM4OWFjZmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNSejVEbURHLUIzU2V6QkpBaVluZUEiLCJzZXNzaW9uX3N0YXRlIjoiYzljNzhhY2QtYjkwNS00MzU4LWE1MzEtMjExOWY1YWI0ZDM1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5Yzc4YWNkLWI5MDUtNDM1OC1hNTMxLTIxMTlmNWFiNGQzNSJ9.oLsKsCVx_I1GKxCVUl7W9B3H7k9vY9rKT_WBgqlWU1I
[2022-06-03T17:03:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1ODUsImlhdCI6MTY1NDI3NTc4NSwianRpIjoiNjgzNzE4YjctMjJiZi00MDdiLTk2MDAtNDNlMGM4OWFjZmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNSejVEbURHLUIzU2V6QkpBaVluZUEiLCJzZXNzaW9uX3N0YXRlIjoiYzljNzhhY2QtYjkwNS00MzU4LWE1MzEtMjExOWY1YWI0ZDM1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5Yzc4YWNkLWI5MDUtNDM1OC1hNTMxLTIxMTlmNWFiNGQzNSJ9.oLsKsCVx_I1GKxCVUl7W9B3H7k9vY9rKT_WBgqlWU1I&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:06Z INFO  drogue_cloud_tests::resources::apps] Create application: 2a9749ae-f1cb-49b5-ba1b-ff34731cd334
[2022-06-03T17:03:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2a9749ae-f1cb-49b5-ba1b-ff34731cd334&quot;
[2022-06-03T17:03:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1OTIsImlhdCI6MTY1NDI3NTc5MiwianRpIjoiY2M3NzY0NzQtMjE3Yi00YWYwLThiMTctN2MyNzc1ZDVhMDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBXMVlPcEpPMDN3QTZIMl82R3Y0cUEiLCJzZXNzaW9uX3N0YXRlIjoiMGQyNGFjZmItMTk0Zi00MDE4LWE1ZGUtYmZlODNjMmNlYzM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMjRhY2ZiLTE5NGYtNDAxOC1hNWRlLWJmZTgzYzJjZWMzOCJ9._1hdk8fAsNWUN8fhfzehcZHVCVRDbN4VjRL7UUDfFYQ
[2022-06-03T17:03:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1OTIsImlhdCI6MTY1NDI3NTc5MiwianRpIjoiY2M3NzY0NzQtMjE3Yi00YWYwLThiMTctN2MyNzc1ZDVhMDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBXMVlPcEpPMDN3QTZIMl82R3Y0cUEiLCJzZXNzaW9uX3N0YXRlIjoiMGQyNGFjZmItMTk0Zi00MDE4LWE1ZGUtYmZlODNjMmNlYzM4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBkMjRhY2ZiLTE5NGYtNDAxOC1hNWRlLWJmZTgzYzJjZWMzOCJ9._1hdk8fAsNWUN8fhfzehcZHVCVRDbN4VjRL7UUDfFYQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 5c09b0fc-7c22-4707-8efe-17362b445350
[2022-06-03T17:03:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5c09b0fc-7c22-4707-8efe-17362b445350&quot;
[2022-06-03T17:03:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:18Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1OTksImlhdCI6MTY1NDI3NTc5OSwianRpIjoiYjJiNzAyYTEtY2ExZS00MDg1LTkwYjAtNDhjYTI5MmNkNWU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpyLTNrQXg1dExGQVZEYk5JOEJVNnciLCJzZXNzaW9uX3N0YXRlIjoiOTdjNjAyYzUtOGRjNS00NmIzLTllZDMtZjAzYjI2ODc4YmFiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YzYwMmM1LThkYzUtNDZiMy05ZWQzLWYwM2IyNjg3OGJhYiJ9.Yb1Kq5UkJ_o2NGgDYuHBWXo7LWn9U3iRpSPNcPvJ7lo
[2022-06-03T17:03:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc1OTksImlhdCI6MTY1NDI3NTc5OSwianRpIjoiYjJiNzAyYTEtY2ExZS00MDg1LTkwYjAtNDhjYTI5MmNkNWU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpyLTNrQXg1dExGQVZEYk5JOEJVNnciLCJzZXNzaW9uX3N0YXRlIjoiOTdjNjAyYzUtOGRjNS00NmIzLTllZDMtZjAzYjI2ODc4YmFiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk3YzYwMmM1LThkYzUtNDZiMy05ZWQzLWYwM2IyNjg3OGJhYiJ9.Yb1Kq5UkJ_o2NGgDYuHBWXo7LWn9U3iRpSPNcPvJ7lo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:20Z INFO  drogue_cloud_tests::resources::apps] Create application: 8e394ecf-53d5-49ee-a1c5-128e2162de2e
[2022-06-03T17:03:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8e394ecf-53d5-49ee-a1c5-128e2162de2e&quot;
[2022-06-03T17:03:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MDcsImlhdCI6MTY1NDI3NTgwNywianRpIjoiOWVhMDg3NjktNjg0Zi00ZWNiLWIxNDctZjQxZWNkNGJlNzcyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IklfcS10WndBMVM4NXNJZGhFYTloNUEiLCJzZXNzaW9uX3N0YXRlIjoiOTE0ZGU3NzItNDIxMC00YjYyLThlMjItY2E3Y2Q0ZmQ0MzA3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNGRlNzcyLTQyMTAtNGI2Mi04ZTIyLWNhN2NkNGZkNDMwNyJ9.W16Nho6Jsal5itbRBsgLG-KEF115flR-MQyUoT9ViQE
[2022-06-03T17:03:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MDcsImlhdCI6MTY1NDI3NTgwNywianRpIjoiOWVhMDg3NjktNjg0Zi00ZWNiLWIxNDctZjQxZWNkNGJlNzcyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IklfcS10WndBMVM4NXNJZGhFYTloNUEiLCJzZXNzaW9uX3N0YXRlIjoiOTE0ZGU3NzItNDIxMC00YjYyLThlMjItY2E3Y2Q0ZmQ0MzA3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNGRlNzcyLTQyMTAtNGI2Mi04ZTIyLWNhN2NkNGZkNDMwNyJ9.W16Nho6Jsal5itbRBsgLG-KEF115flR-MQyUoT9ViQE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:28Z INFO  drogue_cloud_tests::resources::apps] Create application: b44719c9-13a3-421e-a281-d980f833e684
[2022-06-03T17:03:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b44719c9-13a3-421e-a281-d980f833e684&quot;
[2022-06-03T17:03:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MTQsImlhdCI6MTY1NDI3NTgxNCwianRpIjoiYmE0OGJhMWMtODkwMS00ZDM3LTgwZjktOTYwMzA0MzFhNGVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktsT1g4d2lpME9GWnhoanFLWWc3c2ciLCJzZXNzaW9uX3N0YXRlIjoiZWU3MjdkMzUtN2UzYS00ZWJiLWFkOTUtZTdjOTczZDQ2YjIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNzI3ZDM1LTdlM2EtNGViYi1hZDk1LWU3Yzk3M2Q0NmIyMiJ9.yDBQi-MoJSLZWCh9XWZEFrZyGPn5Gc7KY6hFnR_REFE
[2022-06-03T17:03:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MTQsImlhdCI6MTY1NDI3NTgxNCwianRpIjoiYmE0OGJhMWMtODkwMS00ZDM3LTgwZjktOTYwMzA0MzFhNGVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktsT1g4d2lpME9GWnhoanFLWWc3c2ciLCJzZXNzaW9uX3N0YXRlIjoiZWU3MjdkMzUtN2UzYS00ZWJiLWFkOTUtZTdjOTczZDQ2YjIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlNzI3ZDM1LTdlM2EtNGViYi1hZDk1LWU3Yzk3M2Q0NmIyMiJ9.yDBQi-MoJSLZWCh9XWZEFrZyGPn5Gc7KY6hFnR_REFE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:35Z INFO  drogue_cloud_tests::resources::apps] Create application: 1179902b-96f8-497a-b11e-0dcd5f5a2bbb
[2022-06-03T17:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1179902b-96f8-497a-b11e-0dcd5f5a2bbb&quot;
[2022-06-03T17:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MjEsImlhdCI6MTY1NDI3NTgyMSwianRpIjoiMjFjNDc2NTgtYjgzYy00YzJmLTk4ODYtOWM3N2M2MzFjMjcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJhRENsZU1JbDVIMnRsVmZhVU9sU3ciLCJzZXNzaW9uX3N0YXRlIjoiYmZlZDEzZGUtNTkwZS00ZjkxLWI2MTktZmRkM2NlYzA4NmQxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmZWQxM2RlLTU5MGUtNGY5MS1iNjE5LWZkZDNjZWMwODZkMSJ9.o-xqKBbvxhlTYQx2q2qZrxpIp_aiIwtqs9PiquIbsq8
[2022-06-03T17:03:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MjEsImlhdCI6MTY1NDI3NTgyMSwianRpIjoiMjFjNDc2NTgtYjgzYy00YzJmLTk4ODYtOWM3N2M2MzFjMjcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJhRENsZU1JbDVIMnRsVmZhVU9sU3ciLCJzZXNzaW9uX3N0YXRlIjoiYmZlZDEzZGUtNTkwZS00ZjkxLWI2MTktZmRkM2NlYzA4NmQxIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJmZWQxM2RlLTU5MGUtNGY5MS1iNjE5LWZkZDNjZWMwODZkMSJ9.o-xqKBbvxhlTYQx2q2qZrxpIp_aiIwtqs9PiquIbsq8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:42Z INFO  drogue_cloud_tests::resources::apps] Create application: f286edde-5d63-40cd-9dfe-938668f9430b
[2022-06-03T17:03:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f286edde-5d63-40cd-9dfe-938668f9430b&quot;
[2022-06-03T17:03:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MjksImlhdCI6MTY1NDI3NTgyOSwianRpIjoiMWU1YTExNmUtZGRhZC00YzMzLWI0Y2YtNGViMDZhMjQzN2IyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVleDFhUEJRMktwMW5uWGNGc2F3RnciLCJzZXNzaW9uX3N0YXRlIjoiOGYwZWY4YjAtNjBhOC00NWQyLWI4ZjAtYjQ1YzE2ZWQ1YjAwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhmMGVmOGIwLTYwYTgtNDVkMi1iOGYwLWI0NWMxNmVkNWIwMCJ9.qvxyCoiX_DeHVfKrsx79BtsK8ocPAZ3g55zFFXB4lRo
[2022-06-03T17:03:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MjksImlhdCI6MTY1NDI3NTgyOSwianRpIjoiMWU1YTExNmUtZGRhZC00YzMzLWI0Y2YtNGViMDZhMjQzN2IyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVleDFhUEJRMktwMW5uWGNGc2F3RnciLCJzZXNzaW9uX3N0YXRlIjoiOGYwZWY4YjAtNjBhOC00NWQyLWI4ZjAtYjQ1YzE2ZWQ1YjAwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhmMGVmOGIwLTYwYTgtNDVkMi1iOGYwLWI0NWMxNmVkNWIwMCJ9.qvxyCoiX_DeHVfKrsx79BtsK8ocPAZ3g55zFFXB4lRo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:50Z INFO  drogue_cloud_tests::resources::apps] Create application: cdfe1d99-84e7-444f-957f-1b56aab7bb6d
[2022-06-03T17:03:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cdfe1d99-84e7-444f-957f-1b56aab7bb6d&quot;
[2022-06-03T17:03:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:03:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:03:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:03:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MzYsImlhdCI6MTY1NDI3NTgzNiwianRpIjoiNmI2MGEwOWYtYTA3Mi00YjRhLTkzYmItNmRlNzQ5YzQ3NmExIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJHMmdJbmVNNVJMWEMzU1J4RzZVVUEiLCJzZXNzaW9uX3N0YXRlIjoiNGViNGNhYjgtYjBjYy00ZTkyLTliMTItNDM3N2UwMWJjYjg4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlYjRjYWI4LWIwY2MtNGU5Mi05YjEyLTQzNzdlMDFiY2I4OCJ9.brzDHbjKrnanHikIPJRvyg1LR41sbmKMhI_L9w1QxMI
[2022-06-03T17:03:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:03:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2MzYsImlhdCI6MTY1NDI3NTgzNiwianRpIjoiNmI2MGEwOWYtYTA3Mi00YjRhLTkzYmItNmRlNzQ5YzQ3NmExIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJHMmdJbmVNNVJMWEMzU1J4RzZVVUEiLCJzZXNzaW9uX3N0YXRlIjoiNGViNGNhYjgtYjBjYy00ZTkyLTliMTItNDM3N2UwMWJjYjg4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlYjRjYWI4LWIwY2MtNGU5Mi05YjEyLTQzNzdlMDFiY2I4OCJ9.brzDHbjKrnanHikIPJRvyg1LR41sbmKMhI_L9w1QxMI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:03:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:03:57Z INFO  drogue_cloud_tests::resources::apps] Create application: c50c554a-67a2-4835-b986-b9c9442e8d8f
[2022-06-03T17:03:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c50c554a-67a2-4835-b986-b9c9442e8d8f&quot;
[2022-06-03T17:03:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:03:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:03:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:03:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:03:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:03:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NDMsImlhdCI6MTY1NDI3NTg0MywianRpIjoiZWIyMTE4YjItNWQ3Yy00ZDljLThlMzEtMmNlMGU5OWU2MjNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNEV0t0T3oyX0gtWDNmUDI5Znd1N2ciLCJzZXNzaW9uX3N0YXRlIjoiN2Y0MTk4OWMtMzllOC00NjA2LWEwYmUtMDRhMmFmOGFhNWI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmNDE5ODljLTM5ZTgtNDYwNi1hMGJlLTA0YTJhZjhhYTViNiJ9.F4ohEblS0M1xn7M7bmzNgfC6vkRL8NDjOZ8wdwpyAdg
[2022-06-03T17:04:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NDMsImlhdCI6MTY1NDI3NTg0MywianRpIjoiZWIyMTE4YjItNWQ3Yy00ZDljLThlMzEtMmNlMGU5OWU2MjNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNEV0t0T3oyX0gtWDNmUDI5Znd1N2ciLCJzZXNzaW9uX3N0YXRlIjoiN2Y0MTk4OWMtMzllOC00NjA2LWEwYmUtMDRhMmFmOGFhNWI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmNDE5ODljLTM5ZTgtNDYwNi1hMGJlLTA0YTJhZjhhYTViNiJ9.F4ohEblS0M1xn7M7bmzNgfC6vkRL8NDjOZ8wdwpyAdg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:04Z INFO  drogue_cloud_tests::resources::apps] Create application: d719fb46-65ce-4ac1-9bae-884889966ab1
[2022-06-03T17:04:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d719fb46-65ce-4ac1-9bae-884889966ab1&quot;
[2022-06-03T17:04:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:79:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NTAsImlhdCI6MTY1NDI3NTg1MCwianRpIjoiYjYwMWNmOWUtNGU1YS00MGQ3LTg5NzItMmJlYmE0YzAyOGY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik15U0J1OU13UEZfXzdmZGg3TGdjMWciLCJzZXNzaW9uX3N0YXRlIjoiMjA3MmZjMDYtZjJmNy00ODI1LThmMGYtMjY2Zjg4MzFiY2VlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwNzJmYzA2LWYyZjctNDgyNS04ZjBmLTI2NmY4ODMxYmNlZSJ9.5RP8wLKYSsqFEivOwdtljnHIzGrRUtKPtgcGbUjkw08
[2022-06-03T17:04:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NTAsImlhdCI6MTY1NDI3NTg1MCwianRpIjoiYjYwMWNmOWUtNGU1YS00MGQ3LTg5NzItMmJlYmE0YzAyOGY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik15U0J1OU13UEZfXzdmZGg3TGdjMWciLCJzZXNzaW9uX3N0YXRlIjoiMjA3MmZjMDYtZjJmNy00ODI1LThmMGYtMjY2Zjg4MzFiY2VlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwNzJmYzA2LWYyZjctNDgyNS04ZjBmLTI2NmY4ODMxYmNlZSJ9.5RP8wLKYSsqFEivOwdtljnHIzGrRUtKPtgcGbUjkw08&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 135e1bb6-a48c-48de-8f64-433aec1a3ee6
[2022-06-03T17:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;135e1bb6-a48c-48de-8f64-433aec1a3ee6&quot;
[2022-06-03T17:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NTgsImlhdCI6MTY1NDI3NTg1OCwianRpIjoiMjFkZTlmMmEtODk3ZC00YjIwLWEyNDAtNjQzYjIyMDI0OThiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhFWmE3THc2Z2tYSUFKV3hlaU9Kb2ciLCJzZXNzaW9uX3N0YXRlIjoiYmRlNTYwNjMtYmIzMS00YmRjLWI4MWMtNTE5ZDYyZTMwNGI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkZTU2MDYzLWJiMzEtNGJkYy1iODFjLTUxOWQ2MmUzMDRiNiJ9.GOv5icQCJW88H2X-Kpr09E-WhlloqdEyoWRWUVP2YoI
[2022-06-03T17:04:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NTgsImlhdCI6MTY1NDI3NTg1OCwianRpIjoiMjFkZTlmMmEtODk3ZC00YjIwLWEyNDAtNjQzYjIyMDI0OThiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhFWmE3THc2Z2tYSUFKV3hlaU9Kb2ciLCJzZXNzaW9uX3N0YXRlIjoiYmRlNTYwNjMtYmIzMS00YmRjLWI4MWMtNTE5ZDYyZTMwNGI2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkZTU2MDYzLWJiMzEtNGJkYy1iODFjLTUxOWQ2MmUzMDRiNiJ9.GOv5icQCJW88H2X-Kpr09E-WhlloqdEyoWRWUVP2YoI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 7efb5ff5-3d2e-4b72-a58e-c86ebe25c0bb
[2022-06-03T17:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7efb5ff5-3d2e-4b72-a58e-c86ebe25c0bb&quot;
[2022-06-03T17:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NjUsImlhdCI6MTY1NDI3NTg2NSwianRpIjoiZjZkMDA0NmQtZTUxMi00Y2JiLWI3OGItZThiOGYzZTBhMTZkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJIbVJYVkpmdmJkSm1oMk9fWWZSanciLCJzZXNzaW9uX3N0YXRlIjoiOGE0ODE0YjAtNDNiYi00ZjlmLTk4NzktZDU0NjNiMDQ0NmRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhNDgxNGIwLTQzYmItNGY5Zi05ODc5LWQ1NDYzYjA0NDZkYiJ9.Mjx2Vz-4BYFE7P6MGuwq26c9TSzYZcyrT7CrL6sklBI
[2022-06-03T17:04:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NjUsImlhdCI6MTY1NDI3NTg2NSwianRpIjoiZjZkMDA0NmQtZTUxMi00Y2JiLWI3OGItZThiOGYzZTBhMTZkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJIbVJYVkpmdmJkSm1oMk9fWWZSanciLCJzZXNzaW9uX3N0YXRlIjoiOGE0ODE0YjAtNDNiYi00ZjlmLTk4NzktZDU0NjNiMDQ0NmRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhNDgxNGIwLTQzYmItNGY5Zi05ODc5LWQ1NDYzYjA0NDZkYiJ9.Mjx2Vz-4BYFE7P6MGuwq26c9TSzYZcyrT7CrL6sklBI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:26Z INFO  drogue_cloud_tests::resources::apps] Create application: ab387ba1-5057-4a1f-880d-d85ba96fa02e
[2022-06-03T17:04:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ab387ba1-5057-4a1f-880d-d85ba96fa02e&quot;
[2022-06-03T17:04:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NzIsImlhdCI6MTY1NDI3NTg3MiwianRpIjoiNGVlZDI3NjktZTc5Ni00ZDQwLWFjZjUtMzViNzhkYjdmNDJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVKN3lWQThFQjI3WVhsUmlYRWQ5cXciLCJzZXNzaW9uX3N0YXRlIjoiNGFmOTVhNWItYzU2OS00OTI0LWFkMWUtN2I0NDMyYzA5MmIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhZjk1YTViLWM1NjktNDkyNC1hZDFlLTdiNDQzMmMwOTJiMyJ9.kJQsgs_yLlk1_-rm1La-swV-SqMqU-B5K2QweP5smvc
[2022-06-03T17:04:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NzIsImlhdCI6MTY1NDI3NTg3MiwianRpIjoiNGVlZDI3NjktZTc5Ni00ZDQwLWFjZjUtMzViNzhkYjdmNDJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVKN3lWQThFQjI3WVhsUmlYRWQ5cXciLCJzZXNzaW9uX3N0YXRlIjoiNGFmOTVhNWItYzU2OS00OTI0LWFkMWUtN2I0NDMyYzA5MmIzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhZjk1YTViLWM1NjktNDkyNC1hZDFlLTdiNDQzMmMwOTJiMyJ9.kJQsgs_yLlk1_-rm1La-swV-SqMqU-B5K2QweP5smvc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:33Z INFO  drogue_cloud_tests::resources::apps] Create application: 45b5a421-63b6-4fb0-a875-e4867e69d776
[2022-06-03T17:04:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;45b5a421-63b6-4fb0-a875-e4867e69d776&quot;
[2022-06-03T17:04:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NzksImlhdCI6MTY1NDI3NTg3OSwianRpIjoiMGVhNzRjNmUtYmE0NC00MGFhLWFlMWMtNWM1ZjEyN2VhYjYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJYb3VwczlNbVFzblpwUGpqaFdOblEiLCJzZXNzaW9uX3N0YXRlIjoiOGEyNDVmNTktZjJiZS00YTVkLTgyYjMtYmYwZWZmZTRlMjM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhMjQ1ZjU5LWYyYmUtNGE1ZC04MmIzLWJmMGVmZmU0ZTIzOSJ9.lrDt4DU1dfAJu2wrXzUoQp5Ht30HDDMP-vWtMCnf8l0
[2022-06-03T17:04:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2NzksImlhdCI6MTY1NDI3NTg3OSwianRpIjoiMGVhNzRjNmUtYmE0NC00MGFhLWFlMWMtNWM1ZjEyN2VhYjYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJYb3VwczlNbVFzblpwUGpqaFdOblEiLCJzZXNzaW9uX3N0YXRlIjoiOGEyNDVmNTktZjJiZS00YTVkLTgyYjMtYmYwZWZmZTRlMjM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhMjQ1ZjU5LWYyYmUtNGE1ZC04MmIzLWJmMGVmZmU0ZTIzOSJ9.lrDt4DU1dfAJu2wrXzUoQp5Ht30HDDMP-vWtMCnf8l0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:40Z INFO  drogue_cloud_tests::resources::apps] Create application: fac4c9fb-dd85-4707-a38d-9a65ab04fde1
[2022-06-03T17:04:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fac4c9fb-dd85-4707-a38d-9a65ab04fde1&quot;
[2022-06-03T17:04:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2ODcsImlhdCI6MTY1NDI3NTg4NywianRpIjoiYTc4NDUyY2MtNzk3Yy00MWU4LWJmMzQtMDRjNmM4NWY0M2U5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InM5RFl4MTgtU1hWeXNDaFM2anpER3ciLCJzZXNzaW9uX3N0YXRlIjoiZTMzNzc3NzMtMDFmYy00OTg2LWFkODctOWJjYjUxNWYwODNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzMzc3NzczLTAxZmMtNDk4Ni1hZDg3LTliY2I1MTVmMDgzZCJ9.MKC7VbGF3sniVPt-AwJjfOV_rBhAAuIwVcZ0WKfIFYI
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2ODcsImlhdCI6MTY1NDI3NTg4NywianRpIjoiYTc4NDUyY2MtNzk3Yy00MWU4LWJmMzQtMDRjNmM4NWY0M2U5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InM5RFl4MTgtU1hWeXNDaFM2anpER3ciLCJzZXNzaW9uX3N0YXRlIjoiZTMzNzc3NzMtMDFmYy00OTg2LWFkODctOWJjYjUxNWYwODNkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUzMzc3NzczLTAxZmMtNDk4Ni1hZDg3LTliY2I1MTVmMDgzZCJ9.MKC7VbGF3sniVPt-AwJjfOV_rBhAAuIwVcZ0WKfIFYI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::resources::apps] Create application: 118126d9-24c3-4172-842a-a3d2485cbcd0
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;118126d9-24c3-4172-842a-a3d2485cbcd0&quot;
[2022-06-03T17:04:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2OTQsImlhdCI6MTY1NDI3NTg5NCwianRpIjoiYTJlNGVmM2ItNjA3OC00NTA0LWFlYmYtZjdkNjJlZTJmOGQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNCVVF2MFV5U2ViNzgyZlpGNzQ2S1EiLCJzZXNzaW9uX3N0YXRlIjoiNDRjZGUzNmYtNjQ3YS00YjkzLTliMTYtZjIxYjVlMGY1ZWVkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0Y2RlMzZmLTY0N2EtNGI5My05YjE2LWYyMWI1ZTBmNWVlZCJ9.X_n_ZMhpLHDbdDvJx6rX4mUPS6B5X5F0XOwoPXUrqwE
[2022-06-03T17:04:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:04:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc2OTQsImlhdCI6MTY1NDI3NTg5NCwianRpIjoiYTJlNGVmM2ItNjA3OC00NTA0LWFlYmYtZjdkNjJlZTJmOGQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNCVVF2MFV5U2ViNzgyZlpGNzQ2S1EiLCJzZXNzaW9uX3N0YXRlIjoiNDRjZGUzNmYtNjQ3YS00YjkzLTliMTYtZjIxYjVlMGY1ZWVkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0Y2RlMzZmLTY0N2EtNGI5My05YjE2LWYyMWI1ZTBmNWVlZCJ9.X_n_ZMhpLHDbdDvJx6rX4mUPS6B5X5F0XOwoPXUrqwE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:04:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:04:55Z INFO  drogue_cloud_tests::resources::apps] Create application: 467048df-9882-4b27-b133-289d73c73ff6
[2022-06-03T17:04:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;467048df-9882-4b27-b133-289d73c73ff6&quot;
[2022-06-03T17:04:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:04:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:04:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:04:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:04:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:04:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:04:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:04:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:04:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MDEsImlhdCI6MTY1NDI3NTkwMSwianRpIjoiNmYyZWFiYjAtYjM3NS00OTRlLTg3YzktYzQyMTMwZmVhYTA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRieE9icXAtQkZmOGJ6cXBXT09DT2ciLCJzZXNzaW9uX3N0YXRlIjoiZjYxZDRlOGMtNTg4MS00YTc4LTg4MzMtMDgzZDQ4MGU3M2I3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2MWQ0ZThjLTU4ODEtNGE3OC04ODMzLTA4M2Q0ODBlNzNiNyJ9.tNMF96gYK4LV7txfdYJ8m-sEFFmQW08vQzY6v4R1gW0
[2022-06-03T17:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MDEsImlhdCI6MTY1NDI3NTkwMSwianRpIjoiNmYyZWFiYjAtYjM3NS00OTRlLTg3YzktYzQyMTMwZmVhYTA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRieE9icXAtQkZmOGJ6cXBXT09DT2ciLCJzZXNzaW9uX3N0YXRlIjoiZjYxZDRlOGMtNTg4MS00YTc4LTg4MzMtMDgzZDQ4MGU3M2I3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2MWQ0ZThjLTU4ODEtNGE3OC04ODMzLTA4M2Q0ODBlNzNiNyJ9.tNMF96gYK4LV7txfdYJ8m-sEFFmQW08vQzY6v4R1gW0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:02Z INFO  drogue_cloud_tests::resources::apps] Create application: d19d36c5-6f33-4b0e-9988-ca4119014c9c
[2022-06-03T17:05:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d19d36c5-6f33-4b0e-9988-ca4119014c9c&quot;
[2022-06-03T17:05:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MDksImlhdCI6MTY1NDI3NTkwOSwianRpIjoiN2M0MmM4NGMtNTBlYS00ZDQ1LWE1NjMtNGUzZTNmYTMwYjdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdGczhnb1ZjcG1GTFRCUTU4d2J2SHciLCJzZXNzaW9uX3N0YXRlIjoiYmI3MTczM2QtZThiMS00NDIyLWJiZTgtY2I3NjhhZmU4Yjk4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJiNzE3MzNkLWU4YjEtNDQyMi1iYmU4LWNiNzY4YWZlOGI5OCJ9.S1slRWPZFDxnqFVzDNxdEX1Pc49nq_2ScHJxczllxBc
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MDksImlhdCI6MTY1NDI3NTkwOSwianRpIjoiN2M0MmM4NGMtNTBlYS00ZDQ1LWE1NjMtNGUzZTNmYTMwYjdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdGczhnb1ZjcG1GTFRCUTU4d2J2SHciLCJzZXNzaW9uX3N0YXRlIjoiYmI3MTczM2QtZThiMS00NDIyLWJiZTgtY2I3NjhhZmU4Yjk4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJiNzE3MzNkLWU4YjEtNDQyMi1iYmU4LWNiNzY4YWZlOGI5OCJ9.S1slRWPZFDxnqFVzDNxdEX1Pc49nq_2ScHJxczllxBc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 23358131-c778-4300-8285-fef9c748b1b3
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;23358131-c778-4300-8285-fef9c748b1b3&quot;
[2022-06-03T17:05:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MTYsImlhdCI6MTY1NDI3NTkxNiwianRpIjoiMjdjODE0N2YtNmJmYS00YjIwLTk2ZDMtMjBiM2Y5Y2Y5ZTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJRZTBTQ2RGVFV0V2JvQ3hvaTdoR1EiLCJzZXNzaW9uX3N0YXRlIjoiYWY3YjU2MWYtMzk4Zi00NDkzLThjMjktODc1ZmM2Mzc1NDU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFmN2I1NjFmLTM5OGYtNDQ5My04YzI5LTg3NWZjNjM3NTQ1NSJ9.hgLfNvehAIt3KkLt5vfuopmiv-O2GZfK1Xek8AHjD0o
[2022-06-03T17:05:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MTYsImlhdCI6MTY1NDI3NTkxNiwianRpIjoiMjdjODE0N2YtNmJmYS00YjIwLTk2ZDMtMjBiM2Y5Y2Y5ZTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJRZTBTQ2RGVFV0V2JvQ3hvaTdoR1EiLCJzZXNzaW9uX3N0YXRlIjoiYWY3YjU2MWYtMzk4Zi00NDkzLThjMjktODc1ZmM2Mzc1NDU1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFmN2I1NjFmLTM5OGYtNDQ5My04YzI5LTg3NWZjNjM3NTQ1NSJ9.hgLfNvehAIt3KkLt5vfuopmiv-O2GZfK1Xek8AHjD0o&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 86270ca6-e6e3-4cf1-b476-97525f327b0b
[2022-06-03T17:05:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;86270ca6-e6e3-4cf1-b476-97525f327b0b&quot;
[2022-06-03T17:05:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MjMsImlhdCI6MTY1NDI3NTkyMywianRpIjoiNDU0NDMxYmYtODRjYS00YWZkLWE5MDQtNTUwMTQzYzA1MjM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNZbmJKbGc5WHBjOHZUeGdUQklxQ0EiLCJzZXNzaW9uX3N0YXRlIjoiNmU5MzJjZmUtYjc5Mi00Zjc3LWI5NzctMWQ0M2NkZDRlOWQyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZlOTMyY2ZlLWI3OTItNGY3Ny1iOTc3LTFkNDNjZGQ0ZTlkMiJ9.t2AP0750FKYjXVMOZlAmKJeMDOeyOSnhBYXHLc-CwAA
[2022-06-03T17:05:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MjMsImlhdCI6MTY1NDI3NTkyMywianRpIjoiNDU0NDMxYmYtODRjYS00YWZkLWE5MDQtNTUwMTQzYzA1MjM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNZbmJKbGc5WHBjOHZUeGdUQklxQ0EiLCJzZXNzaW9uX3N0YXRlIjoiNmU5MzJjZmUtYjc5Mi00Zjc3LWI5NzctMWQ0M2NkZDRlOWQyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZlOTMyY2ZlLWI3OTItNGY3Ny1iOTc3LTFkNDNjZGQ0ZTlkMiJ9.t2AP0750FKYjXVMOZlAmKJeMDOeyOSnhBYXHLc-CwAA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 05b83921-a152-4819-9af1-300d8598fb09
[2022-06-03T17:05:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;05b83921-a152-4819-9af1-300d8598fb09&quot;
[2022-06-03T17:05:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MzAsImlhdCI6MTY1NDI3NTkzMCwianRpIjoiMGNiYjRiNDQtYWE3Ni00ZDMyLTliYzItYjYzNmYzZjlhODFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlgxMHpCWHlxaFJmV1pKMENBMFByUWciLCJzZXNzaW9uX3N0YXRlIjoiNjRlNTU2ZDYtYjk1Ny00ZDFjLTk0YzctNjM4ZjBkNjE3NmZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY0ZTU1NmQ2LWI5NTctNGQxYy05NGM3LTYzOGYwZDYxNzZmYyJ9.3cS0bAoWRgHzd9I1GUNDqb9ofnZgwlywdhAUPQieX_8
[2022-06-03T17:05:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MzAsImlhdCI6MTY1NDI3NTkzMCwianRpIjoiMGNiYjRiNDQtYWE3Ni00ZDMyLTliYzItYjYzNmYzZjlhODFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlgxMHpCWHlxaFJmV1pKMENBMFByUWciLCJzZXNzaW9uX3N0YXRlIjoiNjRlNTU2ZDYtYjk1Ny00ZDFjLTk0YzctNjM4ZjBkNjE3NmZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY0ZTU1NmQ2LWI5NTctNGQxYy05NGM3LTYzOGYwZDYxNzZmYyJ9.3cS0bAoWRgHzd9I1GUNDqb9ofnZgwlywdhAUPQieX_8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 2ff22cc5-bb87-4fa4-850a-8bf5bcb09e98
[2022-06-03T17:05:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2ff22cc5-bb87-4fa4-850a-8bf5bcb09e98&quot;
[2022-06-03T17:05:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MzcsImlhdCI6MTY1NDI3NTkzNywianRpIjoiMTJmZWFmNzktZGYwOC00NTIyLWE1NzItZmY2M2RiNGI4YzM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVhWDlrRjlhUnc3b282SlMwZVJTbFEiLCJzZXNzaW9uX3N0YXRlIjoiYjkzZDk3ZGQtNTdhYi00ZWZlLThmMDItYmNkMjlhNjI5NDE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI5M2Q5N2RkLTU3YWItNGVmZS04ZjAyLWJjZDI5YTYyOTQxNiJ9.m7AWJ_1tDyGvz7tr8ezHB_IkSpeb-OvxgJnpaz6U4yo
[2022-06-03T17:05:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3MzcsImlhdCI6MTY1NDI3NTkzNywianRpIjoiMTJmZWFmNzktZGYwOC00NTIyLWE1NzItZmY2M2RiNGI4YzM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVhWDlrRjlhUnc3b282SlMwZVJTbFEiLCJzZXNzaW9uX3N0YXRlIjoiYjkzZDk3ZGQtNTdhYi00ZWZlLThmMDItYmNkMjlhNjI5NDE2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI5M2Q5N2RkLTU3YWItNGVmZS04ZjAyLWJjZDI5YTYyOTQxNiJ9.m7AWJ_1tDyGvz7tr8ezHB_IkSpeb-OvxgJnpaz6U4yo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:38Z INFO  drogue_cloud_tests::resources::apps] Create application: db70788c-80f1-4071-bce3-f0db4d5dc19b
[2022-06-03T17:05:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;db70788c-80f1-4071-bce3-f0db4d5dc19b&quot;
[2022-06-03T17:05:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NDUsImlhdCI6MTY1NDI3NTk0NSwianRpIjoiNzQzY2ZiNjUtZDUwOC00YmNkLWJkZTEtNWI4YTk3MGQ3YjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijd6MkU1OWhGMElweExZN0NvbWRmM0EiLCJzZXNzaW9uX3N0YXRlIjoiZjEyYTQ2YjQtODkzZS00NDQxLTllYWEtOGMwOGY4M2E1N2NjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYxMmE0NmI0LTg5M2UtNDQ0MS05ZWFhLThjMDhmODNhNTdjYyJ9.US5TGrp_gQMaLvXFbiAAvtauj5mNQRSepZ0dQUXb9No
[2022-06-03T17:05:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NDUsImlhdCI6MTY1NDI3NTk0NSwianRpIjoiNzQzY2ZiNjUtZDUwOC00YmNkLWJkZTEtNWI4YTk3MGQ3YjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijd6MkU1OWhGMElweExZN0NvbWRmM0EiLCJzZXNzaW9uX3N0YXRlIjoiZjEyYTQ2YjQtODkzZS00NDQxLTllYWEtOGMwOGY4M2E1N2NjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYxMmE0NmI0LTg5M2UtNDQ0MS05ZWFhLThjMDhmODNhNTdjYyJ9.US5TGrp_gQMaLvXFbiAAvtauj5mNQRSepZ0dQUXb9No&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:46Z INFO  drogue_cloud_tests::resources::apps] Create application: e9aec91d-563a-4e4c-90fd-3c3e85ac655e
[2022-06-03T17:05:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e9aec91d-563a-4e4c-90fd-3c3e85ac655e&quot;
[2022-06-03T17:05:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NTIsImlhdCI6MTY1NDI3NTk1MiwianRpIjoiZTkyMjRjYzYtZmIyMi00YjNmLWI4M2MtYWFkNTBjZjJkNTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVlLVRxNWJaMW5UeENoNzRzeXhIQ0EiLCJzZXNzaW9uX3N0YXRlIjoiYzQzNjhkNDMtOWFhMC00MzFkLTkwNWMtN2ViZjY0YmI2ZmY1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MzY4ZDQzLTlhYTAtNDMxZC05MDVjLTdlYmY2NGJiNmZmNSJ9.BEwKQ0zjfiYHLVgsWBKuOtwXLGB6rj2JcTAkZg7swFk
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NTIsImlhdCI6MTY1NDI3NTk1MiwianRpIjoiZTkyMjRjYzYtZmIyMi00YjNmLWI4M2MtYWFkNTBjZjJkNTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVlLVRxNWJaMW5UeENoNzRzeXhIQ0EiLCJzZXNzaW9uX3N0YXRlIjoiYzQzNjhkNDMtOWFhMC00MzFkLTkwNWMtN2ViZjY0YmI2ZmY1Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MzY4ZDQzLTlhYTAtNDMxZC05MDVjLTdlYmY2NGJiNmZmNSJ9.BEwKQ0zjfiYHLVgsWBKuOtwXLGB6rj2JcTAkZg7swFk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 580ebde3-d497-4eaa-baf1-7acc5fcea6bf
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;580ebde3-d497-4eaa-baf1-7acc5fcea6bf&quot;
[2022-06-03T17:05:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:05:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:05:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:05:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:05:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:05:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:05:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:05:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:05:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NTksImlhdCI6MTY1NDI3NTk1OSwianRpIjoiOGQzODEyMWYtODdjMC00M2E5LWJmNTYtZGIwMTBmYzliOTgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iml0Nlk5UWg1S1Q4UzZQTFFQWjN1WUEiLCJzZXNzaW9uX3N0YXRlIjoiZTVjMWIzOWMtZTI1ZC00MmM2LTg4YjctNDFhZGI1OGMyYjYzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU1YzFiMzljLWUyNWQtNDJjNi04OGI3LTQxYWRiNThjMmI2MyJ9.rocfqpvChdin0Io228OJdvT8KjuzMvdKN0HK4JM9v_8
[2022-06-03T17:05:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:05:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:05:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NTksImlhdCI6MTY1NDI3NTk1OSwianRpIjoiOGQzODEyMWYtODdjMC00M2E5LWJmNTYtZGIwMTBmYzliOTgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iml0Nlk5UWg1S1Q4UzZQTFFQWjN1WUEiLCJzZXNzaW9uX3N0YXRlIjoiZTVjMWIzOWMtZTI1ZC00MmM2LTg4YjctNDFhZGI1OGMyYjYzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU1YzFiMzljLWUyNWQtNDJjNi04OGI3LTQxYWRiNThjMmI2MyJ9.rocfqpvChdin0Io228OJdvT8KjuzMvdKN0HK4JM9v_8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:05:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 24f95099-26cc-4e69-925f-e69c78d80392
[2022-06-03T17:06:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;24f95099-26cc-4e69-925f-e69c78d80392&quot;
[2022-06-03T17:06:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NjYsImlhdCI6MTY1NDI3NTk2NiwianRpIjoiYjhkMjVhMGItMWFjNS00YmNiLWI1NDItNmMxY2ZhMjEyZGU5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjROVnVFYUVubm12VW9jQ3RMb1FNWkEiLCJzZXNzaW9uX3N0YXRlIjoiMTNkYmE1MGUtNmFmMC00Yjg5LTg3NDktNTUwNjRjMDdlNGQzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZGJhNTBlLTZhZjAtNGI4OS04NzQ5LTU1MDY0YzA3ZTRkMyJ9.-ulyIbBl0EsBWsnytUAmei8eyI6N-eGRyezRnIMB9mI
[2022-06-03T17:06:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NjYsImlhdCI6MTY1NDI3NTk2NiwianRpIjoiYjhkMjVhMGItMWFjNS00YmNiLWI1NDItNmMxY2ZhMjEyZGU5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjROVnVFYUVubm12VW9jQ3RMb1FNWkEiLCJzZXNzaW9uX3N0YXRlIjoiMTNkYmE1MGUtNmFmMC00Yjg5LTg3NDktNTUwNjRjMDdlNGQzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzZGJhNTBlLTZhZjAtNGI4OS04NzQ5LTU1MDY0YzA3ZTRkMyJ9.-ulyIbBl0EsBWsnytUAmei8eyI6N-eGRyezRnIMB9mI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:07Z INFO  drogue_cloud_tests::resources::apps] Create application: 76cb4794-99d6-415d-a454-06bd22f9a55a
[2022-06-03T17:06:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;76cb4794-99d6-415d-a454-06bd22f9a55a&quot;
[2022-06-03T17:06:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NzMsImlhdCI6MTY1NDI3NTk3MywianRpIjoiY2Q1Y2Y5ODMtOTQzMi00NTViLWI0NjgtOGQ2MTFiODZkNDY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFNSlA0bGhuN0Z1Wll3aGxiR2ZFaHciLCJzZXNzaW9uX3N0YXRlIjoiNzEzMDU3MjMtNDliNi00N2E1LTk0ZDctZGRjOGMzNTFlZGM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxMzA1NzIzLTQ5YjYtNDdhNS05NGQ3LWRkYzhjMzUxZWRjOSJ9.KtJl4Tgn30eer6X0k-m4-dttJPnxSFsBRtC_aC9zkao
[2022-06-03T17:06:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3NzMsImlhdCI6MTY1NDI3NTk3MywianRpIjoiY2Q1Y2Y5ODMtOTQzMi00NTViLWI0NjgtOGQ2MTFiODZkNDY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFNSlA0bGhuN0Z1Wll3aGxiR2ZFaHciLCJzZXNzaW9uX3N0YXRlIjoiNzEzMDU3MjMtNDliNi00N2E1LTk0ZDctZGRjOGMzNTFlZGM5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxMzA1NzIzLTQ5YjYtNDdhNS05NGQ3LWRkYzhjMzUxZWRjOSJ9.KtJl4Tgn30eer6X0k-m4-dttJPnxSFsBRtC_aC9zkao&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:14Z INFO  drogue_cloud_tests::resources::apps] Create application: 680e8120-44df-4bcc-af7c-1da8b2433b01
[2022-06-03T17:06:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;680e8120-44df-4bcc-af7c-1da8b2433b01&quot;
[2022-06-03T17:06:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3ODAsImlhdCI6MTY1NDI3NTk4MCwianRpIjoiNDc0MmE2MjAtZjM5Ny00MDZjLWE5OGMtOTFlY2FhOGU3OGJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlliVU9vSkNMMzlhbmdWSWpHcEhibEEiLCJzZXNzaW9uX3N0YXRlIjoiOWMyOGJlOTctYWYxYi00OTIyLWI3ZWMtN2VjMDg1NjJmYzc2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljMjhiZTk3LWFmMWItNDkyMi1iN2VjLTdlYzA4NTYyZmM3NiJ9.n7hy3cSuJ4l5bLq_2o7G3alXGWPOxlSYYHWsXQnvpMQ
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3ODAsImlhdCI6MTY1NDI3NTk4MCwianRpIjoiNDc0MmE2MjAtZjM5Ny00MDZjLWE5OGMtOTFlY2FhOGU3OGJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlliVU9vSkNMMzlhbmdWSWpHcEhibEEiLCJzZXNzaW9uX3N0YXRlIjoiOWMyOGJlOTctYWYxYi00OTIyLWI3ZWMtN2VjMDg1NjJmYzc2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljMjhiZTk3LWFmMWItNDkyMi1iN2VjLTdlYzA4NTYyZmM3NiJ9.n7hy3cSuJ4l5bLq_2o7G3alXGWPOxlSYYHWsXQnvpMQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::resources::apps] Create application: b1246dfa-21a7-4c18-9a66-0f48824c5406
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b1246dfa-21a7-4c18-9a66-0f48824c5406&quot;
[2022-06-03T17:06:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3ODgsImlhdCI6MTY1NDI3NTk4OCwianRpIjoiNjFiODJlZDQtNTBiOC00MDAxLWIzOGUtODk4MTAyMjZjZjQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlQLWlmendNSkNfSWVOdklUcHc3Q0EiLCJzZXNzaW9uX3N0YXRlIjoiZmEzYWQ1NDktZjJmMi00ZjM2LWEyNTQtZDhmZGY4OGNhZmFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZhM2FkNTQ5LWYyZjItNGYzNi1hMjU0LWQ4ZmRmODhjYWZhYyJ9.VmUlV3i2sTF2BEe8rOt5bnFBPQTB17QVJwgdIxJMoPY
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3ODgsImlhdCI6MTY1NDI3NTk4OCwianRpIjoiNjFiODJlZDQtNTBiOC00MDAxLWIzOGUtODk4MTAyMjZjZjQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlQLWlmendNSkNfSWVOdklUcHc3Q0EiLCJzZXNzaW9uX3N0YXRlIjoiZmEzYWQ1NDktZjJmMi00ZjM2LWEyNTQtZDhmZGY4OGNhZmFjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZhM2FkNTQ5LWYyZjItNGYzNi1hMjU0LWQ4ZmRmODhjYWZhYyJ9.VmUlV3i2sTF2BEe8rOt5bnFBPQTB17QVJwgdIxJMoPY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::resources::apps] Create application: 22f64cdd-b103-4a2b-91ec-15690663142d
[2022-06-03T17:06:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;22f64cdd-b103-4a2b-91ec-15690663142d&quot;
[2022-06-03T17:06:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3OTUsImlhdCI6MTY1NDI3NTk5NSwianRpIjoiOTEyNjEyNDEtZGJiMy00YjBhLWE2OWYtZGQ2MzdiZWY3ZjY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1RdVhLZFlXZTZyMGE3VURiMHVvMWciLCJzZXNzaW9uX3N0YXRlIjoiMWUwNzY2NTAtZDZhNS00NjQ2LWE2YjQtOWFkNzQzNTRhY2ZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlMDc2NjUwLWQ2YTUtNDY0Ni1hNmI0LTlhZDc0MzU0YWNmYyJ9.dOGmf2MZzhxohzWxo-JdNK20LszgCH7jAe5LdaBQH9s
[2022-06-03T17:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc3OTUsImlhdCI6MTY1NDI3NTk5NSwianRpIjoiOTEyNjEyNDEtZGJiMy00YjBhLWE2OWYtZGQ2MzdiZWY3ZjY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1RdVhLZFlXZTZyMGE3VURiMHVvMWciLCJzZXNzaW9uX3N0YXRlIjoiMWUwNzY2NTAtZDZhNS00NjQ2LWE2YjQtOWFkNzQzNTRhY2ZjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlMDc2NjUwLWQ2YTUtNDY0Ni1hNmI0LTlhZDc0MzU0YWNmYyJ9.dOGmf2MZzhxohzWxo-JdNK20LszgCH7jAe5LdaBQH9s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 5ef3f2d1-ac5f-41ae-8920-59a2891a3136
[2022-06-03T17:06:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5ef3f2d1-ac5f-41ae-8920-59a2891a3136&quot;
[2022-06-03T17:06:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MDIsImlhdCI6MTY1NDI3NjAwMiwianRpIjoiNjBkODMyYjQtODkyNC00Y2IwLTgzMzEtNDU2M2VmYmJjZDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1ZMVpTa1dQZ01aT3lVREFXNEpkcmciLCJzZXNzaW9uX3N0YXRlIjoiNDdhODhhYjctOWYyZi00MWU4LTgzYTQtOTQzYTE1MWYxNjZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3YTg4YWI3LTlmMmYtNDFlOC04M2E0LTk0M2ExNTFmMTY2ZCJ9.Bx3qyHMwVSpUN73VkQHv0OG0eEFu1uDQccfntn0rHJQ
[2022-06-03T17:06:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MDIsImlhdCI6MTY1NDI3NjAwMiwianRpIjoiNjBkODMyYjQtODkyNC00Y2IwLTgzMzEtNDU2M2VmYmJjZDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1ZMVpTa1dQZ01aT3lVREFXNEpkcmciLCJzZXNzaW9uX3N0YXRlIjoiNDdhODhhYjctOWYyZi00MWU4LTgzYTQtOTQzYTE1MWYxNjZkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ3YTg4YWI3LTlmMmYtNDFlOC04M2E0LTk0M2ExNTFmMTY2ZCJ9.Bx3qyHMwVSpUN73VkQHv0OG0eEFu1uDQccfntn0rHJQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 5ec37456-cdbb-4cdc-90a8-344f584df6dd
[2022-06-03T17:06:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5ec37456-cdbb-4cdc-90a8-344f584df6dd&quot;
[2022-06-03T17:06:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MDksImlhdCI6MTY1NDI3NjAwOSwianRpIjoiOWIzYjg3MjMtMTg3Yi00MTU0LWFiYWMtNzliOGU3YTU0MDA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJFRkNGRU5Rc25nZ24yUUhyelFJaXciLCJzZXNzaW9uX3N0YXRlIjoiMmZjYWY4MDUtNDU5Yi00MDQ5LTg4NTgtYzM4MGEwOGE0MmQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJmY2FmODA1LTQ1OWItNDA0OS04ODU4LWMzODBhMDhhNDJkNiJ9.A8dX6Wzqx9u9215zyzFpHIHwDM8EliIRaRhMEw9EQ6s
[2022-06-03T17:06:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MDksImlhdCI6MTY1NDI3NjAwOSwianRpIjoiOWIzYjg3MjMtMTg3Yi00MTU0LWFiYWMtNzliOGU3YTU0MDA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJFRkNGRU5Rc25nZ24yUUhyelFJaXciLCJzZXNzaW9uX3N0YXRlIjoiMmZjYWY4MDUtNDU5Yi00MDQ5LTg4NTgtYzM4MGEwOGE0MmQ2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJmY2FmODA1LTQ1OWItNDA0OS04ODU4LWMzODBhMDhhNDJkNiJ9.A8dX6Wzqx9u9215zyzFpHIHwDM8EliIRaRhMEw9EQ6s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:50Z INFO  drogue_cloud_tests::resources::apps] Create application: 238ede7b-0bb3-40a8-b537-e56865cc4686
[2022-06-03T17:06:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;238ede7b-0bb3-40a8-b537-e56865cc4686&quot;
[2022-06-03T17:06:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:06:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:06:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:06:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MTcsImlhdCI6MTY1NDI3NjAxNywianRpIjoiNmNiYTIwOGQtYWE0Yy00NGM0LWEyNTUtYWI1NTE5ZjI0NWQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlltTlIxQ3QweWJQQmtMT1FaQ05UNkEiLCJzZXNzaW9uX3N0YXRlIjoiNWQzZDQ1ZjItNWZkYi00ODU5LTgzZTMtYTA5YjI5MmVmODFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVkM2Q0NWYyLTVmZGItNDg1OS04M2UzLWEwOWIyOTJlZjgxZSJ9.UNRV7CN0Cdn1xRt7n-AlooXTh3QG7PWmtUuYqvTF8vY
[2022-06-03T17:06:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:06:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MTcsImlhdCI6MTY1NDI3NjAxNywianRpIjoiNmNiYTIwOGQtYWE0Yy00NGM0LWEyNTUtYWI1NTE5ZjI0NWQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlltTlIxQ3QweWJQQmtMT1FaQ05UNkEiLCJzZXNzaW9uX3N0YXRlIjoiNWQzZDQ1ZjItNWZkYi00ODU5LTgzZTMtYTA5YjI5MmVmODFlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVkM2Q0NWYyLTVmZGItNDg1OS04M2UzLWEwOWIyOTJlZjgxZSJ9.UNRV7CN0Cdn1xRt7n-AlooXTh3QG7PWmtUuYqvTF8vY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:06:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:06:58Z INFO  drogue_cloud_tests::resources::apps] Create application: ce5cd6b8-a5ef-480a-8af2-63c26aa121d9
[2022-06-03T17:06:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ce5cd6b8-a5ef-480a-8af2-63c26aa121d9&quot;
[2022-06-03T17:06:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:06:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:06:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:06:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:06:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:06:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MjQsImlhdCI6MTY1NDI3NjAyNCwianRpIjoiNTRmNTQ4OTYtNjk3Ny00YmNmLWFmYzAtMmZjZmI5Yjc4MTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRTS09sX2VXekRNbzB1ZGRiY3pPanciLCJzZXNzaW9uX3N0YXRlIjoiY2M2YWE5MDYtZTEyMi00NDlmLWEyMDctNzBiNDAyMDhmNjEzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjNmFhOTA2LWUxMjItNDQ5Zi1hMjA3LTcwYjQwMjA4ZjYxMyJ9.KyuJt_efKzT95lP96zYuW9Mgv86_SgpSVKNLpmKzmeQ
[2022-06-03T17:07:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MjQsImlhdCI6MTY1NDI3NjAyNCwianRpIjoiNTRmNTQ4OTYtNjk3Ny00YmNmLWFmYzAtMmZjZmI5Yjc4MTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRTS09sX2VXekRNbzB1ZGRiY3pPanciLCJzZXNzaW9uX3N0YXRlIjoiY2M2YWE5MDYtZTEyMi00NDlmLWEyMDctNzBiNDAyMDhmNjEzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjNmFhOTA2LWUxMjItNDQ5Zi1hMjA3LTcwYjQwMjA4ZjYxMyJ9.KyuJt_efKzT95lP96zYuW9Mgv86_SgpSVKNLpmKzmeQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:06Z INFO  drogue_cloud_tests::resources::apps] Create application: a1e678f0-66d0-4542-b58b-b2f2679615f0
[2022-06-03T17:07:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a1e678f0-66d0-4542-b58b-b2f2679615f0&quot;
[2022-06-03T17:07:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MzIsImlhdCI6MTY1NDI3NjAzMiwianRpIjoiYjE1YTI5MDQtMWUyNi00NDAwLTg3NzMtY2Q2N2NmMjBhMjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZqRHF5Q0VBWFFjWE1pUWlHSXk0TnciLCJzZXNzaW9uX3N0YXRlIjoiMmEyOGY2ZWItZjA4My00NjFjLWE4ZWUtODkxZmE1NThlYWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJhMjhmNmViLWYwODMtNDYxYy1hOGVlLTg5MWZhNTU4ZWFkZSJ9.fl1Cyfub-FsRS3Ddp6XuCavbleHRcggQ9u9De6HDXZc
[2022-06-03T17:07:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MzIsImlhdCI6MTY1NDI3NjAzMiwianRpIjoiYjE1YTI5MDQtMWUyNi00NDAwLTg3NzMtY2Q2N2NmMjBhMjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZqRHF5Q0VBWFFjWE1pUWlHSXk0TnciLCJzZXNzaW9uX3N0YXRlIjoiMmEyOGY2ZWItZjA4My00NjFjLWE4ZWUtODkxZmE1NThlYWRlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJhMjhmNmViLWYwODMtNDYxYy1hOGVlLTg5MWZhNTU4ZWFkZSJ9.fl1Cyfub-FsRS3Ddp6XuCavbleHRcggQ9u9De6HDXZc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:13Z INFO  drogue_cloud_tests::resources::apps] Create application: f5dcfbc5-ee55-4315-a51f-6980ff02dc26
[2022-06-03T17:07:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f5dcfbc5-ee55-4315-a51f-6980ff02dc26&quot;
[2022-06-03T17:07:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MzksImlhdCI6MTY1NDI3NjAzOSwianRpIjoiYWM2M2RlNzQtMTM5MC00OTk5LTlkMGYtY2Q4OGE1NTkwNjA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjltT3BiczRsUVpuUHlZT00wclZwVHciLCJzZXNzaW9uX3N0YXRlIjoiMTc5ZTdiM2YtNGVjZi00N2E1LTk1YjctYTZiNmMyNzMwZTRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3OWU3YjNmLTRlY2YtNDdhNS05NWI3LWE2YjZjMjczMGU0YSJ9.-yEX_vBT5urKZRbKontSuJipL_TbNNzXz_NpYhKwWZs
[2022-06-03T17:07:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4MzksImlhdCI6MTY1NDI3NjAzOSwianRpIjoiYWM2M2RlNzQtMTM5MC00OTk5LTlkMGYtY2Q4OGE1NTkwNjA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjltT3BiczRsUVpuUHlZT00wclZwVHciLCJzZXNzaW9uX3N0YXRlIjoiMTc5ZTdiM2YtNGVjZi00N2E1LTk1YjctYTZiNmMyNzMwZTRhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3OWU3YjNmLTRlY2YtNDdhNS05NWI3LWE2YjZjMjczMGU0YSJ9.-yEX_vBT5urKZRbKontSuJipL_TbNNzXz_NpYhKwWZs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:20Z INFO  drogue_cloud_tests::resources::apps] Create application: 2a9fefb4-07d4-4fd5-8695-68af18d228ea
[2022-06-03T17:07:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2a9fefb4-07d4-4fd5-8695-68af18d228ea&quot;
[2022-06-03T17:07:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NDcsImlhdCI6MTY1NDI3NjA0NywianRpIjoiODRiMGM4OTEtOWY1ZC00MjY5LWE3YzItZDk1NzNjZWNhMTUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpWZGc3STV6YkdzNmJVQm04RjkxMnciLCJzZXNzaW9uX3N0YXRlIjoiNjUyZDRjZTItZWI1Ny00NGExLTk4MGEtODJhODVjMjJiZWYwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1MmQ0Y2UyLWViNTctNDRhMS05ODBhLTgyYTg1YzIyYmVmMCJ9.gaYW-oLnAnHjA0dLMqxLi9LBhUaSEJTf6FZ3HtEfvFk
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NDcsImlhdCI6MTY1NDI3NjA0NywianRpIjoiODRiMGM4OTEtOWY1ZC00MjY5LWE3YzItZDk1NzNjZWNhMTUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpWZGc3STV6YkdzNmJVQm04RjkxMnciLCJzZXNzaW9uX3N0YXRlIjoiNjUyZDRjZTItZWI1Ny00NGExLTk4MGEtODJhODVjMjJiZWYwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1MmQ0Y2UyLWViNTctNDRhMS05ODBhLTgyYTg1YzIyYmVmMCJ9.gaYW-oLnAnHjA0dLMqxLi9LBhUaSEJTf6FZ3HtEfvFk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::resources::apps] Create application: 79633dec-2a98-4968-9142-c7e032df7d0a
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;79633dec-2a98-4968-9142-c7e032df7d0a&quot;
[2022-06-03T17:07:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NTQsImlhdCI6MTY1NDI3NjA1NCwianRpIjoiMzQ5MDBjMzgtNzc0NS00Nzc4LThkNjQtMDQ5NTZjM2M2NzFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFLRU5nSmZ5MXNTLVVXRm5UYnZuUGciLCJzZXNzaW9uX3N0YXRlIjoiNjA3YzA3NGMtYjFlOS00MzVkLTljZDItN2M4OTQ3MzY4ZjViIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYwN2MwNzRjLWIxZTktNDM1ZC05Y2QyLTdjODk0NzM2OGY1YiJ9.gwGWppOh9QAmkuF9vvSDG_zSP8ZM40bHatcXHylgGPw
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NTQsImlhdCI6MTY1NDI3NjA1NCwianRpIjoiMzQ5MDBjMzgtNzc0NS00Nzc4LThkNjQtMDQ5NTZjM2M2NzFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFLRU5nSmZ5MXNTLVVXRm5UYnZuUGciLCJzZXNzaW9uX3N0YXRlIjoiNjA3YzA3NGMtYjFlOS00MzVkLTljZDItN2M4OTQ3MzY4ZjViIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYwN2MwNzRjLWIxZTktNDM1ZC05Y2QyLTdjODk0NzM2OGY1YiJ9.gwGWppOh9QAmkuF9vvSDG_zSP8ZM40bHatcXHylgGPw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 304f715d-4230-454f-a5a9-e8199952db66
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;304f715d-4230-454f-a5a9-e8199952db66&quot;
[2022-06-03T17:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NjEsImlhdCI6MTY1NDI3NjA2MSwianRpIjoiZTI2MDAyYTctNTRkOC00NmQ2LTg5ZGYtNzQ0ODU4OTI4ZjU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImszSmdQM08xVk9vTHBlYjJ0RFJ6UVEiLCJzZXNzaW9uX3N0YXRlIjoiY2E3MjhlMmItMjdiMy00NjRkLThkOTctZDNhZDIzYTUxOWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhNzI4ZTJiLTI3YjMtNDY0ZC04ZDk3LWQzYWQyM2E1MTljZiJ9.8r7UTT7R3CNogguXvWJUv66DTKmyjJRJz-G7bJcx80E
[2022-06-03T17:07:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NjEsImlhdCI6MTY1NDI3NjA2MSwianRpIjoiZTI2MDAyYTctNTRkOC00NmQ2LTg5ZGYtNzQ0ODU4OTI4ZjU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImszSmdQM08xVk9vTHBlYjJ0RFJ6UVEiLCJzZXNzaW9uX3N0YXRlIjoiY2E3MjhlMmItMjdiMy00NjRkLThkOTctZDNhZDIzYTUxOWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhNzI4ZTJiLTI3YjMtNDY0ZC04ZDk3LWQzYWQyM2E1MTljZiJ9.8r7UTT7R3CNogguXvWJUv66DTKmyjJRJz-G7bJcx80E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 7ead472d-0475-4634-96dc-6299e36d95dc
[2022-06-03T17:07:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7ead472d-0475-4634-96dc-6299e36d95dc&quot;
[2022-06-03T17:07:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NjgsImlhdCI6MTY1NDI3NjA2OCwianRpIjoiNmFkZDNjN2ItZWY2NS00NTJlLTk0Y2EtNWI3ZmIyYmVjYTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndIYlhDeFlHaHYwRlZQSzlMYnI3SUEiLCJzZXNzaW9uX3N0YXRlIjoiMDE4Nzg3YjgtYjFlZi00MjRjLWEwZDgtMTY4NGI3ZDBlZjU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxODc4N2I4LWIxZWYtNDI0Yy1hMGQ4LTE2ODRiN2QwZWY1OSJ9.VGJ-wAZsZWgUCPy8BuIEacirjfIkHReIxe3HOrqhjFA
[2022-06-03T17:07:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NjgsImlhdCI6MTY1NDI3NjA2OCwianRpIjoiNmFkZDNjN2ItZWY2NS00NTJlLTk0Y2EtNWI3ZmIyYmVjYTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IndIYlhDeFlHaHYwRlZQSzlMYnI3SUEiLCJzZXNzaW9uX3N0YXRlIjoiMDE4Nzg3YjgtYjFlZi00MjRjLWEwZDgtMTY4NGI3ZDBlZjU5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxODc4N2I4LWIxZWYtNDI0Yy1hMGQ4LTE2ODRiN2QwZWY1OSJ9.VGJ-wAZsZWgUCPy8BuIEacirjfIkHReIxe3HOrqhjFA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:49Z INFO  drogue_cloud_tests::resources::apps] Create application: 5e70f26c-3fd5-40bf-9852-1c0001dcaf7b
[2022-06-03T17:07:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5e70f26c-3fd5-40bf-9852-1c0001dcaf7b&quot;
[2022-06-03T17:07:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:07:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:07:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NzUsImlhdCI6MTY1NDI3NjA3NSwianRpIjoiYWE3YjZlZWItMzAzZC00YTZmLTkxZTctYmUzODIyZDQ1MjU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVGNFJhSXFCTjdIM1pDNjFwT042UXciLCJzZXNzaW9uX3N0YXRlIjoiNGM5Y2VjNjMtMGE2MC00MDJjLTlkMzEtZWRjZDgzMTAzNWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjOWNlYzYzLTBhNjAtNDAyYy05ZDMxLWVkY2Q4MzEwMzVjZiJ9.5YrIE4ftz5hB8cs3d1ZoPbx_dsMP0qWYGwxU98BlKik
[2022-06-03T17:07:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:07:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4NzUsImlhdCI6MTY1NDI3NjA3NSwianRpIjoiYWE3YjZlZWItMzAzZC00YTZmLTkxZTctYmUzODIyZDQ1MjU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVGNFJhSXFCTjdIM1pDNjFwT042UXciLCJzZXNzaW9uX3N0YXRlIjoiNGM5Y2VjNjMtMGE2MC00MDJjLTlkMzEtZWRjZDgzMTAzNWNmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjOWNlYzYzLTBhNjAtNDAyYy05ZDMxLWVkY2Q4MzEwMzVjZiJ9.5YrIE4ftz5hB8cs3d1ZoPbx_dsMP0qWYGwxU98BlKik&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:07:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:07:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 7ba4fa1a-e362-4d8b-aabe-3c9d54c94f7a
[2022-06-03T17:07:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7ba4fa1a-e362-4d8b-aabe-3c9d54c94f7a&quot;
[2022-06-03T17:07:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:07:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:07:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:07:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:07:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:07:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:07:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4ODIsImlhdCI6MTY1NDI3NjA4MiwianRpIjoiZmViOWE2MzItNGViZi00NGQxLWEwOTgtZDliY2Q5N2Y5MDA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhHMm80N3lJWnJJT0hKRGxYbzJvNEEiLCJzZXNzaW9uX3N0YXRlIjoiZjRlN2I3ZGYtMTY5NC00ZTkxLWIwMTQtMjU2MzhhODJlYjEwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY0ZTdiN2RmLTE2OTQtNGU5MS1iMDE0LTI1NjM4YTgyZWIxMCJ9.b51VyymoaQMt9idM8aa4SQgZq_MHTcRFBF1viAogFto
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4ODIsImlhdCI6MTY1NDI3NjA4MiwianRpIjoiZmViOWE2MzItNGViZi00NGQxLWEwOTgtZDliY2Q5N2Y5MDA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhHMm80N3lJWnJJT0hKRGxYbzJvNEEiLCJzZXNzaW9uX3N0YXRlIjoiZjRlN2I3ZGYtMTY5NC00ZTkxLWIwMTQtMjU2MzhhODJlYjEwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY0ZTdiN2RmLTE2OTQtNGU5MS1iMDE0LTI1NjM4YTgyZWIxMCJ9.b51VyymoaQMt9idM8aa4SQgZq_MHTcRFBF1viAogFto&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::resources::apps] Create application: 12c3cddf-7051-43c7-bcae-ca81057ef58b
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;12c3cddf-7051-43c7-bcae-ca81057ef58b&quot;
[2022-06-03T17:08:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:08:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4OTAsImlhdCI6MTY1NDI3NjA5MCwianRpIjoiNDgzYmZkNTMtMmVjNS00M2VhLWJkZWMtOTE1MzZlNDViZjgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhyRU03T0pjZDg1bmRlUlpUclM1WkEiLCJzZXNzaW9uX3N0YXRlIjoiYThiMGMwNGMtYmQxNC00NTNjLTgxYWMtNmJlZDAyNDJjODc3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YjBjMDRjLWJkMTQtNDUzYy04MWFjLTZiZWQwMjQyYzg3NyJ9.cQgiSVEzX3f6crrKikwtW3McihJxsR12NCrZpKw62cA
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4OTAsImlhdCI6MTY1NDI3NjA5MCwianRpIjoiNDgzYmZkNTMtMmVjNS00M2VhLWJkZWMtOTE1MzZlNDViZjgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhyRU03T0pjZDg1bmRlUlpUclM1WkEiLCJzZXNzaW9uX3N0YXRlIjoiYThiMGMwNGMtYmQxNC00NTNjLTgxYWMtNmJlZDAyNDJjODc3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE4YjBjMDRjLWJkMTQtNDUzYy04MWFjLTZiZWQwMjQyYzg3NyJ9.cQgiSVEzX3f6crrKikwtW3McihJxsR12NCrZpKw62cA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::resources::apps] Create application: 77dc5d4c-316f-414c-9fee-8ca30f70b7b4
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;77dc5d4c-316f-414c-9fee-8ca30f70b7b4&quot;
[2022-06-03T17:08:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:08:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4OTcsImlhdCI6MTY1NDI3NjA5NywianRpIjoiZWU0YmZiMTctYTc1NS00OTk3LTg4YzQtZDkyNWFkZmZhMmMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImI5SXl5RXhRRk1nMjRLenF2ZzJ0RlEiLCJzZXNzaW9uX3N0YXRlIjoiZWUzOTMxZWItYjc2Ny00MWMzLTk2ODItYzFlZDgwYmQzNTdhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlMzkzMWViLWI3NjctNDFjMy05NjgyLWMxZWQ4MGJkMzU3YSJ9.zJbyo9VGd3C24PnGkLhKNiEVMx4NPS3faCgL6k4-xRA
[2022-06-03T17:08:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc4OTcsImlhdCI6MTY1NDI3NjA5NywianRpIjoiZWU0YmZiMTctYTc1NS00OTk3LTg4YzQtZDkyNWFkZmZhMmMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImI5SXl5RXhRRk1nMjRLenF2ZzJ0RlEiLCJzZXNzaW9uX3N0YXRlIjoiZWUzOTMxZWItYjc2Ny00MWMzLTk2ODItYzFlZDgwYmQzNTdhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlMzkzMWViLWI3NjctNDFjMy05NjgyLWMxZWQ4MGJkMzU3YSJ9.zJbyo9VGd3C24PnGkLhKNiEVMx4NPS3faCgL6k4-xRA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:18Z INFO  drogue_cloud_tests::resources::apps] Create application: 0c710a03-91fb-4e2e-9d77-3fbc1c68126c
[2022-06-03T17:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0c710a03-91fb-4e2e-9d77-3fbc1c68126c&quot;
[2022-06-03T17:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:08:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MDQsImlhdCI6MTY1NDI3NjEwNCwianRpIjoiYmUzMTZlYWMtYzI1Ni00MjU2LTg4ZmQtY2E1YWNiZDQ1ODU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IllaMnpOTXQtdUpiamRBLU1TQnlHeHciLCJzZXNzaW9uX3N0YXRlIjoiZTBhZmNjMDYtYmFiYS00YjAzLTgwMzUtZDdlZDZmMDc2N2IwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUwYWZjYzA2LWJhYmEtNGIwMy04MDM1LWQ3ZWQ2ZjA3NjdiMCJ9.NbCIbsOnGCD6ZRjYTd7DRcaLT0SBHxdiQum8YoR9s9Y
[2022-06-03T17:08:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MDQsImlhdCI6MTY1NDI3NjEwNCwianRpIjoiYmUzMTZlYWMtYzI1Ni00MjU2LTg4ZmQtY2E1YWNiZDQ1ODU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IllaMnpOTXQtdUpiamRBLU1TQnlHeHciLCJzZXNzaW9uX3N0YXRlIjoiZTBhZmNjMDYtYmFiYS00YjAzLTgwMzUtZDdlZDZmMDc2N2IwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUwYWZjYzA2LWJhYmEtNGIwMy04MDM1LWQ3ZWQ2ZjA3NjdiMCJ9.NbCIbsOnGCD6ZRjYTd7DRcaLT0SBHxdiQum8YoR9s9Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 13841151-fb73-454d-8a99-ab3ff6c79982
[2022-06-03T17:08:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;13841151-fb73-454d-8a99-ab3ff6c79982&quot;
[2022-06-03T17:08:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/mqtt/telemetry.rs:35:10

</pre>

</details>

## ❌ tests::registry::api::test_registry_create_app

**Duration**: 16s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:08:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:29Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-goto/6.png
[2022-06-03T17:08:30Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-goto/7.png
[2022-06-03T17:08:31Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x5641d1ebd7e0, tail_position: 25 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 3, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;2e544e57-6db5-4129-a53a-a2a22018d36c&quot;) }), clicking it ...
[2022-06-03T17:08:31Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click/8.png
[2022-06-03T17:08:36Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-2/9.png
[2022-06-03T17:08:37Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click/10.png
[2022-06-03T17:08:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T17:08:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:39Z INFO  drogue_cloud_tests::init::login] Still had a session
[2022-06-03T17:08:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MjEsImlhdCI6MTY1NDI3NjEyMSwianRpIjoiM2U4MmY1ZTYtMTY4Ni00NmE2LTgzYTctMzA4YzZhN2QzYzlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZ4cU1lX2EtWlE0RDJ1TTB0OHoyLVEiLCJzZXNzaW9uX3N0YXRlIjoiOWQ5ZmRiNmEtMjE5ZC00OWU1LTkzNzgtNGZjYTIwNzZjYWQwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkOWZkYjZhLTIxOWQtNDllNS05Mzc4LTRmY2EyMDc2Y2FkMCJ9.ssxZeX0f1anhtk2HsXiEIr0J64k6v4J78BQW__DoHPY
[2022-06-03T17:08:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MjEsImlhdCI6MTY1NDI3NjEyMSwianRpIjoiM2U4MmY1ZTYtMTY4Ni00NmE2LTgzYTctMzA4YzZhN2QzYzlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZ4cU1lX2EtWlE0RDJ1TTB0OHoyLVEiLCJzZXNzaW9uX3N0YXRlIjoiOWQ5ZmRiNmEtMjE5ZC00OWU1LTkzNzgtNGZjYTIwNzZjYWQwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkOWZkYjZhLTIxOWQtNDllNS05Mzc4LTRmY2EyMDc2Y2FkMCJ9.ssxZeX0f1anhtk2HsXiEIr0J64k6v4J78BQW__DoHPY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T17:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzY0MjEsImlhdCI6MTY1NDI3NjEyMSwiYXV0aF90aW1lIjoxNjU0Mjc2MTA4LCJqdGkiOiIyOWI1OWJjMy00ZjU0LTRmZGYtYjFmMS1mOTkyNzVlMDgyMTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2eHFNZV9hLVpRNEQydU0wdDh6Mi1RIiwic2Vzc2lvbl9zdGF0ZSI6IjlkOWZkYjZhLTIxOWQtNDllNS05Mzc4LTRmY2EyMDc2Y2FkMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkOWZkYjZhLTIxOWQtNDllNS05Mzc4LTRmY2EyMDc2Y2FkMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HIqHqciA1AWTM9GycmpW_2mkh6QfM3UT6ImH_zQw9oW5xS0lxcqkNcQfYDNNUMjS8s9e1uASxIBCjBsRH3Qd60gMAzXetvlfZbpDqSU97eylXsZ7n8dmC3ZnmPup7BAflx4AdydNvx4kCPhijCo4tC2K427X2kHsGIrVFzUdPxZEsiUwyJ9SutB5cmw7Bc69R5XFMQ_3ZsKioLUJOF8jZlbDHi9xGxTetCdOquKmgl0qUHO6YrBqpDKNu1qioHNHhsN0V32T4kSZLBKRY6Tl9AJ3U5vsyJY9Z7PVUrGYTz1QvepT93n3XXtL_HAI2uIvNd0HJde8lvUVsWC7fLs9SQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T17:08:42Z DEBUG reqwest::async_impl::client] response &#x27;503 Service Unavailable&#x27; for http://api.172.18.0.2.nip.io/api/registry/v1alpha1/apps
[2022-06-03T17:08:42Z DEBUG drogue_client::registry::v1::client] Eval create response: Response {
        url: Url {
            scheme: &quot;http&quot;,
            cannot_be_a_base: false,
            username: &quot;&quot;,
            password: None,
            host: Some(
                Domain(
                    &quot;api.172.18.0.2.nip.io&quot;,
                ),
            ),
            port: None,
            path: &quot;/api/registry/v1alpha1/apps&quot;,
            query: None,
            fragment: None,
        },
        status: 503,
        headers: {
            &quot;date&quot;: &quot;Fri, 03 Jun 2022 17:08:42 GMT&quot;,
            &quot;content-type&quot;: &quot;text/html&quot;,
            &quot;content-length&quot;: &quot;190&quot;,
            &quot;connection&quot;: &quot;keep-alive&quot;,
        },
    }
Error: App created

Caused by:
    request error: Unexpected code 503
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_and_delete

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:08:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MjgsImlhdCI6MTY1NDI3NjEyOCwianRpIjoiMmU3MTdmMDktODg0YS00YmQ4LTg5ZGMtMjU1Y2Y2MGNjZjhiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhvZmFuU3Btb29jYmlnQlpHVXVDZUEiLCJzZXNzaW9uX3N0YXRlIjoiYzQyMDBjM2YtZDNlMi00YWEzLThlNWQtNzdkYjA4YjA1ZjVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MjAwYzNmLWQzZTItNGFhMy04ZTVkLTc3ZGIwOGIwNWY1YyJ9.mdIgpz7YcD4En4-cQefzkkFSH7bTGCa3nDG-0cnnFyk
[2022-06-03T17:08:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MjgsImlhdCI6MTY1NDI3NjEyOCwianRpIjoiMmU3MTdmMDktODg0YS00YmQ4LTg5ZGMtMjU1Y2Y2MGNjZjhiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhvZmFuU3Btb29jYmlnQlpHVXVDZUEiLCJzZXNzaW9uX3N0YXRlIjoiYzQyMDBjM2YtZDNlMi00YWEzLThlNWQtNzdkYjA4YjA1ZjVjIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MjAwYzNmLWQzZTItNGFhMy04ZTVkLTc3ZGIwOGIwNWY1YyJ9.mdIgpz7YcD4En4-cQefzkkFSH7bTGCa3nDG-0cnnFyk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:49Z INFO  drogue_cloud_tests::resources::apps] Create application: d84f1630-74d6-490a-9d67-f2996270cd8e
[2022-06-03T17:08:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d84f1630-74d6-490a-9d67-f2996270cd8e&quot;
[2022-06-03T17:08:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 502 Bad Gateway\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:42:10

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:08:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:08:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:08:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:08:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MzYsImlhdCI6MTY1NDI3NjEzNiwianRpIjoiYzQxZTg4Y2UtNTUzNi00MDRlLTg4NzAtZmYyOTY1Mzg0NTE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFnWFZyQ0Z2dzQ0QUhCMW9jS2dwT1EiLCJzZXNzaW9uX3N0YXRlIjoiODIyNTc1Y2QtNzg0YS00OGU4LWE4NTgtN2EyNzhkOTFiOTdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgyMjU3NWNkLTc4NGEtNDhlOC1hODU4LTdhMjc4ZDkxYjk3ZiJ9.vrdtyJDF13QjB7DiX8RNIDGg-br40r0AwQ7G3eP2wJg
[2022-06-03T17:08:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:08:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5MzYsImlhdCI6MTY1NDI3NjEzNiwianRpIjoiYzQxZTg4Y2UtNTUzNi00MDRlLTg4NzAtZmYyOTY1Mzg0NTE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFnWFZyQ0Z2dzQ0QUhCMW9jS2dwT1EiLCJzZXNzaW9uX3N0YXRlIjoiODIyNTc1Y2QtNzg0YS00OGU4LWE4NTgtN2EyNzhkOTFiOTdmIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgyMjU3NWNkLTc4NGEtNDhlOC1hODU4LTdhMjc4ZDkxYjk3ZiJ9.vrdtyJDF13QjB7DiX8RNIDGg-br40r0AwQ7G3eP2wJg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:08:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:08:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 249e9676-6bfd-4d7a-8b8a-44abf8344439
[2022-06-03T17:08:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;249e9676-6bfd-4d7a-8b8a-44abf8344439&quot;
[2022-06-03T17:08:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:12:10

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:08:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:08:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:08:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:08:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:08:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NDMsImlhdCI6MTY1NDI3NjE0MywianRpIjoiMjQ2ZmE1ZWEtOTQ2YS00MWQ5LWI5ZDgtYTUwNWZhYTNhYmI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNUVG9Ub245Y3VpUGRGelE3THUwbnciLCJzZXNzaW9uX3N0YXRlIjoiNGE2ZmRmNjMtOWQxMy00MjEyLWE0OTItMGE4ZGYxMDdjMzM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhNmZkZjYzLTlkMTMtNDIxMi1hNDkyLTBhOGRmMTA3YzMzNiJ9.2SU8YcEAWooVxCP-G34lN8vSedqXqUAX5XDTWYqlENU
[2022-06-03T17:09:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NDMsImlhdCI6MTY1NDI3NjE0MywianRpIjoiMjQ2ZmE1ZWEtOTQ2YS00MWQ5LWI5ZDgtYTUwNWZhYTNhYmI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNUVG9Ub245Y3VpUGRGelE3THUwbnciLCJzZXNzaW9uX3N0YXRlIjoiNGE2ZmRmNjMtOWQxMy00MjEyLWE0OTItMGE4ZGYxMDdjMzM2Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRhNmZkZjYzLTlkMTMtNDIxMi1hNDkyLTBhOGRmMTA3YzMzNiJ9.2SU8YcEAWooVxCP-G34lN8vSedqXqUAX5XDTWYqlENU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:05Z INFO  drogue_cloud_tests::resources::apps] Create application: 29e6677e-b8f1-4479-8fec-6e691e3102f6
[2022-06-03T17:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;29e6677e-b8f1-4479-8fec-6e691e3102f6&quot;
[2022-06-03T17:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:59:10

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:09:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NTEsImlhdCI6MTY1NDI3NjE1MSwianRpIjoiNThhZjE1NGQtYzRkNC00MWQyLTlhYmEtNTNmNmIzY2RhNGZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZIVzZneTVhWExTeFR5RXNBaTB4UmciLCJzZXNzaW9uX3N0YXRlIjoiNjkyZTBiZjMtNTM1OS00ZDdlLThhNzktNTIxOTNlMzg5NDZhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5MmUwYmYzLTUzNTktNGQ3ZS04YTc5LTUyMTkzZTM4OTQ2YSJ9.uuEfP8QKwUvxjomDNhWM9FvIocr3N-QA5uDGC6aPlg0
[2022-06-03T17:09:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NTEsImlhdCI6MTY1NDI3NjE1MSwianRpIjoiNThhZjE1NGQtYzRkNC00MWQyLTlhYmEtNTNmNmIzY2RhNGZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZIVzZneTVhWExTeFR5RXNBaTB4UmciLCJzZXNzaW9uX3N0YXRlIjoiNjkyZTBiZjMtNTM1OS00ZDdlLThhNzktNTIxOTNlMzg5NDZhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5MmUwYmYzLTUzNTktNGQ3ZS04YTc5LTUyMTkzZTM4OTQ2YSJ9.uuEfP8QKwUvxjomDNhWM9FvIocr3N-QA5uDGC6aPlg0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:12Z INFO  drogue_cloud_tests::resources::apps] Create application: 5014c196-82af-4124-820b-2cb27374fab8
[2022-06-03T17:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5014c196-82af-4124-820b-2cb27374fab8&quot;
[2022-06-03T17:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:77:10

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_twice

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:09:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NTgsImlhdCI6MTY1NDI3NjE1OCwianRpIjoiNWI2MDkyOTYtYTlmNi00MmMxLWJkYWUtNjUzODZlMmIxNmM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IksxZmNQZTBROFhPQVk1MG5vVEVVaHciLCJzZXNzaW9uX3N0YXRlIjoiZDE3YTUzOTUtNGRiYS00ZmNkLWFiOTItMmI4Yjk2MzMzMTQ3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQxN2E1Mzk1LTRkYmEtNGZjZC1hYjkyLTJiOGI5NjMzMzE0NyJ9.Nb0ImxoRhuoi2lqhJnbnAiuEakN6dQxbqc5gjAU0AFM
[2022-06-03T17:09:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NTgsImlhdCI6MTY1NDI3NjE1OCwianRpIjoiNWI2MDkyOTYtYTlmNi00MmMxLWJkYWUtNjUzODZlMmIxNmM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IksxZmNQZTBROFhPQVk1MG5vVEVVaHciLCJzZXNzaW9uX3N0YXRlIjoiZDE3YTUzOTUtNGRiYS00ZmNkLWFiOTItMmI4Yjk2MzMzMTQ3Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQxN2E1Mzk1LTRkYmEtNGZjZC1hYjkyLTJiOGI5NjMzMzE0NyJ9.Nb0ImxoRhuoi2lqhJnbnAiuEakN6dQxbqc5gjAU0AFM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:19Z INFO  drogue_cloud_tests::resources::apps] Create application: af983d0f-8e7a-4ba9-9e26-f0694296d52b
[2022-06-03T17:09:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;af983d0f-8e7a-4ba9-9e26-f0694296d52b&quot;
[2022-06-03T17:09:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:24:10

</pre>

</details>

## ❌ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-06-03T17:09:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NjUsImlhdCI6MTY1NDI3NjE2NSwianRpIjoiYzllNzNlMzAtYjJiOC00MGVhLWI4ODUtMTNkNzgxMzVhY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhqZWZRX0hPSVRobC1SR1gyM0NYSlEiLCJzZXNzaW9uX3N0YXRlIjoiZjM5ODY0N2EtODYzYy00MTBiLTk3OTAtYzJmOWZhYWQyMWJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYzOTg2NDdhLTg2M2MtNDEwYi05NzkwLWMyZjlmYWFkMjFiZSJ9.V__vu4P4F9rJgGIcmrEPl0n4nsLyWMiqpiv95hCeVx4
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NjUsImlhdCI6MTY1NDI3NjE2NSwianRpIjoiYzllNzNlMzAtYjJiOC00MGVhLWI4ODUtMTNkNzgxMzVhY2FhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhqZWZRX0hPSVRobC1SR1gyM0NYSlEiLCJzZXNzaW9uX3N0YXRlIjoiZjM5ODY0N2EtODYzYy00MTBiLTk3OTAtYzJmOWZhYWQyMWJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYzOTg2NDdhLTg2M2MtNDEwYi05NzkwLWMyZjlmYWFkMjFiZSJ9.V__vu4P4F9rJgGIcmrEPl0n4nsLyWMiqpiv95hCeVx4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::resources::apps] Create application: b12cec3a-89f6-45bd-9caf-c45e5dbd1258
[2022-06-03T17:09:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b12cec3a-89f6-45bd-9caf-c45e5dbd1258&quot;
[2022-06-03T17:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Created application: Command was not successful - rc = exit status: 2&#x27;, src/tests/registry/drg.rs:103:10

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:09:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NzMsImlhdCI6MTY1NDI3NjE3MywianRpIjoiZDc1NjJlZGItZDUzYS00MjkwLTg2MmMtZDJmYmQ1YzVlODgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJOd09XWHh1NTFVZC1KanFLV3d4ckEiLCJzZXNzaW9uX3N0YXRlIjoiYzc3ZDA1MzUtMzA1MC00ZDE5LTk5NDctMWI2NjQwZWFmMzY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3N2QwNTM1LTMwNTAtNGQxOS05OTQ3LTFiNjY0MGVhZjM2OSJ9.zHp849zAI2hr-3huSm_1P9iGNo4J_rvcaCySPl-StRg
[2022-06-03T17:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5NzMsImlhdCI6MTY1NDI3NjE3MywianRpIjoiZDc1NjJlZGItZDUzYS00MjkwLTg2MmMtZDJmYmQ1YzVlODgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJOd09XWHh1NTFVZC1KanFLV3d4ckEiLCJzZXNzaW9uX3N0YXRlIjoiYzc3ZDA1MzUtMzA1MC00ZDE5LTk5NDctMWI2NjQwZWFmMzY5Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3N2QwNTM1LTMwNTAtNGQxOS05OTQ3LTFiNjY0MGVhZjM2OSJ9.zHp849zAI2hr-3huSm_1P9iGNo4J_rvcaCySPl-StRg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T17:09:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzY0NzMsImlhdCI6MTY1NDI3NjE3MywiYXV0aF90aW1lIjoxNjU0Mjc2MTcwLCJqdGkiOiJmYzJmYzBmYS0wMDUwLTRkNjktYjYyNS03NzAzYjRmM2M3NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyTndPV1h4dTUxVWQtSmpxS1d3eHJBIiwic2Vzc2lvbl9zdGF0ZSI6ImM3N2QwNTM1LTMwNTAtNGQxOS05OTQ3LTFiNjY0MGVhZjM2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3N2QwNTM1LTMwNTAtNGQxOS05OTQ3LTFiNjY0MGVhZjM2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.e0RESDlPeeJldXFJ3mfjttIYhBCecC_yu8DWGf_z-AduVHXHx_LXS9_cYg4s4l3PeNqpLK2DqvVXH7UE4upfE5ti1K-opK10r5UWap7unUthahGC-YEMnjDZ_H23vbnOzDvUttmGa2IFdWpJua5O8OMB3BnzVJ_YpMmnaYte5iAiJ-WUXjLJGwyMfJlQd3ecl1xL3wuL5v9orwxpoY6N-Pxq8OrfifXwxhwZhJXOKWbO7w6U7cmPWVw7-eW8KhiGOFdZ5YbW-FYCKbHxNjOMVQ2p-ac__ZJaZXQqsviigX6eJtYriR77lGHKbYp6D2jH8X36IskqzHxNx5Z371_rPw\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 798534a0-6917-4c42-a972-13efbac15ca6
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;798534a0-6917-4c42-a972-13efbac15ca6&quot;
[2022-06-03T17:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/websocket/mod.rs:62:10

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:09:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5ODAsImlhdCI6MTY1NDI3NjE4MCwianRpIjoiZGZiNmE4MDEtODM3ZS00MzBlLTg4ZjctMmVmZThkODUwOTZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFGRTNmT3lkVkg3enZGcDNFQXFaOXciLCJzZXNzaW9uX3N0YXRlIjoiMWE0Y2E3YzktOTZkZi00YjliLWJhYzAtZWEwYjZhOWM5MGJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFhNGNhN2M5LTk2ZGYtNGI5Yi1iYWMwLWVhMGI2YTljOTBiZSJ9.kbIvJnq7Q_olbnDnv3EPT1bKseZXJ4l067PlCVC8y1E
[2022-06-03T17:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5ODAsImlhdCI6MTY1NDI3NjE4MCwianRpIjoiZGZiNmE4MDEtODM3ZS00MzBlLTg4ZjctMmVmZThkODUwOTZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFGRTNmT3lkVkg3enZGcDNFQXFaOXciLCJzZXNzaW9uX3N0YXRlIjoiMWE0Y2E3YzktOTZkZi00YjliLWJhYzAtZWEwYjZhOWM5MGJlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFhNGNhN2M5LTk2ZGYtNGI5Yi1iYWMwLWVhMGI2YTljOTBiZSJ9.kbIvJnq7Q_olbnDnv3EPT1bKseZXJ4l067PlCVC8y1E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T17:09:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzY0ODAsImlhdCI6MTY1NDI3NjE4MCwiYXV0aF90aW1lIjoxNjU0Mjc2MTc3LCJqdGkiOiI3NGNlZGUyYi1iZTZkLTQ3MzctYTk1MC1hMDdlOWRlNGZhOTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxRkUzZk95ZFZIN3p2RnAzRUFxWjl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjFhNGNhN2M5LTk2ZGYtNGI5Yi1iYWMwLWVhMGI2YTljOTBiZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFhNGNhN2M5LTk2ZGYtNGI5Yi1iYWMwLWVhMGI2YTljOTBiZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K1LcW4sk1ZsJVd1CVla_Py9JWpZmbS1yKag8SHqsx6e2FxdcWIyQSyWhcKmI2WpCRNm1QZuEPdcfCV4K3vNDlNIEpk6UmxhLafsEkGbxTjNSZCBHKCZuxa5Nx4ZFIs-tKYILU1MWq_yP7jLab_lOFP2CL7wz_RxfWMWJQ7FhhKVr8Lu6QoZGYed8Ov2MZSEiCjPWGkLQwPUDbLR4SI1du8y_R20mDH4j5mz58zRf2Byj0ir76orSzRE-xD4pstDrpOdNJkgHja3CPlbjdFII-BGrlYyZgJve7Ge27d5oTAb3Y6Rc5Q_odVJtFSkULiEfTOdpYqtryV1UTn2jssjUCQ\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::resources::apps] Create application: 98258136-7252-4500-8b5a-5c5e9399ff04
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;98258136-7252-4500-8b5a-5c5e9399ff04&quot;
[2022-06-03T17:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/websocket/mod.rs:62:10

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:09:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5ODcsImlhdCI6MTY1NDI3NjE4NywianRpIjoiMWQwZjZkMzUtZTI0My00M2RkLWIzZDktY2EyNjIzNWIzZDU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhGNWVTdU5rekFCUEpTejFwU0dJNVEiLCJzZXNzaW9uX3N0YXRlIjoiNTliMjg0YTEtODhhMC00ZDBjLWE4ZDAtM2M5NTcwMGFhMDcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5YjI4NGExLTg4YTAtNGQwYy1hOGQwLTNjOTU3MDBhYTA3MiJ9.vkt2s9l650SnNSUkY0vOdWEPZRm4MimNlr3shIOY2jk
[2022-06-03T17:09:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5ODcsImlhdCI6MTY1NDI3NjE4NywianRpIjoiMWQwZjZkMzUtZTI0My00M2RkLWIzZDktY2EyNjIzNWIzZDU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhGNWVTdU5rekFCUEpTejFwU0dJNVEiLCJzZXNzaW9uX3N0YXRlIjoiNTliMjg0YTEtODhhMC00ZDBjLWE4ZDAtM2M5NTcwMGFhMDcyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5YjI4NGExLTg4YTAtNGQwYy1hOGQwLTNjOTU3MDBhYTA3MiJ9.vkt2s9l650SnNSUkY0vOdWEPZRm4MimNlr3shIOY2jk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T17:09:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzY0ODcsImlhdCI6MTY1NDI3NjE4NywiYXV0aF90aW1lIjoxNjU0Mjc2MTg0LCJqdGkiOiJiM2Y0MzQ3Yi1kNWI1LTQ3NzQtYWNlYi0wMTQyMWZjYzM1OTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoRjVlU3VOa3pBQlBKU3oxcFNHSTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjU5YjI4NGExLTg4YTAtNGQwYy1hOGQwLTNjOTU3MDBhYTA3MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5YjI4NGExLTg4YTAtNGQwYy1hOGQwLTNjOTU3MDBhYTA3MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S80XPBaX7zLXE9AnoMxdd4fzanzVngvhPqiCLCbAa5iUN461LC_zfdtdqBtZfihmcwunOpKulFTFoiPzt2VRNJNlYSlTZYckvNJ-VkoXe8a1W2j3XgGzUlSmqfwDGTBo5K7EzjK13mw1JfjbyLANhp9MK4xonuY7ZGb26LvCFoMpLm2IZ56ULNjuI8YLYNAybF9A3E4HdFi21zJnLXlo_PzdTC5QtbTO4NjSTMFwNFBgMYQlwrnrq54U00mswf0bW2YcrRZhpOc2GBmnqBwdE2jsjCgpeuMR8T4IM5_udgbWfAU8saCXhZwbOH_UJtszFHvvSxRnsCXXEsWa4gvMLg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::resources::apps] Create application: 0d0d1864-bb48-4b20-8802-64ab85d99d20
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0d0d1864-bb48-4b20-8802-64ab85d99d20&quot;
[2022-06-03T17:09:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/websocket/mod.rs:62:10

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-06-03T17:09:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-06-03T17:09:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-06-03T17:09:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-06-03T17:09:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-06-03T17:09:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5OTQsImlhdCI6MTY1NDI3NjE5NCwianRpIjoiZGIzYTgwNGQtODgxOS00ZjljLWI2N2YtNTVmZjM4NjQxOGM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjgwcnhfRTJpTjRpbXEzYm5mN01tTVEiLCJzZXNzaW9uX3N0YXRlIjoiNzFmZjYyNmQtYTRmZC00MjUyLTg3ZDAtNzFkZWQ5Y2E4M2MzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxZmY2MjZkLWE0ZmQtNDI1Mi04N2QwLTcxZGVkOWNhODNjMyJ9.zXjVQRsK8UMJQWH1hhTypUyX6fUylnl_Y2VUbolodNY
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ZGE2ZjlmNy01ZTQ0LTQzMzQtYWFhYi00NDQ5YzhkZTEzMTQifQ.eyJleHAiOjE2NTQyNzc5OTQsImlhdCI6MTY1NDI3NjE5NCwianRpIjoiZGIzYTgwNGQtODgxOS00ZjljLWI2N2YtNTVmZjM4NjQxOGM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMyMTAyYmFiLTI4MmUtNGRmYi1hNmYxLTQxYWU4MTE4MjRhOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjgwcnhfRTJpTjRpbXEzYm5mN01tTVEiLCJzZXNzaW9uX3N0YXRlIjoiNzFmZjYyNmQtYTRmZC00MjUyLTg3ZDAtNzFkZWQ5Y2E4M2MzIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxZmY2MjZkLWE0ZmQtNDI1Mi04N2QwLTcxZGVkOWNhODNjMyJ9.zXjVQRsK8UMJQWH1hhTypUyX6fUylnl_Y2VUbolodNY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-06-03T17:09:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKVzc2XzM2QnEyamhuYzdBNE0yQ0NHMURuWkVlT2NWWkF3TTh4SWlnTWtvIn0.eyJleHAiOjE2NTQyNzY0OTUsImlhdCI6MTY1NDI3NjE5NSwiYXV0aF90aW1lIjoxNjU0Mjc2MTkxLCJqdGkiOiI2NTA1NzVmNS00MGRhLTRhMjItYmM0OS1mOTY0ODA1ZTFhYmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiMzIxMDJiYWItMjgyZS00ZGZiLWE2ZjEtNDFhZTgxMTgyNGE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4MHJ4X0UyaU40aW1xM2JuZjdNbU1RIiwic2Vzc2lvbl9zdGF0ZSI6IjcxZmY2MjZkLWE0ZmQtNDI1Mi04N2QwLTcxZGVkOWNhODNjMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxZmY2MjZkLWE0ZmQtNDI1Mi04N2QwLTcxZGVkOWNhODNjMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AKOgSl-KbhjXUxbgmzuicqfN5H55oKxdGC0kvhPwgWnCHBNIcN--LZjA5XpP7uGKwc4z8DSfUR_VhpxrbbeltNo4KoGDYrtBQqdXC_FueB11mG9PXGQCt4EIaZX_IwsAjJ3yVG6RICJ9W3NjLD7qI7I1DtLoBbL5KQBEXMKBkJTkiZJzOrRrDHj344phwVrOLSdvceW2tqn9hoRJDVHdMmW5-7J6ymVNGMHfu8Hfj1xl3JlPMr1dOvotZieQ0He8aIRzihQLJ13_BljSleL6mxASl1ot4EW61kDWA0_3x0l_JYkbPAhCqLoe-yjfrPjrDFhmQjqojJmU-jkFWcwaEg\n&quot;, stderr: &quot;&quot; })
[2022-06-03T17:09:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-06-03T17:09:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::resources::apps] Create application: 6cc547eb-6949-4ac2-b936-5fcf5945c694
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6cc547eb-6949-4ac2-b936-5fcf5945c694&quot;
[2022-06-03T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(512)), stdout: &quot;ERROR [drg::util] Error : 503 Service Unavailable\n&quot;, stderr: &quot;&quot; })
thread &#x27;main&#x27; panicked at &#x27;Create a new application: Command was not successful - rc = exit status: 2&#x27;, src/tests/websocket/mod.rs:62:10

</pre>

</details>
